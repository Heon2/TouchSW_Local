; generated by Component: ARM Compiler 5.06 update 4 (build 422) Tool: ArmCC [4d3604]
; commandline ArmCC [--c99 --list --split_sections --debug -c --asm --interleave -o.\bin\algorithm_coord.o --asm_dir=.\list\ --list_dir=.\list\ --depend=.\bin\algorithm_coord.d --cpu=Cortex-M3 --apcs=interwork -O3 -Otime --diag_suppress=9931 -I..\..\App -I..\..\App\Algorithm -I..\..\App\Algorithm\Baseline -I..\..\App\Algorithm\Coord -I..\..\App\Algorithm\Label -I..\..\App\Algorithm\Noise -I..\..\Env -I..\..\Hal -I..\..\Hal\system -I..\..\Hal\system\CMSIS -I..\..\Hal\gpio -I..\..\Hal\i2c -I..\..\Hal\pwmdrv -I..\..\Hal\timer -I..\..\Hal\wdgt -I..\..\Hal\spi -I..\..\Hal\dspA -I..\..\Hal\dspB -I..\..\Hal\scrb -I..\..\Hal\usb -I..\..\Hal\usb\FWOTG210_F000 -I..\..\Hal\usb\FWOTG210_F000\OTG_peripheral -I..\..\Hal\usb\FWOTG210_F000\OTG_peripheral_Config -I..\..\Hal\gdma -I..\..\Hal\flitf -I..\..\Module -I..\..\Module\SRIC -I..\..\Protocol -I..\..\Tool_BinCvt\BinToolApp\src -I..\..\Boot -I..\..\Parameter -I..\..\Hal\dbgserial -I..\..\Hal\tlvds -I..\..\Tuning_process -I.\RTE\_MFTP_FPGA -IC:\Keil_v5\ARM\PACK\ARM\CMSIS\5.0.1\Device\ARM\ARMCM3\Include -IC:\Keil_v5\ARM\CMSIS\Include -D__UVISION_VERSION=523 -DARMCM3 -D_USE_APP_80K_ --wchar32 --omf_browse=.\bin\algorithm_coord.crf ..\..\App\Algorithm\Coord\algorithm_coord.c]
                          THUMB

                          AREA ||i.algorithm_coord_EdgeAreaDist||, CODE, READONLY, ALIGN=2

                  algorithm_coord_EdgeAreaDist PROC
;;;994    
;;;995    int8_t algorithm_coord_EdgeAreaDist(tXY_t * pos)
000000  4912              LDR      r1,|L1.76|
;;;996    {
000002  b410              PUSH     {r4}
;;;997    	int8_t cRet = 0;
;;;998    
;;;999    //	if( (pos->x < thisInfo->tCoord.iXEdgeStart) || ((thisInfo->tCoord.iInternalXRes - pos->x) < thisInfo->tCoord.iXEdgeStart) )
;;;1000   //	{
;;;1001   ////		if( ( pos->y < thisInfo->tCoord.iYEdgeStart ) || ((thisInfo->tCoord.iInternalYRes - pos->y) < thisInfo->tCoord.iYEdgeStart) )
;;;1002   ////		{
;;;1003   //			cRet = 1;//2;
;;;1004   ////		}
;;;1005   ////		else
;;;1006   ////		{
;;;1007   ////			cRet = 1;
;;;1008   ////		}
;;;1009   //	}
;;;1010   //	else if( (pos->y < thisInfo->tCoord.iYEdgeStart) || ((thisInfo->tCoord.iInternalYRes - pos->y) < thisInfo->tCoord.iYEdgeStart) )
;;;1011   //	{
;;;1012   //		cRet = 1;
;;;1013   //	}
;;;1014   	
;;;1015   	if(pos->x < thisInfo->tCoord.iXEdgeStart)
000004  6909              LDR      r1,[r1,#0x10]  ; thisInfo
000006  4684              MOV      r12,r0                ;996
000008  2000              MOVS     r0,#0                 ;997
00000a  f8dc3000          LDR      r3,[r12,#0]
00000e  f8d12d5b          LDR      r2,[r1,#0xd5b]
000012  4293              CMP      r3,r2
000014  db0a              BLT      |L1.44|
;;;1016   	{
;;;1017   		cRet = (thisInfo->tCoord.iXEdgeStart - pos->x)>>2;
;;;1018   	}
;;;1019   	else if((thisInfo->tCoord.iInternalXRes - pos->x) < thisInfo->tCoord.iXEdgeStart)
000016  f8d14d4b          LDR      r4,[r1,#0xd4b]
00001a  1ae3              SUBS     r3,r4,r3
00001c  4293              CMP      r3,r2
00001e  db05              BLT      |L1.44|
;;;1020   	{
;;;1021   		cRet = (thisInfo->tCoord.iXEdgeStart - (thisInfo->tCoord.iInternalXRes - pos->x))>>2;
;;;1022   	}
;;;1023   	else if(pos->y < thisInfo->tCoord.iYEdgeStart)
000020  f8dc3004          LDR      r3,[r12,#4]
000024  f8d12d5f          LDR      r2,[r1,#0xd5f]
000028  4293              CMP      r3,r2
00002a  da05              BGE      |L1.56|
                  |L1.44|
00002c  ebb20003          SUBS.W   r0,r2,r3              ;1017
                  |L1.48|
;;;1024   	{
;;;1025   		cRet = (thisInfo->tCoord.iYEdgeStart - pos->y)>>2;
;;;1026   	}
;;;1027   	else if((thisInfo->tCoord.iInternalYRes - pos->y) < thisInfo->tCoord.iYEdgeStart)
;;;1028   	{
;;;1029   		cRet = (thisInfo->tCoord.iYEdgeStart - (thisInfo->tCoord.iInternalYRes - pos->y))>>2;
;;;1030   	}
;;;1031   	
;;;1032   
;;;1033   	return cRet;
;;;1034   }
000030  bc10              POP      {r4}
000032  f3400087          SBFX     r0,r0,#2,#8           ;1017
000036  4770              BX       lr
                  |L1.56|
000038  f8d11d4f          LDR      r1,[r1,#0xd4f]        ;1027
00003c  1ac9              SUBS     r1,r1,r3              ;1027
00003e  428a              CMP      r2,r1                 ;1027
000040  bfc8              IT       GT                    ;1029
000042  1a50              SUBGT    r0,r2,r1              ;1029
000044  dcf4              BGT      |L1.48|
000046  bc10              POP      {r4}
000048  4770              BX       lr
;;;1035   
                          ENDP

00004a  0000              DCW      0x0000
                  |L1.76|
                          DCD      ||.data||

                          AREA ||i.algorithm_coord_IsEdgeArea||, CODE, READONLY, ALIGN=2

                  algorithm_coord_IsEdgeArea PROC
;;;971    }
;;;972    int8_t algorithm_coord_IsEdgeArea(tXY_t * pos, int offset)
000000  4b14              LDR      r3,|L2.84|
;;;973    {
000002  b430              PUSH     {r4,r5}
;;;974    	int8_t cRet = 0;
;;;975    
;;;976    	if( (pos->x < thisInfo->tCoord.iXEdgeStart + offset) || ((thisInfo->tCoord.iInternalXRes - pos->x) < thisInfo->tCoord.iXEdgeStart + offset) )
000004  691b              LDR      r3,[r3,#0x10]  ; thisInfo
000006  4602              MOV      r2,r0                 ;973
000008  2000              MOVS     r0,#0                 ;974
00000a  f8d3cd5b          LDR      r12,[r3,#0xd5b]
00000e  6814              LDR      r4,[r2,#0]
000010  448c              ADD      r12,r12,r1
;;;977    	{
;;;978    		if( ( pos->y < thisInfo->tCoord.iYEdgeStart + offset ) || ((thisInfo->tCoord.iInternalYRes - pos->y) < thisInfo->tCoord.iYEdgeStart + offset) )
000012  f8d35d5f          LDR      r5,[r3,#0xd5f]
000016  6852              LDR      r2,[r2,#4]
000018  4429              ADD      r1,r1,r5
00001a  4564              CMP      r4,r12                ;976
00001c  db04              BLT      |L2.40|
00001e  f8d35d4b          LDR      r5,[r3,#0xd4b]        ;976
000022  1b2c              SUBS     r4,r5,r4              ;976
000024  4564              CMP      r4,r12                ;976
000026  da0c              BGE      |L2.66|
                  |L2.40|
000028  428a              CMP      r2,r1
00002a  db04              BLT      |L2.54|
00002c  f8d30d4f          LDR      r0,[r3,#0xd4f]
000030  1a80              SUBS     r0,r0,r2
000032  4288              CMP      r0,r1
000034  da02              BGE      |L2.60|
                  |L2.54|
;;;979    		{
;;;980    			cRet = 2;
;;;981    		}
;;;982    		else
;;;983    		{
;;;984    			cRet = 1;
;;;985    		}
;;;986    	}
;;;987    	else if( (pos->y < thisInfo->tCoord.iYEdgeStart + offset) || ((thisInfo->tCoord.iInternalYRes - pos->y) < thisInfo->tCoord.iYEdgeStart + offset) )
;;;988    	{
;;;989    		cRet = 1;
;;;990    	}
;;;991    
;;;992    	return cRet;
;;;993    }
000036  bc30              POP      {r4,r5}
000038  2002              MOVS     r0,#2                 ;980
00003a  4770              BX       lr
                  |L2.60|
00003c  bc30              POP      {r4,r5}
00003e  2001              MOVS     r0,#1                 ;984
000040  4770              BX       lr
                  |L2.66|
000042  428a              CMP      r2,r1                 ;987
000044  dbfa              BLT      |L2.60|
000046  f8d33d4f          LDR      r3,[r3,#0xd4f]        ;987
00004a  1a9a              SUBS     r2,r3,r2              ;987
00004c  4291              CMP      r1,r2                 ;987
00004e  dcf5              BGT      |L2.60|
000050  bc30              POP      {r4,r5}
000052  4770              BX       lr
;;;994    
                          ENDP

                  |L2.84|
                          DCD      ||.data||

                          AREA ||i.algorithm_coord_IsEdgeArea_Cell||, CODE, READONLY, ALIGN=1

                  algorithm_coord_IsEdgeArea_Cell PROC
;;;1035   
;;;1036   uint8_t algorithm_coord_IsEdgeArea_Cell(int8_t r, int8_t c, int8_t offset)
000000  4684              MOV      r12,r0
;;;1037   {
000002  b410              PUSH     {r4}
;;;1038   	uint8_t bRet = 0;
000004  2000              MOVS     r0,#0
;;;1039   
;;;1040   	if( (r <= 0 + offset) || (r >= ROW_MAX-1-offset) )
;;;1041   	{
;;;1042   		if((c <= 0 + offset) || (c >= COL_MAX-1-offset))bRet = 2;
000006  f1c2034f          RSB      r3,r2,#0x4f
00000a  4594              CMP      r12,r2                ;1040
00000c  bfc4              ITT      GT                    ;1040
00000e  f1c2042c          RSBGT    r4,r2,#0x2c           ;1040
000012  4564              CMPGT    r4,r12                ;1040
000014  dc08              BGT      |L3.40|
000016  4291              CMP      r1,r2
000018  bfcf              ITEEE    GT
00001a  428b              CMPGT    r3,r1
00001c  2002              MOVLE    r0,#2
;;;1043   		else bRet = 1;
;;;1044   	}
;;;1045   	else if((c <= 0 + offset) || (c >= COL_MAX-1-offset))bRet = 1;
;;;1046   	
;;;1047   	return bRet;
;;;1048   }
00001e  bc10              POPLE    {r4}
000020  4770              BXLE     lr
                  |L3.34|
000022  2001              MOVS     r0,#1                 ;1043
000024  bc10              POP      {r4}
000026  4770              BX       lr
                  |L3.40|
000028  4291              CMP      r1,r2                 ;1045
00002a  bfc8              IT       GT                    ;1045
00002c  428b              CMPGT    r3,r1                 ;1045
00002e  ddf8              BLE      |L3.34|
000030  bc10              POP      {r4}
000032  4770              BX       lr
;;;1049   
                          ENDP


                          AREA ||i.algorithm_coord_OutInDrawing||, CODE, READONLY, ALIGN=2

                  algorithm_coord_OutInDrawing PROC
;;;2073   
;;;2074   void algorithm_coord_OutInDrawing(void)
000000  e92d4ff0          PUSH     {r4-r11,lr}
;;;2075   {
;;;2076   	int i;
;;;2077   	tXY_t	temp_pos, temp_pos2;
;;;2078   	int bound_th = thisModeConf->Coord.usOutInDrawEdgeTh;
000004  488e              LDR      r0,|L4.576|
000006  b08b              SUB      sp,sp,#0x2c           ;2075
;;;2079   	int dis_th = thisModeConf->Coord.ucOutInDrawDisTh;
;;;2080   	int PostProcess[MAX_TOUCH_] = {0, };
000008  f04f0a00          MOV      r10,#0
00000c  f8d0800c          LDR      r8,[r0,#0xc]          ;2078  ; thisModeConf
;;;2081   	
;;;2082   	tCoordInfo_t 	*temp_coord;
;;;2083   
;;;2084   	temp_coord = &thisInfo->tCoord;
;;;2085   
;;;2086   	for( i=MAX_TOUCH_; i--; )
;;;2087   	{
;;;2088   		if( temp_coord->tPos.vusS[i] > 0 && temp_coord->tPastPos[0].vusS[i] == 0 )
;;;2089   		{
;;;2090   			if( (temp_coord->tFirstPos.tXY[i].x < thisModeConf->Coord.usOutInDrawEdgeTh) || ((thisInfo->tCoord.iInternalXRes - temp_coord->tFirstPos.tXY[i].x) < thisModeConf->Coord.usOutInDrawEdgeTh)
;;;2091   			|| (temp_coord->tFirstPos.tXY[i].y < thisModeConf->Coord.usOutInDrawEdgeTh) || ((thisInfo->tCoord.iInternalYRes - temp_coord->tFirstPos.tXY[i].y) < thisModeConf->Coord.usOutInDrawEdgeTh) )
;;;2092   			{
;;;2093   				if(temp_coord->tFirstPos.tXY[i].x == temp_coord->tOrgPos.tXY[i].x && temp_coord->tFirstPos.tXY[i].y == temp_coord->tOrgPos.tXY[i].y)
;;;2094   				{
;;;2095   					temp_coord->tPos.vusS[i] = 0;
;;;2096   					break;
;;;2097   				}
;;;2098   			}
;;;2099   			
;;;2100   			if(temp_coord->tFirstPos.tXY[i].x < bound_th)
;;;2101   			{
;;;2102   				temp_pos2.x = temp_coord->tOrgPos.tXY[i].x-temp_coord->tFirstPos.tXY[i].x;
;;;2103   				if(temp_pos2.x > dis_th)
;;;2104   				{
;;;2105   					PostProcess[i] = 1;
;;;2106   					temp_pos2.y = temp_coord->tOrgPos.tXY[i].y - temp_coord->tFirstPos.tXY[i].y;
;;;2107   					temp_pos.x = temp_coord->tFirstPos.tXY[i].x;
;;;2108   					temp_pos.y = (temp_pos.x*temp_pos2.y)/temp_pos2.x;
;;;2109   					temp_coord->tPos.tXY[i].x = -UNIT_DIST;
;;;2110   					temp_coord->tPos.tXY[i].y = temp_coord->tFirstPos.tXY[i].y - temp_pos.y;
;;;2111   				}
;;;2112   			}
;;;2113   			else if(temp_coord->tFirstPos.tXY[i].x > thisInfo->tCoord.iInternalXRes - bound_th)
;;;2114   			{
;;;2115   				temp_pos2.x = temp_coord->tFirstPos.tXY[i].x-temp_coord->tOrgPos.tXY[i].x;
;;;2116   				if(temp_pos2.x > dis_th)
;;;2117   				{
;;;2118   					PostProcess[i] = 1;
;;;2119   					temp_pos2.y = temp_coord->tOrgPos.tXY[i].y - temp_coord->tFirstPos.tXY[i].y;
;;;2120   					temp_pos.x = thisInfo->tCoord.iInternalXRes - temp_coord->tFirstPos.tXY[i].x;
;;;2121   					temp_pos.y = (temp_pos.x*temp_pos2.y)/temp_pos2.x;
;;;2122   					temp_coord->tPos.tXY[i].x = thisInfo->tCoord.iInternalXRes + UNIT_DIST;
;;;2123   					temp_coord->tPos.tXY[i].y = temp_coord->tFirstPos.tXY[i].y - temp_pos.y;
;;;2124   				}
;;;2125   			}	
;;;2126   			
;;;2127   			if(temp_coord->tFirstPos.tXY[i].y > thisInfo->tCoord.iInternalYRes - bound_th)
;;;2128   			{
;;;2129   				if(PostProcess[i] == 0 || ((temp_coord->tPos.tXY[i].x == -UNIT_DIST || temp_coord->tPos.tXY[i].x == (thisInfo->tCoord.iInternalXRes + UNIT_DIST)) && temp_coord->tPos.tXY[i].y > (thisInfo->tCoord.iInternalYRes + UNIT_DIST)))
;;;2130   				{
;;;2131   					temp_pos2.x = temp_coord->tOrgPos.tXY[i].x-temp_coord->tFirstPos.tXY[i].x;
;;;2132   					temp_pos2.y = temp_coord->tFirstPos.tXY[i].y-temp_coord->tOrgPos.tXY[i].y;
;;;2133   					if(temp_pos2.y > dis_th)
;;;2134   					{
;;;2135   						PostProcess[i] = 1;
;;;2136   						temp_pos.y = thisInfo->tCoord.iInternalYRes - temp_coord->tFirstPos.tXY[i].y;
;;;2137   						temp_pos.x = (temp_pos2.x*temp_pos.y)/temp_pos2.y;
;;;2138   						temp_coord->tPos.tXY[i].x = temp_coord->tFirstPos.tXY[i].x - temp_pos.x;
;;;2139   						temp_coord->tPos.tXY[i].y = thisInfo->tCoord.iInternalYRes + UNIT_DIST;
;;;2140   					}
;;;2141   				}
;;;2142   			}	
;;;2143   
;;;2144   			else if(temp_coord->tFirstPos.tXY[i].y < bound_th)
;;;2145   			{
;;;2146   				if(PostProcess[i] == 0 || ((temp_coord->tPos.tXY[i].x == -UNIT_DIST || temp_coord->tPos.tXY[i].x == (thisInfo->tCoord.iInternalXRes + UNIT_DIST)) && temp_coord->tPos.tXY[i].y < -UNIT_DIST))
;;;2147   				{
;;;2148   					PostProcess[i] = 1;
;;;2149   					temp_pos2.x = temp_coord->tOrgPos.tXY[i].x - temp_coord->tFirstPos.tXY[i].x;
;;;2150   					temp_pos2.y = temp_coord->tOrgPos.tXY[i].y - temp_coord->tFirstPos.tXY[i].y;
;;;2151   					if(temp_pos2.y > dis_th)
;;;2152   					{
;;;2153   						temp_pos.y = temp_coord->tFirstPos.tXY[i].y;
;;;2154   						temp_pos.x = (temp_pos2.x*temp_pos.y)/temp_pos2.y;
;;;2155   						temp_coord->tPos.tXY[i].x = temp_coord->tFirstPos.tXY[i].x - temp_pos.x;
;;;2156   						temp_coord->tPos.tXY[i].y = -UNIT_DIST;
;;;2157   					}
;;;2158   				}
;;;2159   			}
;;;2160   			
;;;2161   			if(PostProcess[i] == 1)
;;;2162   			{
;;;2163   				temp_coord->tFirstPos.tXY[i] = temp_coord->tOrgPos.tXY[i];
;;;2164   			}
;;;2165   		}
;;;2166   	}
;;;2167   }
000010  2109              MOVS     r1,#9
000012  466b              MOV      r3,sp                 ;2080
000014  f8b850f9          LDRH     r5,[r8,#0xf9]         ;2078
000018  f89870fb          LDRB     r7,[r8,#0xfb]         ;2079
00001c  f8cda000          STR      r10,[sp,#0]           ;2080
000020  f8cda004          STR      r10,[sp,#4]           ;2080
000024  f8cda008          STR      r10,[sp,#8]           ;2080
000028  f8cda00c          STR      r10,[sp,#0xc]         ;2080
00002c  f8cda010          STR      r10,[sp,#0x10]        ;2080
000030  f8cda014          STR      r10,[sp,#0x14]        ;2080
000034  f8cda018          STR      r10,[sp,#0x18]        ;2080
000038  f8cda01c          STR      r10,[sp,#0x1c]        ;2080
00003c  f8cda020          STR      r10,[sp,#0x20]        ;2080
000040  f8cda024          STR      r10,[sp,#0x24]        ;2084
000044  f8d0c010          LDR      r12,[r0,#0x10]        ;2084  ; thisInfo
000048  f50c7657          ADD      r6,r12,#0x35c         ;2084
                  |L4.76|
00004c  eb060041          ADD      r0,r6,r1,LSL #1       ;2088
000050  f8b02172          LDRH     r2,[r0,#0x172]        ;2088
000054  2a00              CMP      r2,#0                 ;2088
000056  d07d              BEQ      |L4.340|
000058  f8b0036a          LDRH     r0,[r0,#0x36a]        ;2088
00005c  2800              CMP      r0,#0                 ;2088
00005e  d179              BNE      |L4.340|
000060  eb0600c1          ADD      r0,r6,r1,LSL #3       ;2090
000064  f8b840f9          LDRH     r4,[r8,#0xf9]         ;2090
000068  f8d02227          LDR      r2,[r0,#0x227]        ;2090
00006c  42a2              CMP      r2,r4                 ;2090
00006e  db0f              BLT      |L4.144|
000070  f8dc9d4b          LDR      r9,[r12,#0xd4b]       ;2090
000074  eba90902          SUB      r9,r9,r2              ;2090
000078  45a1              CMP      r9,r4                 ;2090
00007a  bfa4              ITT      GE                    ;2091
00007c  f8d0922b          LDRGE    r9,[r0,#0x22b]        ;2091
000080  45a1              CMPGE    r9,r4                 ;2091
000082  db05              BLT      |L4.144|
000084  f8dcbd4f          LDR      r11,[r12,#0xd4f]      ;2091
000088  ebab0909          SUB      r9,r11,r9             ;2091
00008c  454c              CMP      r4,r9                 ;2091
00008e  dd10              BLE      |L4.178|
                  |L4.144|
000090  f8d04577          LDR      r4,[r0,#0x577]        ;2093
000094  42a2              CMP      r2,r4                 ;2093
000096  d10c              BNE      |L4.178|
000098  f8d0422b          LDR      r4,[r0,#0x22b]        ;2093
00009c  f8d0957b          LDR      r9,[r0,#0x57b]        ;2093
0000a0  454c              CMP      r4,r9                 ;2093
0000a2  d106              BNE      |L4.178|
0000a4  eb060041          ADD      r0,r6,r1,LSL #1       ;2095
0000a8  f8a0a172          STRH     r10,[r0,#0x172]       ;2095
0000ac  b00b              ADD      sp,sp,#0x2c
0000ae  e8bd8ff0          POP      {r4-r11,pc}
                  |L4.178|
0000b2  42aa              CMP      r2,r5                 ;2100
0000b4  da19              BGE      |L4.234|
0000b6  f8d04577          LDR      r4,[r0,#0x577]        ;2102
0000ba  1aa4              SUBS     r4,r4,r2              ;2102
0000bc  42a7              CMP      r7,r4                 ;2103
0000be  da3b              BGE      |L4.312|
0000c0  f04f0901          MOV      r9,#1                 ;2105
0000c4  f8439021          STR      r9,[r3,r1,LSL #2]     ;2105
0000c8  f8d0b57b          LDR      r11,[r0,#0x57b]       ;2106
0000cc  f8d0922b          LDR      r9,[r0,#0x22b]        ;2106
0000d0  ebab0b09          SUB      r11,r11,r9            ;2106
0000d4  fb02fb0b          MUL      r11,r2,r11            ;2108
0000d8  fb9bf4f4          SDIV     r4,r11,r4             ;2108
0000dc  f06f0bff          MVN      r11,#0xff             ;2109
0000e0  f8c0b122          STR      r11,[r0,#0x122]       ;2109
0000e4  eba90404          SUB      r4,r9,r4              ;2110
0000e8  e024              B        |L4.308|
                  |L4.234|
0000ea  f8dc4d4b          LDR      r4,[r12,#0xd4b]       ;2113
0000ee  940a              STR      r4,[sp,#0x28]         ;2113
0000f0  1b64              SUBS     r4,r4,r5              ;2113
0000f2  42a2              CMP      r2,r4                 ;2113
0000f4  dd20              BLE      |L4.312|
0000f6  f8d04577          LDR      r4,[r0,#0x577]        ;2115
0000fa  eba20904          SUB      r9,r2,r4              ;2115
0000fe  45b9              CMP      r9,r7                 ;2116
000100  dd1a              BLE      |L4.312|
000102  2401              MOVS     r4,#1                 ;2118
000104  f8434021          STR      r4,[r3,r1,LSL #2]     ;2118
000108  f8d0457b          LDR      r4,[r0,#0x57b]        ;2119
00010c  f8d0b22b          LDR      r11,[r0,#0x22b]       ;2119
000110  f8dde028          LDR      lr,[sp,#0x28]         ;2120
000114  eba4040b          SUB      r4,r4,r11             ;2119
000118  ebae0e02          SUB      lr,lr,r2              ;2120
00011c  fb0ef404          MUL      r4,lr,r4              ;2121
000120  fb94f4f9          SDIV     r4,r4,r9              ;2121
000124  f8dd9028          LDR      r9,[sp,#0x28]         ;2121
000128  ebab0404          SUB      r4,r11,r4             ;2123
00012c  f5097980          ADD      r9,r9,#0x100          ;2121
000130  f8c09122          STR      r9,[r0,#0x122]        ;2122
                  |L4.308|
000134  f8c04126          STR      r4,[r0,#0x126]        ;2123
                  |L4.312|
000138  f8dc9d4f          LDR      r9,[r12,#0xd4f]       ;2127
00013c  f8d0422b          LDR      r4,[r0,#0x22b]        ;2127
000140  eba90b05          SUB      r11,r9,r5             ;2127
000144  455c              CMP      r4,r11                ;2127
000146  dd37              BLE      |L4.440|
000148  f853b021          LDR      r11,[r3,r1,LSL #2]    ;2129
00014c  f1bb0f00          CMP      r11,#0                ;2129
000150  d012              BEQ      |L4.376|
000152  e000              B        |L4.342|
                  |L4.340|
000154  e06d              B        |L4.562|
                  |L4.342|
000156  f8d0b122          LDR      r11,[r0,#0x122]       ;2129
00015a  f51b7f80          CMN      r11,#0x100            ;2129
00015e  d005              BEQ      |L4.364|
000160  f8dced4b          LDR      lr,[r12,#0xd4b]       ;2129
000164  f50e7e80          ADD      lr,lr,#0x100          ;2129
000168  45f3              CMP      r11,lr                ;2129
00016a  d156              BNE      |L4.538|
                  |L4.364|
00016c  f8d0b126          LDR      r11,[r0,#0x126]       ;2129
000170  f5097e80          ADD      lr,r9,#0x100          ;2129
000174  45f3              CMP      r11,lr                ;2129
000176  dd50              BLE      |L4.538|
                  |L4.376|
000178  f8d0b577          LDR      r11,[r0,#0x577]       ;2131
00017c  ebab0b02          SUB      r11,r11,r2            ;2131
000180  f8cdb028          STR      r11,[sp,#0x28]        ;2132
000184  f8d0b57b          LDR      r11,[r0,#0x57b]       ;2132
000188  eba40e0b          SUB      lr,r4,r11             ;2132
00018c  45be              CMP      lr,r7                 ;2133
00018e  dd44              BLE      |L4.538|
000190  f04f0b01          MOV      r11,#1                ;2135
000194  f843b021          STR      r11,[r3,r1,LSL #2]    ;2135
000198  eba90404          SUB      r4,r9,r4              ;2136
00019c  f8dd9028          LDR      r9,[sp,#0x28]         ;2137
0001a0  fb09f904          MUL      r9,r9,r4              ;2137
0001a4  fb99f4fe          SDIV     r4,r9,lr              ;2137
0001a8  1b12              SUBS     r2,r2,r4              ;2138
0001aa  f8c02122          STR      r2,[r0,#0x122]        ;2138
0001ae  f8dc2d4f          LDR      r2,[r12,#0xd4f]       ;2139
0001b2  f5027280          ADD      r2,r2,#0x100          ;2139
0001b6  e02d              B        |L4.532|
                  |L4.440|
0001b8  42a5              CMP      r5,r4                 ;2144
0001ba  dd2e              BLE      |L4.538|
0001bc  f8539021          LDR      r9,[r3,r1,LSL #2]     ;2146
0001c0  f1b90f00          CMP      r9,#0                 ;2146
0001c4  d00f              BEQ      |L4.486|
0001c6  f8d09122          LDR      r9,[r0,#0x122]        ;2146
0001ca  f5197f80          CMN      r9,#0x100             ;2146
0001ce  d005              BEQ      |L4.476|
0001d0  f8dcbd4b          LDR      r11,[r12,#0xd4b]      ;2146
0001d4  f50b7b80          ADD      r11,r11,#0x100        ;2146
0001d8  45d9              CMP      r9,r11                ;2146
0001da  d11e              BNE      |L4.538|
                  |L4.476|
0001dc  f8d09126          LDR      r9,[r0,#0x126]        ;2146
0001e0  f5197f80          CMN      r9,#0x100             ;2146
0001e4  da19              BGE      |L4.538|
                  |L4.486|
0001e6  f04f0901          MOV      r9,#1                 ;2148
0001ea  f8439021          STR      r9,[r3,r1,LSL #2]     ;2148
0001ee  f8d09577          LDR      r9,[r0,#0x577]        ;2149
0001f2  eba90b02          SUB      r11,r9,r2             ;2149
0001f6  f8d0957b          LDR      r9,[r0,#0x57b]        ;2150
0001fa  eba90904          SUB      r9,r9,r4              ;2150
0001fe  45b9              CMP      r9,r7                 ;2151
000200  dd0f              BLE      |L4.546|
000202  fb0bf404          MUL      r4,r11,r4             ;2154
000206  fb94f4f9          SDIV     r4,r4,r9              ;2154
00020a  1b12              SUBS     r2,r2,r4              ;2155
00020c  f8c02122          STR      r2,[r0,#0x122]        ;2155
000210  f06f02ff          MVN      r2,#0xff              ;2156
                  |L4.532|
000214  f8c02126          STR      r2,[r0,#0x126]        ;2139
000218  e003              B        |L4.546|
                  |L4.538|
00021a  f8532021          LDR      r2,[r3,r1,LSL #2]     ;2161
00021e  2a01              CMP      r2,#1                 ;2161
000220  d107              BNE      |L4.562|
                  |L4.546|
000222  f8d02577          LDR      r2,[r0,#0x577]        ;2163
000226  f8c02227          STR      r2,[r0,#0x227]        ;2163
00022a  f8d0257b          LDR      r2,[r0,#0x57b]        ;2163
00022e  f8c0222b          STR      r2,[r0,#0x22b]        ;2163
                  |L4.562|
000232  1e49              SUBS     r1,r1,#1              ;2163
000234  f4bfaf0a          BCS      |L4.76|
000238  b00b              ADD      sp,sp,#0x2c
00023a  e8bd8ff0          POP      {r4-r11,pc}
;;;2168   void algorithm_coord_PostProcess(int mode)
                          ENDP

00023e  0000              DCW      0x0000
                  |L4.576|
                          DCD      ||.data||

                          AREA ||i.algorithm_coord_PostProcess||, CODE, READONLY, ALIGN=2

                  algorithm_coord_PostProcess PROC
;;;2167   }
;;;2168   void algorithm_coord_PostProcess(int mode)
000000  e92d4ff0          PUSH     {r4-r11,lr}
;;;2169   {
;;;2170   	int i;
;;;2171   	tXY_t	temp_pos;
;;;2172   
;;;2173   	tCoordInfo_t 	*temp_coord;
;;;2174   
;;;2175   	temp_coord = &thisInfo->tCoord;
000004  4ffe              LDR      r7,|L5.1024|
000006  b093              SUB      sp,sp,#0x4c           ;2169
;;;2176   
;;;2177   	for( i=MAX_TOUCH_; i--; )
;;;2178   	{
;;;2179   		if( temp_coord->tPos.vusS[i] > 0 && temp_coord->tPastPos[0].vusS[i] == 0 )
;;;2180   		{
;;;2181   			if( temp_coord->cScreenDebCnt[i] > 2 )
;;;2182   			{
;;;2183   				if( algorithm_coord_IsEdgeArea(&temp_coord->tFirstPos.tXY[i], 0) > 0 )
;;;2184   				{
;;;2185   					int dist;
;;;2186   
;;;2187   					dist = algorithm_coord_calc_distance(temp_coord->tFirstPos.tXY[i], temp_coord->tOrgPos.tXY[i]);
;;;2188   
;;;2189   					if( dist > _BV(6) )
;;;2190   					{
;;;2191   						temp_coord->ucPostProcessRun[i] = 1;
;;;2192   						temp_pos = temp_coord->tPos.tXY[i];
;;;2193   						temp_coord->tPos.tXY[i] = temp_coord->tFirstPos.tXY[i];
;;;2194   						temp_coord->tFirstPos.tXY[i] = temp_pos;
;;;2195   					}
;;;2196   				}
;;;2197   			}
;;;2198   		}
;;;2199   
;;;2200   		if(thisModeConf->Coord.usPostProcessEdgeTH > 0)
;;;2201   		{
;;;2202   			if(temp_coord->tOrgPos.vusS[i] == 0 && temp_coord->tOrgPastPos[1].vusS[i] > 0 && temp_coord->tOrgPastPos[0].vusS[i] > 0 && temp_coord->tOrgPastPos[2].vusS[i] > 0) 
;;;2203   			{
;;;2204   				int ExpandTH = thisModeConf->Coord.usPostProcessEdgeTH;
;;;2205   				uint8_t x_edge_f = 0;
;;;2206   				uint8_t y_edge_f = 0;
;;;2207   				
;;;2208   				if(temp_coord->tOrgPastPos[0].tXY[i].x < ExpandTH)x_edge_f = 1;
;;;2209   				else if(thisInfo->tCoord.iInternalXRes - temp_coord->tOrgPastPos[0].tXY[i].x < ExpandTH)x_edge_f = 2;
;;;2210   				
;;;2211   				if(temp_coord->tOrgPastPos[0].tXY[i].y < ExpandTH)y_edge_f = 1;
;;;2212   				else if(thisInfo->tCoord.iInternalYRes - temp_coord->tOrgPastPos[0].tXY[i].y < ExpandTH)y_edge_f = 2;
;;;2213   				
;;;2214   				if(x_edge_f || y_edge_f)
;;;2215   				{
;;;2216   					int dist_y[3] = {0,};			
;;;2217   					int dist_x[3] = {0,};      
;;;2218   				
;;;2219   					dist_y[0] = temp_coord->tPastPos[0].tXY[i].y - temp_coord->tPastPos[1].tXY[i].y;			
;;;2220   					dist_x[0] = temp_coord->tPastPos[0].tXY[i].x - temp_coord->tPastPos[1].tXY[i].x;				
;;;2221   
;;;2222   					dist_y[1] = temp_coord->tPastPos[0].tXY[i].y - temp_coord->tPastPos[2].tXY[i].y;
;;;2223   					dist_x[1] = temp_coord->tPastPos[0].tXY[i].x - temp_coord->tPastPos[2].tXY[i].x;		
;;;2224   				
;;;2225   					dist_y[2] = temp_coord->tPastPos[1].tXY[i].y - temp_coord->tPastPos[2].tXY[i].y;
;;;2226   					dist_x[2] = temp_coord->tPastPos[1].tXY[i].x - temp_coord->tPastPos[2].tXY[i].x;	
;;;2227   					
;;;2228   					if( (dist_x[0] < -thisModeConf->Coord.ucPostProcessDisTH && dist_x[1] < -thisModeConf->Coord.ucPostProcessDisTH && dist_x[2] < -thisModeConf->Coord.ucPostProcessDisTH && x_edge_f == 1)
;;;2229   					|| (dist_x[0] > thisModeConf->Coord.ucPostProcessDisTH   && dist_x[1] > thisModeConf->Coord.ucPostProcessDisTH && dist_x[2] > thisModeConf->Coord.ucPostProcessDisTH &&x_edge_f == 2)
;;;2230   					|| (dist_y[0] < -thisModeConf->Coord.ucPostProcessDisTH  && dist_y[1] < -thisModeConf->Coord.ucPostProcessDisTH && dist_y[2] < -thisModeConf->Coord.ucPostProcessDisTH && y_edge_f == 1)
;;;2231   					|| (dist_y[0] > thisModeConf->Coord.ucPostProcessDisTH   && dist_y[2] > thisModeConf->Coord.ucPostProcessDisTH && dist_y[2] > thisModeConf->Coord.ucPostProcessDisTH && y_edge_f == 2) )
;;;2232   					{
;;;2233   						temp_coord->tPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x + dist_x[0]/thisModeConf->Coord.ucPostProcessExpendDiv;
;;;2234   						temp_coord->tPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y + dist_y[0]/thisModeConf->Coord.ucPostProcessExpendDiv;
;;;2235   						
;;;2236   						uint8_t max_idx = 0;
;;;2237   						if(x_edge_f == 1 && temp_coord->tPos.tXY[i].x > -thisModeConf->Coord.cPostProcessEndMargin)
;;;2238   						{
;;;2239   							temp_coord->tPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x + MIN(dist_x[0],MIN(dist_x[1], dist_x[2]));
;;;2240   							
;;;2241   							if(abs(dist_y[0]) >= abs(dist_y[1]) && abs(dist_y[0]) >= abs(dist_y[2]))max_idx = 0;
;;;2242   							else if(abs(dist_y[1]) >= abs(dist_y[0]) && abs(dist_y[1]) >= abs(dist_y[2]))max_idx = 1;
;;;2243   							else if(abs(dist_y[2]) >= abs(dist_y[0]) && abs(dist_y[2]) >= abs(dist_y[1]))max_idx = 2;
;;;2244   							
;;;2245   							temp_coord->tPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y + dist_y[max_idx];
;;;2246   						}
;;;2247   						else if(x_edge_f == 2 && temp_coord->tPos.tXY[i].x < thisInfo->tCoord.iInternalXRes + thisModeConf->Coord.cPostProcessEndMargin)
;;;2248   						{
;;;2249   							temp_coord->tPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x + MAX(dist_x[0],MAX(dist_x[1], dist_x[2]));
;;;2250   																	
;;;2251   							if(abs(dist_y[0]) >= abs(dist_y[1]) && abs(dist_y[0]) >= abs(dist_y[2]))max_idx = 0;
;;;2252   							else if(abs(dist_y[1]) >= abs(dist_y[0]) && abs(dist_y[1]) >= abs(dist_y[2]))max_idx = 1;
;;;2253   							else if(abs(dist_y[2]) >= abs(dist_y[0]) && abs(dist_y[2]) >= abs(dist_y[1]))max_idx = 2;
;;;2254   							
;;;2255   							temp_coord->tPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y + dist_y[max_idx];
;;;2256   						}
;;;2257   						
;;;2258   						max_idx = 0;
;;;2259   						if(y_edge_f == 1 && temp_coord->tPos.tXY[i].y > -thisModeConf->Coord.cPostProcessEndMargin)
;;;2260   						{
;;;2261   							temp_coord->tPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y + MIN(dist_y[0],MIN(dist_y[1], dist_y[2]));
;;;2262   																	
;;;2263   							if(abs(dist_x[0]) >= abs(dist_x[1]) && abs(dist_x[0]) >= abs(dist_x[2]))max_idx = 0;
;;;2264   							else if(abs(dist_x[1]) >= abs(dist_x[0]) && abs(dist_x[1]) >= abs(dist_x[2]))max_idx = 1;
;;;2265   							else if(abs(dist_x[2]) >= abs(dist_x[0]) && abs(dist_x[2]) >= abs(dist_x[1]))max_idx = 2;
;;;2266   							
;;;2267   							temp_coord->tPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x + dist_x[max_idx];
;;;2268   						}
;;;2269   						else if(y_edge_f == 2 && temp_coord->tPos.tXY[i].y < thisInfo->tCoord.iInternalYRes + thisModeConf->Coord.cPostProcessEndMargin)
;;;2270   						{
;;;2271   							temp_coord->tPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y + MAX(dist_y[0],MAX(dist_y[1], dist_y[2]));
;;;2272   							
;;;2273   							if(abs(dist_x[0]) >= abs(dist_x[1]) && abs(dist_x[0]) >= abs(dist_x[2]))max_idx = 0;
;;;2274   							else if(abs(dist_x[1]) >= abs(dist_x[0]) && abs(dist_x[1]) >= abs(dist_x[2]))max_idx = 1;
;;;2275   							else if(abs(dist_x[2]) >= abs(dist_x[0]) && abs(dist_x[2]) >= abs(dist_x[1]))max_idx = 2;
;;;2276   							
;;;2277   							temp_coord->tPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x + dist_x[max_idx];
;;;2278   						}
;;;2279   							
;;;2280   						temp_coord->tPos.vusS[i]  =  temp_coord->tOrgPastPos[0].vusS[i];
;;;2281   						temp_coord->tPos.vusR[i]  =  temp_coord->tOrgPastPos[0].vusR[i];						
;;;2282   					}
;;;2283   				}
;;;2284   			}
;;;2285   		}
;;;2286   	}
;;;2287   }
000008  2509              MOVS     r5,#9
00000a  6938              LDR      r0,[r7,#0x10]         ;2175  ; thisInfo
00000c  f04f0901          MOV      r9,#1                 ;2191
000010  f5007657          ADD      r6,r0,#0x35c          ;2175
000014  ea4f080d          MOV.W    r8,sp                 ;2216
                  |L5.24|
000018  eb060445          ADD      r4,r6,r5,LSL #1       ;2179
00001c  f8b40172          LDRH     r0,[r4,#0x172]        ;2179
000020  b3a8              CBZ      r0,|L5.142|
000022  f8b4036a          LDRH     r0,[r4,#0x36a]        ;2179
000026  bb90              CBNZ     r0,|L5.142|
000028  eb060b05          ADD      r11,r6,r5             ;2181
00002c  f99b0987          LDRSB    r0,[r11,#0x987]       ;2181
000030  2802              CMP      r0,#2                 ;2181
000032  dd2c              BLE      |L5.142|
000034  eb060ac5          ADD      r10,r6,r5,LSL #3      ;2183
000038  f20a2027          ADD      r0,r10,#0x227         ;2183
00003c  2100              MOVS     r1,#0                 ;2183
00003e  f7fffffe          BL       algorithm_coord_IsEdgeArea
000042  2800              CMP      r0,#0                 ;2183
000044  dd23              BLE      |L5.142|
000046  f8da3227          LDR      r3,[r10,#0x227]       ;2187
00004a  f8da0577          LDR      r0,[r10,#0x577]       ;2187
00004e  f8da122b          LDR      r1,[r10,#0x22b]       ;2187
000052  f8da257b          LDR      r2,[r10,#0x57b]       ;2187
000056  1a18              SUBS     r0,r3,r0              ;2187
000058  fb00f300          MUL      r3,r0,r0              ;2187
00005c  1a88              SUBS     r0,r1,r2              ;2187
00005e  fb003000          MLA      r0,r0,r0,r3           ;2187
000062  f7fffffe          BL       algorithm_calc_sqrt
000066  2840              CMP      r0,#0x40              ;2189
000068  dd11              BLE      |L5.142|
00006a  f88b999b          STRB     r9,[r11,#0x99b]       ;2191
00006e  f8da0122          LDR      r0,[r10,#0x122]       ;2192
000072  f8da1126          LDR      r1,[r10,#0x126]       ;2192
000076  f8da2227          LDR      r2,[r10,#0x227]       ;2193
00007a  f8ca2122          STR      r2,[r10,#0x122]       ;2193
00007e  f8da222b          LDR      r2,[r10,#0x22b]       ;2193
000082  f8ca2126          STR      r2,[r10,#0x126]       ;2193
000086  f8ca0227          STR      r0,[r10,#0x227]       ;2194
00008a  f8ca122b          STR      r1,[r10,#0x22b]       ;2194
                  |L5.142|
00008e  68f9              LDR      r1,[r7,#0xc]          ;2200  ; thisModeConf
000090  f8b1a0f3          LDRH     r10,[r1,#0xf3]        ;2200
000094  f1ba0f00          CMP      r10,#0                ;2200
000098  f0008263          BEQ.W    |L5.1378|
00009c  f8b405c7          LDRH     r0,[r4,#0x5c7]        ;2202
0000a0  2800              CMP      r0,#0                 ;2202
0000a2  f040825e          BNE.W    |L5.1378|
0000a6  f8b40745          LDRH     r0,[r4,#0x745]        ;2202
0000aa  2800              CMP      r0,#0                 ;2202
0000ac  bf1f              ITTTT    NE                    ;2202
0000ae  f8b406cc          LDRHNE   r0,[r4,#0x6cc]        ;2202
0000b2  2800              CMPNE    r0,#0                 ;2202
0000b4  f8b407be          LDRHNE   r0,[r4,#0x7be]        ;2202
0000b8  2800              CMPNE    r0,#0                 ;2202
0000ba  f0008252          BEQ.W    |L5.1378|
0000be  eb0600c5          ADD      r0,r6,r5,LSL #3       ;2208
0000c2  f04f0300          MOV      r3,#0                 ;2205
0000c6  f8d0c67c          LDR      r12,[r0,#0x67c]       ;2208
0000ca  461a              MOV      r2,r3                 ;2206
0000cc  f8cdc048          STR      r12,[sp,#0x48]        ;2208
0000d0  45d4              CMP      r12,r10               ;2208
0000d2  bfb8              IT       LT                    ;2208
0000d4  2301              MOVLT    r3,#1                 ;2208
0000d6  db0a              BLT      |L5.238|
0000d8  f8d7c010          LDR      r12,[r7,#0x10]        ;2209  ; thisInfo
0000dc  f8dcbd4b          LDR      r11,[r12,#0xd4b]      ;2209
0000e0  f8ddc048          LDR      r12,[sp,#0x48]        ;2209
0000e4  ebab0c0c          SUB      r12,r11,r12           ;2209
0000e8  45d4              CMP      r12,r10               ;2209
0000ea  bfb8              IT       LT                    ;2209
0000ec  2302              MOVLT    r3,#2                 ;2209
                  |L5.238|
0000ee  f8d0c680          LDR      r12,[r0,#0x680]       ;2211
0000f2  45d4              CMP      r12,r10               ;2211
0000f4  bfb8              IT       LT                    ;2211
0000f6  2201              MOVLT    r2,#1                 ;2211
0000f8  db08              BLT      |L5.268|
0000fa  f8d7b010          LDR      r11,[r7,#0x10]        ;2212  ; thisInfo
0000fe  f8dbbd4f          LDR      r11,[r11,#0xd4f]      ;2212
000102  ebab0b0c          SUB      r11,r11,r12           ;2212
000106  45d3              CMP      r11,r10               ;2212
000108  bfb8              IT       LT                    ;2212
00010a  2202              MOVLT    r2,#2                 ;2212
                  |L5.268|
00010c  ea530a02          ORRS     r10,r3,r2             ;2214
000110  f0008227          BEQ.W    |L5.1378|
000114  f8d0a31e          LDR      r10,[r0,#0x31e]       ;2219
000118  f8d0e397          LDR      lr,[r0,#0x397]        ;2219
00011c  f8cde02c          STR      lr,[sp,#0x2c]         ;2220
000120  ebaa0b0e          SUB      r11,r10,lr            ;2219
000124  f8cdb000          STR      r11,[sp,#0]           ;2220
000128  f8d0e31a          LDR      lr,[r0,#0x31a]        ;2220
00012c  f8d0b393          LDR      r11,[r0,#0x393]       ;2220
000130  f8cdb024          STR      r11,[sp,#0x24]        ;2220
000134  ebae0b0b          SUB      r11,lr,r11            ;2220
000138  f8cdb00c          STR      r11,[sp,#0xc]         ;2222
00013c  f8d0b410          LDR      r11,[r0,#0x410]       ;2222
000140  ebaa0a0b          SUB      r10,r10,r11           ;2222
000144  f8cda004          STR      r10,[sp,#4]           ;2223
000148  f8d0a40c          LDR      r10,[r0,#0x40c]       ;2223
00014c  f8cda018          STR      r10,[sp,#0x18]        ;2223
000150  ebae0a0a          SUB      r10,lr,r10            ;2223
000154  f8dde02c          LDR      lr,[sp,#0x2c]         ;2225
000158  f8cda010          STR      r10,[sp,#0x10]        ;2223
00015c  ebae0a0b          SUB      r10,lr,r11            ;2225
000160  f8cda008          STR      r10,[sp,#8]           ;2225
000164  f8ddb024          LDR      r11,[sp,#0x24]        ;2226
000168  f8dda018          LDR      r10,[sp,#0x18]        ;2226
00016c  ebab0a0a          SUB      r10,r11,r10           ;2226
000170  f8cda014          STR      r10,[sp,#0x14]        ;2228
000174  f891a0f5          LDRB     r10,[r1,#0xf5]        ;2228
000178  f8ddb00c          LDR      r11,[sp,#0xc]         ;2228
00017c  f1ca0e00          RSB      lr,r10,#0             ;2228
000180  45de              CMP      lr,r11                ;2228
000182  bfc1              ITTTT    GT                    ;2228
000184  f8ddb010          LDRGT    r11,[sp,#0x10]        ;2228
000188  45de              CMPGT    lr,r11                ;2228
00018a  f8ddb014          LDRGT    r11,[sp,#0x14]        ;2228
00018e  45de              CMPGT    lr,r11                ;2228
000190  dd01              BLE      |L5.406|
000192  2b01              CMP      r3,#1                 ;2228
000194  d025              BEQ      |L5.482|
                  |L5.406|
000196  f8ddb00c          LDR      r11,[sp,#0xc]         ;2229
00019a  45d3              CMP      r11,r10               ;2229
00019c  bfc1              ITTTT    GT                    ;2229
00019e  f8ddb010          LDRGT    r11,[sp,#0x10]        ;2229
0001a2  45d3              CMPGT    r11,r10               ;2229
0001a4  f8ddb014          LDRGT    r11,[sp,#0x14]        ;2229
0001a8  45d3              CMPGT    r11,r10               ;2229
0001aa  dd01              BLE      |L5.432|
0001ac  2b02              CMP      r3,#2                 ;2229
0001ae  d018              BEQ      |L5.482|
                  |L5.432|
0001b0  f8ddb000          LDR      r11,[sp,#0]           ;2230
0001b4  45f3              CMP      r11,lr                ;2230
0001b6  bfbf              ITTTT    LT                    ;2230
0001b8  f8ddb004          LDRLT    r11,[sp,#4]           ;2230
0001bc  45f3              CMPLT    r11,lr                ;2230
0001be  f8ddb008          LDRLT    r11,[sp,#8]           ;2230
0001c2  45f3              CMPLT    r11,lr                ;2230
0001c4  da01              BGE      |L5.458|
0001c6  2a01              CMP      r2,#1                 ;2230
0001c8  d00b              BEQ      |L5.482|
                  |L5.458|
0001ca  f8ddb000          LDR      r11,[sp,#0]           ;2231
0001ce  45d3              CMP      r11,r10               ;2231
0001d0  bfc4              ITT      GT                    ;2231
0001d2  f8ddb008          LDRGT    r11,[sp,#8]           ;2231
0001d6  45d3              CMPGT    r11,r10               ;2231
0001d8  f34081c3          BLE.W    |L5.1378|
0001dc  2a02              CMP      r2,#2                 ;2231
0001de  f04081c0          BNE.W    |L5.1378|
                  |L5.482|
0001e2  f891b0f6          LDRB     r11,[r1,#0xf6]        ;2233
0001e6  f8dda00c          LDR      r10,[sp,#0xc]         ;2233
0001ea  2b01              CMP      r3,#1                 ;2237
0001ec  fb9afbfb          SDIV     r11,r10,r11           ;2233
0001f0  f8dda048          LDR      r10,[sp,#0x48]        ;2233
0001f4  44da              ADD      r10,r10,r11           ;2233
0001f6  f8c0a122          STR      r10,[r0,#0x122]       ;2233
0001fa  f891e0f6          LDRB     lr,[r1,#0xf6]         ;2234
0001fe  f8ddb000          LDR      r11,[sp,#0]           ;2234
000202  fb9bfbfe          SDIV     r11,r11,lr            ;2234
000206  44e3              ADD      r11,r11,r12           ;2234
000208  f8c0b126          STR      r11,[r0,#0x126]       ;2234
00020c  f04f0b00          MOV      r11,#0                ;2236
000210  d002              BEQ      |L5.536|
000212  2b02              CMP      r3,#2                 ;2247
000214  d076              BEQ      |L5.772|
000216  e06c              B        |L5.754|
                  |L5.536|
000218  f99130f7          LDRSB    r3,[r1,#0xf7]         ;2237
00021c  425b              RSBS     r3,r3,#0              ;2237
00021e  459a              CMP      r10,r3                ;2237
000220  dd67              BLE      |L5.754|
000222  e9dd3a04          LDRD     r3,r10,[sp,#0x10]     ;2237
000226  459a              CMP      r10,r3                ;2239
000228  bfd8              IT       LE                    ;2239
00022a  4653              MOVLE    r3,r10                ;2239
00022c  f8dda00c          LDR      r10,[sp,#0xc]         ;2239
000230  4553              CMP      r3,r10                ;2239
000232  dc03              BGT      |L5.572|
000234  e9dd3a04          LDRD     r3,r10,[sp,#0x10]     ;2239
000238  459a              CMP      r10,r3                ;2239
00023a  dc00              BGT      |L5.574|
                  |L5.572|
00023c  4653              MOV      r3,r10                ;2239
                  |L5.574|
00023e  f8dda048          LDR      r10,[sp,#0x48]        ;2239
000242  4453              ADD      r3,r3,r10             ;2239
000244  f8c03122          STR      r3,[r0,#0x122]        ;2239
000248  e9dda300          LDRD     r10,r3,[sp,#0]        ;2239
00024c  f1ba0f00          CMP      r10,#0                ;2241
000250  bfb8              IT       LT                    ;2241
000252  f1ca0a00          RSBLT    r10,r10,#0            ;2241
000256  2b00              CMP      r3,#0                 ;2241
000258  bfb8              IT       LT                    ;2241
00025a  425b              RSBLT    r3,r3,#0              ;2241
00025c  4553              CMP      r3,r10                ;2241
00025e  dc0c              BGT      |L5.634|
000260  f8dda000          LDR      r10,[sp,#0]           ;2241
000264  9b02              LDR      r3,[sp,#8]            ;2241
000266  f1ba0f00          CMP      r10,#0                ;2241
00026a  bfb8              IT       LT                    ;2241
00026c  f1ca0a00          RSBLT    r10,r10,#0            ;2241
000270  2b00              CMP      r3,#0                 ;2241
000272  bfb8              IT       LT                    ;2241
000274  425b              RSBLT    r3,r3,#0              ;2241
000276  459a              CMP      r10,r3                ;2241
000278  da36              BGE      |L5.744|
                  |L5.634|
00027a  e9dd3a00          LDRD     r3,r10,[sp,#0]        ;2241
00027e  f1ba0f00          CMP      r10,#0                ;2242
000282  bfb8              IT       LT                    ;2242
000284  f1ca0a00          RSBLT    r10,r10,#0            ;2242
000288  2b00              CMP      r3,#0                 ;2242
00028a  bfb8              IT       LT                    ;2242
00028c  425b              RSBLT    r3,r3,#0              ;2242
00028e  4553              CMP      r3,r10                ;2242
000290  dc0f              BGT      |L5.690|
000292  e9dda301          LDRD     r10,r3,[sp,#4]        ;2242
000296  f1ba0f00          CMP      r10,#0                ;2242
00029a  bfb8              IT       LT                    ;2242
00029c  f1ca0a00          RSBLT    r10,r10,#0            ;2242
0002a0  2b00              CMP      r3,#0                 ;2242
0002a2  bfb8              IT       LT                    ;2242
0002a4  425b              RSBLT    r3,r3,#0              ;2242
0002a6  459a              CMP      r10,r3                ;2242
0002a8  db03              BLT      |L5.690|
0002aa  bf00              NOP                            ;2242
                  |L5.684|
0002ac  f04f0b01          MOV      r11,#1                ;2242
0002b0  e01a              B        |L5.744|
                  |L5.690|
0002b2  f8dda008          LDR      r10,[sp,#8]           ;2243
0002b6  9b00              LDR      r3,[sp,#0]            ;2243
0002b8  f1ba0f00          CMP      r10,#0                ;2243
0002bc  bfb8              IT       LT                    ;2243
0002be  f1ca0a00          RSBLT    r10,r10,#0            ;2243
0002c2  2b00              CMP      r3,#0                 ;2243
0002c4  bfb8              IT       LT                    ;2243
0002c6  425b              RSBLT    r3,r3,#0              ;2243
0002c8  4553              CMP      r3,r10                ;2243
0002ca  dc0d              BGT      |L5.744|
0002cc  e9dda301          LDRD     r10,r3,[sp,#4]        ;2243
0002d0  2b00              CMP      r3,#0                 ;2243
0002d2  bfb8              IT       LT                    ;2243
0002d4  425b              RSBLT    r3,r3,#0              ;2243
0002d6  f1ba0f00          CMP      r10,#0                ;2243
0002da  bfb8              IT       LT                    ;2243
0002dc  f1ca0a00          RSBLT    r10,r10,#0            ;2243
0002e0  4553              CMP      r3,r10                ;2243
0002e2  db01              BLT      |L5.744|
                  |L5.740|
0002e4  f04f0b02          MOV      r11,#2                ;2243
                  |L5.744|
0002e8  f858302b          LDR      r3,[r8,r11,LSL #2]    ;2255
0002ec  4463              ADD      r3,r3,r12             ;2255
0002ee  f8c03126          STR      r3,[r0,#0x126]        ;2255
                  |L5.754|
0002f2  2300              MOVS     r3,#0                 ;2258
0002f4  2a01              CMP      r2,#1                 ;2259
0002f6  d06b              BEQ      |L5.976|
0002f8  2a02              CMP      r2,#2                 ;2269
0002fa  f00080ca          BEQ.W    |L5.1170|
0002fe  f000b928          B.W      |L5.1362|
000302  e7ff              B        |L5.772|
                  |L5.772|
000304  693b              LDR      r3,[r7,#0x10]         ;2247  ; thisInfo
000306  f991e0f7          LDRSB    lr,[r1,#0xf7]         ;2247
00030a  f8d33d4b          LDR      r3,[r3,#0xd4b]        ;2247
00030e  4473              ADD      r3,r3,lr              ;2247
000310  4553              CMP      r3,r10                ;2247
000312  ddee              BLE      |L5.754|
000314  e9dd3a04          LDRD     r3,r10,[sp,#0x10]     ;2247
000318  4553              CMP      r3,r10                ;2249
00031a  bfd8              IT       LE                    ;2249
00031c  4653              MOVLE    r3,r10                ;2249
00031e  f8dda00c          LDR      r10,[sp,#0xc]         ;2249
000322  4553              CMP      r3,r10                ;2249
000324  db03              BLT      |L5.814|
000326  e9dd3a04          LDRD     r3,r10,[sp,#0x10]     ;2249
00032a  459a              CMP      r10,r3                ;2249
00032c  db00              BLT      |L5.816|
                  |L5.814|
00032e  4653              MOV      r3,r10                ;2249
                  |L5.816|
000330  f8dda048          LDR      r10,[sp,#0x48]        ;2249
000334  4453              ADD      r3,r3,r10             ;2249
000336  f8c03122          STR      r3,[r0,#0x122]        ;2249
00033a  e9dda300          LDRD     r10,r3,[sp,#0]        ;2249
00033e  f1ba0f00          CMP      r10,#0                ;2251
000342  bfb8              IT       LT                    ;2251
000344  f1ca0a00          RSBLT    r10,r10,#0            ;2251
000348  2b00              CMP      r3,#0                 ;2251
00034a  bfb8              IT       LT                    ;2251
00034c  425b              RSBLT    r3,r3,#0              ;2251
00034e  4553              CMP      r3,r10                ;2251
000350  dc0c              BGT      |L5.876|
000352  f8dda000          LDR      r10,[sp,#0]           ;2251
000356  9b02              LDR      r3,[sp,#8]            ;2251
000358  f1ba0f00          CMP      r10,#0                ;2251
00035c  bfb8              IT       LT                    ;2251
00035e  f1ca0a00          RSBLT    r10,r10,#0            ;2251
000362  2b00              CMP      r3,#0                 ;2251
000364  bfb8              IT       LT                    ;2251
000366  425b              RSBLT    r3,r3,#0              ;2251
000368  459a              CMP      r10,r3                ;2251
00036a  dabd              BGE      |L5.744|
                  |L5.876|
00036c  e9dd3a00          LDRD     r3,r10,[sp,#0]        ;2251
000370  f1ba0f00          CMP      r10,#0                ;2252
000374  bfb8              IT       LT                    ;2252
000376  f1ca0a00          RSBLT    r10,r10,#0            ;2252
00037a  2b00              CMP      r3,#0                 ;2252
00037c  bfb8              IT       LT                    ;2252
00037e  425b              RSBLT    r3,r3,#0              ;2252
000380  4553              CMP      r3,r10                ;2252
000382  dc0b              BGT      |L5.924|
000384  e9dda301          LDRD     r10,r3,[sp,#4]        ;2252
000388  f1ba0f00          CMP      r10,#0                ;2252
00038c  bfb8              IT       LT                    ;2252
00038e  f1ca0a00          RSBLT    r10,r10,#0            ;2252
000392  2b00              CMP      r3,#0                 ;2252
000394  bfb8              IT       LT                    ;2252
000396  425b              RSBLT    r3,r3,#0              ;2252
000398  459a              CMP      r10,r3                ;2252
00039a  da87              BGE      |L5.684|
                  |L5.924|
00039c  f8dda008          LDR      r10,[sp,#8]           ;2253
0003a0  9b00              LDR      r3,[sp,#0]            ;2253
0003a2  f1ba0f00          CMP      r10,#0                ;2253
0003a6  bfb8              IT       LT                    ;2253
0003a8  f1ca0a00          RSBLT    r10,r10,#0            ;2253
0003ac  2b00              CMP      r3,#0                 ;2253
0003ae  bfb8              IT       LT                    ;2253
0003b0  425b              RSBLT    r3,r3,#0              ;2253
0003b2  4553              CMP      r3,r10                ;2253
0003b4  dc98              BGT      |L5.744|
0003b6  e9dd3a01          LDRD     r3,r10,[sp,#4]        ;2253
0003ba  f1ba0f00          CMP      r10,#0                ;2253
0003be  bfb8              IT       LT                    ;2253
0003c0  f1ca0a00          RSBLT    r10,r10,#0            ;2253
0003c4  2b00              CMP      r3,#0                 ;2253
0003c6  bfb8              IT       LT                    ;2253
0003c8  425b              RSBLT    r3,r3,#0              ;2253
0003ca  459a              CMP      r10,r3                ;2253
0003cc  db8c              BLT      |L5.744|
0003ce  e789              B        |L5.740|
                  |L5.976|
0003d0  f99110f7          LDRSB    r1,[r1,#0xf7]         ;2259
0003d4  f8d02126          LDR      r2,[r0,#0x126]        ;2259
0003d8  4249              RSBS     r1,r1,#0              ;2259
0003da  428a              CMP      r2,r1                 ;2259
0003dc  f34080b9          BLE.W    |L5.1362|
0003e0  e9dd1201          LDRD     r1,r2,[sp,#4]         ;2259
0003e4  428a              CMP      r2,r1                 ;2261
0003e6  bfd8              IT       LE                    ;2261
0003e8  4611              MOVLE    r1,r2                 ;2261
0003ea  9a00              LDR      r2,[sp,#0]            ;2261
0003ec  4291              CMP      r1,r2                 ;2261
0003ee  dc03              BGT      |L5.1016|
0003f0  e9dd1201          LDRD     r1,r2,[sp,#4]         ;2261
0003f4  428a              CMP      r2,r1                 ;2261
0003f6  dc00              BGT      |L5.1018|
                  |L5.1016|
0003f8  4611              MOV      r1,r2                 ;2261
                  |L5.1018|
0003fa  4461              ADD      r1,r1,r12             ;2261
0003fc  e002              B        |L5.1028|
0003fe  0000              DCW      0x0000
                  |L5.1024|
                          DCD      ||.data||
                  |L5.1028|
000404  f8c01126          STR      r1,[r0,#0x126]        ;2261
000408  e9dd2103          LDRD     r2,r1,[sp,#0xc]       ;2261
00040c  2a00              CMP      r2,#0                 ;2263
00040e  bfb8              IT       LT                    ;2263
000410  4252              RSBLT    r2,r2,#0              ;2263
000412  2900              CMP      r1,#0                 ;2263
000414  bfb8              IT       LT                    ;2263
000416  4249              RSBLT    r1,r1,#0              ;2263
000418  4291              CMP      r1,r2                 ;2263
00041a  dc09              BGT      |L5.1072|
00041c  9903              LDR      r1,[sp,#0xc]          ;2263
00041e  9a05              LDR      r2,[sp,#0x14]         ;2263
000420  2900              CMP      r1,#0                 ;2263
000422  bfb8              IT       LT                    ;2263
000424  4249              RSBLT    r1,r1,#0              ;2263
000426  2a00              CMP      r2,#0                 ;2263
000428  bfb8              IT       LT                    ;2263
00042a  4252              RSBLT    r2,r2,#0              ;2263
00042c  4291              CMP      r1,r2                 ;2263
00042e  da2a              BGE      |L5.1158|
                  |L5.1072|
000430  e9dd1203          LDRD     r1,r2,[sp,#0xc]       ;2263
000434  2a00              CMP      r2,#0                 ;2264
000436  bfb8              IT       LT                    ;2264
000438  4252              RSBLT    r2,r2,#0              ;2264
00043a  2900              CMP      r1,#0                 ;2264
00043c  bfb8              IT       LT                    ;2264
00043e  4249              RSBLT    r1,r1,#0              ;2264
000440  4291              CMP      r1,r2                 ;2264
000442  dc0b              BGT      |L5.1116|
000444  e9dd2104          LDRD     r2,r1,[sp,#0x10]      ;2264
000448  2a00              CMP      r2,#0                 ;2264
00044a  bfb8              IT       LT                    ;2264
00044c  4252              RSBLT    r2,r2,#0              ;2264
00044e  2900              CMP      r1,#0                 ;2264
000450  bfb8              IT       LT                    ;2264
000452  4249              RSBLT    r1,r1,#0              ;2264
000454  428a              CMP      r2,r1                 ;2264
000456  bfa8              IT       GE                    ;2264
000458  2301              MOVGE    r3,#1                 ;2264
00045a  da14              BGE      |L5.1158|
                  |L5.1116|
00045c  9a05              LDR      r2,[sp,#0x14]         ;2265
00045e  9903              LDR      r1,[sp,#0xc]          ;2265
000460  2a00              CMP      r2,#0                 ;2265
000462  bfb8              IT       LT                    ;2265
000464  4252              RSBLT    r2,r2,#0              ;2265
000466  2900              CMP      r1,#0                 ;2265
000468  bfb8              IT       LT                    ;2265
00046a  4249              RSBLT    r1,r1,#0              ;2265
00046c  4291              CMP      r1,r2                 ;2265
00046e  dc0a              BGT      |L5.1158|
000470  e9dd1204          LDRD     r1,r2,[sp,#0x10]      ;2265
000474  2a00              CMP      r2,#0                 ;2265
000476  bfb8              IT       LT                    ;2265
000478  4252              RSBLT    r2,r2,#0              ;2265
00047a  2900              CMP      r1,#0                 ;2265
00047c  bfb8              IT       LT                    ;2265
00047e  4249              RSBLT    r1,r1,#0              ;2265
000480  428a              CMP      r2,r1                 ;2265
000482  bfa8              IT       GE                    ;2265
000484  2302              MOVGE    r3,#2                 ;2265
                  |L5.1158|
000486  a903              ADD      r1,sp,#0xc            ;2267
000488  9a12              LDR      r2,[sp,#0x48]         ;2267
00048a  f8511023          LDR      r1,[r1,r3,LSL #2]     ;2267
00048e  4411              ADD      r1,r1,r2              ;2267
000490  e05d              B        |L5.1358|
                  |L5.1170|
000492  693a              LDR      r2,[r7,#0x10]         ;2269  ; thisInfo
000494  f99110f7          LDRSB    r1,[r1,#0xf7]         ;2269
000498  f8d22d4f          LDR      r2,[r2,#0xd4f]        ;2269
00049c  4411              ADD      r1,r1,r2              ;2269
00049e  f8d02126          LDR      r2,[r0,#0x126]        ;2269
0004a2  4291              CMP      r1,r2                 ;2269
0004a4  dd55              BLE      |L5.1362|
0004a6  e9dd1201          LDRD     r1,r2,[sp,#4]         ;2269
0004aa  4291              CMP      r1,r2                 ;2271
0004ac  bfd8              IT       LE                    ;2271
0004ae  4611              MOVLE    r1,r2                 ;2271
0004b0  9a00              LDR      r2,[sp,#0]            ;2271
0004b2  4291              CMP      r1,r2                 ;2271
0004b4  db03              BLT      |L5.1214|
0004b6  e9dd1201          LDRD     r1,r2,[sp,#4]         ;2271
0004ba  428a              CMP      r2,r1                 ;2271
0004bc  db00              BLT      |L5.1216|
                  |L5.1214|
0004be  4611              MOV      r1,r2                 ;2271
                  |L5.1216|
0004c0  4461              ADD      r1,r1,r12             ;2271
0004c2  f8c01126          STR      r1,[r0,#0x126]        ;2271
0004c6  e9dd2103          LDRD     r2,r1,[sp,#0xc]       ;2271
0004ca  2a00              CMP      r2,#0                 ;2273
0004cc  bfb8              IT       LT                    ;2273
0004ce  4252              RSBLT    r2,r2,#0              ;2273
0004d0  2900              CMP      r1,#0                 ;2273
0004d2  bfb8              IT       LT                    ;2273
0004d4  4249              RSBLT    r1,r1,#0              ;2273
0004d6  4291              CMP      r1,r2                 ;2273
0004d8  dc09              BGT      |L5.1262|
0004da  9a03              LDR      r2,[sp,#0xc]          ;2273
0004dc  9905              LDR      r1,[sp,#0x14]         ;2273
0004de  2a00              CMP      r2,#0                 ;2273
0004e0  bfb8              IT       LT                    ;2273
0004e2  4252              RSBLT    r2,r2,#0              ;2273
0004e4  2900              CMP      r1,#0                 ;2273
0004e6  bfb8              IT       LT                    ;2273
0004e8  4249              RSBLT    r1,r1,#0              ;2273
0004ea  428a              CMP      r2,r1                 ;2273
0004ec  da2a              BGE      |L5.1348|
                  |L5.1262|
0004ee  e9dd1203          LDRD     r1,r2,[sp,#0xc]       ;2273
0004f2  2a00              CMP      r2,#0                 ;2274
0004f4  bfb8              IT       LT                    ;2274
0004f6  4252              RSBLT    r2,r2,#0              ;2274
0004f8  2900              CMP      r1,#0                 ;2274
0004fa  bfb8              IT       LT                    ;2274
0004fc  4249              RSBLT    r1,r1,#0              ;2274
0004fe  4291              CMP      r1,r2                 ;2274
000500  dc0b              BGT      |L5.1306|
000502  e9dd2104          LDRD     r2,r1,[sp,#0x10]      ;2274
000506  2a00              CMP      r2,#0                 ;2274
000508  bfb8              IT       LT                    ;2274
00050a  4252              RSBLT    r2,r2,#0              ;2274
00050c  2900              CMP      r1,#0                 ;2274
00050e  bfb8              IT       LT                    ;2274
000510  4249              RSBLT    r1,r1,#0              ;2274
000512  428a              CMP      r2,r1                 ;2274
000514  bfa8              IT       GE                    ;2274
000516  2301              MOVGE    r3,#1                 ;2274
000518  da14              BGE      |L5.1348|
                  |L5.1306|
00051a  9a05              LDR      r2,[sp,#0x14]         ;2275
00051c  9903              LDR      r1,[sp,#0xc]          ;2275
00051e  2a00              CMP      r2,#0                 ;2275
000520  bfb8              IT       LT                    ;2275
000522  4252              RSBLT    r2,r2,#0              ;2275
000524  2900              CMP      r1,#0                 ;2275
000526  bfb8              IT       LT                    ;2275
000528  4249              RSBLT    r1,r1,#0              ;2275
00052a  4291              CMP      r1,r2                 ;2275
00052c  dc0a              BGT      |L5.1348|
00052e  e9dd1204          LDRD     r1,r2,[sp,#0x10]      ;2275
000532  2a00              CMP      r2,#0                 ;2275
000534  bfb8              IT       LT                    ;2275
000536  4252              RSBLT    r2,r2,#0              ;2275
000538  2900              CMP      r1,#0                 ;2275
00053a  bfb8              IT       LT                    ;2275
00053c  4249              RSBLT    r1,r1,#0              ;2275
00053e  428a              CMP      r2,r1                 ;2275
000540  bfa8              IT       GE                    ;2275
000542  2302              MOVGE    r3,#2                 ;2275
                  |L5.1348|
000544  aa03              ADD      r2,sp,#0xc            ;2277
000546  9912              LDR      r1,[sp,#0x48]         ;2277
000548  f8522023          LDR      r2,[r2,r3,LSL #2]     ;2277
00054c  4411              ADD      r1,r1,r2              ;2277
                  |L5.1358|
00054e  f8c01122          STR      r1,[r0,#0x122]        ;2277
                  |L5.1362|
000552  f8b406cc          LDRH     r0,[r4,#0x6cc]        ;2280
000556  f8a40172          STRH     r0,[r4,#0x172]        ;2280
00055a  f8b406e0          LDRH     r0,[r4,#0x6e0]        ;2281
00055e  f8a40186          STRH     r0,[r4,#0x186]        ;2281
                  |L5.1378|
000562  1e6d              SUBS     r5,r5,#1              ;2281
000564  f4bfad58          BCS      |L5.24|
000568  b013              ADD      sp,sp,#0x4c
00056a  e8bd8ff0          POP      {r4-r11,pc}
;;;2288   
                          ENDP


                          AREA ||i.algorithm_coord_PostProcess_1||, CODE, READONLY, ALIGN=2

                  algorithm_coord_PostProcess_1 PROC
;;;2288   
;;;2289   void algorithm_coord_PostProcess_1(void)
000000  e92d4ff0          PUSH     {r4-r11,lr}
;;;2290   {
;;;2291   	int i;
;;;2292   	tXY_t	temp_pos;
;;;2293   
;;;2294   	tCoordInfo_t 	*temp_coord;
;;;2295   
;;;2296   	temp_coord = &thisInfo->tCoord;
000004  4cfe              LDR      r4,|L6.1024|
;;;2297   
;;;2298   	for( i=MAX_TOUCH_; i--; )
;;;2299   	{
;;;2300   		if(!thisModeConf->Coord.bPostProcessInterpolationMode)
;;;2301   		{
;;;2302   			if( temp_coord->tPos.vusS[i] > 0 && temp_coord->tPastPos[0].vusS[i] == 0 )
;;;2303   			{
;;;2304   				if( temp_coord->cScreenDebCnt[i] > 2 )
;;;2305   				{
;;;2306   					if( algorithm_coord_IsEdgeArea(&temp_coord->tFirstPos.tXY[i], 0) > 0 )
;;;2307   					{
;;;2308   						int dist;
;;;2309   
;;;2310   						dist = algorithm_coord_calc_distance(temp_coord->tFirstPos.tXY[i], temp_coord->tOrgPos.tXY[i]);
;;;2311   
;;;2312   						if( dist > _BV(6) )
;;;2313   						{
;;;2314   							temp_coord->ucPostProcessRun[i] = 1;
;;;2315   							temp_pos = temp_coord->tPos.tXY[i];
;;;2316   							temp_coord->tPos.tXY[i] = temp_coord->tFirstPos.tXY[i];
;;;2317   							temp_coord->tFirstPos.tXY[i] = temp_pos;
;;;2318   						}
;;;2319   					}
;;;2320   				}
;;;2321   			}
;;;2322   		}
;;;2323   
;;;2324   		if(thisModeConf->Coord.usPostProcessEdgeTH > 0)
;;;2325   		{
;;;2326   			if( ((temp_coord->tOrgPos.vusS[i] == 0 && temp_coord->tOrgPastPos[2].vusS[i] > 0 && temp_coord->tOrgPastPos[0].vusS[i] > 0 && temp_coord->tOrgPastPos[4].vusS[i] > 0) && thisModeConf->Coord.bPostProcessInterpolationMode)
;;;2327   			|| ((temp_coord->tOrgPos.vusS[i] == 0 && temp_coord->tOrgPastPos[1].vusS[i] > 0 && temp_coord->tOrgPastPos[0].vusS[i] > 0 && temp_coord->tOrgPastPos[2].vusS[i] > 0) && !thisModeConf->Coord.bPostProcessInterpolationMode) )
;;;2328   			{
;;;2329   				tXY_t pos;
;;;2330   				pos = temp_coord->tPastPos[0].tXY[i];				
;;;2331   				pos.x = ( (pos.x + thisInfo->tCoord.iXOffset ) * thisCommonConf->iXResolution ) / (thisInfo->tCoord.iInternalXRes + 2*thisInfo->tCoord.iXOffset);
;;;2332   				pos.y = ( (pos.y + thisInfo->tCoord.iYOffset ) * thisCommonConf->iYResolution ) / (thisInfo->tCoord.iInternalYRes + 2*thisInfo->tCoord.iYOffset);
;;;2333   				
;;;2334   				if( (pos.x < 5 || pos.x > 32762 || pos.y < 5 || pos.y > 32762) && thisModeConf->Coord.cPostProcessEndMargin == 0)
;;;2335   				{
;;;2336   				}
;;;2337   				else
;;;2338   				{				
;;;2339   					int ExpandTH = thisModeConf->Coord.usPostProcessEdgeTH;
;;;2340   					uint8_t x_edge_f = 0;
;;;2341   					uint8_t y_edge_f = 0;
;;;2342   					
;;;2343   					if(temp_coord->tOrgPastPos[0].tXY[i].x < ExpandTH)x_edge_f = 1;
;;;2344   					else if(thisInfo->tCoord.iInternalXRes - temp_coord->tOrgPastPos[0].tXY[i].x < ExpandTH)x_edge_f = 2;
;;;2345   					
;;;2346   					if(temp_coord->tOrgPastPos[0].tXY[i].y < ExpandTH)y_edge_f = 1;
;;;2347   					else if(thisInfo->tCoord.iInternalYRes - temp_coord->tOrgPastPos[0].tXY[i].y < ExpandTH)y_edge_f = 2;
;;;2348   					
;;;2349   					if(x_edge_f || y_edge_f)
;;;2350   					{
;;;2351   						int dist_y[3] = {0,};			
;;;2352   						int dist_x[3] = {0,};      
;;;2353   						
;;;2354   						tXY_t temp_dist1 = temp_coord->tPastPos[0].tXY[i], temp_dist2, temp_dist3;
;;;2355   						if(thisModeConf->Coord.bPostProcessInterpolationMode)
;;;2356   						{
;;;2357   							temp_dist2 = temp_coord->tPastPos[2].tXY[i];
;;;2358   							temp_dist3 = temp_coord->tPastPos[4].tXY[i];
;;;2359   						}
;;;2360   						else
;;;2361   						{
;;;2362   							temp_dist2 = temp_coord->tPastPos[1].tXY[i];
;;;2363   							temp_dist3 = temp_coord->tPastPos[2].tXY[i];
;;;2364   						}
;;;2365   					
;;;2366   						dist_y[0] = temp_dist1.y - temp_dist2.y;
;;;2367   						dist_x[0] = temp_dist1.x - temp_dist2.x;
;;;2368   
;;;2369   						dist_y[1] = temp_dist1.y - temp_dist3.y;
;;;2370   						dist_x[1] = temp_dist1.x - temp_dist3.x;
;;;2371   					
;;;2372   						dist_y[2] = temp_dist2.y - temp_dist3.y;
;;;2373   						dist_x[2] = temp_dist2.x - temp_dist3.x;
;;;2374   						
;;;2375   						if( (dist_x[0] < -thisModeConf->Coord.ucPostProcessDisTH && dist_x[1] < -thisModeConf->Coord.ucPostProcessDisTH && dist_x[2] < -thisModeConf->Coord.ucPostProcessDisTH && x_edge_f == 1)
;;;2376   						|| (dist_x[0] > thisModeConf->Coord.ucPostProcessDisTH   && dist_x[1] > thisModeConf->Coord.ucPostProcessDisTH && dist_x[2] > thisModeConf->Coord.ucPostProcessDisTH &&x_edge_f == 2)
;;;2377   						|| (dist_y[0] < -thisModeConf->Coord.ucPostProcessDisTH  && dist_y[1] < -thisModeConf->Coord.ucPostProcessDisTH && dist_y[2] < -thisModeConf->Coord.ucPostProcessDisTH && y_edge_f == 1)
;;;2378   						|| (dist_y[0] > thisModeConf->Coord.ucPostProcessDisTH   && dist_y[2] > thisModeConf->Coord.ucPostProcessDisTH && dist_y[2] > thisModeConf->Coord.ucPostProcessDisTH && y_edge_f == 2) )
;;;2379   						{
;;;2380   							if(thisModeConf->Coord.ucExpectClipping_Finger_On < 2)
;;;2381   							{
;;;2382   								temp_coord->tPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x + dist_x[0]/thisModeConf->Coord.ucPostProcessExpendDiv;
;;;2383   								temp_coord->tPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y + dist_y[0]/thisModeConf->Coord.ucPostProcessExpendDiv;
;;;2384   								
;;;2385   								uint8_t max_idx = 0;
;;;2386   								if(x_edge_f == 1 && temp_coord->tPos.tXY[i].x > -thisModeConf->Coord.cPostProcessEndMargin)
;;;2387   								{
;;;2388   									temp_coord->tPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x + MIN(dist_x[0],MIN(dist_x[1], dist_x[2]));
;;;2389   								}
;;;2390   								else if(x_edge_f == 2 && temp_coord->tPos.tXY[i].x < thisInfo->tCoord.iInternalXRes + thisModeConf->Coord.cPostProcessEndMargin)
;;;2391   								{
;;;2392   									temp_coord->tPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x + MAX(dist_x[0],MAX(dist_x[1], dist_x[2]));																		
;;;2393   								}
;;;2394   								
;;;2395   								if((x_edge_f == 1 || x_edge_f == 2) && y_edge_f == 0)
;;;2396   								{
;;;2397   									if(abs(dist_y[0]) >= abs(dist_y[1]) && abs(dist_y[0]) >= abs(dist_y[2]))max_idx = 0;
;;;2398   									else if(abs(dist_y[1]) >= abs(dist_y[0]) && abs(dist_y[1]) >= abs(dist_y[2]))max_idx = 1;
;;;2399   									else if(abs(dist_y[2]) >= abs(dist_y[0]) && abs(dist_y[2]) >= abs(dist_y[1]))max_idx = 2;
;;;2400   									
;;;2401   									temp_coord->tPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y + dist_y[max_idx];								
;;;2402   								}
;;;2403   								
;;;2404   								max_idx = 0;
;;;2405   								if(y_edge_f == 1 && temp_coord->tPos.tXY[i].y > -thisModeConf->Coord.cPostProcessEndMargin)
;;;2406   								{
;;;2407   									temp_coord->tPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y + MIN(dist_y[0],MIN(dist_y[1], dist_y[2]));
;;;2408   								}
;;;2409   								else if(y_edge_f == 2 && temp_coord->tPos.tXY[i].y < thisInfo->tCoord.iInternalYRes + thisModeConf->Coord.cPostProcessEndMargin)
;;;2410   								{
;;;2411   									temp_coord->tPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y + MAX(dist_y[0],MAX(dist_y[1], dist_y[2]));
;;;2412   								}
;;;2413   
;;;2414   								if((y_edge_f == 1 || y_edge_f == 2) && x_edge_f == 0)
;;;2415   								{		
;;;2416   									if(abs(dist_x[0]) >= abs(dist_x[1]) && abs(dist_x[0]) >= abs(dist_x[2]))max_idx = 0;
;;;2417   									else if(abs(dist_x[1]) >= abs(dist_x[0]) && abs(dist_x[1]) >= abs(dist_x[2]))max_idx = 1;
;;;2418   									else if(abs(dist_x[2]) >= abs(dist_x[0]) && abs(dist_x[2]) >= abs(dist_x[1]))max_idx = 2;
;;;2419   									
;;;2420   									temp_coord->tPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x + dist_x[max_idx];								
;;;2421   								}
;;;2422   							}
;;;2423   							else
;;;2424   							{
;;;2425   								temp_coord->tPos.tXY[i].x = temp_coord->tPastPos[0].tXY[i].x + (temp_coord->tPastPos[0].tXY[i].x - temp_coord->tPastPos[2].tXY[i].x);
;;;2426   								temp_coord->tPos.tXY[i].y = temp_coord->tPastPos[0].tXY[i].y + (temp_coord->tPastPos[0].tXY[i].y - temp_coord->tPastPos[2].tXY[i].y);
;;;2427   							}
;;;2428   							temp_coord->tPos.vusS[i]  =  temp_coord->tOrgPastPos[0].vusS[i];
;;;2429   							temp_coord->tPos.vusR[i]  =  temp_coord->tOrgPastPos[0].vusR[i];	
;;;2430   							
;;;2431   						}   
;;;2432   					}
;;;2433   				}
;;;2434   			}
;;;2435   		}
;;;2436   	}
;;;2437   }
000006  2509              MOVS     r5,#9
000008  b099              SUB      sp,sp,#0x64           ;2290
00000a  6920              LDR      r0,[r4,#0x10]         ;2296  ; thisInfo
00000c  f04f0901          MOV      r9,#1                 ;2314
000010  f5007657          ADD      r6,r0,#0x35c          ;2296
000014  f64778f6          MOV      r8,#0x7ff6            ;2334
000018  2700              MOVS     r7,#0                 ;2334
                  |L6.26|
00001a  68e0              LDR      r0,[r4,#0xc]          ;2300  ; thisModeConf
00001c  f89000f8          LDRB     r0,[r0,#0xf8]         ;2300
000020  bbd0              CBNZ     r0,|L6.152|
000022  eb060045          ADD      r0,r6,r5,LSL #1       ;2302
000026  f8b01172          LDRH     r1,[r0,#0x172]        ;2302
00002a  b3a9              CBZ      r1,|L6.152|
00002c  f8b0036a          LDRH     r0,[r0,#0x36a]        ;2302
000030  bb90              CBNZ     r0,|L6.152|
000032  eb060b05          ADD      r11,r6,r5             ;2304
000036  f99b0987          LDRSB    r0,[r11,#0x987]       ;2304
00003a  2802              CMP      r0,#2                 ;2304
00003c  dd2c              BLE      |L6.152|
00003e  eb060ac5          ADD      r10,r6,r5,LSL #3      ;2306
000042  f20a2027          ADD      r0,r10,#0x227         ;2306
000046  2100              MOVS     r1,#0                 ;2306
000048  f7fffffe          BL       algorithm_coord_IsEdgeArea
00004c  2800              CMP      r0,#0                 ;2306
00004e  dd23              BLE      |L6.152|
000050  f8da3227          LDR      r3,[r10,#0x227]       ;2310
000054  f8da0577          LDR      r0,[r10,#0x577]       ;2310
000058  f8da222b          LDR      r2,[r10,#0x22b]       ;2310
00005c  f8da157b          LDR      r1,[r10,#0x57b]       ;2310
000060  1a18              SUBS     r0,r3,r0              ;2310
000062  fb00f300          MUL      r3,r0,r0              ;2310
000066  1a50              SUBS     r0,r2,r1              ;2310
000068  fb003000          MLA      r0,r0,r0,r3           ;2310
00006c  f7fffffe          BL       algorithm_calc_sqrt
000070  2840              CMP      r0,#0x40              ;2312
000072  dd11              BLE      |L6.152|
000074  f88b999b          STRB     r9,[r11,#0x99b]       ;2314
000078  f8da0122          LDR      r0,[r10,#0x122]       ;2315
00007c  f8da1126          LDR      r1,[r10,#0x126]       ;2315
000080  f8da2227          LDR      r2,[r10,#0x227]       ;2316
000084  f8ca2122          STR      r2,[r10,#0x122]       ;2316
000088  f8da222b          LDR      r2,[r10,#0x22b]       ;2316
00008c  f8ca2126          STR      r2,[r10,#0x126]       ;2316
000090  f8ca0227          STR      r0,[r10,#0x227]       ;2317
000094  f8ca122b          STR      r1,[r10,#0x22b]       ;2317
                  |L6.152|
000098  68e0              LDR      r0,[r4,#0xc]          ;2324  ; thisModeConf
00009a  f8b020f3          LDRH     r2,[r0,#0xf3]         ;2324
00009e  2a00              CMP      r2,#0                 ;2324
0000a0  f000826b          BEQ.W    |L6.1402|
0000a4  eb060145          ADD      r1,r6,r5,LSL #1       ;2326
0000a8  f8b135c7          LDRH     r3,[r1,#0x5c7]        ;2326
0000ac  2b00              CMP      r3,#0                 ;2326
0000ae  f0408264          BNE.W    |L6.1402|
0000b2  f8b137be          LDRH     r3,[r1,#0x7be]        ;2326
0000b6  2b00              CMP      r3,#0                 ;2326
0000b8  bf1c              ITT      NE                    ;2326
0000ba  f8b1c6cc          LDRHNE   r12,[r1,#0x6cc]       ;2326
0000be  f1bc0f00          CMPNE    r12,#0                ;2326
0000c2  d009              BEQ      |L6.216|
0000c4  f8b1c8b0          LDRH     r12,[r1,#0x8b0]       ;2326
0000c8  f1bc0f00          CMP      r12,#0                ;2326
0000cc  bf1c              ITT      NE                    ;2326
0000ce  f890c0f8          LDRBNE   r12,[r0,#0xf8]        ;2326
0000d2  f1bc0f00          CMPNE    r12,#0                ;2326
0000d6  d110              BNE      |L6.250|
                  |L6.216|
0000d8  f8b1c745          LDRH     r12,[r1,#0x745]       ;2327
0000dc  f1bc0f00          CMP      r12,#0                ;2327
0000e0  bf1e              ITTT     NE                    ;2327
0000e2  f8b1c6cc          LDRHNE   r12,[r1,#0x6cc]       ;2327
0000e6  f1bc0f00          CMPNE    r12,#0                ;2327
0000ea  2b00              CMPNE    r3,#0                 ;2327
0000ec  f0008245          BEQ.W    |L6.1402|
0000f0  f89030f8          LDRB     r3,[r0,#0xf8]         ;2327
0000f4  2b00              CMP      r3,#0                 ;2327
0000f6  f0408240          BNE.W    |L6.1402|
                  |L6.250|
0000fa  eb0603c5          ADD      r3,r6,r5,LSL #3       ;2330
0000fe  f8d3a31a          LDR      r10,[r3,#0x31a]       ;2330
000102  f8cda040          STR      r10,[sp,#0x40]        ;2330
000106  f8d3e31e          LDR      lr,[r3,#0x31e]        ;2330
00010a  f8cde01c          STR      lr,[sp,#0x1c]         ;2331
00010e  f8d4c010          LDR      r12,[r4,#0x10]        ;2331  ; thisInfo
000112  f8cdc04c          STR      r12,[sp,#0x4c]        ;2331
000116  f8cdc004          STR      r12,[sp,#4]           ;2331
00011a  f8dccd43          LDR      r12,[r12,#0xd43]      ;2331
00011e  f8cdc008          STR      r12,[sp,#8]           ;2331
000122  44e2              ADD      r10,r10,r12           ;2331
000124  f8d4c008          LDR      r12,[r4,#8]           ;2331  ; thisCommonConf
000128  f8cdc018          STR      r12,[sp,#0x18]        ;2331
00012c  f8dcc000          LDR      r12,[r12,#0]          ;2331
000130  fb0afa0c          MUL      r10,r10,r12           ;2331
000134  f8ddc004          LDR      r12,[sp,#4]           ;2331
000138  f8dcbd4b          LDR      r11,[r12,#0xd4b]      ;2331
00013c  f8ddc008          LDR      r12,[sp,#8]           ;2331
000140  f8cdb010          STR      r11,[sp,#0x10]        ;2331
000144  eb0b0c4c          ADD      r12,r11,r12,LSL #1    ;2331
000148  fb9afbfc          SDIV     r11,r10,r12           ;2331
00014c  f8ddc004          LDR      r12,[sp,#4]           ;2332
000150  f1ab0b05          SUB      r11,r11,#5            ;2332
000154  45c3              CMP      r11,r8                ;2334
000156  f8dcad47          LDR      r10,[r12,#0xd47]      ;2332
00015a  f8ddc018          LDR      r12,[sp,#0x18]        ;2332
00015e  44d6              ADD      lr,lr,r10             ;2332
000160  f8dcc004          LDR      r12,[r12,#4]          ;2332
000164  fb0efe0c          MUL      lr,lr,r12             ;2332
000168  f8ddc004          LDR      r12,[sp,#4]           ;2332
00016c  f8dccd4f          LDR      r12,[r12,#0xd4f]      ;2332
000170  eb0c0a4a          ADD      r10,r12,r10,LSL #1    ;2332
000174  fb9efafa          SDIV     r10,lr,r10            ;2332
000178  d206              BCS      |L6.392|
00017a  f1ba0f05          CMP      r10,#5                ;2334
00017e  db03              BLT      |L6.392|
000180  f6477bfa          MOV      r11,#0x7ffa           ;2334
000184  45da              CMP      r10,r11               ;2334
000186  dd05              BLE      |L6.404|
                  |L6.392|
000188  f890a0f7          LDRB     r10,[r0,#0xf7]        ;2334
00018c  f1ba0f00          CMP      r10,#0                ;2334
000190  f00081f3          BEQ.W    |L6.1402|
                  |L6.404|
000194  f04f0a00          MOV      r10,#0                ;2340
000198  f8cda02c          STR      r10,[sp,#0x2c]        ;2341
00019c  f8cda038          STR      r10,[sp,#0x38]        ;2343
0001a0  f8d3a67c          LDR      r10,[r3,#0x67c]       ;2343
0001a4  f8cda050          STR      r10,[sp,#0x50]        ;2343
0001a8  4592              CMP      r10,r2                ;2343
0001aa  bfb8              IT       LT                    ;2343
0001ac  f04f0a01          MOVLT    r10,#1                ;2343
0001b0  db0a              BLT      |L6.456|
0001b2  f8ddb050          LDR      r11,[sp,#0x50]        ;2344
0001b6  f8dda010          LDR      r10,[sp,#0x10]        ;2344
0001ba  ebaa0a0b          SUB      r10,r10,r11           ;2344
0001be  4552              CMP      r2,r10                ;2344
0001c0  bfc8              IT       GT                    ;2344
0001c2  f04f0a02          MOVGT    r10,#2                ;2344
0001c6  dd01              BLE      |L6.460|
                  |L6.456|
0001c8  f8cda02c          STR      r10,[sp,#0x2c]        ;2344
                  |L6.460|
0001cc  f8d3a680          LDR      r10,[r3,#0x680]       ;2346
0001d0  f8cda03c          STR      r10,[sp,#0x3c]        ;2346
0001d4  4592              CMP      r10,r2                ;2346
0001d6  bfb8              IT       LT                    ;2346
0001d8  2201              MOVLT    r2,#1                 ;2346
0001da  db05              BLT      |L6.488|
0001dc  ebac0c0a          SUB      r12,r12,r10           ;2347
0001e0  4562              CMP      r2,r12                ;2347
0001e2  bfc8              IT       GT                    ;2347
0001e4  2202              MOVGT    r2,#2                 ;2347
0001e6  dd00              BLE      |L6.490|
                  |L6.488|
0001e8  920e              STR      r2,[sp,#0x38]         ;2347
                  |L6.490|
0001ea  f8ddc038          LDR      r12,[sp,#0x38]        ;2349
0001ee  9a0b              LDR      r2,[sp,#0x2c]         ;2349
0001f0  ea52020c          ORRS     r2,r2,r12             ;2349
0001f4  f00081c1          BEQ.W    |L6.1402|
0001f8  9701              STR      r7,[sp,#4]            ;2351
0001fa  9706              STR      r7,[sp,#0x18]         ;2352
0001fc  9702              STR      r7,[sp,#8]            ;2352
0001fe  9a10              LDR      r2,[sp,#0x40]         ;2354
000200  920c              STR      r2,[sp,#0x30]         ;2354
000202  9700              STR      r7,[sp,#0]            ;2351
000204  9a07              LDR      r2,[sp,#0x1c]         ;2354
000206  9704              STR      r7,[sp,#0x10]         ;2352
000208  9705              STR      r7,[sp,#0x14]         ;2352
00020a  9211              STR      r2,[sp,#0x44]         ;2355
00020c  f89020f8          LDRB     r2,[r0,#0xf8]         ;2355
000210  b142              CBZ      r2,|L6.548|
000212  f8d3c40c          LDR      r12,[r3,#0x40c]       ;2357
000216  f8d3e410          LDR      lr,[r3,#0x410]        ;2357
00021a  f8d3a4fe          LDR      r10,[r3,#0x4fe]       ;2358
00021e  f8d3b502          LDR      r11,[r3,#0x502]       ;2358
000222  e007              B        |L6.564|
                  |L6.548|
000224  f8d3c393          LDR      r12,[r3,#0x393]       ;2362
000228  f8d3e397          LDR      lr,[r3,#0x397]        ;2362
00022c  f8d3a40c          LDR      r10,[r3,#0x40c]       ;2363
000230  f8d3b410          LDR      r11,[r3,#0x410]       ;2363
                  |L6.564|
000234  9a11              LDR      r2,[sp,#0x44]         ;2366
000236  eba2020e          SUB      r2,r2,lr              ;2366
00023a  9200              STR      r2,[sp,#0]            ;2367
00023c  9a0c              LDR      r2,[sp,#0x30]         ;2367
00023e  eba2020c          SUB      r2,r2,r12             ;2367
000242  9204              STR      r2,[sp,#0x10]         ;2369
000244  9a11              LDR      r2,[sp,#0x44]         ;2369
000246  eba2020b          SUB      r2,r2,r11             ;2369
00024a  9201              STR      r2,[sp,#4]            ;2370
00024c  9a0c              LDR      r2,[sp,#0x30]         ;2370
00024e  eba2020a          SUB      r2,r2,r10             ;2370
000252  9205              STR      r2,[sp,#0x14]         ;2372
000254  ebae020b          SUB      r2,lr,r11             ;2372
000258  9202              STR      r2,[sp,#8]            ;2373
00025a  ebac020a          SUB      r2,r12,r10            ;2373
00025e  9206              STR      r2,[sp,#0x18]         ;2375
000260  f890c0f5          LDRB     r12,[r0,#0xf5]        ;2375
000264  f8dda010          LDR      r10,[sp,#0x10]        ;2375
000268  f1cc0200          RSB      r2,r12,#0             ;2375
00026c  4592              CMP      r10,r2                ;2375
00026e  bfbf              ITTTT    LT                    ;2375
000270  f8dda014          LDRLT    r10,[sp,#0x14]        ;2375
000274  4592              CMPLT    r10,r2                ;2375
000276  f8dda018          LDRLT    r10,[sp,#0x18]        ;2375
00027a  4592              CMPLT    r10,r2                ;2375
00027c  da04              BGE      |L6.648|
00027e  f8dda02c          LDR      r10,[sp,#0x2c]        ;2375
000282  f1ba0f01          CMP      r10,#1                ;2375
000286  d028              BEQ      |L6.730|
                  |L6.648|
000288  f8dda010          LDR      r10,[sp,#0x10]        ;2376
00028c  45e2              CMP      r10,r12               ;2376
00028e  bfc1              ITTTT    GT                    ;2376
000290  f8dda014          LDRGT    r10,[sp,#0x14]        ;2376
000294  45e2              CMPGT    r10,r12               ;2376
000296  f8dda018          LDRGT    r10,[sp,#0x18]        ;2376
00029a  45e2              CMPGT    r10,r12               ;2376
00029c  dd04              BLE      |L6.680|
00029e  f8dda02c          LDR      r10,[sp,#0x2c]        ;2376
0002a2  f1ba0f02          CMP      r10,#2                ;2376
0002a6  d018              BEQ      |L6.730|
                  |L6.680|
0002a8  f8dda000          LDR      r10,[sp,#0]           ;2377
0002ac  4592              CMP      r10,r2                ;2377
0002ae  bfbf              ITTTT    LT                    ;2377
0002b0  f8dda004          LDRLT    r10,[sp,#4]           ;2377
0002b4  4592              CMPLT    r10,r2                ;2377
0002b6  f8dda008          LDRLT    r10,[sp,#8]           ;2377
0002ba  4592              CMPLT    r10,r2                ;2377
0002bc  da02              BGE      |L6.708|
0002be  9a0e              LDR      r2,[sp,#0x38]         ;2377
0002c0  2a01              CMP      r2,#1                 ;2377
0002c2  d00a              BEQ      |L6.730|
                  |L6.708|
0002c4  9a00              LDR      r2,[sp,#0]            ;2378
0002c6  4562              CMP      r2,r12                ;2378
0002c8  bfc4              ITT      GT                    ;2378
0002ca  9a02              LDRGT    r2,[sp,#8]            ;2378
0002cc  4562              CMPGT    r2,r12                ;2378
0002ce  f3408154          BLE.W    |L6.1402|
0002d2  9a0e              LDR      r2,[sp,#0x38]         ;2378
0002d4  2a02              CMP      r2,#2                 ;2378
0002d6  f0408150          BNE.W    |L6.1402|
                  |L6.730|
0002da  f89020b7          LDRB     r2,[r0,#0xb7]         ;2380
0002de  2a02              CMP      r2,#2                 ;2380
0002e0  f0808151          BCS.W    |L6.1414|
0002e4  f890c0f6          LDRB     r12,[r0,#0xf6]        ;2382
0002e8  9a04              LDR      r2,[sp,#0x10]         ;2382
0002ea  fb92fcfc          SDIV     r12,r2,r12            ;2382
0002ee  9a14              LDR      r2,[sp,#0x50]         ;2382
0002f0  4494              ADD      r12,r12,r2            ;2382
0002f2  f8c3c122          STR      r12,[r3,#0x122]       ;2382
0002f6  f890a0f6          LDRB     r10,[r0,#0xf6]        ;2383
0002fa  9a00              LDR      r2,[sp,#0]            ;2383
0002fc  fb92fafa          SDIV     r10,r2,r10            ;2383
000300  9a0f              LDR      r2,[sp,#0x3c]         ;2383
000302  4492              ADD      r10,r10,r2            ;2383
000304  f8c3a126          STR      r10,[r3,#0x126]       ;2383
000308  f8ddb02c          LDR      r11,[sp,#0x2c]        ;2386
00030c  2200              MOVS     r2,#0                 ;2385
00030e  f1bb0f01          CMP      r11,#1                ;2386
000312  d003              BEQ      |L6.796|
000314  f1bb0f02          CMP      r11,#2                ;2390
000318  d029              BEQ      |L6.878|
00031a  e01e              B        |L6.858|
                  |L6.796|
00031c  f990b0f7          LDRSB    r11,[r0,#0xf7]        ;2386
000320  f1cb0b00          RSB      r11,r11,#0            ;2386
000324  45dc              CMP      r12,r11               ;2386
000326  dd13              BLE      |L6.848|
000328  e9ddcb05          LDRD     r12,r11,[sp,#0x14]    ;2386
00032c  45e3              CMP      r11,r12               ;2388
00032e  bfd8              IT       LE                    ;2388
000330  46dc              MOVLE    r12,r11               ;2388
000332  f8ddb010          LDR      r11,[sp,#0x10]        ;2388
000336  45dc              CMP      r12,r11               ;2388
000338  dc03              BGT      |L6.834|
00033a  e9ddcb05          LDRD     r12,r11,[sp,#0x14]    ;2388
00033e  45e3              CMP      r11,r12               ;2388
000340  dc00              BGT      |L6.836|
                  |L6.834|
000342  46dc              MOV      r12,r11               ;2388
                  |L6.836|
000344  f8ddb050          LDR      r11,[sp,#0x50]        ;2388
000348  eb0c0c0b          ADD.W    r12,r12,r11           ;2388
                  |L6.844|
00034c  f8c3c122          STR      r12,[r3,#0x122]       ;2392
                  |L6.848|
000350  f8ddc038          LDR      r12,[sp,#0x38]        ;2395
000354  f1bc0f00          CMP      r12,#0                ;2395
000358  d024              BEQ      |L6.932|
                  |L6.858|
00035a  f8ddc038          LDR      r12,[sp,#0x38]        ;2405
00035e  f1bc0f01          CMP      r12,#1                ;2405
000362  d07a              BEQ      |L6.1114|
000364  f1bc0f02          CMP      r12,#2                ;2409
000368  d076              BEQ      |L6.1112|
00036a  f000b8fe          B.W      |L6.1386|
                  |L6.878|
00036e  f8ddb04c          LDR      r11,[sp,#0x4c]        ;2390
000372  f990e0f7          LDRSB    lr,[r0,#0xf7]         ;2390
000376  f8dbbd4b          LDR      r11,[r11,#0xd4b]      ;2390
00037a  44f3              ADD      r11,r11,lr            ;2390
00037c  45e3              CMP      r11,r12               ;2390
00037e  dde7              BLE      |L6.848|
000380  e9ddcb05          LDRD     r12,r11,[sp,#0x14]    ;2390
000384  45dc              CMP      r12,r11               ;2392
000386  bfd8              IT       LE                    ;2392
000388  46dc              MOVLE    r12,r11               ;2392
00038a  f8ddb010          LDR      r11,[sp,#0x10]        ;2392
00038e  45dc              CMP      r12,r11               ;2392
000390  bfa4              ITT      GE                    ;2392
000392  e9ddcb05          LDRDGE   r12,r11,[sp,#0x14]    ;2392
000396  45dc              CMPGE    r12,r11               ;2392
000398  bfc8              IT       GT                    ;2392
00039a  46e3              MOVGT    r11,r12               ;2392
00039c  f8ddc050          LDR      r12,[sp,#0x50]        ;2392
0003a0  44dc              ADD      r12,r12,r11           ;2392
0003a2  e7d3              B        |L6.844|
                  |L6.932|
0003a4  e9ddc000          LDRD     r12,r0,[sp,#0]        ;2392
0003a8  f1bc0f00          CMP      r12,#0                ;2397
0003ac  bfb8              IT       LT                    ;2397
0003ae  f1cc0c00          RSBLT    r12,r12,#0            ;2397
0003b2  2800              CMP      r0,#0                 ;2397
0003b4  bfb8              IT       LT                    ;2397
0003b6  4240              RSBLT    r0,r0,#0              ;2397
0003b8  4560              CMP      r0,r12                ;2397
0003ba  dc0c              BGT      |L6.982|
0003bc  f8ddc000          LDR      r12,[sp,#0]           ;2397
0003c0  9802              LDR      r0,[sp,#8]            ;2397
0003c2  f1bc0f00          CMP      r12,#0                ;2397
0003c6  bfb8              IT       LT                    ;2397
0003c8  f1cc0c00          RSBLT    r12,r12,#0            ;2397
0003cc  2800              CMP      r0,#0                 ;2397
0003ce  bfb8              IT       LT                    ;2397
0003d0  4240              RSBLT    r0,r0,#0              ;2397
0003d2  4584              CMP      r12,r0                ;2397
0003d4  da37              BGE      |L6.1094|
                  |L6.982|
0003d6  e9ddc000          LDRD     r12,r0,[sp,#0]        ;2397
0003da  2800              CMP      r0,#0                 ;2398
0003dc  bfb8              IT       LT                    ;2398
0003de  4240              RSBLT    r0,r0,#0              ;2398
0003e0  f1bc0f00          CMP      r12,#0                ;2398
0003e4  bfb8              IT       LT                    ;2398
0003e6  f1cc0c00          RSBLT    r12,r12,#0            ;2398
0003ea  4584              CMP      r12,r0                ;2398
0003ec  dc11              BGT      |L6.1042|
0003ee  e9dd0c01          LDRD     r0,r12,[sp,#4]        ;2398
0003f2  2800              CMP      r0,#0                 ;2398
0003f4  bfb8              IT       LT                    ;2398
0003f6  4240              RSBLT    r0,r0,#0              ;2398
0003f8  f1bc0f00          CMP      r12,#0                ;2398
0003fc  e002              B        |L6.1028|
0003fe  0000              DCW      0x0000
                  |L6.1024|
                          DCD      ||.data||
                  |L6.1028|
000404  bfb8              IT       LT                    ;2398
000406  f1cc0c00          RSBLT    r12,r12,#0            ;2398
00040a  4560              CMP      r0,r12                ;2398
00040c  bfa8              IT       GE                    ;2398
00040e  2201              MOVGE    r2,#1                 ;2398
000410  da19              BGE      |L6.1094|
                  |L6.1042|
000412  9802              LDR      r0,[sp,#8]            ;2399
000414  f8ddc000          LDR      r12,[sp,#0]           ;2399
000418  2800              CMP      r0,#0                 ;2399
00041a  bfb8              IT       LT                    ;2399
00041c  4240              RSBLT    r0,r0,#0              ;2399
00041e  f1bc0f00          CMP      r12,#0                ;2399
000422  bfb8              IT       LT                    ;2399
000424  f1cc0c00          RSBLT    r12,r12,#0            ;2399
000428  4584              CMP      r12,r0                ;2399
00042a  dc0c              BGT      |L6.1094|
00042c  e9ddc001          LDRD     r12,r0,[sp,#4]        ;2399
000430  2800              CMP      r0,#0                 ;2399
000432  bfb8              IT       LT                    ;2399
000434  4240              RSBLT    r0,r0,#0              ;2399
000436  f1bc0f00          CMP      r12,#0                ;2399
00043a  bfb8              IT       LT                    ;2399
00043c  f1cc0c00          RSBLT    r12,r12,#0            ;2399
000440  4560              CMP      r0,r12                ;2399
000442  bfa8              IT       GE                    ;2399
000444  2202              MOVGE    r2,#2                 ;2399
                  |L6.1094|
000446  f85d0022          LDR      r0,[sp,r2,LSL #2]     ;2401
00044a  f8ddc03c          LDR      r12,[sp,#0x3c]        ;2401
00044e  4460              ADD      r0,r0,r12             ;2401
                  |L6.1104|
000450  f8c30126          STR      r0,[r3,#0x126]        ;2401
000454  e089              B        |L6.1386|
000456  e000              B        |L6.1114|
                  |L6.1112|
000458  e013              B        |L6.1154|
                  |L6.1114|
00045a  f99000f7          LDRSB    r0,[r0,#0xf7]         ;2405
00045e  4240              RSBS     r0,r0,#0              ;2405
000460  4582              CMP      r10,r0                ;2405
000462  dd29              BLE      |L6.1208|
000464  e9dd0c01          LDRD     r0,r12,[sp,#4]        ;2405
000468  4584              CMP      r12,r0                ;2407
00046a  bfd8              IT       LE                    ;2407
00046c  4660              MOVLE    r0,r12                ;2407
00046e  f8ddc000          LDR      r12,[sp,#0]           ;2407
000472  4560              CMP      r0,r12                ;2407
000474  dc03              BGT      |L6.1150|
000476  e9dd0c01          LDRD     r0,r12,[sp,#4]        ;2407
00047a  4584              CMP      r12,r0                ;2407
00047c  dc17              BGT      |L6.1198|
                  |L6.1150|
00047e  4660              MOV      r0,r12                ;2407
000480  e015              B        |L6.1198|
                  |L6.1154|
000482  f8ddc04c          LDR      r12,[sp,#0x4c]        ;2409
000486  f99000f7          LDRSB    r0,[r0,#0xf7]         ;2409
00048a  f8dccd4f          LDR      r12,[r12,#0xd4f]      ;2409
00048e  4460              ADD      r0,r0,r12             ;2409
000490  4550              CMP      r0,r10                ;2409
000492  dd11              BLE      |L6.1208|
000494  e9dd0c01          LDRD     r0,r12,[sp,#4]        ;2409
000498  4560              CMP      r0,r12                ;2411
00049a  bfd8              IT       LE                    ;2411
00049c  4660              MOVLE    r0,r12                ;2411
00049e  f8ddc000          LDR      r12,[sp,#0]           ;2411
0004a2  4560              CMP      r0,r12                ;2411
0004a4  dbeb              BLT      |L6.1150|
0004a6  e9dd0c01          LDRD     r0,r12,[sp,#4]        ;2411
0004aa  4584              CMP      r12,r0                ;2411
0004ac  dae7              BGE      |L6.1150|
                  |L6.1198|
0004ae  f8ddc03c          LDR      r12,[sp,#0x3c]        ;2411
0004b2  4460              ADD      r0,r0,r12             ;2411
0004b4  f8c30126          STR      r0,[r3,#0x126]        ;2411
                  |L6.1208|
0004b8  980b              LDR      r0,[sp,#0x2c]         ;2414
0004ba  bbd8              CBNZ     r0,|L6.1332|
0004bc  e9dd0c04          LDRD     r0,r12,[sp,#0x10]     ;2414
0004c0  2800              CMP      r0,#0                 ;2416
0004c2  bfb8              IT       LT                    ;2416
0004c4  4240              RSBLT    r0,r0,#0              ;2416
0004c6  f1bc0f00          CMP      r12,#0                ;2416
0004ca  bfb8              IT       LT                    ;2416
0004cc  f1cc0c00          RSBLT    r12,r12,#0            ;2416
0004d0  4584              CMP      r12,r0                ;2416
0004d2  dc0c              BGT      |L6.1262|
0004d4  9804              LDR      r0,[sp,#0x10]         ;2416
0004d6  f8ddc018          LDR      r12,[sp,#0x18]        ;2416
0004da  2800              CMP      r0,#0                 ;2416
0004dc  bfb8              IT       LT                    ;2416
0004de  4240              RSBLT    r0,r0,#0              ;2416
0004e0  f1bc0f00          CMP      r12,#0                ;2416
0004e4  bfb8              IT       LT                    ;2416
0004e6  f1cc0c00          RSBLT    r12,r12,#0            ;2416
0004ea  4560              CMP      r0,r12                ;2416
0004ec  da35              BGE      |L6.1370|
                  |L6.1262|
0004ee  e9ddc004          LDRD     r12,r0,[sp,#0x10]     ;2416
0004f2  2800              CMP      r0,#0                 ;2417
0004f4  bfb8              IT       LT                    ;2417
0004f6  4240              RSBLT    r0,r0,#0              ;2417
0004f8  f1bc0f00          CMP      r12,#0                ;2417
0004fc  bfb8              IT       LT                    ;2417
0004fe  f1cc0c00          RSBLT    r12,r12,#0            ;2417
000502  4584              CMP      r12,r0                ;2417
000504  dc0d              BGT      |L6.1314|
000506  e9ddc005          LDRD     r12,r0,[sp,#0x14]     ;2417
00050a  f1bc0f00          CMP      r12,#0                ;2417
00050e  bfb8              IT       LT                    ;2417
000510  f1cc0c00          RSBLT    r12,r12,#0            ;2417
000514  2800              CMP      r0,#0                 ;2417
000516  bfb8              IT       LT                    ;2417
000518  4240              RSBLT    r0,r0,#0              ;2417
00051a  4584              CMP      r12,r0                ;2417
00051c  bfa8              IT       GE                    ;2417
00051e  2201              MOVGE    r2,#1                 ;2417
000520  da1b              BGE      |L6.1370|
                  |L6.1314|
000522  9806              LDR      r0,[sp,#0x18]         ;2418
000524  f8ddc010          LDR      r12,[sp,#0x10]        ;2418
000528  2800              CMP      r0,#0                 ;2418
00052a  bfb8              IT       LT                    ;2418
00052c  4240              RSBLT    r0,r0,#0              ;2418
00052e  f1bc0f00          CMP      r12,#0                ;2418
000532  e000              B        |L6.1334|
                  |L6.1332|
000534  e019              B        |L6.1386|
                  |L6.1334|
000536  bfb8              IT       LT                    ;2418
000538  f1cc0c00          RSBLT    r12,r12,#0            ;2418
00053c  4584              CMP      r12,r0                ;2418
00053e  dc0c              BGT      |L6.1370|
000540  e9ddc005          LDRD     r12,r0,[sp,#0x14]     ;2418
000544  2800              CMP      r0,#0                 ;2418
000546  bfb8              IT       LT                    ;2418
000548  4240              RSBLT    r0,r0,#0              ;2418
00054a  f1bc0f00          CMP      r12,#0                ;2418
00054e  bfb8              IT       LT                    ;2418
000550  f1cc0c00          RSBLT    r12,r12,#0            ;2418
000554  4560              CMP      r0,r12                ;2418
000556  bfa8              IT       GE                    ;2418
000558  2202              MOVGE    r2,#2                 ;2418
                  |L6.1370|
00055a  f10d0c10          ADD      r12,sp,#0x10          ;2420
00055e  9814              LDR      r0,[sp,#0x50]         ;2420
000560  f85c2022          LDR      r2,[r12,r2,LSL #2]    ;2420
000564  4410              ADD      r0,r0,r2              ;2420
000566  f8c30122          STR      r0,[r3,#0x122]        ;2420
                  |L6.1386|
00056a  f8b106cc          LDRH     r0,[r1,#0x6cc]        ;2428
00056e  f8a10172          STRH     r0,[r1,#0x172]        ;2428
000572  f8b106e0          LDRH     r0,[r1,#0x6e0]        ;2429
000576  f8a10186          STRH     r0,[r1,#0x186]        ;2429
                  |L6.1402|
00057a  1e6d              SUBS     r5,r5,#1              ;2429
00057c  f4bfad4d          BCS      |L6.26|
000580  b019              ADD      sp,sp,#0x64
000582  e8bd8ff0          POP      {r4-r11,pc}
                  |L6.1414|
000586  9810              LDR      r0,[sp,#0x40]         ;2425
000588  f8d3240c          LDR      r2,[r3,#0x40c]        ;2425
00058c  1a82              SUBS     r2,r0,r2              ;2425
00058e  4410              ADD      r0,r0,r2              ;2425
000590  f8c30122          STR      r0,[r3,#0x122]        ;2425
000594  9807              LDR      r0,[sp,#0x1c]         ;2426
000596  f8d32410          LDR      r2,[r3,#0x410]        ;2426
00059a  1a82              SUBS     r2,r0,r2              ;2426
00059c  4410              ADD      r0,r0,r2              ;2426
00059e  e757              B        |L6.1104|
;;;2438   
                          ENDP


                          AREA ||i.algorithm_coord_UpdatePosHistoryInfo||, CODE, READONLY, ALIGN=2

                  algorithm_coord_UpdatePosHistoryInfo PROC
;;;2571   
;;;2572   void algorithm_coord_UpdatePosHistoryInfo(void)
000000  487e              LDR      r0,|L7.508|
;;;2573   {
000002  b410              PUSH     {r4}
;;;2574   	int i;
;;;2575   
;;;2576   	tCoordInfo_t 	*temp_coord;
;;;2577   
;;;2578   	temp_coord = &thisInfo->tCoord;
000004  6900              LDR      r0,[r0,#0x10]  ; thisInfo
000006  f5007157          ADD      r1,r0,#0x35c
;;;2579   	
;;;2580   	if(temp_coord->bInterpolation_On)
00000a  f8900e35          LDRB     r0,[r0,#0xe35]
00000e  b178              CBZ      r0,|L7.48|
;;;2581   	{
;;;2582   		temp_coord->tPastPos[4].sFinger_ 	    = temp_coord->tPastPos[3].sFinger_;
000010  f8910484          LDRB     r0,[r1,#0x484]
000014  f88104fd          STRB     r0,[r1,#0x4fd]
;;;2583   		temp_coord->tPastPos[3].sFinger_ 	    = temp_coord->tPastPos[2].sFinger_;
000018  f891040b          LDRB     r0,[r1,#0x40b]
00001c  f8810484          STRB     r0,[r1,#0x484]
;;;2584   		
;;;2585   		temp_coord->tOrgPastPos[4].sFinger_ 	= temp_coord->tOrgPastPos[3].sFinger_;
000020  f89107e6          LDRB     r0,[r1,#0x7e6]
000024  f881085f          STRB     r0,[r1,#0x85f]
;;;2586   		temp_coord->tOrgPastPos[3].sFinger_ 	= temp_coord->tOrgPastPos[2].sFinger_;
000028  f891076d          LDRB     r0,[r1,#0x76d]
00002c  f88107e6          STRB     r0,[r1,#0x7e6]
                  |L7.48|
;;;2587   	}
;;;2588   
;;;2589   	temp_coord->tPastPos[2].sFinger_ 	    = temp_coord->tPastPos[1].sFinger_;
000030  f8910392          LDRB     r0,[r1,#0x392]
000034  f881040b          STRB     r0,[r1,#0x40b]
;;;2590   	temp_coord->tPastPos[1].sFinger_ 	    = temp_coord->tPastPos[0].sFinger_;
000038  f8910319          LDRB     r0,[r1,#0x319]
00003c  f8810392          STRB     r0,[r1,#0x392]
;;;2591   	temp_coord->tPastPos[0].sFinger_ 	    = temp_coord->tPos.sFinger_;
000040  f8910121          LDRB     r0,[r1,#0x121]
000044  f8810319          STRB     r0,[r1,#0x319]
;;;2592   
;;;2593   	temp_coord->tOrgPastPos[2].sFinger_ 	= temp_coord->tOrgPastPos[1].sFinger_;
000048  f89106f4          LDRB     r0,[r1,#0x6f4]
00004c  f881076d          STRB     r0,[r1,#0x76d]
;;;2594   	temp_coord->tOrgPastPos[1].sFinger_ 	= temp_coord->tOrgPastPos[0].sFinger_;
000050  f891067b          LDRB     r0,[r1,#0x67b]
000054  f88106f4          STRB     r0,[r1,#0x6f4]
;;;2595   	temp_coord->tOrgPastPos[0].sFinger_ 	= temp_coord->tOrgPos.sFinger_;
000058  f8910576          LDRB     r0,[r1,#0x576]
00005c  f881067b          STRB     r0,[r1,#0x67b]
;;;2596   
;;;2597   	for( i=MAX_TOUCH_; i--; )
;;;2598   	{
;;;2599   		if(temp_coord->bInterpolation_On)
;;;2600   		{
;;;2601   			temp_coord->tPastPos[4].tXY[i]         = temp_coord->tPastPos[3].tXY[i];
;;;2602   			temp_coord->tPastPos[4].vusR[i]        = temp_coord->tPastPos[3].vusR[i];
;;;2603   			temp_coord->tPastPos[4].vusS[i]        = temp_coord->tPastPos[3].vusS[i];
;;;2604   			
;;;2605   			temp_coord->tPastPos[3].tXY[i]         = temp_coord->tPastPos[2].tXY[i];
;;;2606   			temp_coord->tPastPos[3].vusR[i]        = temp_coord->tPastPos[2].vusR[i];
;;;2607   			temp_coord->tPastPos[3].vusS[i]        = temp_coord->tPastPos[2].vusS[i];
;;;2608   			
;;;2609   			temp_coord->tOrgPastPos[4].tXY[i]      = temp_coord->tOrgPastPos[3].tXY[i];
;;;2610   			temp_coord->tOrgPastPos[4].vusR[i]     = temp_coord->tOrgPastPos[3].vusR[i];
;;;2611   			temp_coord->tOrgPastPos[4].vusS[i]     = temp_coord->tOrgPastPos[3].vusS[i];
;;;2612   			
;;;2613   			temp_coord->tOrgPastPos[3].tXY[i]      = temp_coord->tOrgPastPos[2].tXY[i];
;;;2614   			temp_coord->tOrgPastPos[3].vusR[i]     = temp_coord->tOrgPastPos[2].vusR[i];
;;;2615   			temp_coord->tOrgPastPos[3].vusS[i]     = temp_coord->tOrgPastPos[2].vusS[i];
;;;2616   		}
;;;2617   		temp_coord->tPastPos[2].tXY[i]         = temp_coord->tPastPos[1].tXY[i];
;;;2618   		temp_coord->tPastPos[2].vusR[i]        = temp_coord->tPastPos[1].vusR[i];
;;;2619   		temp_coord->tPastPos[2].vusS[i]        = temp_coord->tPastPos[1].vusS[i];
;;;2620   		
;;;2621   		temp_coord->tPastPos[1].tXY[i]         = temp_coord->tPastPos[0].tXY[i];
;;;2622   		temp_coord->tPastPos[1].vusR[i]        = temp_coord->tPastPos[0].vusR[i];
;;;2623   		temp_coord->tPastPos[1].vusS[i]        = temp_coord->tPastPos[0].vusS[i];
;;;2624   
;;;2625   		if(temp_coord->ucPostProcessRun[i] == 1)
;;;2626   		{
;;;2627   			temp_coord->tPastPos[0].tXY[i] 	    = temp_coord->tFirstPos.tXY[i];
;;;2628   			temp_coord->tPastPos[0].vusR[i] 	    = temp_coord->tPos.vusR[i];
;;;2629   			temp_coord->tPastPos[0].vusS[i] 	    = temp_coord->tPos.vusS[i];
;;;2630   		}
;;;2631   		else
;;;2632   		{
;;;2633   			temp_coord->tPastPos[0].tXY[i] 	    = temp_coord->tPos.tXY[i];
;;;2634   			temp_coord->tPastPos[0].vusR[i] 	    = temp_coord->tPos.vusR[i];
;;;2635   			temp_coord->tPastPos[0].vusS[i] 	    = temp_coord->tPos.vusS[i];
;;;2636   		}
;;;2637   		
;;;2638   		temp_coord->tOrgPastPos[2].tXY[i]      = temp_coord->tOrgPastPos[1].tXY[i];
;;;2639   		temp_coord->tOrgPastPos[2].vusR[i]     = temp_coord->tOrgPastPos[1].vusR[i];
;;;2640   		temp_coord->tOrgPastPos[2].vusS[i]     = temp_coord->tOrgPastPos[1].vusS[i];
;;;2641   
;;;2642   		temp_coord->tOrgPastPos[1].tXY[i]      = temp_coord->tOrgPastPos[0].tXY[i];
;;;2643   		temp_coord->tOrgPastPos[1].vusR[i]     = temp_coord->tOrgPastPos[0].vusR[i];
;;;2644   		temp_coord->tOrgPastPos[1].vusS[i]     = temp_coord->tOrgPastPos[0].vusS[i];
;;;2645   
;;;2646   		temp_coord->tOrgPastPos[0].tXY[i] 	    = temp_coord->tOrgPos.tXY[i];
;;;2647   		temp_coord->tOrgPastPos[0].vusR[i] 	= temp_coord->tOrgPos.vusR[i];
;;;2648   		temp_coord->tOrgPastPos[0].vusS[i] 	= temp_coord->tOrgPos.vusS[i];
;;;2649   	}
;;;2650   }
000060  f05f0309          MOVS.W   r3,#9
                  |L7.100|
000064  f8910ad9          LDRB     r0,[r1,#0xad9]        ;2599
000068  2800              CMP      r0,#0                 ;2599
00006a  d045              BEQ      |L7.248|
00006c  eb010cc3          ADD      r12,r1,r3,LSL #3      ;2601
000070  f50c6280          ADD      r2,r12,#0x400         ;2601
000074  f8dc0485          LDR      r0,[r12,#0x485]       ;2601
000078  f8cc04fe          STR      r0,[r12,#0x4fe]       ;2601
00007c  f8dc0489          LDR      r0,[r12,#0x489]       ;2601
000080  f8cc0502          STR      r0,[r12,#0x502]       ;2601
000084  eb010043          ADD      r0,r1,r3,LSL #1       ;2602
000088  f8b044e9          LDRH     r4,[r0,#0x4e9]        ;2602
00008c  f8a04562          STRH     r4,[r0,#0x562]        ;2602
000090  f8b044d5          LDRH     r4,[r0,#0x4d5]        ;2603
000094  f8a0454e          STRH     r4,[r0,#0x54e]        ;2603
000098  f8dc440c          LDR      r4,[r12,#0x40c]       ;2605
00009c  f8cc4485          STR      r4,[r12,#0x485]       ;2605
0000a0  f8dc4410          LDR      r4,[r12,#0x410]       ;2605
0000a4  f8cc4489          STR      r4,[r12,#0x489]       ;2605
0000a8  f8b04470          LDRH     r4,[r0,#0x470]        ;2606
0000ac  f8a044e9          STRH     r4,[r0,#0x4e9]        ;2606
0000b0  f8b0445c          LDRH     r4,[r0,#0x45c]        ;2607
0000b4  f8a044d5          STRH     r4,[r0,#0x4d5]        ;2607
0000b8  f8d243e7          LDR      r4,[r2,#0x3e7]        ;2609
0000bc  f8cc4860          STR      r4,[r12,#0x860]       ;2609
0000c0  f8d243eb          LDR      r4,[r2,#0x3eb]        ;2609
0000c4  f8cc4864          STR      r4,[r12,#0x864]       ;2609
0000c8  f8b0c84b          LDRH     r12,[r0,#0x84b]       ;2610
0000cc  f8a0c8c4          STRH     r12,[r0,#0x8c4]       ;2610
0000d0  f8b0c837          LDRH     r12,[r0,#0x837]       ;2611
0000d4  f8a0c8b0          STRH     r12,[r0,#0x8b0]       ;2611
0000d8  f8d2c36e          LDR      r12,[r2,#0x36e]       ;2613
0000dc  f8c2c3e7          STR      r12,[r2,#0x3e7]       ;2613
0000e0  f8d2c372          LDR      r12,[r2,#0x372]       ;2613
0000e4  f8c2c3eb          STR      r12,[r2,#0x3eb]       ;2613
0000e8  f8b027d2          LDRH     r2,[r0,#0x7d2]        ;2614
0000ec  f8a0284b          STRH     r2,[r0,#0x84b]        ;2614
0000f0  f8b027be          LDRH     r2,[r0,#0x7be]        ;2615
0000f4  f8a02837          STRH     r2,[r0,#0x837]        ;2615
                  |L7.248|
0000f8  eb0102c3          ADD      r2,r1,r3,LSL #3       ;2617
0000fc  f5026c80          ADD      r12,r2,#0x400         ;2617
000100  f8d20393          LDR      r0,[r2,#0x393]        ;2617
000104  f8c2040c          STR      r0,[r2,#0x40c]        ;2617
000108  f8d20397          LDR      r0,[r2,#0x397]        ;2617
00010c  f8c20410          STR      r0,[r2,#0x410]        ;2617
000110  eb010043          ADD      r0,r1,r3,LSL #1       ;2618
000114  f8b043f7          LDRH     r4,[r0,#0x3f7]        ;2618
000118  f8a04470          STRH     r4,[r0,#0x470]        ;2618
00011c  f8b043e3          LDRH     r4,[r0,#0x3e3]        ;2619
000120  f8a0445c          STRH     r4,[r0,#0x45c]        ;2619
000124  f8d2431a          LDR      r4,[r2,#0x31a]        ;2621
000128  f8c24393          STR      r4,[r2,#0x393]        ;2621
00012c  f8d2431e          LDR      r4,[r2,#0x31e]        ;2621
000130  f8c24397          STR      r4,[r2,#0x397]        ;2621
000134  f8b0437e          LDRH     r4,[r0,#0x37e]        ;2622
000138  f8a043f7          STRH     r4,[r0,#0x3f7]        ;2622
00013c  f8b0436a          LDRH     r4,[r0,#0x36a]        ;2623
000140  f8a043e3          STRH     r4,[r0,#0x3e3]        ;2623
000144  18cc              ADDS     r4,r1,r3              ;2625
000146  f894499b          LDRB     r4,[r4,#0x99b]        ;2625
00014a  2c01              CMP      r4,#1                 ;2625
00014c  d045              BEQ      |L7.474|
00014e  f8d24122          LDR      r4,[r2,#0x122]        ;2633
000152  f8c2431a          STR      r4,[r2,#0x31a]        ;2633
000156  f8d24126          LDR      r4,[r2,#0x126]        ;2633
00015a  f8c2431e          STR      r4,[r2,#0x31e]        ;2633
00015e  f8b04186          LDRH     r4,[r0,#0x186]        ;2634
000162  f8a0437e          STRH     r4,[r0,#0x37e]        ;2634
000166  f8b04172          LDRH     r4,[r0,#0x172]        ;2635
00016a  f8a0436a          STRH     r4,[r0,#0x36a]        ;2635
00016e  bf00              NOP                            ;2638
                  |L7.368|
000170  f8dc42f5          LDR      r4,[r12,#0x2f5]       ;2638
000174  f8c2476e          STR      r4,[r2,#0x76e]        ;2638
000178  f8dc42f9          LDR      r4,[r12,#0x2f9]       ;2638
00017c  f8c24772          STR      r4,[r2,#0x772]        ;2638
000180  f8b02759          LDRH     r2,[r0,#0x759]        ;2639
000184  f8a027d2          STRH     r2,[r0,#0x7d2]        ;2639
000188  f8b02745          LDRH     r2,[r0,#0x745]        ;2640
00018c  f8a027be          STRH     r2,[r0,#0x7be]        ;2640
000190  f8dc227c          LDR      r2,[r12,#0x27c]       ;2642
000194  f8cc22f5          STR      r2,[r12,#0x2f5]       ;2642
000198  f8dc2280          LDR      r2,[r12,#0x280]       ;2642
00019c  f8cc22f9          STR      r2,[r12,#0x2f9]       ;2642
0001a0  f8b026e0          LDRH     r2,[r0,#0x6e0]        ;2643
0001a4  f8a02759          STRH     r2,[r0,#0x759]        ;2643
0001a8  f8b026cc          LDRH     r2,[r0,#0x6cc]        ;2644
0001ac  f8a02745          STRH     r2,[r0,#0x745]        ;2644
0001b0  f8dc2177          LDR      r2,[r12,#0x177]       ;2646
0001b4  f8cc227c          STR      r2,[r12,#0x27c]       ;2646
0001b8  f8dc217b          LDR      r2,[r12,#0x17b]       ;2646
0001bc  f8cc2280          STR      r2,[r12,#0x280]       ;2646
0001c0  f8b025db          LDRH     r2,[r0,#0x5db]        ;2647
0001c4  f8a026e0          STRH     r2,[r0,#0x6e0]        ;2647
0001c8  f8b025c7          LDRH     r2,[r0,#0x5c7]        ;2648
0001cc  f8a026cc          STRH     r2,[r0,#0x6cc]        ;2648
0001d0  1e5b              SUBS     r3,r3,#1              ;2648
0001d2  f4bfaf47          BCS      |L7.100|
0001d6  bc10              POP      {r4}
0001d8  4770              BX       lr
                  |L7.474|
0001da  f8d24227          LDR      r4,[r2,#0x227]        ;2627
0001de  f8c2431a          STR      r4,[r2,#0x31a]        ;2627
0001e2  f8d2422b          LDR      r4,[r2,#0x22b]        ;2627
0001e6  f8c2431e          STR      r4,[r2,#0x31e]        ;2627
0001ea  f8b04186          LDRH     r4,[r0,#0x186]        ;2628
0001ee  f8a0437e          STRH     r4,[r0,#0x37e]        ;2628
0001f2  f8b04172          LDRH     r4,[r0,#0x172]        ;2629
0001f6  f8a0436a          STRH     r4,[r0,#0x36a]        ;2629
0001fa  e7b9              B        |L7.368|
;;;2651   
                          ENDP

                  |L7.508|
                          DCD      ||.data||

                          AREA ||i.algorithm_coord_calc_comp_distance||, CODE, READONLY, ALIGN=1

                  algorithm_coord_calc_comp_distance PROC
;;;2662   
;;;2663   int32_t algorithm_coord_calc_comp_distance(tXY_t pos1, tXY_t pos2, tXY_t comp)
000000  b430              PUSH     {r4,r5}
;;;2664   {
;;;2665   	int32_t dist;
;;;2666   
;;;2667   	dist = (pos1.x - pos2.x - comp.x)*(pos1.x - pos2.x - comp.x) + (pos1.y - pos2.y - comp.y)*(pos1.y - pos2.y - comp.y);
000002  1a80              SUBS     r0,r0,r2
000004  e9dd4c02          LDRD     r4,r12,[sp,#8]        ;2664
000008  1b00              SUBS     r0,r0,r4
00000a  fb00f200          MUL      r2,r0,r0
00000e  1ac8              SUBS     r0,r1,r3
000010  eba0000c          SUB      r0,r0,r12
000014  fb002000          MLA      r0,r0,r0,r2
;;;2668   
;;;2669       dist = algorithm_calc_sqrt(dist);
000018  bc30              POP      {r4,r5}
00001a  f7ffbffe          B.W      algorithm_calc_sqrt
;;;2670   
;;;2671   	return dist;
;;;2672   }
;;;2673   
                          ENDP


                          AREA ||i.algorithm_coord_calc_distance||, CODE, READONLY, ALIGN=1

                  algorithm_coord_calc_distance PROC
;;;2651   
;;;2652   int32_t algorithm_coord_calc_distance(tXY_t pos1, tXY_t pos2)
000000  1a80              SUBS     r0,r0,r2
;;;2653   {
;;;2654   	int32_t dist;
;;;2655   
;;;2656   	dist = (pos1.x - pos2.x)*(pos1.x - pos2.x) + (pos1.y - pos2.y)*(pos1.y - pos2.y);
000002  fb00f200          MUL      r2,r0,r0
000006  1ac8              SUBS     r0,r1,r3
000008  fb002000          MLA      r0,r0,r0,r2
;;;2657   
;;;2658       dist = algorithm_calc_sqrt(dist);
00000c  f7ffbffe          B.W      algorithm_calc_sqrt
;;;2659   
;;;2660   	return dist;
;;;2661   }
;;;2662   
                          ENDP


                          AREA ||i.algorithm_coord_calc_pos||, CODE, READONLY, ALIGN=2

                  algorithm_coord_calc_pos PROC
;;;225    uint8_t gReleaseCnt[POSBUF_] = {0,};
;;;226    void algorithm_coord_calc_pos(int mode)
000000  e92d4ff0          PUSH     {r4-r11,lr}
;;;227    {
;;;228    	int l,pl;
;;;229    	int r,c;
;;;230    
;;;231    	tLabelInfo_t	*temp_label;
;;;232    	tCoordInfo_t 	*temp_coord;
;;;233    
;;;234    	{
;;;235    		temp_coord = &thisInfo->tCoord;
000004  f8df94fc          LDR      r9,|L10.1284|
000008  b085              SUB      sp,sp,#0x14           ;227
00000a  f8d93010          LDR      r3,[r9,#0x10]  ; thisInfo
00000e  f5037457          ADD      r4,r3,#0x35c
;;;236    		temp_label = &thisInfo->tLabel;
;;;237    	}
;;;238    
;;;239    	for(l=temp_label->ucNum;l--;)
000012  f8930039          LDRB     r0,[r3,#0x39]
000016  f1030539          ADD      r5,r3,#0x39           ;236
00001a  f1b00c01          SUBS     r12,r0,#1
;;;240    	{
;;;241    		if( temp_label->tTable[l].ulStrength )
;;;242    		{
;;;243    			temp_coord->tTempPos.tXY[temp_coord->tTempPos.sFinger_].x  = (temp_label->tTable[l].tCoord.x << POS_BOOST_SHIFT_)/(signed)temp_label->tTable[l].ulExtStrength;
;;;244    			temp_coord->tTempPos.tXY[temp_coord->tTempPos.sFinger_].y  = (temp_label->tTable[l].tCoord.y << POS_BOOST_SHIFT_)/(signed)temp_label->tTable[l].ulExtStrength;
;;;245    		
;;;246    			//MaxDelta Compensation
;;;247    			{
;;;248    				int16_t coef_x=0,coef_y=0;
;;;249    				
;;;250    				coef_x = (temp_coord->tTempPos.tXY[temp_coord->tTempPos.sFinger_].x%UNIT_DIST);
;;;251    				coef_y = (temp_coord->tTempPos.tXY[temp_coord->tTempPos.sFinger_].y%UNIT_DIST);
;;;252    				if(coef_x > (UNIT_DIST>>1) )
;;;253    					coef_x = UNIT_DIST - coef_x;
;;;254    				if(coef_y > (UNIT_DIST>>1) )
;;;255    					coef_y = UNIT_DIST - coef_y;
;;;256    				
;;;257    				temp_coord->RealMaxDelta[temp_coord->tTempPos.sFinger_] = (uint16_t)(temp_label->tTable[l].sMaxCellVal 
;;;258    																			+ (((int)(temp_label->tTable[l].sMaxCellVal) * (coef_x+coef_y) )>>(POS_BOOST_SHIFT_+3)) );
;;;259    			}
;;;260    			
;;;261    			temp_coord->tTempPos.vusR[temp_coord->tTempPos.sFinger_]   = temp_label->tTable[l].usCellNum;
;;;262    			temp_coord->tTempPos.vusS[temp_coord->tTempPos.sFinger_]   = temp_label->tTable[l].ulStrength;
;;;263    			temp_coord->tTempPos.rect[temp_coord->tTempPos.sFinger_]   = temp_label->tTable[l].tRect;
;;;264    			temp_coord->tTempPos.MaxDelta[temp_coord->tTempPos.sFinger_] = temp_label->tTable[l].sMaxCellVal;
;;;265    
;;;266    			temp_coord->cRemap[temp_coord->tTempPos.sFinger_] = temp_coord->tTempPos.sFinger_;
00001e  bf28              IT       CS
000020  f60418a5          ADDCS    r8,r4,#0x9a5
000024  d366              BCC      |L10.244|
000026  bf00              NOP                            ;241
                  |L10.40|
000028  ebcc00cc          RSB      r0,r12,r12,LSL #3     ;241
00002c  eb00104c          ADD      r0,r0,r12,LSL #5      ;241
000030  4428              ADD      r0,r0,r5              ;241
000032  6941              LDR      r1,[r0,#0x14]         ;241
000034  2900              CMP      r1,#0                 ;241
000036  d05a              BEQ      |L10.238|
000038  68c1              LDR      r1,[r0,#0xc]          ;243
00003a  6982              LDR      r2,[r0,#0x18]         ;243
00003c  0209              LSLS     r1,r1,#8              ;243
00003e  fb91f2f2          SDIV     r2,r1,r2              ;243
000042  7821              LDRB     r1,[r4,#0]            ;243
000044  eb0401c1          ADD      r1,r4,r1,LSL #3       ;243
000048  f8c12001          STR      r2,[r1,#1]            ;243
00004c  6901              LDR      r1,[r0,#0x10]         ;244
00004e  020a              LSLS     r2,r1,#8              ;244
000050  6981              LDR      r1,[r0,#0x18]         ;244
000052  fb92f6f1          SDIV     r6,r2,r1              ;244
000056  7821              LDRB     r1,[r4,#0]            ;244
000058  eb0401c1          ADD      r1,r4,r1,LSL #3       ;244
00005c  f8c16005          STR      r6,[r1,#5]            ;244
000060  7827              LDRB     r7,[r4,#0]            ;250
000062  eb0401c7          ADD      r1,r4,r7,LSL #3       ;250
000066  f8d11001          LDR      r1,[r1,#1]            ;250
00006a  17ca              ASRS     r2,r1,#31             ;250
00006c  eb016212          ADD      r2,r1,r2,LSR #24      ;250
000070  f02202ff          BIC      r2,r2,#0xff           ;250
000074  1a89              SUBS     r1,r1,r2              ;250
000076  b20a              SXTH     r2,r1                 ;250
000078  17f1              ASRS     r1,r6,#31             ;251
00007a  eb066111          ADD      r1,r6,r1,LSR #24      ;251
00007e  f02101ff          BIC      r1,r1,#0xff           ;251
000082  1a71              SUBS     r1,r6,r1              ;251
000084  b209              SXTH     r1,r1                 ;251
000086  2a80              CMP      r2,#0x80              ;252
000088  bfc4              ITT      GT                    ;253
00008a  f5c27280          RSBGT    r2,r2,#0x100          ;253
00008e  b212              SXTHGT   r2,r2                 ;253
000090  2980              CMP      r1,#0x80              ;254
000092  bfc4              ITT      GT                    ;255
000094  f5c17180          RSBGT    r1,r1,#0x100          ;255
000098  b209              SXTHGT   r1,r1                 ;255
00009a  f9b06008          LDRSH    r6,[r0,#8]            ;257
00009e  4411              ADD      r1,r1,r2              ;257
0000a0  4371              MULS     r1,r6,r1              ;257
0000a2  eb040247          ADD      r2,r4,r7,LSL #1       ;257
0000a6  eb0621e1          ADD      r1,r6,r1,ASR #11      ;257
0000aa  f8a21a7f          STRH     r1,[r2,#0xa7f]        ;257
0000ae  7822              LDRB     r2,[r4,#0]            ;261
0000b0  88c1              LDRH     r1,[r0,#6]            ;261
0000b2  eb040242          ADD      r2,r4,r2,LSL #1       ;261
0000b6  f8a210a1          STRH     r1,[r2,#0xa1]         ;261
0000ba  7822              LDRB     r2,[r4,#0]            ;262
0000bc  8a81              LDRH     r1,[r0,#0x14]         ;262
0000be  eb040242          ADD      r2,r4,r2,LSL #1       ;262
0000c2  f8a21081          STRH     r1,[r2,#0x81]         ;262
0000c6  7821              LDRB     r1,[r4,#0]            ;263
0000c8  eb040281          ADD      r2,r4,r1,LSL #2       ;263
0000cc  f8d01002          LDR      r1,[r0,#2]            ;263
0000d0  f8c210c1          STR      r1,[r2,#0xc1]         ;263
0000d4  7821              LDRB     r1,[r4,#0]            ;264
0000d6  8900              LDRH     r0,[r0,#8]            ;264
0000d8  eb040141          ADD      r1,r4,r1,LSL #1       ;264
0000dc  f8a10101          STRH     r0,[r1,#0x101]        ;264
0000e0  7820              LDRB     r0,[r4,#0]
0000e2  b2c1              UXTB     r1,r0
0000e4  f8010008          STRB     r0,[r1,r8]
;;;267    
;;;268    			temp_coord->tTempPos.sFinger_++;
0000e8  7820              LDRB     r0,[r4,#0]
0000ea  1c40              ADDS     r0,r0,#1
0000ec  7020              STRB     r0,[r4,#0]
                  |L10.238|
0000ee  f1bc0c01          SUBS     r12,r12,#1
0000f2  d299              BCS      |L10.40|
                  |L10.244|
;;;269    		}
;;;270    	}
;;;271    	
;;;272    	if(thisModeConf->Palm.ucPalmDrawingOn && thisInfo->bIsPalm){
0000f4  f8d9200c          LDR      r2,[r9,#0xc]  ; thisModeConf
0000f8  f8920208          LDRB     r0,[r2,#0x208]
0000fc  2800              CMP      r0,#0
0000fe  bf1c              ITT      NE
000100  f8930fb2          LDRBNE   r0,[r3,#0xfb2]
000104  2800              CMPNE    r0,#0
000106  d07c              BEQ      |L10.514|
;;;273    		for(pl=0;pl<PalmRegionNum;pl++)
000108  f04f0000          MOV      r0,#0
00010c  9000              STR      r0,[sp,#0]
00010e  48fe              LDR      r0,|L10.1288|
000110  7801              LDRB     r1,[r0,#0]  ; PalmRegionNum
000112  2900              CMP      r1,#0
000114  bfc7              ITTEE    GT                    ;266
000116  f60410a5          ADDGT    r0,r4,#0x9a5          ;266
00011a  e9cd0303          STRDGT   r0,r3,[sp,#0xc]       ;266
;;;274    		{
;;;275    			if(PalmRectEnable[pl])
;;;276    			{
;;;277    				int X=0,Y=0,delta = 0, MaxDelta = 0;
;;;278    				int32_t StrengthSum = 0;
;;;279    				for(r=PalmRect[pl].rs;r<=PalmRect[pl].re;r++)
;;;280    				for(c=PalmRect[pl].cs;c<=PalmRect[pl].ce;c++)
;;;281    				{
;;;282    					delta = (HAL_READ_DELTA_IMAGE(r,c)>>3);
;;;283    					if(delta > 1)
;;;284    					{
;;;285    						X += delta * c;
;;;286    						Y += delta * r;
;;;287    						StrengthSum += delta;
;;;288    						if(MaxDelta < delta)	MaxDelta = delta;
;;;289    					}
;;;290    				}
;;;291    				X = (X << POS_BOOST_SHIFT_)/StrengthSum;
;;;292    				Y = (Y << POS_BOOST_SHIFT_)/StrengthSum;
;;;293    		
;;;294    				temp_coord->tTempPos.tXY[temp_coord->tTempPos.sFinger_].x = X;//((X + (((PalmRect[pl].cs + PalmRect[pl].ce)<<POS_BOOST_SHIFT_)>>1))>>1);
;;;295    				temp_coord->tTempPos.tXY[temp_coord->tTempPos.sFinger_].y = Y;//((Y + (((PalmRect[pl].rs + PalmRect[pl].re)<<POS_BOOST_SHIFT_)>>1))>>1);
;;;296    				
;;;297    				temp_coord->tTempPos.vusR[temp_coord->tTempPos.sFinger_]   = thisInfo->tDelta.iPosCnt;
;;;298    				temp_coord->tTempPos.vusS[temp_coord->tTempPos.sFinger_]   = StrengthSum;//thisInfo->tDelta.iPosSum;
;;;299    				temp_coord->tTempPos.rect[temp_coord->tTempPos.sFinger_]   = PalmRect[pl];
;;;300    				temp_coord->tTempPos.MaxDelta[temp_coord->tTempPos.sFinger_] = MaxDelta;//thisInfo->tDelta.iMaxStrength;
;;;301    				
;;;302    				//TEST_CODE
;;;303    //				HAL_WRITE_DELTA_IMAGE(0,temp_coord->tTempPos.sFinger_,temp_coord->tTempPos.rect[temp_coord->tTempPos.sFinger_].cs);
;;;304    //				HAL_WRITE_DELTA_IMAGE(1,temp_coord->tTempPos.sFinger_,temp_coord->tTempPos.rect[temp_coord->tTempPos.sFinger_].ce);
;;;305    //				HAL_WRITE_DELTA_IMAGE(2,temp_coord->tTempPos.sFinger_,temp_coord->tTempPos.rect[temp_coord->tTempPos.sFinger_].rs);
;;;306    //				HAL_WRITE_DELTA_IMAGE(3,temp_coord->tTempPos.sFinger_,temp_coord->tTempPos.rect[temp_coord->tTempPos.sFinger_].re);
;;;307    
;;;308    				temp_coord->cRemap[temp_coord->tTempPos.sFinger_] = temp_coord->tTempPos.sFinger_;
;;;309    				
;;;310    				temp_coord->tTempPos.sFinger_++;
;;;311    			}
;;;312    		}
;;;313    		return;
;;;314    	}
;;;315    
;;;316    #if WinCertAssistance_En	
;;;317    	int i,cl,match_cl,match_pl;
;;;318    //	int _d;
;;;319    //	uint32_t ulStrength = 0;
;;;320    //	uint8_t PrevFinger_ = 0;
;;;321    	int MaxDist = 0, dist = 0, MinDist = 0;
;;;322    	uint8_t MaxTouchNum = 0;
;;;323    	
;;;324    	if(thisModeConf->Coord.ucWinCertAssistance)
;;;325    	{
;;;326    		if(temp_coord->tTempPos.sFinger_ > 1)
;;;327    		{
;;;328    			int cl,pl;
;;;329    			for(cl=0;cl<temp_coord->tTempPos.sFinger_;cl++){
;;;330    				for(pl=0;pl<temp_coord->tTempPos.sFinger_;pl++){
;;;331    					if(cl == pl)	continue;
;;;332    					if(abs(temp_coord->tTempPos.tXY[cl].x - temp_coord->tTempPos.tXY[pl].x)+abs(temp_coord->tTempPos.tXY[cl].y - temp_coord->tTempPos.tXY[pl].y) < (3<<POS_BOOST_SHIFT_) ){
;;;333    						temp_label->LabelSplitCnt++;
;;;334    						break;
;;;335    					}
;;;336    					
;;;337    				}
;;;338    			}
;;;339    		}
;;;340    
;;;341    		if(temp_label->LabelSplitCnt)
;;;342    			temp_label->LabelSplitFrmCnt++;
;;;343    		else if(temp_label->LabelSplitFrmCnt)
;;;344    			temp_label->LabelSplitFrmCnt--;
;;;345    		
;;;346    	}
;;;347    	
;;;348    	if(thisModeConf->Coord.ucWinCertAssistance == 1)
;;;349    	{
;;;350    		if(temp_coord->tTempPos.sFinger_ == 0 || temp_coord->tTempPos.sFinger_ > 5){
;;;351    			WrongSeparationCnt = 0;
;;;352    			memset(TouchNumHisto,0,sizeof(TouchNumHisto));
;;;353    			FixTouchNum = 0;
;;;354    		}
;;;355    		else{
;;;356    			int i,MaxNumCnt = 0;
;;;357    			//Counting touchnum
;;;358    			if(FixTouchNum == 0){
;;;359    				for(i=0;i<POSBUF_;i++)
;;;360    				{
;;;361    					if(i == temp_coord->tTempPos.sFinger_-1){
;;;362    							TouchNumHisto[i]++;
;;;363    					}
;;;364    					else if(TouchNumHisto[i]>0)
;;;365    						TouchNumHisto[i]--;
;;;366    
;;;367    					if(TouchNumHisto[i] >thisModeConf->Coord.ucTouchCountMax){
;;;368    						TouchNumHisto[i] = thisModeConf->Coord.ucTouchCountMax;
;;;369    						FixTouchNum = i+1;
;;;370    					}
;;;371    					if(TouchNumHisto[i] > MaxNumCnt)
;;;372    					{
;;;373    						MaxNumCnt = TouchNumHisto[i];
;;;374    						MaxTouchNum = i+1;
;;;375    					}
;;;376    				}
;;;377    			}
;;;378    			else{
;;;379    				MaxTouchNum = FixTouchNum;
;;;380    			}
;;;381    		}
;;;382    		
;;;383    		if(temp_coord->tTempPos.sFinger_ > 1)
;;;384    		{
;;;385    			int cl,pl;
;;;386    			uint8_t connected = 0;
;;;387    			MinDist = (thisModeConf->Coord.usCenterMatchDistanceThd<<POS_BOOST_SHIFT_);
;;;388    			for(cl=0;cl<temp_coord->tTempPos.sFinger_;cl++){
;;;389    				connected = NO;
;;;390    				for(pl=0;pl<temp_coord->tTempPos.sFinger_;pl++){
;;;391    					if(cl == pl)	continue;
;;;392    					if(MinDist > algorithm_coord_calc_distance(temp_coord->tTempPos.tXY[cl],temp_coord->tTempPos.tXY[pl])){
;;;393    						connected = YES;
;;;394    						break;
;;;395    					}
;;;396    				}
;;;397    				if(connected == NO)
;;;398    				{
;;;399    					WrongSeparationCnt = 0;
;;;400    					memset(TouchNumHisto,0,sizeof(TouchNumHisto));
;;;401    					FixTouchNum = 0;
;;;402    					break;
;;;403    				}
;;;404    			}
;;;405    		}
;;;406    		
;;;407    		if(FixTouchNum && temp_coord->tTempPos.sFinger_ > 0 && FixTouchNum != temp_coord->tTempPos.sFinger_)
;;;408    		{
;;;409    			tXY_t Vector;
;;;410    //			uint8_t VectorCnt = 0;
;;;411    			
;;;412    			if(WrongSeparationCnt++ < thisModeConf->Coord.ucMaxExtendFrameNum)
;;;413    			{
;;;414    				//search vector
;;;415    				Vector.x = 0, Vector.y = 0;
;;;416    				match_cl = -1, match_pl = -1;
;;;417    				MinDist = (7<<POS_BOOST_SHIFT_);
;;;418    				for(cl=0;cl<temp_coord->tTempPos.sFinger_;cl++){
;;;419    					if(temp_coord->tTempPos.vusR[cl]!=0){
;;;420    		//				if(algorithm_nearby_rect_point(BigLabelRect[i], temp_coord->tTempPos.tXY[cl], 3))	//Margin 3
;;;421    						{
;;;422    	//						MinDist = (10<<POS_BOOST_SHIFT_);
;;;423    	//						match_pl = -1;
;;;424    							for(pl=0;pl<MAX_TOUCH_;pl++){
;;;425    								if(temp_coord->tOrgPastPos[0].vusR[pl]!=0){
;;;426    									
;;;427    									tXY_t Pred;
;;;428    									if(temp_coord->tPastPos[2].vusR[pl]>0){
;;;429    			//							Pred.x = (temp_coord->tPastPos[0].tXY[pl].x<<1) - temp_coord->tPastPos[2].tXY[pl].x;
;;;430    			//							Pred.y = (temp_coord->tPastPos[0].tXY[pl].y<<1) - temp_coord->tPastPos[2].tXY[pl].y;
;;;431    										Pred.x = temp_coord->tOrgPastPos[0].tXY[pl].x + (temp_coord->tPastPos[0].tXY[pl].x - temp_coord->tPastPos[2].tXY[pl].x);
;;;432    										Pred.y = temp_coord->tOrgPastPos[0].tXY[pl].y + (temp_coord->tPastPos[0].tXY[pl].y - temp_coord->tPastPos[2].tXY[pl].y);
;;;433    									}
;;;434    									else{
;;;435    										Pred = temp_coord->tOrgPastPos[0].tXY[pl];
;;;436    									}
;;;437    									dist = algorithm_coord_calc_distance(Pred,temp_coord->tTempPos.tXY[cl]);
;;;438    									if(dist < MinDist)
;;;439    									{
;;;440    										MinDist = dist;
;;;441    										match_pl = pl;
;;;442    										match_cl = cl;
;;;443    									}
;;;444    								}
;;;445    							}
;;;446    						}
;;;447    					}
;;;448    				}
;;;449    				if(match_pl != -1 && match_cl != -1)
;;;450    				{
;;;451    //					Vector.x += temp_coord->tTempPos.tXY[match_cl].x - temp_coord->tOrgPastPos[0].tXY[match_pl].x;
;;;452    //					Vector.y += temp_coord->tTempPos.tXY[match_cl].y - temp_coord->tOrgPastPos[0].tXY[match_pl].y;
;;;453    					
;;;454    					Vector.x = 0, Vector.y = 0;
;;;455    					if(temp_coord->tPastPos[0].vusR[match_pl]>0 && temp_coord->tPastPos[2].vusR[match_pl]>0){
;;;456    						Vector.x = ((temp_coord->tPastPos[0].tXY[match_pl].x - temp_coord->tPastPos[2].tXY[match_pl].x)>>1);
;;;457    						Vector.y = ((temp_coord->tPastPos[0].tXY[match_pl].y - temp_coord->tPastPos[2].tXY[match_pl].y)>>1);
;;;458    					}
;;;459    					
;;;460    					for(i=0;i<POSBUF_;i++){
;;;461    						temp_coord->tTempPos.vusR[i]   = 0;
;;;462    						temp_coord->tTempPos.vusS[i]   = 0;
;;;463    					}
;;;464    					temp_coord->tTempPos.sFinger_ = 0;
;;;465    					for(pl=0;pl<MAX_TOUCH_;pl++){
;;;466    						if(temp_coord->tOrgPastPos[0].vusR[pl]!=0 ){	//&& temp_coord->DrawingFlag[pl] == YES){
;;;467    							
;;;468    							temp_coord->tTempPos.tXY[temp_coord->tTempPos.sFinger_] = temp_coord->tOrgPastPos[0].tXY[pl];
;;;469    							temp_coord->tTempPos.tXY[temp_coord->tTempPos.sFinger_].x += Vector.x;
;;;470    							temp_coord->tTempPos.tXY[temp_coord->tTempPos.sFinger_].y += Vector.y;
;;;471    
;;;472    							temp_coord->tTempPos.vusR[temp_coord->tTempPos.sFinger_]   = temp_coord->tOrgPastPos[0].vusR[pl];
;;;473    							temp_coord->tTempPos.vusS[temp_coord->tTempPos.sFinger_]   = temp_coord->tOrgPastPos[0].vusS[pl];
;;;474    			//				temp_coord->tTempPos.rect[temp_coord->tTempPos.sFinger_]   = 
;;;475    							temp_coord->RealMaxDelta[temp_coord->tTempPos.sFinger_] = 0; 
;;;476    							temp_coord->cRemap[temp_coord->tTempPos.sFinger_] = temp_coord->tTempPos.sFinger_;
;;;477    							temp_coord->tTempPos.sFinger_++;
;;;478    						}
;;;479    					}
;;;480    				}
;;;481    				
;;;482    			}
;;;483    			else{
;;;484    				WrongSeparationCnt = 0;
;;;485    				memset(TouchNumHisto,0,sizeof(TouchNumHisto));
;;;486    		//		PrevMaxTouchNum = 0;
;;;487    				FixTouchNum = 0;
;;;488    			}
;;;489    		}
;;;490    		else{
;;;491    			WrongSeparationCnt = 0;
;;;492    		}
;;;493    		
;;;494    //		if(temp_coord->tTempPos.sFinger_ > 1)
;;;495    //		{
;;;496    //			int cl,pl;
;;;497    //			for(cl=0;cl<temp_coord->tTempPos.sFinger_;cl++){
;;;498    //				for(pl=0;pl<temp_coord->tTempPos.sFinger_;pl++){
;;;499    //					if(cl == pl)	continue;
;;;500    //					if(abs(temp_coord->tTempPos.tXY[cl].x - temp_coord->tTempPos.tXY[pl].x)+abs(temp_coord->tTempPos.tXY[cl].y - temp_coord->tTempPos.tXY[pl].y) < (3<<POS_BOOST_SHIFT_) ){
;;;501    //						temp_label->LabelSplitCnt++;
;;;502    //						break;
;;;503    //					}
;;;504    //					
;;;505    //				}
;;;506    //			}
;;;507    //		}
;;;508    
;;;509    //		if(temp_label->LabelSplitCnt)
;;;510    //			temp_label->LabelSplitFrmCnt++;
;;;511    //		else if(temp_label->LabelSplitFrmCnt)
;;;512    //			temp_label->LabelSplitFrmCnt--;
;;;513    	}
;;;514    	else if(thisModeConf->Coord.ucWinCertAssistance == 2)
;;;515    	{
;;;516    		if(temp_coord->tTempPos.sFinger_ == 0){
;;;517    			WrongSeparationCnt = 0;
;;;518    			memset(TouchNumHisto,0,sizeof(TouchNumHisto));
;;;519    			PrevMaxTouchNum = 0;
;;;520    	//		temp_label->LabelNearbyFrmCnt = 0;
;;;521    		}
;;;522    		else{
;;;523    			int i,MaxNumCnt = 0;
;;;524    			//Counting touchnum
;;;525    			for(i=0;i<POSBUF_;i++)
;;;526    			{
;;;527    				if(i == temp_coord->tTempPos.sFinger_-1)
;;;528    					TouchNumHisto[i]++;
;;;529    				else if(TouchNumHisto[i]>0)
;;;530    					TouchNumHisto[i]--;
;;;531    				if(TouchNumHisto[i] >thisModeConf->Coord.ucTouchCountMax){
;;;532    					TouchNumHisto[i] = thisModeConf->Coord.ucTouchCountMax;
;;;533    				}
;;;534    				if(TouchNumHisto[i] > MaxNumCnt)
;;;535    				{
;;;536    					MaxNumCnt = TouchNumHisto[i];
;;;537    					MaxTouchNum = i+1;
;;;538    				}
;;;539    			}
;;;540    		}
;;;541    		
;;;542    //		temp_label->LabelNearbyCnt = 0;
;;;543    		if(temp_coord->tTempPos.sFinger_ > 1)
;;;544    		{
;;;545    			int cl,pl;
;;;546    //			uint8_t SplitFlag = 0;
;;;547    			for(cl=0;cl<temp_coord->tTempPos.sFinger_;cl++){
;;;548    				for(pl=0;pl<temp_coord->tTempPos.sFinger_;pl++){
;;;549    					if(cl == pl)	continue;
;;;550    	//				dist = abs(temp_coord->tTempPos.tXY[cl].x - temp_coord->tTempPos.tXY[pl].x)+abs(temp_coord->tTempPos.tXY[cl].y - temp_coord->tTempPos.tXY[pl].y);
;;;551    					dist = algorithm_coord_calc_distance(temp_coord->tTempPos.tXY[cl], temp_coord->tTempPos.tXY[pl]);
;;;552    					if(dist < (4<<POS_BOOST_SHIFT_) ){
;;;553    //						SplitFlag = YES;
;;;554    					}
;;;555    					if(MaxDist < dist)
;;;556    						MaxDist = dist;
;;;557    				}
;;;558    			}
;;;559    //			if(SplitFlag)	temp_label->LabelNearbyCnt++;
;;;560    		}
;;;561    		
;;;562    		if( temp_coord->tPastPos[0].sFinger_ > 1 && temp_coord->tTempPos.sFinger_ && MaxDist < (6<<POS_BOOST_SHIFT_) && temp_label->LabelSplitFrmCnt)
;;;563    		{
;;;564    			if(MaxTouchNum == PrevMaxTouchNum && TouchNumHisto[MaxTouchNum-1] > (thisModeConf->Coord.ucTouchCountMax>>1)){
;;;565    				if(temp_coord->tPastPos[0].sFinger_ !=  temp_coord->tTempPos.sFinger_)
;;;566    				{
;;;567    					tXY_t Vector[2];
;;;568    					uint16_t cnt[2];
;;;569    					
;;;570    					if(temp_label->LabelSplitCnt)
;;;571    					{
;;;572    						Vector[1].x = 0, Vector[1].y = 0, cnt[1] = 0;
;;;573    						for(i=0;i<temp_coord->tPastPos[0].sFinger_;i++){
;;;574    							if(temp_coord->tPastPos[0].vusR[i]!=0){
;;;575    								Vector[1].x += temp_coord->tOrgPastPos[0].tXY[i].x;
;;;576    								Vector[1].y += temp_coord->tOrgPastPos[0].tXY[i].y;
;;;577    								cnt[1]++;
;;;578    							}
;;;579    						}
;;;580    						if(cnt[1]){
;;;581    							Vector[1].x /= cnt[1];
;;;582    							Vector[1].y /= cnt[1];
;;;583    						}
;;;584    						
;;;585    						Vector[0].x = 0, Vector[0].y = 0, cnt[0] = 0;
;;;586    						for(i=0;i<temp_coord->tTempPos.sFinger_;i++){
;;;587    							Vector[0].x += temp_coord->tTempPos.tXY[i].x;
;;;588    							Vector[0].y += temp_coord->tTempPos.tXY[i].y;
;;;589    							cnt[0]++;
;;;590    						}
;;;591    						if(cnt[0]){
;;;592    							Vector[0].x /= cnt[0];
;;;593    							Vector[0].y /= cnt[0];
;;;594    						}
;;;595    						if(cnt[0] && cnt[1])
;;;596    						{
;;;597    							Vector[0].x -= Vector[1].x;
;;;598    							Vector[0].y -= Vector[1].y;
;;;599    						}
;;;600    						else{
;;;601    							Vector[0].x = 0;
;;;602    							Vector[0].y = 0;
;;;603    						}
;;;604    					}
;;;605    					else{
;;;606    						Vector[0].x = 0;
;;;607    						Vector[0].y = 0;
;;;608    					}
;;;609    					
;;;610    					
;;;611    					if(WrongSeparationCnt++ < thisModeConf->Coord.ucMaxExtendFrameNum)
;;;612    					{
;;;613    						for(i=0;i<POSBUF_;i++){
;;;614    							temp_coord->tTempPos.vusR[i]   = 0;
;;;615    							temp_coord->tTempPos.vusS[i]   = 0;
;;;616    						}
;;;617    						for(i=0;i<temp_coord->tPastPos[0].sFinger_;i++){
;;;618    							if(temp_coord->tPastPos[0].vusR[i]!=0){
;;;619    				//				temp_coord->tTempPos.tXY[i] = temp_coord->tOrgPastPos[0].tXY[i];
;;;620    	//							temp_coord->tTempPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x;
;;;621    	//							temp_coord->tTempPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y;
;;;622    	//							temp_coord->tTempPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x + (temp_coord->tTempPos.tXY[0].x - temp_coord->tOrgPastPos[0].tXY[i].x);
;;;623    	//							temp_coord->tTempPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y + (temp_coord->tTempPos.tXY[0].y - temp_coord->tOrgPastPos[0].tXY[i].y);
;;;624    								temp_coord->tTempPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x + Vector[0].x;
;;;625    								temp_coord->tTempPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y + Vector[0].y;
;;;626    
;;;627    								
;;;628    				//				temp_coord->tTempPos.tXY[i].x = (temp_coord->tOrgPastPos[0].tXY[i].x<<1) - temp_coord->tOrgPastPos[1].tXY[i].x;
;;;629    				//				temp_coord->tTempPos.tXY[i].y = (temp_coord->tOrgPastPos[0].tXY[i].y<<1) - temp_coord->tOrgPastPos[1].tXY[i].y;
;;;630    								
;;;631    								temp_coord->tTempPos.vusR[i]   = 1;//temp_coord->tPastPos[0].vusR[0];
;;;632    								temp_coord->tTempPos.vusS[i]   = 1;//temp_coord->tPastPos[0].vusS[0];
;;;633    								temp_coord->cRemap[i] = i;
;;;634    							}
;;;635    						}
;;;636    						temp_coord->tTempPos.sFinger_ = temp_coord->tPastPos[0].sFinger_;
;;;637    					}
;;;638    					else
;;;639    						WrongSeparationCnt = 0;
;;;640    				}
;;;641    				else
;;;642    				{
;;;643    					if(WrongSeparationCnt)	WrongSeparationCnt--;
;;;644    					
;;;645    				}
;;;646    			}
;;;647    		}
;;;648    		PrevMaxTouchNum = MaxTouchNum;
;;;649    		
;;;650    	}
;;;651    	else if(thisModeConf->Coord.ucWinCertAssistance == 3)
;;;652    	{
;;;653    		int curr_touch_num = 0, prev_touch_num = 0;
;;;654    		static uint32_t maintain_touchnum_cnt = 0;
;;;655    		static uint8_t fixed_touchnum = 0;
;;;656    //		static tPredictPos_t prev_org_pos;
;;;657    //		int i,j;
;;;658    		//                   tCoordInfo_t *temp_coord;
;;;659    		#define TOUCH_FIX_FRM_NUM 10
;;;660    
;;;661    		curr_touch_num = temp_coord->tTempPos.sFinger_;
;;;662    		prev_touch_num = temp_coord->tPastPos[0].sFinger_;
;;;663    
;;;664    		if(curr_touch_num > 1 && curr_touch_num == prev_touch_num && fixed_touchnum==0){     //multi touch && maintain touch num
;;;665    			maintain_touchnum_cnt++;
;;;666    			if(maintain_touchnum_cnt > thisModeConf->Coord.ucTouchCountMax)//TOUCH_FIX_FRM_NUM)
;;;667    				fixed_touchnum = prev_touch_num;
;;;668    		}
;;;669    		else if(curr_touch_num == 0){
;;;670    			maintain_touchnum_cnt = 0;
;;;671    			fixed_touchnum = 0;
;;;672    		}
;;;673    
;;;674    		if(fixed_touchnum == 0 && curr_touch_num != prev_touch_num)     //fixe??eiiii i??i?? i?iiiii? eiii??eii eiiiii??eiIi iii?eiiiiiia
;;;675    			maintain_touchnum_cnt = 0;
;;;676    
;;;677    		if(fixed_touchnum > 1 && curr_touch_num < prev_touch_num)
;;;678    		{
;;;679    			int i,j,pre_x,pre_y;
;;;680    			uint8_t flag = 0;
;;;681    			for(i=0;i<temp_coord->tPastPos[0].sFinger_;i++){
;;;682    				flag = NO;
;;;683    				pre_x = temp_coord->tPastPos[0].tXY[i].x;
;;;684    				pre_y = temp_coord->tPastPos[0].tXY[i].y;
;;;685    				for(j=0;j<temp_coord->tTempPos.sFinger_;j++){
;;;686    					if(abs(pre_x - temp_coord->tTempPos.tXY[j].x) + abs(pre_y - temp_coord->tTempPos.tXY[j].y) < ((4+((TOUCH_FIX_FRM_NUM-maintain_touchnum_cnt)>>1))<<POS_BOOST_SHIFT_) ){
;;;687    						flag = YES;	//i??i?ii iii?e??i??i?? i?iii?iii?ii e?iieiiiii?ii i??i?ii
;;;688    						break;
;;;689    					}
;;;690    				}
;;;691    				if(flag == NO)	break;	//i??i?ii iii?e??i??i?? i?iii?iii?ii e?iieiiiii?ii i?iie?ii i?iii?? iii?e??i?? e?iieiiii
;;;692    			}
;;;693    			
;;;694    			if(flag == YES)
;;;695    			{
;;;696    				
;;;697    				//TEST_CODE_190410
;;;698    //				pre_x = 0, pre_y = 0;
;;;699    //				for(i=0;i<temp_coord->tPastPos[0].sFinger_;i++){
;;;700    //					pre_x += temp_coord->tPastPos[0].tXY[i].x;
;;;701    //					pre_y += temp_coord->tPastPos[0].tXY[i].y;
;;;702    //				}
;;;703    //				if(temp_coord->tPastPos[0].sFinger_){
;;;704    //					pre_x /= temp_coord->tPastPos[0].sFinger_;
;;;705    //					pre_y /= temp_coord->tPastPos[0].sFinger_;
;;;706    //				}
;;;707    //				
;;;708    //				curr_x = 0, curr_y = 0;
;;;709    //				for(j=0;j<temp_coord->tTempPos.sFinger_;j++){
;;;710    //					curr_x += temp_coord->tTempPos.tXY[j].x;
;;;711    //					curr_y += temp_coord->tTempPos.tXY[j].y;
;;;712    //				}
;;;713    //				if(temp_coord->tTempPos.sFinger_){
;;;714    //					curr_x /= temp_coord->tTempPos.sFinger_;
;;;715    //					curr_y /= temp_coord->tTempPos.sFinger_;
;;;716    //				}
;;;717    				////////////////////////////////////////////
;;;718    				
;;;719    				for(i=0;i<temp_coord->tPastPos[0].sFinger_;i++)
;;;720    				{
;;;721    					temp_coord->tTempPos.tXY[i] = temp_coord->tPastPos[0].tXY[i];
;;;722    //					temp_coord->tTempPos.tXY[i].x = temp_coord->tPastPos[0].tXY[i].x + ((curr_x - pre_x)>>1);		//TEST_CODE_190410
;;;723    //					temp_coord->tTempPos.tXY[i].y = temp_coord->tPastPos[0].tXY[i].y + ((curr_y - pre_y)>>1);
;;;724    
;;;725    					temp_coord->tTempPos.vusR[i]   = temp_coord->tPastPos[0].vusR[i];
;;;726    					temp_coord->tTempPos.vusS[i]   = temp_coord->tPastPos[0].vusS[i];
;;;727    				//  temp_coord->tTempPos.rect[i]   = temp_label->tTable[l].tRect;
;;;728    				//  temp_coord->tTempPos.MaxDelta[i] = temp_label->tTable[l].sMaxCellVal;
;;;729    				//  temp_coord->cRemap[i] = temp_coord->tTempPos.sFinger_;
;;;730    				}
;;;731    				temp_coord->tTempPos.sFinger_ = temp_coord->tPastPos[0].sFinger_;
;;;732    
;;;733    				maintain_touchnum_cnt--;
;;;734    				if(maintain_touchnum_cnt == 0)   fixed_touchnum = 0;
;;;735    			}
;;;736    		}
;;;737    				 
;;;738    	}
;;;739    	else if(thisModeConf->Coord.ucWinCertAssistance == 4)
;;;740    	{
;;;741    		int i,j,dist;
;;;742    		tCoordInfo_t 	*temp_coord = &thisInfo->tCoord;
;;;743    		uint8_t match_flag[POSBUF_] = {0,};
;;;744    
;;;745    		int PreFingerNum = 0;
;;;746    		for(i = 0; i < POSBUF_; i++)if(temp_coord->tPastPos[0].vusS[i] > 0)PreFingerNum++;
;;;747    
;;;748    		if(temp_coord->tTempPos.sFinger_ + 1 == PreFingerNum && temp_coord->tTempPos.sFinger_ > 0)
;;;749    		{
;;;750    			bool_t match_skip = 0;
;;;751    			for(i = 0; i < temp_coord->tTempPos.sFinger_; i++)
;;;752    			{
;;;753    				int min_dist = 32767;
;;;754    				int min_idx = -1;
;;;755    				//for(j = 0; j < temp_coord->tOrgPastPos[0].sFinger_; j++)
;;;756    				for (j = 0; j < POSBUF_; j++)
;;;757    				{
;;;758    					if( (temp_coord->tPastPos[0].vusS[j] && temp_coord->tOrgPastPos[1].vusS[j] && !thisModeConf->Coord.ucFullFingerInterpolation_On)
;;;759    					|| (temp_coord->tPastPos[0].vusS[j] && temp_coord->tOrgPastPos[2].vusS[j] && thisModeConf->Coord.ucFullFingerInterpolation_On) )
;;;760    					{
;;;761    						tXY_t pred_pos;
;;;762    						if(!thisModeConf->Coord.ucFullFingerInterpolation_On)
;;;763    						{
;;;764    							pred_pos.x = (temp_coord->tOrgPastPos[0].tXY[j].x << 1) - temp_coord->tOrgPastPos[1].tXY[j].x;
;;;765    							pred_pos.y = (temp_coord->tOrgPastPos[0].tXY[j].y << 1) - temp_coord->tOrgPastPos[1].tXY[j].y;
;;;766    						}
;;;767    						else
;;;768    						{
;;;769    							pred_pos.x = (temp_coord->tOrgPastPos[0].tXY[j].x << 1) - temp_coord->tOrgPastPos[2].tXY[j].x;
;;;770    							pred_pos.y = (temp_coord->tOrgPastPos[0].tXY[j].y << 1) - temp_coord->tOrgPastPos[2].tXY[j].y;
;;;771    						}
;;;772    						dist = algorithm_coord_calc_distance(temp_coord->tTempPos.tXY[i], pred_pos);
;;;773    						if(min_dist > dist)
;;;774    						{
;;;775    							min_dist = dist;
;;;776    							min_idx = j;
;;;777    						}
;;;778    					}
;;;779    				}
;;;780    
;;;781    				if(min_idx != -1 && min_dist < (UNIT_DIST<<1))
;;;782    					match_flag[min_idx] = 1;
;;;783    				else
;;;784    				{
;;;785    					match_skip = 1;
;;;786    					break;
;;;787    				}
;;;788    			}
;;;789    
;;;790    			if(match_skip==0)
;;;791    			{
;;;792    				//for(j = 0; j < temp_coord->tOrgPastPos[0].sFinger_; j++)
;;;793    				for (j = 0; j < POSBUF_; j++)
;;;794    				{
;;;795    					if(temp_coord->tPastPos[0].vusS[j] && match_flag[j] == 0 && gReleaseCnt[j] < thisModeConf->Coord.ucMaxExtendFrameNum)
;;;796    					{
;;;797    						gReleaseCnt[j]++;
;;;798    						temp_coord->tTempPos.tXY[temp_coord->tTempPos.sFinger_] = temp_coord->tOrgPastPos[0].tXY[j];
;;;799    						temp_coord->tTempPos.vusR[temp_coord->tTempPos.sFinger_] = temp_coord->tOrgPastPos[0].vusR[j];
;;;800    						temp_coord->tTempPos.vusS[temp_coord->tTempPos.sFinger_] = temp_coord->tOrgPastPos[0].vusS[j];
;;;801    						temp_coord->cRemap[temp_coord->tTempPos.sFinger_] = temp_coord->tTempPos.sFinger_;
;;;802    						temp_coord->tTempPos.sFinger_++;
;;;803    					}
;;;804    					else gReleaseCnt[j] = 0;
;;;805    				}
;;;806    			}
;;;807    //			else memset(gReleaseCnt,0,sizeof(gReleaseCnt));
;;;808    		}
;;;809    		else memset(gReleaseCnt,0,sizeof(gReleaseCnt));
;;;810    	}
;;;811    #endif
;;;812    }
00011e  b005              ADDLE    sp,sp,#0x14
000120  e8bd8ff0          POPLE    {r4-r11,pc}
                  |L10.292|
000124  48f9              LDR      r0,|L10.1292|
000126  9900              LDR      r1,[sp,#0]            ;275
000128  5c40              LDRB     r0,[r0,r1]            ;275
00012a  2800              CMP      r0,#0                 ;275
00012c  d076              BEQ      |L10.540|
00012e  48f8              LDR      r0,|L10.1296|
000130  9a00              LDR      r2,[sp,#0]            ;279
000132  2600              MOVS     r6,#0                 ;277
000134  eb000082          ADD      r0,r0,r2,LSL #2       ;279
000138  9001              STR      r0,[sp,#4]            ;279
00013a  f9902000          LDRSB    r2,[r0,#0]            ;279
00013e  f990a001          LDRSB    r10,[r0,#1]           ;279
000142  4637              MOV      r7,r6                 ;277
000144  4633              MOV      r3,r6                 ;277
000146  4631              MOV      r1,r6                 ;278
000148  4592              CMP      r10,r2                ;279
00014a  db33              BLT      |L10.436|
00014c  f9909002          LDRSB    r9,[r0,#2]            ;280
000150  f9900003          LDRSB    r0,[r0,#3]            ;280
000154  eba00009          SUB      r0,r0,r9              ;280
000158  f1000b01          ADD      r11,r0,#1             ;280
00015c  f8cd0008          STR.W    r0,[sp,#8]            ;280
                  |L10.352|
000160  f1bb0f00          CMP      r11,#0                ;280
000164  dd23              BLE      |L10.430|
000166  eb0200c2          ADD      r0,r2,r2,LSL #3       ;280
00016a  f8dfc3a8          LDR      r12,|L10.1300|
00016e  eb001042          ADD      r0,r0,r2,LSL #5       ;280
000172  eb0c0080          ADD      r0,r12,r0,LSL #2      ;280
000176  eb000c49          ADD      r12,r0,r9,LSL #1      ;280
00017a  f64c107e          MOV      r0,#0xc97e            ;280
00017e  4484              ADD      r12,r12,r0            ;280
000180  9802              LDR      r0,[sp,#8]            ;280
000182  2500              MOVS     r5,#0                 ;280
000184  f1000801          ADD      r8,r0,#1              ;280
                  |L10.392|
000188  f93c0b02          LDRSH    r0,[r12],#2           ;282
00018c  10c0              ASRS     r0,r0,#3              ;282
00018e  2801              CMP      r0,#1                 ;283
000190  dd09              BLE      |L10.422|
000192  eb090e05          ADD      lr,r9,r5              ;285
000196  fb00660e          MLA      r6,r0,lr,r6           ;285
00019a  fb007702          MLA      r7,r0,r2,r7           ;286
00019e  4401              ADD      r1,r1,r0              ;287
0001a0  4298              CMP      r0,r3                 ;288
0001a2  f30084b8          BGT.W    |L10.2838|
                  |L10.422|
0001a6  1c6d              ADDS     r5,r5,#1              ;288
0001a8  f1b80801          SUBS     r8,r8,#1              ;288
0001ac  d1ec              BNE      |L10.392|
                  |L10.430|
0001ae  1c52              ADDS     r2,r2,#1              ;290
0001b0  4592              CMP      r10,r2                ;290
0001b2  dad5              BGE      |L10.352|
                  |L10.436|
0001b4  0230              LSLS     r0,r6,#8              ;291
0001b6  fb90f0f1          SDIV     r0,r0,r1              ;291
0001ba  f894c000          LDRB     r12,[r4,#0]           ;294
0001be  023a              LSLS     r2,r7,#8              ;292
0001c0  eb040ccc          ADD      r12,r4,r12,LSL #3     ;294
0001c4  fb92f2f1          SDIV     r2,r2,r1              ;292
0001c8  f8cc0001          STR      r0,[r12,#1]           ;294
0001cc  7820              LDRB     r0,[r4,#0]            ;295
0001ce  eb0400c0          ADD      r0,r4,r0,LSL #3       ;295
0001d2  f8c02005          STR      r2,[r0,#5]            ;295
0001d6  9804              LDR      r0,[sp,#0x10]         ;297
0001d8  7822              LDRB     r2,[r4,#0]            ;297
0001da  eb040242          ADD      r2,r4,r2,LSL #1       ;297
0001de  f8b00021          LDRH     r0,[r0,#0x21]         ;297
0001e2  f8a200a1          STRH     r0,[r2,#0xa1]         ;297
0001e6  7820              LDRB     r0,[r4,#0]            ;298
0001e8  eb040040          ADD      r0,r4,r0,LSL #1       ;298
0001ec  f8a01081          STRH     r1,[r0,#0x81]         ;298
0001f0  7820              LDRB     r0,[r4,#0]            ;299
0001f2  eb040180          ADD      r1,r4,r0,LSL #2       ;299
0001f6  9801              LDR      r0,[sp,#4]            ;299
0001f8  6800              LDR      r0,[r0,#0]            ;299
0001fa  f8c100c1          STR      r0,[r1,#0xc1]         ;299
0001fe  7820              LDRB     r0,[r4,#0]            ;300
000200  e001              B        |L10.518|
                  |L10.514|
000202  e016              B        |L10.562|
000204  e00a              B        |L10.540|
                  |L10.518|
000206  eb040040          ADD      r0,r4,r0,LSL #1       ;300
00020a  f8a03101          STRH     r3,[r0,#0x101]        ;300
00020e  7821              LDRB     r1,[r4,#0]            ;308
000210  9803              LDR      r0,[sp,#0xc]          ;308
000212  b2ca              UXTB     r2,r1                 ;308
000214  5411              STRB     r1,[r2,r0]            ;308
000216  7820              LDRB     r0,[r4,#0]            ;310
000218  1c40              ADDS     r0,r0,#1              ;310
00021a  7020              STRB     r0,[r4,#0]            ;310
                  |L10.540|
00021c  9800              LDR      r0,[sp,#0]            ;310
00021e  49ba              LDR      r1,|L10.1288|
000220  1c40              ADDS     r0,r0,#1              ;310
000222  9000              STR      r0,[sp,#0]            ;310
000224  7809              LDRB     r1,[r1,#0]            ;310  ; PalmRegionNum
000226  4288              CMP      r0,r1                 ;310
000228  f6ffaf7c          BLT      |L10.292|
00022c  b005              ADD      sp,sp,#0x14
00022e  e8bd8ff0          POP      {r4-r11,pc}
                  |L10.562|
000232  f8920100          LDRB     r0,[r2,#0x100]        ;324
000236  f04f0800          MOV      r8,#0                 ;321
00023a  4646              MOV      r6,r8                 ;322
00023c  2800              CMP      r0,#0                 ;324
00023e  bf04              ITT      EQ
000240  b005              ADDEQ    sp,sp,#0x14
000242  e8bd8ff0          POPEQ    {r4-r11,pc}
000246  7820              LDRB     r0,[r4,#0]            ;326
000248  2801              CMP      r0,#1                 ;326
00024a  d934              BLS      |L10.694|
00024c  f04f0c00          MOV      r12,#0                ;329
000250  2800              CMP      r0,#0                 ;329
000252  dd30              BLE      |L10.694|
                  |L10.596|
000254  2100              MOVS     r1,#0                 ;330
000256  f0000bff          AND      r11,r0,#0xff          ;330
00025a  f1bb0f00          CMP      r11,#0                ;330
00025e  bfc8              IT       GT                    ;332
000260  eb0407cc          ADDGT    r7,r4,r12,LSL #3      ;332
000264  dd22              BLE      |L10.684|
                  |L10.614|
000266  458c              CMP      r12,r1                ;331
000268  d01d              BEQ      |L10.678|
00026a  eb0400c1          ADD      r0,r4,r1,LSL #3       ;332
00026e  f8d7a001          LDR      r10,[r7,#1]           ;332
000272  f8d0e001          LDR      lr,[r0,#1]            ;332
000276  f8d00005          LDR      r0,[r0,#5]            ;332
00027a  ebba0a0e          SUBS     r10,r10,lr            ;332
00027e  f8d7e005          LDR      lr,[r7,#5]            ;332
000282  ebae0000          SUB      r0,lr,r0              ;332
000286  bf48              IT       MI                    ;332
000288  f1ca0a00          RSBMI    r10,r10,#0            ;332
00028c  2800              CMP      r0,#0                 ;332
00028e  bfb8              IT       LT                    ;332
000290  4240              RSBLT    r0,r0,#0              ;332
000292  4450              ADD      r0,r0,r10             ;332
000294  f5b07f40          CMP      r0,#0x300             ;332
000298  da05              BGE      |L10.678|
00029a  f8d50313          LDR      r0,[r5,#0x313]        ;333
00029e  1c40              ADDS     r0,r0,#1              ;333
0002a0  f8c50313          STR      r0,[r5,#0x313]        ;333
0002a4  e002              B        |L10.684|
                  |L10.678|
0002a6  1c49              ADDS     r1,r1,#1              ;334
0002a8  4559              CMP      r1,r11                ;334
0002aa  dbdc              BLT      |L10.614|
                  |L10.684|
0002ac  7820              LDRB     r0,[r4,#0]            ;334
0002ae  f10c0c01          ADD      r12,r12,#1            ;334
0002b2  4584              CMP      r12,r0                ;334
0002b4  dbce              BLT      |L10.596|
                  |L10.694|
0002b6  f8d50313          LDR      r0,[r5,#0x313]        ;341
0002ba  2800              CMP      r0,#0                 ;341
0002bc  f8d50319          LDR      r0,[r5,#0x319]        ;343
0002c0  bf18              IT       NE                    ;343
0002c2  1c40              ADDNE    r0,r0,#1              ;343
0002c4  d07e              BEQ      |L10.964|
0002c6  bf00              NOP                            ;344
                  |L10.712|
0002c8  f8c50319          STR      r0,[r5,#0x319]        ;344
                  |L10.716|
0002cc  f8920100          LDRB     r0,[r2,#0x100]        ;348
0002d0  4f91              LDR      r7,|L10.1304|
0002d2  f04f0b00          MOV      r11,#0                ;352
0002d6  2801              CMP      r0,#1                 ;348
0002d8  d075              BEQ      |L10.966|
0002da  2802              CMP      r0,#2                 ;514
0002dc  f0008224          BEQ.W    |L10.1832|
0002e0  4e88              LDR      r6,|L10.1284|
0002e2  2803              CMP      r0,#3                 ;651
0002e4  f0008341          BEQ.W    |L10.2410|
0002e8  2804              CMP      r0,#4                 ;739
0002ea  bf1c              ITT      NE
0002ec  b005              ADDNE    sp,sp,#0x14
0002ee  e8bd8ff0          POPNE    {r4-r11,pc}
0002f2  f5037457          ADD      r4,r3,#0x35c          ;742
0002f6  2100              MOVS     r1,#0                 ;745
0002f8  f8cdb000          STR      r11,[sp,#0]           ;743
0002fc  f8cdb004          STR      r11,[sp,#4]           ;743
000300  4608              MOV      r0,r1                 ;746
000302  f8cdb008          STR      r11,[sp,#8]           ;746
000306  bf00              NOP                            ;746
                  |L10.776|
000308  eb040240          ADD      r2,r4,r0,LSL #1       ;746
00030c  f8b2336a          LDRH     r3,[r2,#0x36a]        ;746
000310  2b00              CMP      r3,#0                 ;746
000312  bf18              IT       NE                    ;746
000314  1c49              ADDNE    r1,r1,#1              ;746
000316  f8b2236c          LDRH     r2,[r2,#0x36c]        ;746
00031a  2a00              CMP      r2,#0                 ;746
00031c  bf18              IT       NE                    ;746
00031e  1c49              ADDNE    r1,r1,#1              ;746
000320  1c80              ADDS     r0,r0,#2              ;746
000322  280a              CMP      r0,#0xa               ;746
000324  dbf0              BLT      |L10.776|
000326  7820              LDRB     r0,[r4,#0]            ;748
000328  1c42              ADDS     r2,r0,#1              ;748
00032a  428a              CMP      r2,r1                 ;748
00032c  f04083ec          BNE.W    |L10.2824|
000330  2800              CMP      r0,#0                 ;748
000332  bf18              IT       NE                    ;751
000334  f04f0900          MOVNE    r9,#0                 ;751
000338  f00083e6          BEQ.W    |L10.2824|
00033c  dd56              BLE      |L10.1004|
00033e  bf00              NOP                            ;753
                  |L10.832|
000340  f64777ff          MOV      r7,#0x7fff            ;753
000344  f04f38ff          MOV      r8,#0xffffffff        ;754
000348  f04f0500          MOV      r5,#0                 ;756
00034c  eb040ac9          ADD      r10,r4,r9,LSL #3      ;772
                  |L10.848|
000350  eb040045          ADD      r0,r4,r5,LSL #1       ;758
000354  f8b0136a          LDRH     r1,[r0,#0x36a]        ;758
000358  b389              CBZ      r1,|L10.958|
00035a  f8b01745          LDRH     r1,[r0,#0x745]        ;758
00035e  b119              CBZ      r1,|L10.872|
000360  68f1              LDR      r1,[r6,#0xc]          ;758  ; thisModeConf
000362  f89110b4          LDRB     r1,[r1,#0xb4]         ;758
000366  b131              CBZ      r1,|L10.886|
                  |L10.872|
000368  f8b007be          LDRH     r0,[r0,#0x7be]        ;758
00036c  b338              CBZ      r0,|L10.958|
00036e  68f0              LDR      r0,[r6,#0xc]          ;758  ; thisModeConf
000370  f89000b4          LDRB     r0,[r0,#0xb4]         ;758
000374  b318              CBZ      r0,|L10.958|
                  |L10.886|
000376  68f0              LDR      r0,[r6,#0xc]          ;762  ; thisModeConf
000378  eb0401c5          ADD      r1,r4,r5,LSL #3       ;769
00037c  f89000b4          LDRB     r0,[r0,#0xb4]         ;762
000380  2800              CMP      r0,#0                 ;762
000382  f0008383          BEQ.W    |L10.2700|
000386  f8d1076e          LDR      r0,[r1,#0x76e]        ;769
00038a  f8d1267c          LDR      r2,[r1,#0x67c]        ;769
00038e  ebc00042          RSB      r0,r0,r2,LSL #1       ;769
000392  f8d12772          LDR      r2,[r1,#0x772]        ;770
000396  f8d11680          LDR      r1,[r1,#0x680]        ;770
00039a  ebc20141          RSB      r1,r2,r1,LSL #1       ;770
00039e  bf00              NOP                            ;772
                  |L10.928|
0003a0  f8da2001          LDR      r2,[r10,#1]           ;772
0003a4  f8da3005          LDR      r3,[r10,#5]           ;772
0003a8  1a10              SUBS     r0,r2,r0              ;772
0003aa  4340              MULS     r0,r0,r0              ;772
0003ac  1a59              SUBS     r1,r3,r1              ;772
0003ae  fb010001          MLA      r0,r1,r1,r0           ;772
0003b2  f7fffffe          BL       algorithm_calc_sqrt
0003b6  4287              CMP      r7,r0                 ;773
0003b8  bfc4              ITT      GT                    ;775
0003ba  4607              MOVGT    r7,r0                 ;775
0003bc  46a8              MOVGT    r8,r5                 ;776
                  |L10.958|
0003be  1c6d              ADDS     r5,r5,#1              ;776
0003c0  2d0a              CMP      r5,#0xa               ;778
0003c2  e001              B        |L10.968|
                  |L10.964|
0003c4  e026              B        |L10.1044|
                  |L10.966|
0003c6  e02b              B        |L10.1056|
                  |L10.968|
0003c8  dbc2              BLT      |L10.848|
0003ca  f1b83fff          CMP      r8,#0xffffffff        ;781
0003ce  bf18              IT       NE                    ;781
0003d0  f5b77f00          CMPNE    r7,#0x200             ;781
0003d4  bfa4              ITT      GE
0003d6  b005              ADDGE    sp,sp,#0x14
0003d8  e8bd8ff0          POPGE    {r4-r11,pc}
0003dc  2001              MOVS     r0,#1                 ;782
0003de  f80d0008          STRB     r0,[sp,r8]            ;782
0003e2  7820              LDRB     r0,[r4,#0]            ;788
0003e4  f1090901          ADD      r9,r9,#1              ;788
0003e8  4581              CMP      r9,r0                 ;788
0003ea  dba9              BLT      |L10.832|
                  |L10.1004|
0003ec  494b              LDR      r1,|L10.1308|
0003ee  68f3              LDR      r3,[r6,#0xc]          ;795  ; thisModeConf
0003f0  2000              MOVS     r0,#0                 ;793
0003f2  46ec              MOV      r12,sp                ;743
0003f4  f60415a5          ADD      r5,r4,#0x9a5          ;801
                  |L10.1016|
0003f8  eb040240          ADD      r2,r4,r0,LSL #1       ;795
0003fc  f8b2636a          LDRH     r6,[r2,#0x36a]        ;795
000400  2e00              CMP      r6,#0                 ;795
000402  f0008379          BEQ.W    |L10.2808|
000406  f81c6000          LDRB     r6,[r12,r0]           ;795
00040a  2e00              CMP      r6,#0                 ;795
00040c  f000834b          BEQ.W    |L10.2726|
000410  f000bb72          B.W      |L10.2808|
                  |L10.1044|
000414  2800              CMP      r0,#0                 ;343
000416  bf18              IT       NE                    ;343
000418  1e40              SUBNE    r0,r0,#1              ;343
00041a  f47faf55          BNE      |L10.712|
00041e  e755              B        |L10.716|
                  |L10.1056|
000420  7820              LDRB     r0,[r4,#0]            ;350
000422  b108              CBZ      r0,|L10.1064|
000424  2805              CMP      r0,#5                 ;350
000426  d90a              BLS      |L10.1086|
                  |L10.1064|
000428  f8a9b006          STRH     r11,[r9,#6]           ;351
00042c  f8c7b030          STR      r11,[r7,#0x30]        ;352  ; TouchNumHisto
000430  f8c7b034          STR      r11,[r7,#0x34]        ;352  ; TouchNumHisto
000434  f8a7b038          STRH     r11,[r7,#0x38]        ;352
000438  f889b000          STRB     r11,[r9,#0]           ;353
00043c  e004              B        |L10.1096|
                  |L10.1086|
00043e  f8990000          LDRB     r0,[r9,#0]            ;358  ; FixTouchNum
000442  2500              MOVS     r5,#0                 ;356
000444  2800              CMP      r0,#0                 ;358
000446  d06b              BEQ      |L10.1312|
                  |L10.1096|
000448  7820              LDRB     r0,[r4,#0]            ;383
00044a  2801              CMP      r0,#1                 ;383
00044c  d928              BLS      |L10.1184|
00044e  f8d210af          LDR      r1,[r2,#0xaf]         ;387
000452  2500              MOVS     r5,#0                 ;388
000454  ea4f2a01          LSL      r10,r1,#8             ;387
000458  2800              CMP      r0,#0                 ;388
00045a  dd21              BLE      |L10.1184|
                  |L10.1116|
00045c  2600              MOVS     r6,#0                 ;390
00045e  b2c0              UXTB     r0,r0                 ;390
000460  2800              CMP      r0,#0                 ;390
000462  bfc8              IT       GT                    ;392
000464  eb0408c5          ADDGT    r8,r4,r5,LSL #3       ;392
000468  f3408142          BLE.W    |L10.1776|
                  |L10.1132|
00046c  42b5              CMP      r5,r6                 ;391
00046e  d07d              BEQ      |L10.1388|
000470  eb0402c6          ADD      r2,r4,r6,LSL #3       ;392
000474  f8d81001          LDR      r1,[r8,#1]            ;392
000478  f8d20001          LDR      r0,[r2,#1]            ;392
00047c  f8d83005          LDR      r3,[r8,#5]            ;392
000480  f8d22005          LDR      r2,[r2,#5]            ;392
000484  1a08              SUBS     r0,r1,r0              ;392
000486  fb00f100          MUL      r1,r0,r0              ;392
00048a  1a98              SUBS     r0,r3,r2              ;392
00048c  fb001000          MLA      r0,r0,r0,r1           ;392
000490  f7fffffe          BL       algorithm_calc_sqrt
000494  4550              CMP      r0,r10                ;392
000496  da69              BGE      |L10.1388|
000498  7820              LDRB     r0,[r4,#0]            ;402
00049a  1c6d              ADDS     r5,r5,#1              ;402
00049c  4285              CMP      r5,r0                 ;402
00049e  dbdd              BLT      |L10.1116|
                  |L10.1184|
0004a0  f8991000          LDRB     r1,[r9,#0]            ;407  ; FixTouchNum
0004a4  2900              CMP      r1,#0                 ;407
0004a6  bf1c              ITT      NE                    ;407
0004a8  f01000ff          ANDSNE   r0,r0,#0xff           ;407
0004ac  4288              CMPNE    r0,r1                 ;407
0004ae  d07b              BEQ      |L10.1448|
0004b0  f8b90006          LDRH     r0,[r9,#6]            ;412  ; WrongSeparationCnt
0004b4  f1000101          ADD      r1,r0,#1              ;412
0004b8  f8a91006          STRH     r1,[r9,#6]            ;412
0004bc  f8d9100c          LDR      r1,[r9,#0xc]          ;412  ; thisModeConf
0004c0  f8911103          LDRB     r1,[r1,#0x103]        ;412
0004c4  4281              CMP      r1,r0                 ;412
0004c6  d970              BLS      |L10.1450|
0004c8  7820              LDRB     r0,[r4,#0]            ;418
0004ca  f04f39ff          MOV      r9,#0xffffffff        ;416
0004ce  2600              MOVS     r6,#0                 ;418
0004d0  46c8              MOV      r8,r9                 ;416
0004d2  f44f67e0          MOV      r7,#0x700             ;417
0004d6  2800              CMP      r0,#0                 ;418
0004d8  bfdc              ITT      LE
0004da  b005              ADDLE    sp,sp,#0x14
0004dc  e8bd8ff0          POPLE    {r4-r11,pc}
                  |L10.1248|
0004e0  eb040046          ADD      r0,r4,r6,LSL #1       ;419
0004e4  f8b000a1          LDRH     r0,[r0,#0xa1]         ;419
0004e8  2800              CMP      r0,#0                 ;419
0004ea  bf1c              ITT      NE                    ;424
0004ec  2500              MOVNE    r5,#0                 ;424
0004ee  eb040ac6          ADDNE    r10,r4,r6,LSL #3      ;437
0004f2  d045              BEQ      |L10.1408|
                  |L10.1268|
0004f4  eb040045          ADD      r0,r4,r5,LSL #1       ;425
0004f8  f8b016e0          LDRH     r1,[r0,#0x6e0]        ;425
0004fc  b3b9              CBZ      r1,|L10.1390|
0004fe  f8b00470          LDRH     r0,[r0,#0x470]        ;428
000502  e00e              B        |L10.1314|
                  |L10.1284|
                          DCD      ||.data||
                  |L10.1288|
                          DCD      PalmRegionNum
                  |L10.1292|
                          DCD      PalmRectEnable
                  |L10.1296|
                          DCD      PalmRect
                  |L10.1300|
                          DCD      FullSharedBuff
                  |L10.1304|
                          DCD      ||area_number.27||
                  |L10.1308|
                          DCD      ||area_number.27||+0x3a
                  |L10.1312|
000520  e0bc              B        |L10.1692|
                  |L10.1314|
000522  2800              CMP      r0,#0                 ;428
000524  eb0400c5          ADD      r0,r4,r5,LSL #3       ;435
000528  bf04              ITT      EQ                    ;435
00052a  f8d0267c          LDREQ    r2,[r0,#0x67c]        ;435
00052e  f8d01680          LDREQ    r1,[r0,#0x680]        ;435
000532  d00f              BEQ      |L10.1364|
000534  f8d0231a          LDR      r2,[r0,#0x31a]        ;431
000538  f8d0140c          LDR      r1,[r0,#0x40c]        ;431
00053c  f8d03410          LDR      r3,[r0,#0x410]        ;432
000540  1a52              SUBS     r2,r2,r1              ;431
000542  f8d0167c          LDR      r1,[r0,#0x67c]        ;431
000546  440a              ADD      r2,r2,r1              ;431
000548  f8d0131e          LDR      r1,[r0,#0x31e]        ;432
00054c  f8d00680          LDR      r0,[r0,#0x680]        ;432
000550  1ac9              SUBS     r1,r1,r3              ;432
000552  4401              ADD      r1,r1,r0              ;432
                  |L10.1364|
000554  f8da0001          LDR      r0,[r10,#1]           ;437
000558  f8da3005          LDR      r3,[r10,#5]           ;437
00055c  1a10              SUBS     r0,r2,r0              ;437
00055e  4340              MULS     r0,r0,r0              ;437
000560  1ac9              SUBS     r1,r1,r3              ;437
000562  fb010001          MLA      r0,r1,r1,r0           ;437
000566  f7fffffe          BL       algorithm_calc_sqrt
00056a  e001              B        |L10.1392|
                  |L10.1388|
00056c  e0bb              B        |L10.1766|
                  |L10.1390|
00056e  e004              B        |L10.1402|
                  |L10.1392|
000570  42b8              CMP      r0,r7                 ;438
000572  da02              BGE      |L10.1402|
000574  4607              MOV      r7,r0                 ;440
000576  46a8              MOV      r8,r5                 ;441
000578  46b1              MOV      r9,r6                 ;442
                  |L10.1402|
00057a  1c6d              ADDS     r5,r5,#1              ;442
00057c  2d0a              CMP      r5,#0xa               ;444
00057e  dbb9              BLT      |L10.1268|
                  |L10.1408|
000580  7820              LDRB     r0,[r4,#0]            ;444
000582  1c76              ADDS     r6,r6,#1              ;444
000584  4286              CMP      r6,r0                 ;444
000586  dbab              BLT      |L10.1248|
000588  f1b83fff          CMP      r8,#0xffffffff        ;449
00058c  bf12              ITEE     NE                    ;449
00058e  f1b93fff          CMPNE    r9,#0xffffffff        ;449
000592  b005              ADDEQ    sp,sp,#0x14
000594  e8bd8ff0          POPEQ    {r4-r11,pc}
000598  465b              MOV      r3,r11                ;454
00059a  eb040048          ADD      r0,r4,r8,LSL #1       ;455
00059e  4659              MOV      r1,r11                ;454
0005a0  f8b0237e          LDRH     r2,[r0,#0x37e]        ;455
0005a4  2a00              CMP      r2,#0                 ;455
0005a6  e001              B        |L10.1452|
                  |L10.1448|
0005a8  e0ac              B        |L10.1796|
                  |L10.1450|
0005aa  e0b0              B        |L10.1806|
                  |L10.1452|
0005ac  bf1c              ITT      NE                    ;455
0005ae  f8b00470          LDRHNE   r0,[r0,#0x470]        ;455
0005b2  2800              CMPNE    r0,#0                 ;455
0005b4  d011              BEQ      |L10.1498|
0005b6  eb0400c8          ADD      r0,r4,r8,LSL #3       ;456
0005ba  f8d0131a          LDR      r1,[r0,#0x31a]        ;456
0005be  f8d0240c          LDR      r2,[r0,#0x40c]        ;456
0005c2  eba10102          SUB      r1,r1,r2              ;456
0005c6  ea4f0361          ASR      r3,r1,#1              ;456
0005ca  f8d0131e          LDR      r1,[r0,#0x31e]        ;457
0005ce  f8d00410          LDR      r0,[r0,#0x410]        ;457
0005d2  eba10000          SUB      r0,r1,r0              ;457
0005d6  ea4f0160          ASR      r1,r0,#1              ;457
                  |L10.1498|
0005da  f04f0000          MOV      r0,#0                 ;460
0005de  bf00              NOP                            ;461
                  |L10.1504|
0005e0  eb040240          ADD      r2,r4,r0,LSL #1       ;461
0005e4  f1000002          ADD      r0,r0,#2              ;462
0005e8  f8a2b0a1          STRH     r11,[r2,#0xa1]        ;461
0005ec  f8a2b081          STRH     r11,[r2,#0x81]        ;462
0005f0  f8a2b0a3          STRH     r11,[r2,#0xa3]        ;461
0005f4  f8a2b083          STRH     r11,[r2,#0x83]        ;462
0005f8  280a              CMP      r0,#0xa               ;462
0005fa  dbf1              BLT      |L10.1504|
0005fc  f884b000          STRB     r11,[r4,#0]           ;464
000600  2000              MOVS     r0,#0                 ;465
000602  f60415a5          ADD      r5,r4,#0x9a5          ;266
000606  bf00              NOP                            ;466
                  |L10.1544|
000608  eb040240          ADD      r2,r4,r0,LSL #1       ;466
00060c  f8b2c6e0          LDRH     r12,[r2,#0x6e0]       ;466
000610  f1bc0f00          CMP      r12,#0                ;466
000614  d03c              BEQ      |L10.1680|
000616  f894c000          LDRB     r12,[r4,#0]           ;468
00061a  eb0407cc          ADD      r7,r4,r12,LSL #3      ;468
00061e  eb040cc0          ADD      r12,r4,r0,LSL #3      ;468
000622  f8dc667c          LDR      r6,[r12,#0x67c]       ;468
000626  f8c76001          STR      r6,[r7,#1]            ;468
00062a  f8dcc680          LDR      r12,[r12,#0x680]      ;468
00062e  f8c7c005          STR      r12,[r7,#5]           ;468
000632  f894c000          LDRB     r12,[r4,#0]           ;469
000636  eb040ccc          ADD      r12,r4,r12,LSL #3     ;469
00063a  f8dc6001          LDR      r6,[r12,#1]           ;469
00063e  441e              ADD      r6,r6,r3              ;469
000640  f8cc6001          STR      r6,[r12,#1]           ;469
000644  f894c000          LDRB     r12,[r4,#0]           ;470
000648  eb040ccc          ADD      r12,r4,r12,LSL #3     ;470
00064c  f8dc6005          LDR      r6,[r12,#5]           ;470
000650  440e              ADD      r6,r6,r1              ;470
000652  f8cc6005          STR      r6,[r12,#5]           ;470
000656  f894c000          LDRB     r12,[r4,#0]           ;472
00065a  f8b266e0          LDRH     r6,[r2,#0x6e0]        ;472
00065e  eb040c4c          ADD      r12,r4,r12,LSL #1     ;472
000662  f8ac60a1          STRH     r6,[r12,#0xa1]        ;472
000666  f894c000          LDRB     r12,[r4,#0]           ;473
00066a  f8b226cc          LDRH     r2,[r2,#0x6cc]        ;473
00066e  eb040c4c          ADD      r12,r4,r12,LSL #1     ;473
000672  f8ac2081          STRH     r2,[r12,#0x81]        ;473
000676  7822              LDRB     r2,[r4,#0]            ;475
000678  eb040242          ADD      r2,r4,r2,LSL #1       ;475
00067c  f8a2ba7f          STRH     r11,[r2,#0xa7f]       ;475
000680  7822              LDRB     r2,[r4,#0]            ;476
000682  f0020cff          AND      r12,r2,#0xff          ;476
000686  f80c2005          STRB     r2,[r12,r5]           ;476
00068a  7822              LDRB     r2,[r4,#0]            ;477
00068c  1c52              ADDS     r2,r2,#1              ;477
00068e  7022              STRB     r2,[r4,#0]            ;477
                  |L10.1680|
000690  1c40              ADDS     r0,r0,#1              ;477
000692  280a              CMP      r0,#0xa               ;477
000694  dbb8              BLT      |L10.1544|
000696  b005              ADD      sp,sp,#0x14
000698  e8bd8ff0          POP      {r4-r11,pc}
                  |L10.1692|
00069c  48f7              LDR      r0,|L10.2684|
00069e  f04f0c00          MOV      r12,#0                ;359
0006a2  260a              MOVS     r6,#0xa               ;359
                  |L10.1700|
0006a4  7821              LDRB     r1,[r4,#0]            ;361
0006a6  1e49              SUBS     r1,r1,#1              ;361
0006a8  4561              CMP      r1,r12                ;361
0006aa  bf04              ITT      EQ                    ;362
0006ac  7801              LDRBEQ   r1,[r0,#0]            ;362
0006ae  1c49              ADDEQ    r1,r1,#1              ;362
0006b0  d004              BEQ      |L10.1724|
0006b2  7803              LDRB     r3,[r0,#0]            ;364
0006b4  2b00              CMP      r3,#0                 ;364
0006b6  bf18              IT       NE                    ;365
0006b8  1e59              SUBNE    r1,r3,#1              ;365
0006ba  d000              BEQ      |L10.1726|
                  |L10.1724|
0006bc  7001              STRB     r1,[r0,#0]            ;365
                  |L10.1726|
0006be  7801              LDRB     r1,[r0,#0]            ;367
0006c0  f8923102          LDRB     r3,[r2,#0x102]        ;367
0006c4  4299              CMP      r1,r3                 ;367
0006c6  d904              BLS      |L10.1746|
0006c8  7003              STRB     r3,[r0,#0]            ;368
0006ca  f10c0101          ADD      r1,r12,#1             ;369
0006ce  f8891000          STRB     r1,[r9,#0]            ;369
                  |L10.1746|
0006d2  7801              LDRB     r1,[r0,#0]            ;371
0006d4  42a9              CMP      r1,r5                 ;371
0006d6  bfc8              IT       GT                    ;373
0006d8  460d              MOVGT    r5,r1                 ;373
0006da  1c40              ADDS     r0,r0,#1              ;373
0006dc  1e76              SUBS     r6,r6,#1              ;373
0006de  f10c0c01          ADD      r12,r12,#1            ;373
0006e2  d1df              BNE      |L10.1700|
0006e4  e6b0              B        |L10.1096|
                  |L10.1766|
0006e6  7820              LDRB     r0,[r4,#0]            ;394
0006e8  1c76              ADDS     r6,r6,#1              ;394
0006ea  4286              CMP      r6,r0                 ;394
0006ec  f6ffaebe          BLT      |L10.1132|
                  |L10.1776|
0006f0  f8a9b006          STRH     r11,[r9,#6]           ;399
0006f4  f8c7b030          STR      r11,[r7,#0x30]        ;400  ; TouchNumHisto
0006f8  f8c7b034          STR      r11,[r7,#0x34]        ;400  ; TouchNumHisto
0006fc  f8a7b038          STRH     r11,[r7,#0x38]        ;400
000700  f889b000          STRB     r11,[r9,#0]           ;401
                  |L10.1796|
000704  f8a9b006          STRH     r11,[r9,#6]           ;491
000708  b005              ADD      sp,sp,#0x14
00070a  e8bd8ff0          POP      {r4-r11,pc}
                  |L10.1806|
00070e  f8a9b006          STRH     r11,[r9,#6]           ;484
000712  f8c7b030          STR      r11,[r7,#0x30]        ;485  ; TouchNumHisto
000716  f8c7b034          STR      r11,[r7,#0x34]        ;485  ; TouchNumHisto
00071a  f8a7b038          STRH     r11,[r7,#0x38]        ;485
00071e  f889b000          STRB     r11,[r9,#0]           ;487
000722  b005              ADD      sp,sp,#0x14
000724  e8bd8ff0          POP      {r4-r11,pc}
                  |L10.1832|
000728  7820              LDRB     r0,[r4,#0]            ;516
00072a  2800              CMP      r0,#0                 ;516
00072c  d07d              BEQ      |L10.2090|
00072e  2700              MOVS     r7,#0                 ;523
000730  49d2              LDR      r1,|L10.2684|
000732  463b              MOV      r3,r7                 ;525
000734  f04f0c0a          MOV      r12,#0xa              ;525
                  |L10.1848|
000738  f8949000          LDRB     r9,[r4,#0]            ;527
00073c  7808              LDRB     r0,[r1,#0]            ;527
00073e  f1a90901          SUB      r9,r9,#1              ;527
000742  4599              CMP      r9,r3                 ;527
000744  bf08              IT       EQ                    ;527
000746  1c40              ADDEQ    r0,r0,#1              ;527
000748  d003              BEQ      |L10.1874|
00074a  2800              CMP      r0,#0                 ;529
00074c  bf18              IT       NE                    ;529
00074e  1e40              SUBNE    r0,r0,#1              ;529
000750  d000              BEQ      |L10.1876|
                  |L10.1874|
000752  b2c0              UXTB     r0,r0                 ;530
                  |L10.1876|
000754  f8929102          LDRB     r9,[r2,#0x102]        ;531
000758  4581              CMP      r9,r0                 ;531
00075a  bf38              IT       CC                    ;531
00075c  4648              MOVCC    r0,r9                 ;531
00075e  7008              STRB     r0,[r1,#0]            ;533
000760  42b8              CMP      r0,r7                 ;534
000762  dd02              BLE      |L10.1898|
000764  4607              MOV      r7,r0                 ;536
000766  1c58              ADDS     r0,r3,#1              ;537
000768  b2c6              UXTB     r6,r0                 ;537
                  |L10.1898|
00076a  1c49              ADDS     r1,r1,#1              ;537
00076c  1c5b              ADDS     r3,r3,#1              ;537
00076e  f1bc0c01          SUBS     r12,r12,#1            ;537
000772  d1e1              BNE      |L10.1848|
                  |L10.1908|
000774  7820              LDRB     r0,[r4,#0]            ;543
000776  2801              CMP      r0,#1                 ;543
000778  d929              BLS      |L10.1998|
00077a  2700              MOVS     r7,#0                 ;547
00077c  2800              CMP      r0,#0                 ;547
00077e  dd26              BLE      |L10.1998|
                  |L10.1920|
000780  b2c0              UXTB     r0,r0                 ;548
000782  f04f0900          MOV      r9,#0                 ;548
000786  2800              CMP      r0,#0                 ;548
000788  bfc8              IT       GT                    ;551
00078a  eb040ac7          ADDGT    r10,r4,r7,LSL #3      ;551
00078e  dd1a              BLE      |L10.1990|
                  |L10.1936|
000790  454f              CMP      r7,r9                 ;549
000792  d013              BEQ      |L10.1980|
000794  eb0400c9          ADD      r0,r4,r9,LSL #3       ;551
000798  f8da1001          LDR      r1,[r10,#1]           ;551
00079c  f8d03001          LDR      r3,[r0,#1]            ;551
0007a0  f8da2005          LDR      r2,[r10,#5]           ;551
0007a4  f8d00005          LDR      r0,[r0,#5]            ;551
0007a8  1ac9              SUBS     r1,r1,r3              ;551
0007aa  4349              MULS     r1,r1,r1              ;551
0007ac  1a10              SUBS     r0,r2,r0              ;551
0007ae  fb001000          MLA      r0,r0,r0,r1           ;551
0007b2  f7fffffe          BL       algorithm_calc_sqrt
0007b6  4580              CMP      r8,r0                 ;556
0007b8  f2c081b0          BLT.W    |L10.2844|
                  |L10.1980|
0007bc  7820              LDRB     r0,[r4,#0]            ;556
0007be  f1090901          ADD      r9,r9,#1              ;556
0007c2  4548              CMP      r0,r9                 ;556
0007c4  dce4              BGT      |L10.1936|
                  |L10.1990|
0007c6  b2c0              UXTB     r0,r0                 ;556
0007c8  1c7f              ADDS     r7,r7,#1              ;556
0007ca  42b8              CMP      r0,r7                 ;556
0007cc  dcd8              BGT      |L10.1920|
                  |L10.1998|
0007ce  f8943319          LDRB     r3,[r4,#0x319]        ;562
0007d2  2b01              CMP      r3,#1                 ;562
0007d4  d946              BLS      |L10.2148|
0007d6  f01007ff          ANDS     r7,r0,#0xff           ;562
0007da  d043              BEQ      |L10.2148|
0007dc  f5b86fc0          CMP      r8,#0x600             ;562
0007e0  da40              BGE      |L10.2148|
0007e2  f8d50319          LDR      r0,[r5,#0x319]        ;562
0007e6  b3e8              CBZ      r0,|L10.2148|
0007e8  f8df9294          LDR      r9,|L10.2688|
0007ec  f8990001          LDRB     r0,[r9,#1]            ;564  ; PrevMaxTouchNum
0007f0  4286              CMP      r6,r0                 ;564
0007f2  d137              BNE      |L10.2148|
0007f4  48a1              LDR      r0,|L10.2684|
0007f6  f8d9a00c          LDR      r10,[r9,#0xc]         ;564  ; thisModeConf
0007fa  4430              ADD      r0,r0,r6              ;564
0007fc  f8100c01          LDRB     r0,[r0,#-1]           ;564
000800  f89a1102          LDRB     r1,[r10,#0x102]       ;564
000804  ebb00f51          CMP      r0,r1,LSR #1          ;564
000808  d92c              BLS      |L10.2148|
00080a  42bb              CMP      r3,r7                 ;565
00080c  d07e              BEQ      |L10.2316|
00080e  f8d50313          LDR      r0,[r5,#0x313]        ;570
000812  b340              CBZ      r0,|L10.2150|
000814  4658              MOV      r0,r11                ;572
000816  2200              MOVS     r2,#0                 ;573
000818  4659              MOV      r1,r11                ;572
00081a  f3604c1f          BFI      r12,r0,#16,#16        ;572
00081e  2b00              CMP      r3,#0                 ;573
000820  dd1e              BLE      |L10.2144|
000822  bf00              NOP                            ;574
                  |L10.2084|
000824  eb040542          ADD      r5,r4,r2,LSL #1       ;574
000828  e000              B        |L10.2092|
                  |L10.2090|
00082a  e041              B        |L10.2224|
                  |L10.2092|
00082c  f8b5537e          LDRH     r5,[r5,#0x37e]        ;574
000830  b165              CBZ      r5,|L10.2124|
000832  eb0405c2          ADD      r5,r4,r2,LSL #3       ;575
000836  f8d5867c          LDR      r8,[r5,#0x67c]        ;575
00083a  f8d55680          LDR      r5,[r5,#0x680]        ;576
00083e  4440              ADD      r0,r0,r8              ;575
000840  4429              ADD      r1,r1,r5              ;576
000842  ea4f451c          LSR      r5,r12,#16            ;576
000846  1c6d              ADDS     r5,r5,#1              ;576
000848  f3654c1f          BFI      r12,r5,#16,#16        ;576
                  |L10.2124|
00084c  1c52              ADDS     r2,r2,#1              ;576
00084e  4293              CMP      r3,r2                 ;577
000850  dce8              BGT      |L10.2084|
000852  ea5f421c          LSRS     r2,r12,#16            ;577
000856  bf1c              ITT      NE                    ;581
000858  fb90f0f2          SDIVNE   r0,r0,r2              ;581
00085c  fb91f1f2          SDIVNE   r1,r1,r2              ;582
                  |L10.2144|
000860  465a              MOV      r2,r11                ;585
000862  e001              B        |L10.2152|
                  |L10.2148|
000864  e07c              B        |L10.2400|
                  |L10.2150|
000866  e02f              B        |L10.2248|
                  |L10.2152|
000868  2500              MOVS     r5,#0                 ;586
00086a  465b              MOV      r3,r11                ;585
00086c  f3620c0f          BFI      r12,r2,#0,#16         ;585
000870  2f00              CMP      r7,#0                 ;586
000872  dd29              BLE      |L10.2248|
                  |L10.2164|
000874  eb0408c5          ADD      r8,r4,r5,LSL #3       ;587
000878  1c6d              ADDS     r5,r5,#1              ;589
00087a  f8d8e001          LDR      lr,[r8,#1]            ;587
00087e  f8d88005          LDR      r8,[r8,#5]            ;588
000882  4473              ADD      r3,r3,lr              ;587
000884  4442              ADD      r2,r2,r8              ;588
000886  f10c0801          ADD      r8,r12,#1             ;589
00088a  f3680c0f          BFI      r12,r8,#0,#16         ;589
00088e  42af              CMP      r7,r5                 ;589
000890  dcf0              BGT      |L10.2164|
000892  fa1ff58c          UXTH     r5,r12                ;589
000896  2d00              CMP      r5,#0                 ;589
000898  d016              BEQ      |L10.2248|
00089a  fb93f3f5          SDIV     r3,r3,r5              ;592
00089e  fb92f5f5          SDIV     r5,r2,r5              ;593
0008a2  ea5f421c          LSRS     r2,r12,#16            ;593
0008a6  bf1c              ITT      NE                    ;597
0008a8  1a1a              SUBNE    r2,r3,r0              ;597
0008aa  1a6b              SUBNE    r3,r5,r1              ;598
0008ac  d00c              BEQ      |L10.2248|
0008ae  e00d              B        |L10.2252|
                  |L10.2224|
0008b0  4873              LDR      r0,|L10.2688|
0008b2  f8a0b006          STRH     r11,[r0,#6]           ;517
0008b6  f8c7b030          STR      r11,[r7,#0x30]        ;518  ; TouchNumHisto
0008ba  f8c7b034          STR      r11,[r7,#0x34]        ;518  ; TouchNumHisto
0008be  f8a7b038          STRH     r11,[r7,#0x38]        ;518
0008c2  f880b001          STRB     r11,[r0,#1]           ;519
0008c6  e755              B        |L10.1908|
                  |L10.2248|
0008c8  465a              MOV      r2,r11                ;601
0008ca  465b              MOV      r3,r11                ;602
                  |L10.2252|
0008cc  f8b90006          LDRH     r0,[r9,#6]            ;611  ; WrongSeparationCnt
0008d0  1c41              ADDS     r1,r0,#1              ;611
0008d2  f8a91006          STRH     r1,[r9,#6]            ;611
0008d6  f89a1103          LDRB     r1,[r10,#0x103]       ;611
0008da  4288              CMP      r0,r1                 ;611
0008dc  bf34              ITE      CC                    ;613
0008de  2100              MOVCC    r1,#0                 ;613
0008e0  f8a9b006          STRHCS   r11,[r9,#6]           ;639
0008e4  d23c              BCS      |L10.2400|
0008e6  bf00              NOP                            ;614
                  |L10.2280|
0008e8  eb040041          ADD      r0,r4,r1,LSL #1       ;614
0008ec  1c89              ADDS     r1,r1,#2              ;615
0008ee  f8a0b0a1          STRH     r11,[r0,#0xa1]        ;614
0008f2  f8a0b081          STRH     r11,[r0,#0x81]        ;615
0008f6  f8a0b0a3          STRH     r11,[r0,#0xa3]        ;614
0008fa  f8a0b083          STRH     r11,[r0,#0x83]        ;615
0008fe  290a              CMP      r1,#0xa               ;615
000900  dbf2              BLT      |L10.2280|
000902  f8941319          LDRB     r1,[r4,#0x319]        ;617
000906  2000              MOVS     r0,#0                 ;617
000908  2900              CMP      r1,#0                 ;617
00090a  e000              B        |L10.2318|
                  |L10.2316|
00090c  e021              B        |L10.2386|
                  |L10.2318|
00090e  bfc8              IT       GT                    ;324
000910  2501              MOVGT    r5,#1                 ;324
000912  dd1c              BLE      |L10.2382|
                  |L10.2324|
000914  eb040c40          ADD      r12,r4,r0,LSL #1      ;618
000918  f8bc137e          LDRH     r1,[r12,#0x37e]       ;618
00091c  b191              CBZ      r1,|L10.2372|
00091e  eb0401c0          ADD      r1,r4,r0,LSL #3       ;624
000922  f8d1767c          LDR      r7,[r1,#0x67c]        ;624
000926  4417              ADD      r7,r7,r2              ;624
000928  f8c17001          STR      r7,[r1,#1]            ;624
00092c  f8d17680          LDR      r7,[r1,#0x680]        ;625
000930  441f              ADD      r7,r7,r3              ;625
000932  f8c17005          STR      r7,[r1,#5]            ;625
000936  f8ac50a1          STRH     r5,[r12,#0xa1]        ;631
00093a  1821              ADDS     r1,r4,r0              ;633
00093c  f8ac5081          STRH     r5,[r12,#0x81]        ;632
000940  f88109a5          STRB     r0,[r1,#0x9a5]        ;633
                  |L10.2372|
000944  f8941319          LDRB     r1,[r4,#0x319]        ;633
000948  1c40              ADDS     r0,r0,#1              ;633
00094a  4281              CMP      r1,r0                 ;633
00094c  dce2              BGT      |L10.2324|
                  |L10.2382|
00094e  7021              STRB     r1,[r4,#0]            ;636
000950  e006              B        |L10.2400|
                  |L10.2386|
000952  f8b90006          LDRH     r0,[r9,#6]            ;643  ; WrongSeparationCnt
000956  2800              CMP      r0,#0                 ;643
000958  bf1c              ITT      NE                    ;643
00095a  1e40              SUBNE    r0,r0,#1              ;643
00095c  f8a90006          STRHNE   r0,[r9,#6]            ;643
                  |L10.2400|
000960  4847              LDR      r0,|L10.2688|
000962  7046              STRB     r6,[r0,#1]            ;648
000964  b005              ADD      sp,sp,#0x14
000966  e8bd8ff0          POP      {r4-r11,pc}
                  |L10.2410|
00096a  7823              LDRB     r3,[r4,#0]            ;661
00096c  f8948319          LDRB     r8,[r4,#0x319]        ;662
000970  2b01              CMP      r3,#1                 ;664
000972  dd0e              BLE      |L10.2450|
000974  4543              CMP      r3,r8                 ;664
000976  d113              BNE      |L10.2464|
000978  78b0              LDRB     r0,[r6,#2]            ;664  ; fixed_touchnum
00097a  b998              CBNZ     r0,|L10.2468|
00097c  69f0              LDR      r0,[r6,#0x1c]         ;665  ; maintain_touchnum_cnt
00097e  1c40              ADDS     r0,r0,#1              ;665
000980  61f0              STR      r0,[r6,#0x1c]         ;666  ; maintain_touchnum_cnt
000982  f8921102          LDRB     r1,[r2,#0x102]        ;666
000986  4281              CMP      r1,r0                 ;666
000988  bf38              IT       CC                    ;667
00098a  f8868002          STRBCC   r8,[r6,#2]            ;667
00098e  d26d              BCS      |L10.2668|
000990  e006              B        |L10.2464|
                  |L10.2450|
000992  0018              MOVS     r0,r3                 ;669
000994  bf04              ITT      EQ                    ;671
000996  f8c6b01c          STREQ    r11,[r6,#0x1c]        ;671  ; maintain_touchnum_cnt
00099a  f886b002          STRBEQ   r11,[r6,#2]           ;671
00099e  d065              BEQ      |L10.2668|
                  |L10.2464|
0009a0  78b0              LDRB     r0,[r6,#2]            ;674  ; fixed_touchnum
0009a2  b3e8              CBZ      r0,|L10.2592|
                  |L10.2468|
0009a4  b2c0              UXTB     r0,r0                 ;677
0009a6  2801              CMP      r0,#1                 ;677
0009a8  bf9c              ITT      LS
0009aa  b005              ADDLS    sp,sp,#0x14
0009ac  e8bd8ff0          POPLS    {r4-r11,pc}
0009b0  4598              CMP      r8,r3                 ;677
0009b2  bfc7              ITTEE    GT                    ;681
0009b4  f04f0900          MOVGT    r9,#0                 ;681
0009b8  f1b80f00          CMPGT    r8,#0                 ;681
0009bc  b005              ADDLE    sp,sp,#0x14
0009be  e8bd8ff0          POPLE    {r4-r11,pc}
0009c2  f8d6a01c          LDR      r10,[r6,#0x1c]        ;686
0009c6  f1ca000a          RSB      r0,r10,#0xa           ;686
0009ca  0840              LSRS     r0,r0,#1              ;686
0009cc  0200              LSLS     r0,r0,#8              ;686
0009ce  f5006780          ADD      r7,r0,#0x400          ;686
0009d2  bf00              NOP                            ;683
                  |L10.2516|
0009d4  eb0400c9          ADD      r0,r4,r9,LSL #3       ;683
0009d8  2100              MOVS     r1,#0                 ;685
0009da  f8d0531a          LDR      r5,[r0,#0x31a]        ;683
0009de  f8d0c31e          LDR      r12,[r0,#0x31e]       ;684
0009e2  2b00              CMP      r3,#0                 ;685
0009e4  bfdc              ITT      LE
0009e6  b005              ADDLE    sp,sp,#0x14
0009e8  e8bd8ff0          POPLE    {r4-r11,pc}
                  |L10.2540|
0009ec  eb0400c1          ADD      r0,r4,r1,LSL #3       ;686
0009f0  f8d02001          LDR      r2,[r0,#1]            ;686
0009f4  f8d00005          LDR      r0,[r0,#5]            ;686
0009f8  1aaa              SUBS     r2,r5,r2              ;686
0009fa  ebac0000          SUB      r0,r12,r0             ;686
0009fe  bf48              IT       MI                    ;686
000a00  4252              RSBMI    r2,r2,#0              ;686
000a02  2800              CMP      r0,#0                 ;686
000a04  bfb8              IT       LT                    ;686
000a06  4240              RSBLT    r0,r0,#0              ;686
000a08  4410              ADD      r0,r0,r2              ;686
000a0a  42b8              CMP      r0,r7                 ;686
000a0c  d23a              BCS      |L10.2692|
000a0e  f1090901          ADD      r9,r9,#1              ;686
000a12  45c1              CMP      r9,r8                 ;691
000a14  dbde              BLT      |L10.2516|
000a16  2000              MOVS     r0,#0                 ;719
000a18  f1b80f00          CMP      r8,#0                 ;719
000a1c  dd1a              BLE      |L10.2644|
                  |L10.2590|
000a1e  e000              B        |L10.2594|
                  |L10.2592|
000a20  e024              B        |L10.2668|
                  |L10.2594|
000a22  eb0401c0          ADD      r1,r4,r0,LSL #3       ;721
000a26  f8d1231a          LDR      r2,[r1,#0x31a]        ;721
000a2a  f8c12001          STR      r2,[r1,#1]            ;721
000a2e  f8d1231e          LDR      r2,[r1,#0x31e]        ;721
000a32  f8c12005          STR      r2,[r1,#5]            ;721
000a36  eb040140          ADD      r1,r4,r0,LSL #1       ;725
000a3a  1c40              ADDS     r0,r0,#1              ;726
000a3c  f8b1237e          LDRH     r2,[r1,#0x37e]        ;725
000a40  f8a120a1          STRH     r2,[r1,#0xa1]         ;725
000a44  f8b1236a          LDRH     r2,[r1,#0x36a]        ;726
000a48  f8a12081          STRH     r2,[r1,#0x81]         ;726
000a4c  f8941319          LDRB     r1,[r4,#0x319]        ;726
000a50  4281              CMP      r1,r0                 ;726
000a52  dce4              BGT      |L10.2590|
                  |L10.2644|
000a54  f8940319          LDRB     r0,[r4,#0x319]        ;731
000a58  7020              STRB     r0,[r4,#0]            ;731
000a5a  f1ba0001          SUBS     r0,r10,#1             ;733
000a5e  61f0              STR      r0,[r6,#0x1c]         ;733  ; maintain_touchnum_cnt
000a60  bf08              IT       EQ                    ;734
000a62  f886b002          STRBEQ   r11,[r6,#2]           ;734
000a66  b005              ADD      sp,sp,#0x14
000a68  e8bd8ff0          POP      {r4-r11,pc}
                  |L10.2668|
000a6c  4543              CMP      r3,r8                 ;674
000a6e  bf18              IT       NE                    ;675
000a70  f8c6b01c          STRNE    r11,[r6,#0x1c]        ;675  ; maintain_touchnum_cnt
                  |L10.2676|
000a74  b005              ADD      sp,sp,#0x14
000a76  e8bd8ff0          POP      {r4-r11,pc}
000a7a  0000              DCW      0x0000
                  |L10.2684|
                          DCD      ||area_number.27||+0x30
                  |L10.2688|
                          DCD      ||.data||
                  |L10.2692|
000a84  1c49              ADDS     r1,r1,#1
000a86  428b              CMP      r3,r1                 ;688
000a88  dcb0              BGT      |L10.2540|
000a8a  e7f3              B        |L10.2676|
                  |L10.2700|
000a8c  f8d106f5          LDR      r0,[r1,#0x6f5]        ;764
000a90  f8d1267c          LDR      r2,[r1,#0x67c]        ;764
000a94  ebc00042          RSB      r0,r0,r2,LSL #1       ;764
000a98  f8d126f9          LDR      r2,[r1,#0x6f9]        ;765
000a9c  f8d11680          LDR      r1,[r1,#0x680]        ;765
000aa0  ebc20141          RSB      r1,r2,r1,LSL #1       ;765
000aa4  e47c              B        |L10.928|
                  |L10.2726|
000aa6  5c0e              LDRB     r6,[r1,r0]            ;795
000aa8  f8937103          LDRB     r7,[r3,#0x103]        ;795
000aac  42be              CMP      r6,r7                 ;795
000aae  d223              BCS      |L10.2808|
000ab0  1c76              ADDS     r6,r6,#1              ;795
000ab2  540e              STRB     r6,[r1,r0]            ;797
000ab4  7826              LDRB     r6,[r4,#0]            ;798
000ab6  eb0407c0          ADD      r7,r4,r0,LSL #3       ;798
000aba  eb0406c6          ADD      r6,r4,r6,LSL #3       ;798
000abe  f8d7867c          LDR      r8,[r7,#0x67c]        ;798
000ac2  f8c68001          STR      r8,[r6,#1]            ;798
000ac6  f8d77680          LDR      r7,[r7,#0x680]        ;798
000aca  f8c67005          STR      r7,[r6,#5]            ;798
000ace  7827              LDRB     r7,[r4,#0]            ;799
000ad0  f8b266e0          LDRH     r6,[r2,#0x6e0]        ;799
000ad4  eb040747          ADD      r7,r4,r7,LSL #1       ;799
000ad8  f8a760a1          STRH     r6,[r7,#0xa1]         ;799
000adc  7826              LDRB     r6,[r4,#0]            ;800
000ade  f8b226cc          LDRH     r2,[r2,#0x6cc]        ;800
000ae2  eb040646          ADD      r6,r4,r6,LSL #1       ;800
000ae6  f8a62081          STRH     r2,[r6,#0x81]         ;800
000aea  7822              LDRB     r2,[r4,#0]            ;801
000aec  b2d6              UXTB     r6,r2                 ;801
000aee  5572              STRB     r2,[r6,r5]            ;801
000af0  7822              LDRB     r2,[r4,#0]            ;802
000af2  1c52              ADDS     r2,r2,#1              ;802
000af4  7022              STRB     r2,[r4,#0]            ;802
000af6  e001              B        |L10.2812|
                  |L10.2808|
000af8  f801b000          STRB     r11,[r1,r0]           ;804
                  |L10.2812|
000afc  1c40              ADDS     r0,r0,#1              ;804
000afe  280a              CMP      r0,#0xa               ;804
000b00  f6ffac7a          BLT      |L10.1016|
000b04  e7b6              B        |L10.2676|
000b06  bf00              NOP                            ;809
                  |L10.2824|
000b08  f8c7b03a          STR      r11,[r7,#0x3a]        ;809  ; gReleaseCnt
000b0c  f8c7b03e          STR      r11,[r7,#0x3e]        ;809  ; gReleaseCnt
000b10  f8a7b042          STRH     r11,[r7,#0x42]        ;809
000b14  e7ae              B        |L10.2676|
                  |L10.2838|
000b16  4603              MOV      r3,r0                 ;288
000b18  f7ffbb45          B        |L10.422|
                  |L10.2844|
000b1c  4680              MOV      r8,r0                 ;556
000b1e  e64d              B        |L10.1980|
;;;813    void algorithm_coord_drawing_assistance(int mode)
                          ENDP


                          AREA ||i.algorithm_coord_compensation||, CODE, READONLY, ALIGN=2

                  algorithm_coord_compensation PROC
;;;2793   
;;;2794   void algorithm_coord_compensation(int mode)
000000  2800              CMP      r0,#0
;;;2795   {
;;;2796   	if(mode == FULL_MODE)
;;;2797   		return;
;;;2798   
;;;2799   	int coefA,coefB;
;;;2800   
;;;2801   	if(mode == LOCAL_MODE)
;;;2802   	{
;;;2803   		coefA = thisModeConf->PenCoord.ucCompenCoefA;
;;;2804   		coefB = thisModeConf->PenCoord.ucCompenCoefB;
;;;2805   	}
;;;2806   	else if(mode == LOCAL_RING_MODE)
;;;2807   	{
;;;2808   		coefA = thisModeConf->PenTilt.ucRingCompenCoefA;
;;;2809   		coefB = thisModeConf->PenTilt.ucRingCompenCoefB;
;;;2810   	}
;;;2811   	else if(mode == LOCAL_HOVER_MODE)
;;;2812   	{
;;;2813   		coefA = thisModeConf->PenCoord.ucHoverCompenCoefA;
;;;2814   		coefB = thisModeConf->PenCoord.ucHoverCompenCoefB;	
;;;2815   	}	
;;;2816   	
;;;2817   	if(coefA > 0)
;;;2818   	{
;;;2819   		if( thisInfo->tCoord_local_dsp.tPos.vusR > 0 )
;;;2820   		{
;;;2821   			tXY_t TmpPos;
;;;2822   			TmpPos.x = thisInfo->tCoord_local_dsp.tPos.tXY.x + (UNIT_DIST>>1);
;;;2823   			TmpPos.y = thisInfo->tCoord_local_dsp.tPos.tXY.y + (UNIT_DIST>>1);
;;;2824   //			int x = thisInfo->tCoord_local_dsp.tPos.tXY.x + (UNIT_DIST>>1);
;;;2825   //			int y = thisInfo->tCoord_local_dsp.tPos.tXY.y + (UNIT_DIST>>1);
;;;2826   			
;;;2827   			// Compensation		
;;;2828   			int XResol = UNIT_DIST;
;;;2829   			int YResol = UNIT_DIST;
;;;2830   
;;;2831   			bool_t Op_Flag = 0;
;;;2832   #if USED_PANEL_HV60x34_SIZE			
;;;2833   			if(gAlgoRawDataType == ACTIVEPEN_TYPE_MS)
;;;2834   			{
;;;2835   				coefA -= 5;
;;;2836   			}
;;;2837   #endif			
;;;2838   			if(thisModeConf->PenCoord.bCompenEdgeOn)Op_Flag = 1;
;;;2839   			else 
;;;2840   			{
;;;2841   				if(!algorithm_coord_IsEdgeArea(&TmpPos,0))Op_Flag = 1;
;;;2842   //				if(TmpPos.x > (1<<POS_BOOST_SHIFT_) && TmpPos.x < ((COL_MAX-1)<<POS_BOOST_SHIFT_))Op_Flag = 1;
;;;2843   			}
;;;2844   			
;;;2845   			if(Op_Flag == 1)
;;;2846   			{
;;;2847   				int OneCellPos = TmpPos.x - (((int)TmpPos.x/(XResol))*(XResol));
;;;2848   				uint8_t Mm = (XResol)/FPITCH_X;
;;;2849   				int OneCellMm = OneCellPos * (1/FPITCH_X);
;;;2850   				if(OneCellPos < (XResol)*0.25) TmpPos.x -= (OneCellMm)*coefA/coefB;
;;;2851   				else if((XResol)*0.25 <= OneCellPos && OneCellPos < (XResol)*0.75) TmpPos.x += (OneCellMm - Mm/2)*coefA/coefB;
;;;2852   				else TmpPos.x += (-OneCellMm+Mm)*coefA/coefB;
;;;2853   //			}
;;;2854   
;;;2855   //			Op_Flag = 0;
;;;2856   //			if(thisModeConf->PenCoord.bCompenEdgeOn)Op_Flag = 1;
;;;2857   //			else 
;;;2858   //			{
;;;2859   //				if(TmpPos.y > (1<<POS_BOOST_SHIFT_) && TmpPos.y < ((ROW_MAX -1)<<POS_BOOST_SHIFT_))Op_Flag = 1;
;;;2860   //			}
;;;2861   			
;;;2862   //			if(Op_Flag == 1)
;;;2863   //			{
;;;2864   				OneCellPos = TmpPos.y - (((int)TmpPos.y/(YResol))*(YResol));
;;;2865   				Mm = (YResol)/FPITCH_Y;  
;;;2866   				OneCellMm = OneCellPos * (1/FPITCH_Y);
;;;2867   				
;;;2868   				if(OneCellPos < (YResol)*0.25)TmpPos.y -= (OneCellMm)*coefA/coefB;
;;;2869   				else if((YResol)*0.25 <= OneCellPos && OneCellPos < (YResol)*0.75)TmpPos.y += (OneCellMm - Mm/2)*coefA/coefB;
;;;2870   				else TmpPos.y += (-OneCellMm+Mm)*coefA/coefB;
;;;2871   			}
;;;2872   			
;;;2873   			thisInfo->tCoord_local_dsp.tPos.tXY.x = TmpPos.x - (UNIT_DIST>>1);
;;;2874   			thisInfo->tCoord_local_dsp.tPos.tXY.y = TmpPos.y - (UNIT_DIST>>1);
;;;2875   			thisInfo->tCoord_local_dsp.tOrgPos.tXY.x = thisInfo->tCoord_local_dsp.tPos.tXY.x;
;;;2876   			thisInfo->tCoord_local_dsp.tOrgPos.tXY.y = thisInfo->tCoord_local_dsp.tPos.tXY.y;
;;;2877   		}
;;;2878   	}
;;;2879   }
000002  bf08              IT       EQ
000004  4770              BXEQ     lr
000006  e92d4ff0          PUSH     {r4-r11,lr}           ;2795
00000a  4e6c              LDR      r6,|L11.444|
00000c  b08f              SUB      sp,sp,#0x3c           ;2795
00000e  2801              CMP      r0,#1                 ;2801
000010  68f1              LDR      r1,[r6,#0xc]          ;2801
000012  bf04              ITT      EQ                    ;2803
000014  f8914119          LDRBEQ   r4,[r1,#0x119]        ;2803
000018  f891511a          LDRBEQ   r5,[r1,#0x11a]        ;2804
00001c  d00c              BEQ      |L11.56|
00001e  2805              CMP      r0,#5                 ;2806
000020  bf04              ITT      EQ                    ;2808
000022  f8914141          LDRBEQ   r4,[r1,#0x141]        ;2808
000026  f8915142          LDRBEQ   r5,[r1,#0x142]        ;2809
00002a  d005              BEQ      |L11.56|
00002c  2803              CMP      r0,#3                 ;2811
00002e  bf04              ITT      EQ                    ;2813
000030  f891411b          LDRBEQ   r4,[r1,#0x11b]        ;2813
000034  f891511c          LDRBEQ   r5,[r1,#0x11c]        ;2814
                  |L11.56|
000038  2c00              CMP      r4,#0                 ;2817
00003a  bfdc              ITT      LE
00003c  b00f              ADDLE    sp,sp,#0x3c
00003e  e8bd8ff0          POPLE    {r4-r11,pc}
000042  6930              LDR      r0,[r6,#0x10]         ;2819  ; thisInfo
000044  f8b02e8a          LDRH     r2,[r0,#0xe8a]        ;2819
000048  2a00              CMP      r2,#0                 ;2819
00004a  bf04              ITT      EQ
00004c  b00f              ADDEQ    sp,sp,#0x3c
00004e  e8bd8ff0          POPEQ    {r4-r11,pc}
000052  f8d02e80          LDR      r2,[r0,#0xe80]        ;2822
000056  f44f7880          MOV      r8,#0x100             ;2828
00005a  3280              ADDS     r2,r2,#0x80           ;2822
00005c  9202              STR      r2,[sp,#8]            ;2823
00005e  f8d00e84          LDR      r0,[r0,#0xe84]        ;2823
000062  4f57              LDR      r7,|L11.448|
000064  3080              ADDS     r0,r0,#0x80           ;2823
000066  9003              STR      r0,[sp,#0xc]          ;2838
000068  f891011d          LDRB     r0,[r1,#0x11d]        ;2838
00006c  46c3              MOV      r11,r8                ;2829
00006e  b928              CBNZ     r0,|L11.124|
000070  2100              MOVS     r1,#0                 ;2841
000072  a802              ADD      r0,sp,#8              ;2841
000074  f7fffffe          BL       algorithm_coord_IsEdgeArea
000078  2800              CMP      r0,#0                 ;2841
00007a  d16e              BNE      |L11.346|
                  |L11.124|
00007c  9802              LDR      r0,[sp,#8]            ;2847
00007e  9902              LDR      r1,[sp,#8]            ;2847
000080  fb90f0f8          SDIV     r0,r0,r8              ;2847
000084  fb001818          MLS      r8,r0,r8,r1           ;2847
000088  f8dfa138          LDR      r10,|L11.452|
00008c  4639              MOV      r1,r7                 ;2848
00008e  4650              MOV      r0,r10                ;2848
000090  f7fffffe          BL       __aeabi_d2uiz
000094  b2c7              UXTB     r7,r0                 ;2848
000096  4640              MOV      r0,r8                 ;2849
000098  f7fffffe          BL       __aeabi_i2d
00009c  9109              STR      r1,[sp,#0x24]         ;2849
00009e  4680              MOV      r8,r0                 ;2849
0000a0  4652              MOV      r2,r10                ;2849
0000a2  4b49              LDR      r3,|L11.456|
0000a4  910c              STR      r1,[sp,#0x30]         ;2849
0000a6  f7fffffe          BL       __aeabi_dmul
0000aa  f7fffffe          BL       __aeabi_d2iz
0000ae  4681              MOV      r9,r0                 ;2849
0000b0  f06f0201          MVN      r2,#1                 ;2850
0000b4  2000              MOVS     r0,#0                 ;2850
0000b6  4945              LDR      r1,|L11.460|
0000b8  f7fffffe          BL       __ARM_scalbn
0000bc  e9cd0106          STRD     r0,r1,[sp,#0x18]      ;2850
0000c0  4602              MOV      r2,r0                 ;2850
0000c2  460b              MOV      r3,r1                 ;2850
0000c4  4640              MOV      r0,r8                 ;2850
0000c6  990c              LDR      r1,[sp,#0x30]         ;2850
0000c8  f7fffffe          BL       __aeabi_cdcmple
0000cc  d206              BCS      |L11.220|
0000ce  fb09f004          MUL      r0,r9,r4              ;2850
0000d2  fb90f0f5          SDIV     r0,r0,r5              ;2850
0000d6  9902              LDR      r1,[sp,#8]            ;2850
0000d8  1a08              SUBS     r0,r1,r0              ;2850
0000da  e014              B        |L11.262|
                  |L11.220|
0000dc  e9dd0106          LDRD     r0,r1,[sp,#0x18]      ;2851
0000e0  4642              MOV      r2,r8                 ;2851
0000e2  9b09              LDR      r3,[sp,#0x24]         ;2851
0000e4  f7fffffe          BL       __aeabi_cdcmple
0000e8  d80f              BHI      |L11.266|
0000ea  4640              MOV      r0,r8                 ;2851
0000ec  2200              MOVS     r2,#0                 ;2851
0000ee  4b38              LDR      r3,|L11.464|
0000f0  9909              LDR      r1,[sp,#0x24]         ;2851
0000f2  f7fffffe          BL       __aeabi_cdcmple
0000f6  d208              BCS      |L11.266|
0000f8  eba90057          SUB      r0,r9,r7,LSR #1       ;2851
0000fc  4360              MULS     r0,r4,r0              ;2851
0000fe  fb90f0f5          SDIV     r0,r0,r5              ;2851
000102  9902              LDR      r1,[sp,#8]            ;2851
000104  4408              ADD      r0,r0,r1              ;2851
                  |L11.262|
000106  9002              STR      r0,[sp,#8]            ;2851
000108  e007              B        |L11.282|
                  |L11.266|
00010a  eba70009          SUB      r0,r7,r9              ;2852
00010e  4360              MULS     r0,r4,r0              ;2852
000110  fb90f0f5          SDIV     r0,r0,r5              ;2852
000114  9902              LDR      r1,[sp,#8]            ;2852
000116  4408              ADD      r0,r0,r1              ;2852
000118  9002              STR      r0,[sp,#8]            ;2852
                  |L11.282|
00011a  9803              LDR      r0,[sp,#0xc]          ;2864
00011c  9903              LDR      r1,[sp,#0xc]          ;2864
00011e  fb90f0fb          SDIV     r0,r0,r11             ;2864
000122  fb00101b          MLS      r0,r0,r11,r1          ;2864
000126  f7fffffe          BL       __aeabi_i2d
00012a  4680              MOV      r8,r0                 ;2866
00012c  4689              MOV      r9,r1                 ;2866
00012e  4652              MOV      r2,r10                ;2866
000130  4b25              LDR      r3,|L11.456|
000132  f7fffffe          BL       __aeabi_dmul
000136  f7fffffe          BL       __aeabi_d2iz
00013a  e9dd2106          LDRD     r2,r1,[sp,#0x18]      ;2866
00013e  4682              MOV      r10,r0                ;2866
000140  460b              MOV      r3,r1                 ;2868
000142  4640              MOV      r0,r8                 ;2868
000144  4649              MOV      r1,r9                 ;2868
000146  f7fffffe          BL       __aeabi_cdcmple
00014a  d207              BCS      |L11.348|
00014c  fb0af004          MUL      r0,r10,r4             ;2868
000150  fb90f0f5          SDIV     r0,r0,r5              ;2868
000154  9903              LDR      r1,[sp,#0xc]          ;2868
000156  1a08              SUBS     r0,r1,r0              ;2868
000158  e015              B        |L11.390|
                  |L11.346|
00015a  e01e              B        |L11.410|
                  |L11.348|
00015c  e9dd0106          LDRD     r0,r1,[sp,#0x18]      ;2869
000160  4642              MOV      r2,r8                 ;2869
000162  464b              MOV      r3,r9                 ;2869
000164  f7fffffe          BL       __aeabi_cdcmple
000168  d80f              BHI      |L11.394|
00016a  4640              MOV      r0,r8                 ;2869
00016c  4649              MOV      r1,r9                 ;2869
00016e  2200              MOVS     r2,#0                 ;2869
000170  4b17              LDR      r3,|L11.464|
000172  f7fffffe          BL       __aeabi_cdcmple
000176  d208              BCS      |L11.394|
000178  ebaa0057          SUB      r0,r10,r7,LSR #1      ;2869
00017c  4360              MULS     r0,r4,r0              ;2869
00017e  fb90f0f5          SDIV     r0,r0,r5              ;2869
000182  9903              LDR      r1,[sp,#0xc]          ;2869
000184  4408              ADD      r0,r0,r1              ;2869
                  |L11.390|
000186  9003              STR      r0,[sp,#0xc]          ;2868
000188  e007              B        |L11.410|
                  |L11.394|
00018a  eba7000a          SUB      r0,r7,r10             ;2870
00018e  4360              MULS     r0,r4,r0              ;2870
000190  fb90f0f5          SDIV     r0,r0,r5              ;2870
000194  9903              LDR      r1,[sp,#0xc]          ;2870
000196  4408              ADD      r0,r0,r1              ;2870
000198  9003              STR      r0,[sp,#0xc]          ;2870
                  |L11.410|
00019a  9802              LDR      r0,[sp,#8]            ;2873
00019c  f1a00180          SUB      r1,r0,#0x80           ;2873
0001a0  6930              LDR      r0,[r6,#0x10]         ;2873  ; thisInfo
0001a2  f8c01e80          STR      r1,[r0,#0xe80]        ;2874
0001a6  9a03              LDR      r2,[sp,#0xc]          ;2874
0001a8  3a80              SUBS     r2,r2,#0x80           ;2874
0001aa  f8c02e84          STR      r2,[r0,#0xe84]        ;2876
0001ae  f8c02ec4          STR      r2,[r0,#0xec4]        ;2876
0001b2  f8c01ec0          STR      r1,[r0,#0xec0]        ;2876
0001b6  b00f              ADD      sp,sp,#0x3c
0001b8  e8bd8ff0          POP      {r4-r11,pc}
;;;2880   
                          ENDP

                  |L11.444|
                          DCD      ||.data||
                  |L11.448|
                          DCD      0x40436c61
                  |L11.452|
                          DCD      0xe4ceaa26
                  |L11.456|
                          DCD      0x3fc36c61
                  |L11.460|
                          DCD      0x40700000
                  |L11.464|
                          DCD      0x40680000

                          AREA ||i.algorithm_coord_drawing_assistance||, CODE, READONLY, ALIGN=2

                  algorithm_coord_drawing_assistance PROC
;;;812    }
;;;813    void algorithm_coord_drawing_assistance(int mode)
000000  e92d4ff0          PUSH     {r4-r11,lr}
;;;814    {
;;;815    	int l,i,j;
;;;816    //	int r,c,_d;
;;;817    //	uint32_t ulStrength = 0;
;;;818    	tXY_t CoordAry[5], CoordTmp;//, PredCoord[5],ProjectionVector;
;;;819    	uint8_t ColMinLabelIdx=0,  ColMaxLabelIdx=0,  RowMinLabelIdx=0,  RowMaxLabelIdx=0;
000004  2000              MOVS     r0,#0
000006  b09b              SUB      sp,sp,#0x6c           ;814
;;;820    	int ColMin=INT32_MAX, ColMax=0, RowMin=INT32_MAX, RowMax=0, Width=0, Height=0;
000008  4681              MOV      r9,r0
00000a  900b              STR      r0,[sp,#0x2c]         ;819
00000c  9011              STR      r0,[sp,#0x44]         ;819
00000e  9010              STR      r0,[sp,#0x40]         ;819
000010  4683              MOV      r11,r0
;;;821    	int idx,JitterSum=0;
000012  4607              MOV      r7,r0
;;;822    
;;;823    //	tLabelInfo_t	*temp_label;
;;;824    	tCoordInfo_t 	*temp_coord;
;;;825    
;;;826    	{
;;;827    		temp_coord = &thisInfo->tCoord;
000014  900f              STR      r0,[sp,#0x3c]
000016  48f2              LDR      r0,|L12.992|
000018  f06f4a00          MVN      r10,#0x80000000       ;820
00001c  46d0              MOV      r8,r10                ;820
00001e  6906              LDR      r6,[r0,#0x10]  ; thisInfo
000020  f5067457          ADD      r4,r6,#0x35c
;;;828    //		temp_label = &thisInfo->tLabel;
;;;829    	}
;;;830    	
;;;831    	if(temp_coord->tTempPos.sFinger_ == 0){
000024  f896035c          LDRB     r0,[r6,#0x35c]
;;;832    		thisInfo->WinCertMode = 0;
000028  f5065580          ADD      r5,r6,#0x1000
00002c  900d              STR      r0,[sp,#0x34]         ;814
00002e  b150              CBZ      r0,|L12.70|
;;;833    		thisInfo->DrawingDirection = 0;
;;;834    		thisInfo->WinCertTrackingDist = 0;
;;;835    		thisInfo->TouchNumCnt = 0;
;;;836    	}
;;;837    	else if(temp_coord->tTempPos.sFinger_ == temp_coord->tOrgPastPos[0].sFinger_)
000030  f894167b          LDRB     r1,[r4,#0x67b]
000034  4288              CMP      r0,r1
;;;838    		thisInfo->TouchNumCnt++;
000036  bf06              ITTE     EQ
000038  f8b50176          LDRHEQ   r0,[r5,#0x176]
00003c  1c40              ADDEQ    r0,r0,#1
;;;839    	else
;;;840    		thisInfo->TouchNumCnt = 0;
00003e  2000              MOVNE    r0,#0
000040  f8a50176          STRH     r0,[r5,#0x176]        ;838
000044  e008              B        |L12.88|
                  |L12.70|
000046  2000              MOVS     r0,#0                 ;832
000048  f8850171          STRB     r0,[r5,#0x171]        ;832
00004c  f8850172          STRB     r0,[r5,#0x172]        ;833
000050  f8a50174          STRH     r0,[r5,#0x174]        ;834
000054  f8a50176          STRH     r0,[r5,#0x176]        ;835
                  |L12.88|
000058  980d              LDR      r0,[sp,#0x34]         ;835
00005a  900c              STR      r0,[sp,#0x30]         ;827
;;;841    	
;;;842    	//detect win cert state
;;;843    //	if( temp_coord->tTempPos.sFinger_ == 5 && thisInfo->WinCertMode == 0 &&
;;;844    //	   (thisInfo->tDelta.tValidRect.re - thisInfo->tDelta.tValidRect.rs + 1) < (thisModeConf->Coord.usCenterMatchDistanceThd << 1) && (thisInfo->tDelta.tValidRect.ce - thisInfo->tDelta.tValidRect.cs + 1) < (thisModeConf->Coord.usCenterMatchDistanceThd << 1) )
;;;845    	if(temp_coord->tTempPos.sFinger_ > 1 && temp_coord->tTempPos.sFinger_ <= 5 && thisInfo->WinCertMode == 0)
00005c  1e81              SUBS     r1,r0,#2
00005e  48e0              LDR      r0,|L12.992|
000060  2903              CMP      r1,#3
;;;846    	{	
;;;847    		memcpy(CoordAry, temp_coord->tTempPos.tXY, sizeof(CoordAry));
;;;848    		for(l = temp_coord->tTempPos.sFinger_; l--;)
;;;849    		{
;;;850    			if(temp_coord->tTempPos.tXY[l].x < ColMin)	ColMin = temp_coord->tTempPos.tXY[l].x, ColMinLabelIdx = l;
;;;851    			if(temp_coord->tTempPos.tXY[l].x > ColMax)	ColMax = temp_coord->tTempPos.tXY[l].x, ColMaxLabelIdx = l;
;;;852    			if(temp_coord->tTempPos.tXY[l].y < RowMin)	RowMin = temp_coord->tTempPos.tXY[l].y, RowMinLabelIdx = l;
;;;853    			if(temp_coord->tTempPos.tXY[l].y > RowMax)	RowMax = temp_coord->tTempPos.tXY[l].y, RowMaxLabelIdx = l;
;;;854    			
;;;855    		}
;;;856    		Width = abs(temp_coord->tTempPos.tXY[ColMaxLabelIdx].x - temp_coord->tTempPos.tXY[ColMinLabelIdx].x);
;;;857    		Height = abs(temp_coord->tTempPos.tXY[RowMaxLabelIdx].y - temp_coord->tTempPos.tXY[RowMinLabelIdx].y);
;;;858    		
;;;859    		if(Width > Height){
;;;860    			CoordTmp = CoordAry[ColMinLabelIdx];
;;;861    			CoordAry[ColMinLabelIdx] = CoordAry[0];
;;;862    			CoordAry[0] = CoordTmp;
;;;863    			
;;;864    			CoordTmp = CoordAry[ColMaxLabelIdx];
;;;865    			CoordAry[ColMaxLabelIdx] = CoordAry[1];
;;;866    			CoordAry[1] = CoordTmp;
;;;867    			
;;;868    			for(idx=1; idx<temp_coord->tTempPos.sFinger_;idx++){
;;;869    				if(CoordAry[idx].x == CoordAry[0].x)
;;;870    					JitterSum += CoordAry[idx].y - CoordAry[0].y;
;;;871    				else
;;;872    					JitterSum += abs(Height - (abs(CoordAry[idx].y - CoordAry[0].y) * Width / abs(CoordAry[idx].x - CoordAry[0].x)));
;;;873    			}
;;;874    //			TotalRect = algorithm_merge_rect(temp_coord->tTempPos.rect[ColMinLabelIdx], temp_coord->tTempPos.rect[ColMaxLabelIdx]);
;;;875    		}
;;;876    		else{
;;;877    			CoordTmp = CoordAry[RowMinLabelIdx];
;;;878    			CoordAry[RowMinLabelIdx] = CoordAry[0];
;;;879    			CoordAry[0] = CoordTmp;
;;;880    			
;;;881    			CoordTmp = CoordAry[RowMaxLabelIdx];
;;;882    			CoordAry[RowMaxLabelIdx] = CoordAry[1];
;;;883    			CoordAry[1] = CoordTmp;
;;;884    			
;;;885    			for(idx=1; idx<temp_coord->tTempPos.sFinger_;idx++){
;;;886    				if(CoordAry[idx].y == CoordAry[0].y)
;;;887    					JitterSum += abs(CoordAry[idx].x - CoordAry[0].x);
;;;888    				else
;;;889    					JitterSum += abs(Width - (abs(CoordAry[idx].x - CoordAry[0].x) * Height / abs(CoordAry[idx].y - CoordAry[0].y)));
;;;890    			}
;;;891    //			TotalRect = algorithm_merge_rect(temp_coord->tTempPos.rect[RowMinLabelIdx], temp_coord->tTempPos.rect[RowMaxLabelIdx]);
;;;892    		}
;;;893    		
;;;894    		if(JitterSum < 500)
;;;895    		{
;;;896    			if( temp_coord->tTempPos.sFinger_ == 5 && thisInfo->WinCertMode == 0 &&
000062  68c0              LDR      r0,[r0,#0xc]
000064  9016              STR      r0,[sp,#0x58]         ;845
000066  bf9c              ITT      LS                    ;845
000068  f8950171          LDRBLS   r0,[r5,#0x171]        ;845
00006c  2800              CMPLS    r0,#0                 ;845
00006e  f040810b          BNE.W    |L12.648|
000072  f04f0228          MOV      r2,#0x28              ;847
000076  f1040101          ADD      r1,r4,#1              ;847
00007a  4668              MOV      r0,sp                 ;847
00007c  f7fffffe          BL       __aeabi_memcpy
000080  980c              LDR      r0,[sp,#0x30]         ;847
000082  990d              LDR      r1,[sp,#0x34]         ;848
000084  1e40              SUBS     r0,r0,#1              ;847
000086  b1d9              CBZ      r1,|L12.192|
                  |L12.136|
000088  eb0402c0          ADD      r2,r4,r0,LSL #3       ;850
00008c  f8d21001          LDR      r1,[r2,#1]            ;850
000090  4551              CMP      r1,r10                ;850
000092  da02              BGE      |L12.154|
000094  b2c3              UXTB     r3,r0                 ;850
000096  468a              MOV      r10,r1                ;850
000098  9311              STR      r3,[sp,#0x44]         ;850
                  |L12.154|
00009a  4549              CMP      r1,r9                 ;851
00009c  dd02              BLE      |L12.164|
00009e  4689              MOV      r9,r1                 ;851
0000a0  b2c1              UXTB     r1,r0                 ;851
0000a2  910b              STR      r1,[sp,#0x2c]         ;851
                  |L12.164|
0000a4  f8d21005          LDR      r1,[r2,#5]            ;852
0000a8  4541              CMP      r1,r8                 ;852
0000aa  da02              BGE      |L12.178|
0000ac  b2c2              UXTB     r2,r0                 ;852
0000ae  4688              MOV      r8,r1                 ;852
0000b0  9210              STR      r2,[sp,#0x40]         ;852
                  |L12.178|
0000b2  4559              CMP      r1,r11                ;853
0000b4  dd02              BLE      |L12.188|
0000b6  468b              MOV      r11,r1                ;853
0000b8  b2c1              UXTB     r1,r0                 ;853
0000ba  910f              STR      r1,[sp,#0x3c]         ;853
                  |L12.188|
0000bc  1e40              SUBS     r0,r0,#1              ;853
0000be  d2e3              BCS      |L12.136|
                  |L12.192|
0000c0  980b              LDR      r0,[sp,#0x2c]         ;856
0000c2  eb0400c0          ADD      r0,r4,r0,LSL #3       ;856
0000c6  f8d01001          LDR      r1,[r0,#1]            ;856
0000ca  9811              LDR      r0,[sp,#0x44]         ;856
0000cc  eb0400c0          ADD      r0,r4,r0,LSL #3       ;856
0000d0  f8d00001          LDR      r0,[r0,#1]            ;856
0000d4  1a0a              SUBS     r2,r1,r0              ;856
0000d6  bf48              IT       MI                    ;856
0000d8  4252              RSBMI    r2,r2,#0              ;856
0000da  980f              LDR      r0,[sp,#0x3c]         ;857
0000dc  eb0400c0          ADD      r0,r4,r0,LSL #3       ;857
0000e0  f8d01005          LDR      r1,[r0,#5]            ;857
0000e4  9810              LDR      r0,[sp,#0x40]         ;857
0000e6  eb0400c0          ADD      r0,r4,r0,LSL #3       ;857
0000ea  f8d00005          LDR      r0,[r0,#5]            ;857
0000ee  1a09              SUBS     r1,r1,r0              ;857
0000f0  bf48              IT       MI                    ;857
0000f2  4249              RSBMI    r1,r1,#0              ;857
0000f4  46ec              MOV      r12,sp                ;818
0000f6  428a              CMP      r2,r1                 ;859
0000f8  dd48              BLE      |L12.396|
0000fa  9811              LDR      r0,[sp,#0x44]         ;860
0000fc  e9dd9a00          LDRD     r9,r10,[sp,#0]        ;860
000100  eb0c03c0          ADD      r3,r12,r0,LSL #3      ;860
000104  e9d30800          LDRD     r0,r8,[r3,#0]         ;860
000108  e9c39a00          STRD     r9,r10,[r3,#0]        ;860
00010c  e9cd0800          STRD     r0,r8,[sp,#0]         ;860
000110  980b              LDR      r0,[sp,#0x2c]         ;864
000112  e9dd9a02          LDRD     r9,r10,[sp,#8]        ;864
000116  eb0c00c0          ADD      r0,r12,r0,LSL #3      ;864
00011a  e9d03800          LDRD     r3,r8,[r0,#0]         ;864
00011e  e9c09a00          STRD     r9,r10,[r0,#0]        ;864
000122  e9cd3802          STRD     r3,r8,[sp,#8]         ;868
000126  7823              LDRB     r3,[r4,#0]            ;868
000128  2001              MOVS     r0,#1                 ;868
00012a  2b01              CMP      r3,#1                 ;868
00012c  dd61              BLE      |L12.498|
00012e  bf00              NOP                            ;869
                  |L12.304|
000130  f85c9030          LDR      r9,[r12,r0,LSL #3]    ;869
000134  f8dd8000          LDR      r8,[sp,#0]            ;869
000138  45c1              CMP      r9,r8                 ;869
00013a  eb0c08c0          ADD      r8,r12,r0,LSL #3      ;872
00013e  f8d88004          LDR      r8,[r8,#4]            ;872
000142  d108              BNE      |L12.342|
000144  f8dd9004          LDR      r9,[sp,#4]            ;870
000148  eba80809          SUB      r8,r8,r9              ;870
00014c  4447              ADD      r7,r7,r8              ;870
                  |L12.334|
00014e  1c40              ADDS     r0,r0,#1              ;870
000150  4283              CMP      r3,r0                 ;872
000152  dced              BGT      |L12.304|
000154  e04a              B        |L12.492|
                  |L12.342|
000156  f8dda004          LDR      r10,[sp,#4]           ;872
00015a  ebb8080a          SUBS     r8,r8,r10             ;872
00015e  f8dda000          LDR      r10,[sp,#0]           ;872
000162  eba9090a          SUB      r9,r9,r10             ;872
000166  bf48              IT       MI                    ;872
000168  f1c80800          RSBMI    r8,r8,#0              ;872
00016c  fb08f802          MUL      r8,r8,r2              ;872
000170  f1b90f00          CMP      r9,#0                 ;872
000174  bfb8              IT       LT                    ;872
000176  f1c90900          RSBLT    r9,r9,#0              ;872
00017a  fb98f8f9          SDIV     r8,r8,r9              ;872
00017e  ebb10808          SUBS     r8,r1,r8              ;872
000182  bf48              IT       MI                    ;872
000184  f1c80800          RSBMI    r8,r8,#0              ;872
000188  4447              ADD      r7,r7,r8              ;872
00018a  e7e0              B        |L12.334|
                  |L12.396|
00018c  9810              LDR      r0,[sp,#0x40]         ;877
00018e  e9dd9a00          LDRD     r9,r10,[sp,#0]        ;877
000192  eb0c00c0          ADD      r0,r12,r0,LSL #3      ;877
000196  e9d03800          LDRD     r3,r8,[r0,#0]         ;877
00019a  e9c09a00          STRD     r9,r10,[r0,#0]        ;877
00019e  e9cd3800          STRD     r3,r8,[sp,#0]         ;877
0001a2  980f              LDR      r0,[sp,#0x3c]         ;881
0001a4  e9dd9a02          LDRD     r9,r10,[sp,#8]        ;881
0001a8  eb0c00c0          ADD      r0,r12,r0,LSL #3      ;881
0001ac  e9d03800          LDRD     r3,r8,[r0,#0]         ;881
0001b0  e9c09a00          STRD     r9,r10,[r0,#0]        ;881
0001b4  e9cd3802          STRD     r3,r8,[sp,#8]         ;885
0001b8  7823              LDRB     r3,[r4,#0]            ;885
0001ba  2001              MOVS     r0,#1                 ;885
0001bc  2b01              CMP      r3,#1                 ;885
0001be  dd18              BLE      |L12.498|
                  |L12.448|
0001c0  eb0c08c0          ADD      r8,r12,r0,LSL #3      ;886
0001c4  f8dd9004          LDR      r9,[sp,#4]            ;886
0001c8  f8d88004          LDR      r8,[r8,#4]            ;886
0001cc  45c8              CMP      r8,r9                 ;886
0001ce  d119              BNE      |L12.516|
0001d0  f85c8030          LDR      r8,[r12,r0,LSL #3]    ;887
0001d4  f8dd9000          LDR      r9,[sp,#0]            ;887
0001d8  ebb80809          SUBS     r8,r8,r9              ;887
0001dc  d502              BPL      |L12.484|
0001de  bf00              NOP                            ;887
                  |L12.480|
0001e0  f1c80800          RSB      r8,r8,#0              ;887
                  |L12.484|
0001e4  1c40              ADDS     r0,r0,#1              ;889
0001e6  4447              ADD      r7,r7,r8              ;889
0001e8  4283              CMP      r3,r0                 ;889
0001ea  dce9              BGT      |L12.448|
                  |L12.492|
0001ec  f5b77ffa          CMP      r7,#0x1f4             ;894
0001f0  da4a              BGE      |L12.648|
                  |L12.498|
0001f2  b2d8              UXTB     r0,r3
0001f4  2301              MOVS     r3,#1                 ;868
0001f6  2805              CMP      r0,#5
0001f8  bf04              ITT      EQ
0001fa  f8950171          LDRBEQ   r0,[r5,#0x171]
0001fe  2800              CMPEQ    r0,#0
000200  d135              BNE      |L12.622|
000202  e019              B        |L12.568|
                  |L12.516|
000204  f85c9030          LDR      r9,[r12,r0,LSL #3]    ;889
000208  f8dda000          LDR      r10,[sp,#0]           ;889
00020c  ebb9090a          SUBS     r9,r9,r10             ;889
000210  f8dda004          LDR      r10,[sp,#4]           ;889
000214  eba8080a          SUB      r8,r8,r10             ;889
000218  bf48              IT       MI                    ;889
00021a  f1c90900          RSBMI    r9,r9,#0              ;889
00021e  fb09f901          MUL      r9,r9,r1              ;889
000222  f1b80f00          CMP      r8,#0                 ;889
000226  bfb8              IT       LT                    ;889
000228  f1c80800          RSBLT    r8,r8,#0              ;889
00022c  fb99f8f8          SDIV     r8,r9,r8              ;889
000230  ebb20808          SUBS     r8,r2,r8              ;889
000234  d5d6              BPL      |L12.484|
000236  e7d3              B        |L12.480|
                  |L12.568|
000238  f996000e          LDRSB    r0,[r6,#0xe]
00023c  f996c00d          LDRSB    r12,[r6,#0xd]
000240  eba0000c          SUB      r0,r0,r12
000244  f1000c01          ADD      r12,r0,#1
000248  9816              LDR      r0,[sp,#0x58]
00024a  f8d000af          LDR      r0,[r0,#0xaf]
00024e  ebbc0f40          CMP      r12,r0,LSL #1
000252  d20c              BCS      |L12.622|
000254  f996c010          LDRSB    r12,[r6,#0x10]
000258  f996700f          LDRSB    r7,[r6,#0xf]
00025c  ebac0c07          SUB      r12,r12,r7
000260  f10c0c01          ADD      r12,r12,#1
000264  ebbc0f40          CMP      r12,r0,LSL #1
;;;897    				(thisInfo->tDelta.tValidRect.re - thisInfo->tDelta.tValidRect.rs + 1) < (thisModeConf->Coord.usCenterMatchDistanceThd << 1) && 
;;;898    				(thisInfo->tDelta.tValidRect.ce - thisInfo->tDelta.tValidRect.cs + 1) < (thisModeConf->Coord.usCenterMatchDistanceThd << 1) )
;;;899    					thisInfo->WinCertMode = YES;
000268  bf38              IT       CC
00026a  f8853171          STRBCC   r3,[r5,#0x171]
                  |L12.622|
;;;900    
;;;901    			if(Width > (Height<<4))				//Horizontal
00026e  ebb21f01          CMP      r2,r1,LSL #4
;;;902    				thisInfo->DrawingDirection = 1;
000272  bfc8              IT       GT
000274  f8853172          STRBGT   r3,[r5,#0x172]
000278  dc06              BGT      |L12.648|
;;;903    			else if(Height > (Width<<4))		//Vertical
00027a  ebb11f02          CMP      r1,r2,LSL #4
;;;904    				thisInfo->DrawingDirection = 2;
00027e  bfcc              ITE      GT
000280  2002              MOVGT    r0,#2
;;;905    			else
;;;906    				thisInfo->DrawingDirection = 3;		//Diagonal
000282  2003              MOVLE    r0,#3
000284  f8850172          STRB     r0,[r5,#0x172]        ;904
                  |L12.648|
;;;907    		}
;;;908    	}
;;;909    	
;;;910    	if( (thisInfo->tDelta.tValidRect.re - thisInfo->tDelta.tValidRect.rs + 1) >= (thisModeConf->Coord.usCenterMatchDistanceThd +5) ||
000288  f996000e          LDRSB    r0,[r6,#0xe]
00028c  f996100d          LDRSB    r1,[r6,#0xd]
000290  1a40              SUBS     r0,r0,r1
000292  1c41              ADDS     r1,r0,#1
000294  9816              LDR      r0,[sp,#0x58]
000296  f8d000af          LDR      r0,[r0,#0xaf]
00029a  1d40              ADDS     r0,r0,#5
00029c  4281              CMP      r1,r0
00029e  d207              BCS      |L12.688|
0002a0  f9961010          LDRSB    r1,[r6,#0x10]
0002a4  f996200f          LDRSB    r2,[r6,#0xf]
0002a8  1a89              SUBS     r1,r1,r2
0002aa  1c49              ADDS     r1,r1,#1
0002ac  4281              CMP      r1,r0
0002ae  d307              BCC      |L12.704|
                  |L12.688|
;;;911    		(thisInfo->tDelta.tValidRect.ce - thisInfo->tDelta.tValidRect.cs + 1) >= (thisModeConf->Coord.usCenterMatchDistanceThd +5) )
;;;912    	{
;;;913    		thisInfo->WinCertMode = 0;
0002b0  2000              MOVS     r0,#0
0002b2  f8850171          STRB     r0,[r5,#0x171]
;;;914    		thisInfo->DrawingDirection = 0;
0002b6  f8850172          STRB     r0,[r5,#0x172]
;;;915    	}
;;;916    	
;;;917    	if(thisInfo->WinCertMode && temp_coord->tTempPos.sFinger_)
;;;918    	{
;;;919    		if(temp_coord->tTempPos.sFinger_ != 5)
;;;920    		{
;;;921    			tXY_t Center[2];
;;;922    			int dist_min = INT32_MAX,tmp;
;;;923    			//int min_cl, min_pl;
;;;924    			
;;;925    			Center[0].x = 0, Center[0].y = 0;
;;;926    			for(i=0;i<temp_coord->tTempPos.sFinger_;i++){
;;;927    				Center[0].x += temp_coord->tTempPos.tXY[i].x;
;;;928    				Center[0].y += temp_coord->tTempPos.tXY[i].y;
;;;929    			}
;;;930    			Center[0].x /= temp_coord->tTempPos.sFinger_;
;;;931    			Center[0].y /= temp_coord->tTempPos.sFinger_;
;;;932    			
;;;933    			Center[1].x = 0, Center[1].y = 0;
;;;934    			for(i=0;i<5;i++){
;;;935    				Center[1].x +=  temp_coord->tOrgPastPos[0].tXY[i].x;
;;;936    				Center[1].y +=  temp_coord->tOrgPastPos[0].tXY[i].y;
;;;937    			}
;;;938    			Center[1].x /= 5;
;;;939    			Center[1].y /= 5;
;;;940    			
;;;941    			for(i=0;i<temp_coord->tTempPos.sFinger_;i++){
;;;942    				for(j=0;j<5;j++){
;;;943    					tmp = algorithm_coord_calc_distance(temp_coord->tTempPos.tXY[i],temp_coord->tOrgPastPos[0].tXY[j]);
;;;944    					if(tmp < dist_min){
;;;945    						dist_min = tmp;
;;;946    //						min_cl = i;
;;;947    //						min_pl = j;
;;;948    					}
;;;949    					
;;;950    				}
;;;951    			}
;;;952    					
;;;953    			for(i=0;i<POSBUF_;i++){
;;;954    				temp_coord->tTempPos.vusR[i]   = 0;
;;;955    				temp_coord->tTempPos.vusS[i]   = 0;
;;;956    			}
;;;957    			for(i=0;i<temp_coord->tOrgPastPos[0].sFinger_;i++){
;;;958    				if(temp_coord->tOrgPastPos[0].vusR[i]>0){
;;;959    					temp_coord->tTempPos.tXY[i] = temp_coord->tOrgPastPos[0].tXY[i];
;;;960    	//					temp_coord->tTempPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x + ((temp_coord->tTempPos.tXY[i].x - temp_coord->tOrgPastPos[0].tXY[j].x)>>2);
;;;961    	//					temp_coord->tTempPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y + ((temp_coord->tTempPos.tXY[i].y - temp_coord->tOrgPastPos[0].tXY[j].y)>>2);
;;;962    					
;;;963    					temp_coord->tTempPos.vusR[i]   = temp_coord->tOrgPastPos[0].vusR[i];
;;;964    					temp_coord->tTempPos.vusS[i]   = temp_coord->tOrgPastPos[0].vusS[i];
;;;965    					temp_coord->cRemap[i] = i;
;;;966    					temp_coord->tTempPos.sFinger_ = temp_coord->tOrgPastPos[0].sFinger_;
;;;967    				}
;;;968    			}
;;;969    		}
;;;970    	}	
;;;971    }
0002ba  b01b              ADD      sp,sp,#0x6c
0002bc  e8bd8ff0          POP      {r4-r11,pc}
                  |L12.704|
0002c0  f8950171          LDRB     r0,[r5,#0x171]        ;917
0002c4  2800              CMP      r0,#0                 ;917
0002c6  bf1d              ITTTE    NE                    ;917
0002c8  7822              LDRBNE   r2,[r4,#0]            ;917
0002ca  2a00              CMPNE    r2,#0                 ;917
0002cc  2a05              CMPNE    r2,#5                 ;919
0002ce  b01b              ADDEQ    sp,sp,#0x6c
0002d0  bf08              IT       EQ
0002d2  e8bd8ff0          POPEQ    {r4-r11,pc}
0002d6  f06f4600          MVN      r6,#0x80000000        ;922
0002da  f04f0900          MOV      r9,#0                 ;925
0002de  4648              MOV      r0,r9                 ;925
0002e0  464b              MOV      r3,r9                 ;925
0002e2  f0120101          ANDS     r1,r2,#1              ;929
0002e6  bf1c              ITT      NE                    ;927
0002e8  f8d40001          LDRNE    r0,[r4,#1]            ;927
0002ec  f8d43005          LDRNE    r3,[r4,#5]            ;928
0002f0  428a              CMP      r2,r1                 ;926
0002f2  dd11              BLE      |L12.792|
                  |L12.756|
0002f4  eb040cc1          ADD      r12,r4,r1,LSL #3      ;927
0002f8  4605              MOV      r5,r0                 ;927
0002fa  f8dc0001          LDR      r0,[r12,#1]           ;927
0002fe  1c89              ADDS     r1,r1,#2              ;928
000300  4428              ADD      r0,r0,r5              ;927
000302  f8dc5005          LDR      r5,[r12,#5]           ;928
000306  428a              CMP      r2,r1                 ;928
000308  442b              ADD      r3,r3,r5              ;928
00030a  f8dc5009          LDR      r5,[r12,#9]           ;927
00030e  f8dcc00d          LDR      r12,[r12,#0xd]        ;928
000312  4428              ADD      r0,r0,r5              ;927
000314  4463              ADD      r3,r3,r12             ;928
000316  dced              BGT      |L12.756|
                  |L12.792|
000318  fb90f0f2          SDIV     r0,r0,r2              ;930
00031c  fb93f0f2          SDIV     r0,r3,r2              ;931
000320  2700              MOVS     r7,#0                 ;941
000322  2a00              CMP      r2,#0                 ;941
000324  dd1e              BLE      |L12.868|
                  |L12.806|
000326  2500              MOVS     r5,#0                 ;942
000328  eb0408c7          ADD      r8,r4,r7,LSL #3       ;927
                  |L12.812|
00032c  eb0401c5          ADD      r1,r4,r5,LSL #3       ;943
000330  f8d82001          LDR      r2,[r8,#1]            ;943
000334  f8d1367c          LDR      r3,[r1,#0x67c]        ;943
000338  f8d80005          LDR      r0,[r8,#5]            ;943
00033c  f8d11680          LDR      r1,[r1,#0x680]        ;943
000340  1ad2              SUBS     r2,r2,r3              ;943
000342  4352              MULS     r2,r2,r2              ;943
000344  1a40              SUBS     r0,r0,r1              ;943
000346  fb002000          MLA      r0,r0,r0,r2           ;943
00034a  f7fffffe          BL       algorithm_calc_sqrt
00034e  42b0              CMP      r0,r6                 ;945
000350  bfc8              IT       GT                    ;945
000352  4630              MOVGT    r0,r6                 ;945
000354  4606              MOV      r6,r0                 ;945
000356  1c6d              ADDS     r5,r5,#1              ;945
000358  2d05              CMP      r5,#5                 ;945
00035a  dbe7              BLT      |L12.812|
00035c  7820              LDRB     r0,[r4,#0]            ;945
00035e  1c7f              ADDS     r7,r7,#1              ;945
000360  4287              CMP      r7,r0                 ;945
000362  dbe0              BLT      |L12.806|
                  |L12.868|
000364  f05f0100          MOVS.W   r1,#0                 ;953
                  |L12.872|
000368  eb040041          ADD      r0,r4,r1,LSL #1       ;954
00036c  1c89              ADDS     r1,r1,#2              ;955
00036e  f8a090a1          STRH     r9,[r0,#0xa1]         ;954
000372  f8a09081          STRH     r9,[r0,#0x81]         ;955
000376  f8a090a3          STRH     r9,[r0,#0xa3]         ;954
00037a  f8a09083          STRH     r9,[r0,#0x83]         ;955
00037e  290a              CMP      r1,#0xa               ;955
000380  dbf2              BLT      |L12.872|
000382  f894167b          LDRB     r1,[r4,#0x67b]        ;957
000386  2000              MOVS     r0,#0                 ;957
000388  2900              CMP      r1,#0                 ;957
00038a  bfdc              ITT      LE
00038c  b01b              ADDLE    sp,sp,#0x6c
00038e  e8bd8ff0          POPLE    {r4-r11,pc}
000392  bf00              NOP                            ;958
                  |L12.916|
000394  eb040140          ADD      r1,r4,r0,LSL #1       ;958
000398  f8b126e0          LDRH     r2,[r1,#0x6e0]        ;958
00039c  b1ba              CBZ      r2,|L12.974|
00039e  eb0402c0          ADD      r2,r4,r0,LSL #3       ;959
0003a2  f8d2367c          LDR      r3,[r2,#0x67c]        ;959
0003a6  f8c23001          STR      r3,[r2,#1]            ;959
0003aa  f8d23680          LDR      r3,[r2,#0x680]        ;959
0003ae  f8c23005          STR      r3,[r2,#5]            ;959
0003b2  f8b126e0          LDRH     r2,[r1,#0x6e0]        ;963
0003b6  f8a120a1          STRH     r2,[r1,#0xa1]         ;963
0003ba  f8b126cc          LDRH     r2,[r1,#0x6cc]        ;964
0003be  f8a12081          STRH     r2,[r1,#0x81]         ;964
0003c2  1821              ADDS     r1,r4,r0              ;965
0003c4  f88109a5          STRB     r0,[r1,#0x9a5]        ;965
0003c8  f894167b          LDRB     r1,[r4,#0x67b]        ;966
0003cc  7021              STRB     r1,[r4,#0]            ;966
                  |L12.974|
0003ce  f894167b          LDRB     r1,[r4,#0x67b]        ;966
0003d2  1c40              ADDS     r0,r0,#1              ;966
0003d4  4281              CMP      r1,r0                 ;966
0003d6  dcdd              BGT      |L12.916|
0003d8  b01b              ADD      sp,sp,#0x6c
0003da  e8bd8ff0          POP      {r4-r11,pc}
;;;972    int8_t algorithm_coord_IsEdgeArea(tXY_t * pos, int offset)
                          ENDP

0003de  0000              DCW      0x0000
                  |L12.992|
                          DCD      ||.data||

                          AREA ||i.algorithm_coord_init||, CODE, READONLY, ALIGN=2

                  algorithm_coord_init PROC
;;;63     
;;;64     void algorithm_coord_init(void)
000000  b510              PUSH     {r4,lr}
;;;65     {
;;;66     	int l;
;;;67     
;;;68     	thisCommonConf = algorithm_GetCommonConfig();
000002  f7fffffe          BL       algorithm_GetCommonConfig
000006  4c54              LDR      r4,|L13.344|
;;;69     	thisModeConf   = algorithm_GetModeConfig();
000008  60a0              STR      r0,[r4,#8]  ; thisCommonConf
00000a  f7fffffe          BL       algorithm_GetModeConfig
;;;70     	thisInfo       = algorithm_GetInfo();
00000e  60e0              STR      r0,[r4,#0xc]  ; thisModeConf
000010  f7fffffe          BL       algorithm_GetInfo
;;;71     #if USED_NOISE_HOPPING_FREQ
;;;72     	ptAppInfo      = app_GetInfo();
000014  6120              STR      r0,[r4,#0x10]  ; thisInfo
000016  f7fffffe          BL       app_GetInfo
;;;73     #endif
;;;74     //	_ptModuleCommonConf = module_GetCommonConfig();
;;;75     //	algorithm_coord_init_param();
;;;76     
;;;77     	thisInfo->tCoord.tPastPos[0].sFinger_    = 0;
00001a  6160              STR      r0,[r4,#0x14]  ; ptAppInfo
00001c  6923              LDR      r3,[r4,#0x10]  ; thisInfo
00001e  2000              MOVS     r0,#0
;;;78     	thisInfo->tCoord.tOrgPastPos[0].sFinger_ = 0;
;;;79     
;;;80     	for(l=MAX_TOUCH_; l--; )
;;;81     	{
;;;82     		thisInfo->tCoord.tPastPos[0].tXY[l].x    = 0;
;;;83     		thisInfo->tCoord.tPastPos[0].tXY[l].y    = 0;
;;;84     		thisInfo->tCoord.tPastPos[0].vusR[l]     = 0;
;;;85     		thisInfo->tCoord.tPastPos[0].vusS[l]     = 0;
;;;86     
;;;87     		thisInfo->tCoord.tPastPos[1].tXY[l].x    = 0;
;;;88     		thisInfo->tCoord.tPastPos[1].tXY[l].y    = 0;
;;;89     		thisInfo->tCoord.tPastPos[1].vusR[l]     = 0;
;;;90     		thisInfo->tCoord.tPastPos[1].vusS[l]     = 0;
;;;91     		
;;;92     		thisInfo->tCoord.tPastPos[2].tXY[l].x    = 0;
;;;93     		thisInfo->tCoord.tPastPos[2].tXY[l].y    = 0;
;;;94     		thisInfo->tCoord.tPastPos[2].vusR[l]     = 0;
;;;95     		thisInfo->tCoord.tPastPos[2].vusS[l]     = 0;
;;;96     
;;;97     		thisInfo->tCoord.tPastPos[3].tXY[l].x    = 0;
;;;98     		thisInfo->tCoord.tPastPos[3].tXY[l].y    = 0;
;;;99     		thisInfo->tCoord.tPastPos[3].vusR[l]     = 0;
;;;100    		thisInfo->tCoord.tPastPos[3].vusS[l]     = 0;
;;;101    		
;;;102    		thisInfo->tCoord.tPastPos[4].tXY[l].x    = 0;
;;;103    		thisInfo->tCoord.tPastPos[4].tXY[l].y    = 0;
;;;104    		thisInfo->tCoord.tPastPos[4].vusR[l]     = 0;
;;;105    		thisInfo->tCoord.tPastPos[4].vusS[l]     = 0;
;;;106    		
;;;107    		thisInfo->tCoord.tOrgPastPos[0].tXY[l].x = 0;
;;;108    		thisInfo->tCoord.tOrgPastPos[0].tXY[l].y = 0;
;;;109    		thisInfo->tCoord.tOrgPastPos[0].vusR[l]  = 0;
;;;110    		thisInfo->tCoord.tOrgPastPos[0].vusS[l]  = 0;
;;;111    
;;;112    		thisInfo->tCoord.tOrgPastPos[1].tXY[l].x = 0;
;;;113    		thisInfo->tCoord.tOrgPastPos[1].tXY[l].y = 0;
;;;114    		thisInfo->tCoord.tOrgPastPos[1].vusR[l]  = 0;
;;;115    		thisInfo->tCoord.tOrgPastPos[1].vusS[l]  = 0;
;;;116    		
;;;117    		thisInfo->tCoord.tOrgPastPos[2].tXY[l].x = 0;
;;;118    		thisInfo->tCoord.tOrgPastPos[2].tXY[l].y = 0;
;;;119    		thisInfo->tCoord.tOrgPastPos[2].vusR[l]  = 0;
;;;120    		thisInfo->tCoord.tOrgPastPos[2].vusS[l]  = 0;
;;;121    
;;;122    		thisInfo->tCoord.tOrgPastPos[3].tXY[l].x = 0;
;;;123    		thisInfo->tCoord.tOrgPastPos[3].tXY[l].y = 0;
;;;124    		thisInfo->tCoord.tOrgPastPos[3].vusR[l]  = 0;
;;;125    		thisInfo->tCoord.tOrgPastPos[3].vusS[l]  = 0;
;;;126    		
;;;127    		thisInfo->tCoord.tOrgPastPos[4].tXY[l].x = 0;
;;;128    		thisInfo->tCoord.tOrgPastPos[4].tXY[l].y = 0;
;;;129    		thisInfo->tCoord.tOrgPastPos[4].vusR[l]  = 0;
;;;130    		thisInfo->tCoord.tOrgPastPos[4].vusS[l]  = 0;
;;;131    		
;;;132    		thisInfo->tCoord.ucIdMappedCnt[l] = 0;
;;;133    		thisInfo->tCoord.cScreenDebCnt[l] = 0;
;;;134    		
;;;135    		thisInfo->tCoord.cIsbefor[l] = 0;
;;;136    	}
;;;137    
;;;138        thisInfo->tCoord.iXOffset = ( UNIT_DIST * (2*thisCommonConf->iXEdgeNum - thisCommonConf->iXEdgeDen) ) / (2*thisCommonConf->iXEdgeDen);
;;;139        thisInfo->tCoord.iYOffset = ( UNIT_DIST * (2*thisCommonConf->iYEdgeNum - thisCommonConf->iYEdgeDen) ) / (2*thisCommonConf->iYEdgeDen);
;;;140    
;;;141        thisInfo->tCoord.iXExpandStart = 1*UNIT_DIST;
;;;142        thisInfo->tCoord.iYExpandStart = 1*UNIT_DIST;
;;;143    
;;;144        thisInfo->tCoord.iXEdgeStart = 1*UNIT_DIST;
;;;145    	thisInfo->tCoord.iYEdgeStart = 1*UNIT_DIST;
;;;146    
;;;147        if( thisModeConf->Coord.bSwapXY )
;;;148    	{
;;;149        	thisInfo->tCoord.iInternalXRes = (ROW_MAX - 1) << POS_BOOST_SHIFT_;
;;;150        	thisInfo->tCoord.iInternalYRes = (COL_MAX - 1) << POS_BOOST_SHIFT_;
;;;151    	}
;;;152    	else
;;;153    	{
;;;154    		thisInfo->tCoord.iInternalXRes = (COL_MAX - 1) << POS_BOOST_SHIFT_;
;;;155    		thisInfo->tCoord.iInternalYRes = (ROW_MAX - 1) << POS_BOOST_SHIFT_;
;;;156    	}
;;;157    
;;;158    	thisInfo->tCoord.slScaledMoveDistThd = (thisModeConf->Coord.usMoveDistanceThd << POS_BOOST_SHIFT_);
;;;159    
;;;160    }
000020  f04f0c09          MOV      r12,#9
000024  f8830675          STRB     r0,[r3,#0x675]        ;77
000028  f88309d7          STRB     r0,[r3,#0x9d7]        ;78
                  |L13.44|
00002c  eb0301cc          ADD      r1,r3,r12,LSL #3      ;82
000030  eb03024c          ADD      r2,r3,r12,LSL #1      ;84
000034  f8c10676          STR      r0,[r1,#0x676]        ;82
000038  f8c1067a          STR      r0,[r1,#0x67a]        ;83
00003c  f8a206da          STRH     r0,[r2,#0x6da]        ;84
000040  f8a206c6          STRH     r0,[r2,#0x6c6]        ;85
000044  f8c106ef          STR      r0,[r1,#0x6ef]        ;87
000048  f8c106f3          STR      r0,[r1,#0x6f3]        ;88
00004c  f8a20753          STRH     r0,[r2,#0x753]        ;89
000050  f8a2073f          STRH     r0,[r2,#0x73f]        ;90
000054  f8c10768          STR      r0,[r1,#0x768]        ;93
000058  f8c1076c          STR      r0,[r1,#0x76c]        ;94
00005c  f8a207cc          STRH     r0,[r2,#0x7cc]        ;94
000060  f8a207b8          STRH     r0,[r2,#0x7b8]        ;95
000064  f8c107e1          STR      r0,[r1,#0x7e1]        ;97
000068  f8c107e5          STR      r0,[r1,#0x7e5]        ;98
00006c  f8a20845          STRH     r0,[r2,#0x845]        ;99
000070  f8a20831          STRH     r0,[r2,#0x831]        ;100
000074  f8c1085a          STR      r0,[r1,#0x85a]        ;102
000078  f8c1085e          STR      r0,[r1,#0x85e]        ;103
00007c  f8a208be          STRH     r0,[r2,#0x8be]        ;104
000080  f8a208aa          STRH     r0,[r2,#0x8aa]        ;105
000084  f8c109d8          STR      r0,[r1,#0x9d8]        ;108
000088  f8c109dc          STR      r0,[r1,#0x9dc]        ;109
00008c  f8a20a3c          STRH     r0,[r2,#0xa3c]        ;109
000090  f8a20a28          STRH     r0,[r2,#0xa28]        ;110
000094  f8c10a51          STR      r0,[r1,#0xa51]        ;112
000098  f8c10a55          STR      r0,[r1,#0xa55]        ;113
00009c  f8a20ab5          STRH     r0,[r2,#0xab5]        ;114
0000a0  f8a20aa1          STRH     r0,[r2,#0xaa1]        ;115
0000a4  f8c10aca          STR      r0,[r1,#0xaca]        ;117
0000a8  f8c10ace          STR      r0,[r1,#0xace]        ;118
0000ac  f8a20b2e          STRH     r0,[r2,#0xb2e]        ;119
0000b0  f8a20b1a          STRH     r0,[r2,#0xb1a]        ;120
0000b4  f8c10b43          STR      r0,[r1,#0xb43]        ;122
0000b8  f8c10b47          STR      r0,[r1,#0xb47]        ;123
0000bc  f8a20ba7          STRH     r0,[r2,#0xba7]        ;124
0000c0  f8a20b93          STRH     r0,[r2,#0xb93]        ;125
0000c4  f8c10bbc          STR      r0,[r1,#0xbbc]        ;128
0000c8  f8c10bc0          STR      r0,[r1,#0xbc0]        ;129
0000cc  f8a20c20          STRH     r0,[r2,#0xc20]        ;129
0000d0  eb03010c          ADD      r1,r3,r12             ;132
0000d4  f8a20c0c          STRH     r0,[r2,#0xc0c]        ;130
0000d8  f8810cd9          STRB     r0,[r1,#0xcd9]        ;132
0000dc  f8810ce3          STRB     r0,[r1,#0xce3]        ;133
0000e0  f8810d81          STRB     r0,[r1,#0xd81]        ;135
0000e4  f1bc0c01          SUBS     r12,r12,#1            ;135
0000e8  d2a0              BCS      |L13.44|
0000ea  68a0              LDR      r0,[r4,#8]            ;138  ; thisCommonConf
0000ec  68c1              LDR      r1,[r0,#0xc]          ;138
0000ee  6882              LDR      r2,[r0,#8]            ;138
0000f0  ebc10242          RSB      r2,r1,r2,LSL #1       ;138
0000f4  0212              LSLS     r2,r2,#8              ;138
0000f6  0049              LSLS     r1,r1,#1              ;138
0000f8  fb92f1f1          SDIV     r1,r2,r1              ;138
0000fc  f8c31d43          STR      r1,[r3,#0xd43]        ;138
000100  6941              LDR      r1,[r0,#0x14]         ;139
000102  6900              LDR      r0,[r0,#0x10]         ;139
000104  f44f429e          MOV      r2,#0x4f00            ;150
000108  ebc10040          RSB      r0,r1,r0,LSL #1       ;139
00010c  0200              LSLS     r0,r0,#8              ;139
00010e  0049              LSLS     r1,r1,#1              ;139
000110  fb90f0f1          SDIV     r0,r0,r1              ;139
000114  f8c30d47          STR      r0,[r3,#0xd47]        ;139
000118  f44f7080          MOV      r0,#0x100             ;141
00011c  f8c30d53          STR      r0,[r3,#0xd53]        ;141
000120  f8c30d57          STR      r0,[r3,#0xd57]        ;142
000124  f8c30d5b          STR      r0,[r3,#0xd5b]        ;144
000128  f8c30d5f          STR      r0,[r3,#0xd5f]        ;145
00012c  68e0              LDR      r0,[r4,#0xc]          ;147  ; thisModeConf
00012e  f44f5130          MOV      r1,#0x2c00            ;149
000132  f890c113          LDRB     r12,[r0,#0x113]       ;147
000136  f1bc0f00          CMP      r12,#0                ;147
00013a  bf19              ITTEE    NE                    ;149
00013c  f8c31d4b          STRNE    r1,[r3,#0xd4b]        ;149
000140  f8c32d4f          STRNE    r2,[r3,#0xd4f]        ;150
000144  f8c32d4b          STREQ    r2,[r3,#0xd4b]        ;154
000148  f8c31d4f          STREQ    r1,[r3,#0xd4f]        ;155
00014c  f8b00089          LDRH     r0,[r0,#0x89]         ;158
000150  0200              LSLS     r0,r0,#8              ;158
000152  f8c30cd5          STR      r0,[r3,#0xcd5]        ;158
000156  bd10              POP      {r4,pc}
;;;161    
                          ENDP

                  |L13.344|
                          DCD      ||.data||

                          AREA ||i.algorithm_coord_init_param||, CODE, READONLY, ALIGN=2

                  algorithm_coord_init_param PROC
;;;161    
;;;162    void algorithm_coord_init_param(void)
000000  b510              PUSH     {r4,lr}
;;;163    {
;;;164    	thisModeConf   = algorithm_GetModeConfig();
000002  f7fffffe          BL       algorithm_GetModeConfig
000006  4901              LDR      r1,|L14.12|
000008  60c8              STR      r0,[r1,#0xc]  ; thisModeConf
;;;165    //	thisInfo->tCoord.slScaledMoveDistThd = (thisModeConf->Coord.usMoveDistanceThd << POS_BOOST_SHIFT_);
;;;166    }
00000a  bd10              POP      {r4,pc}
;;;167    
                          ENDP

                  |L14.12|
                          DCD      ||.data||

                          AREA ||i.algorithm_coord_initialise_pos_buffer||, CODE, READONLY, ALIGN=2

                  algorithm_coord_initialise_pos_buffer PROC
;;;167    
;;;168    void algorithm_coord_initialise_pos_buffer(void)
000000  4831              LDR      r0,|L15.200|
;;;169    {
000002  b430              PUSH     {r4,r5}
;;;170    	int l;
;;;171    	tCoordInfo_t *temp_coord;
;;;172    	
;;;173    //	memset((void *)&(thisInfo->tCoord.tOrgPosHist[0]), 0x00, sizeof(tPastPos_t) );
;;;174    
;;;175    	temp_coord = &thisInfo->tCoord;		
000004  6902              LDR      r2,[r0,#0x10]  ; thisInfo
;;;176    	thisInfo->tDelta.iMaxStrength = 0;
000006  2000              MOVS     r0,#0
000008  f5027157          ADD      r1,r2,#0x35c          ;175
00000c  f8c20015          STR      r0,[r2,#0x15]
;;;177    
;;;178    	temp_coord->tTempPos.sFinger_ = 0;
000010  f882035c          STRB     r0,[r2,#0x35c]
;;;179    	for( l=LOOSE_POSBUF_; l--; )
000014  2210              MOVS     r2,#0x10
000016  2301              MOVS     r3,#1
;;;180    	{
;;;181    		temp_coord->tTempPos.tXY[l].x = 0;
;;;182    		temp_coord->tTempPos.tXY[l].y = 0;
;;;183    		temp_coord->tTempPos.rect[l].cs = 0;
;;;184    		temp_coord->tTempPos.rect[l].ce = 0;
;;;185    		temp_coord->tTempPos.rect[l].rs = 0;
;;;186    		temp_coord->tTempPos.rect[l].re = 0;
;;;187    		temp_coord->tTempPos.vusR[l] = 0;
;;;188    		temp_coord->tTempPos.vusS[l] = 0;
;;;189    		temp_coord->tTempPos.MaxDelta[l] = (uint16_t)INT16_MIN; // NOTE : warning  -    ????
;;;190    
;;;191    		temp_coord->cRemap[l] = -1;
000018  1e45              SUBS     r5,r0,#1
00001a  02d4              LSLS     r4,r2,#11             ;189
                  |L15.28|
00001c  1e52              SUBS     r2,r2,#1              ;189
00001e  eb010cc2          ADD      r12,r1,r2,LSL #3      ;181
000022  1c5b              ADDS     r3,r3,#1
000024  f8cc0001          STR      r0,[r12,#1]           ;181
000028  f8cc0005          STR      r0,[r12,#5]           ;182
00002c  eb010c82          ADD      r12,r1,r2,LSL #2      ;183
000030  2b10              CMP      r3,#0x10
000032  f88c00c3          STRB     r0,[r12,#0xc3]        ;183
000036  f88c00c4          STRB     r0,[r12,#0xc4]        ;184
00003a  f88c00c1          STRB     r0,[r12,#0xc1]        ;185
00003e  f88c00c2          STRB     r0,[r12,#0xc2]        ;186
000042  eb010c42          ADD      r12,r1,r2,LSL #1      ;187
000046  f8ac00a1          STRH     r0,[r12,#0xa1]        ;187
00004a  f8ac0081          STRH     r0,[r12,#0x81]        ;188
00004e  f8ac4101          STRH     r4,[r12,#0x101]       ;189
000052  eb010c02          ADD      r12,r1,r2
000056  f88c59a5          STRB     r5,[r12,#0x9a5]
00005a  dddf              BLE      |L15.28|
;;;192    	}
;;;193    
;;;194    	temp_coord->tPos.sFinger_ = 0;
00005c  f8810121          STRB     r0,[r1,#0x121]
;;;195    	temp_coord->tOrgPos.sFinger_ = 0;
000060  f8810576          STRB     r0,[r1,#0x576]
;;;196    	for( l=POSBUF_; l--; )
;;;197    	{
;;;198    		temp_coord->tPos.tXY[l].x = 0;
;;;199    		temp_coord->tPos.tXY[l].y = 0;
;;;200    		temp_coord->tPos.rect[l].cs = 0;
;;;201    		temp_coord->tPos.rect[l].ce = 0;
;;;202    		temp_coord->tPos.rect[l].rs = 0;
;;;203    		temp_coord->tPos.rect[l].re = 0;
;;;204    		temp_coord->tPos.vusR[l] = 0;
;;;205    		temp_coord->tPos.vusS[l] = 0;
;;;206    		temp_coord->tPos.MaxDelta[l] = (uint16_t)INT16_MIN; // NOTE : warning  -    ????
;;;207    
;;;208    		temp_coord->tOrgPos.tXY[l].x = 0;
;;;209    		temp_coord->tOrgPos.tXY[l].y = 0;
;;;210    		temp_coord->tOrgPos.rect[l].cs = 0;
;;;211    		temp_coord->tOrgPos.rect[l].ce = 0;
;;;212    		temp_coord->tOrgPos.rect[l].rs = 0;
;;;213    		temp_coord->tOrgPos.rect[l].re = 0;
;;;214    		temp_coord->tOrgPos.vusR[l] = 0;
;;;215    		temp_coord->tOrgPos.vusS[l] = 0;
;;;216    
;;;217    		temp_coord->ucPostProcessRun[l] = 0;
;;;218    	}
;;;219    }
000064  f05f0209          MOVS.W   r2,#9
                  |L15.104|
000068  eb0105c2          ADD      r5,r1,r2,LSL #3       ;198
00006c  eb010382          ADD      r3,r1,r2,LSL #2       ;200
000070  f8c50122          STR      r0,[r5,#0x122]        ;198
000074  f8c50126          STR      r0,[r5,#0x126]        ;199
000078  f883019c          STRB     r0,[r3,#0x19c]        ;200
00007c  f883019d          STRB     r0,[r3,#0x19d]        ;201
000080  f883019a          STRB     r0,[r3,#0x19a]        ;202
000084  eb010c42          ADD      r12,r1,r2,LSL #1      ;204
000088  f883019b          STRB     r0,[r3,#0x19b]        ;203
00008c  f8ac0186          STRH     r0,[r12,#0x186]       ;204
000090  f8ac0172          STRH     r0,[r12,#0x172]       ;205
000094  f8ac41c2          STRH     r4,[r12,#0x1c2]       ;206
000098  f8c50577          STR      r0,[r5,#0x577]        ;208
00009c  f8c5057b          STR      r0,[r5,#0x57b]        ;209
0000a0  f88305f1          STRB     r0,[r3,#0x5f1]        ;210
0000a4  f88305f2          STRB     r0,[r3,#0x5f2]        ;211
0000a8  f88305ef          STRB     r0,[r3,#0x5ef]        ;212
0000ac  f88305f0          STRB     r0,[r3,#0x5f0]        ;213
0000b0  f8ac05db          STRH     r0,[r12,#0x5db]       ;214
0000b4  188b              ADDS     r3,r1,r2              ;217
0000b6  f8ac05c7          STRH     r0,[r12,#0x5c7]       ;215
0000ba  f883099b          STRB     r0,[r3,#0x99b]        ;217
0000be  1e52              SUBS     r2,r2,#1              ;217
0000c0  d2d2              BCS      |L15.104|
0000c2  bc30              POP      {r4,r5}
0000c4  4770              BX       lr
;;;220    
                          ENDP

0000c6  0000              DCW      0x0000
                  |L15.200|
                          DCD      ||.data||

                          AREA ||i.algorithm_coord_interpolation||, CODE, READONLY, ALIGN=2

                  algorithm_coord_interpolation PROC
;;;2880   
;;;2881   void algorithm_coord_interpolation(uint8_t ver)
000000  e92d47f0          PUSH     {r4-r10,lr}
;;;2882   {	
;;;2883   	for (int l = 0; l < MAX_TOUCH_; l++)
000004  2500              MOVS     r5,#0
;;;2884   	{
;;;2885   		if( thisInfo->tCoord.tOrgPastPos[0].vusS[l] )
000006  4e4b              LDR      r6,|L16.308|
000008  4607              MOV      r7,r0                 ;2882
00000a  f04f0801          MOV      r8,#1                 ;2882
00000e  462c              MOV      r4,r5                 ;2882
                  |L16.16|
000010  6932              LDR      r2,[r6,#0x10]  ; thisInfo
000012  eb020145          ADD      r1,r2,r5,LSL #1
000016  f8b10a28          LDRH     r0,[r1,#0xa28]
00001a  b388              CBZ      r0,|L16.128|
;;;2886   		{
;;;2887   			if(ver == 1)
00001c  2f01              CMP      r7,#1
00001e  d111              BNE      |L16.68|
;;;2888   			{
;;;2889   				thisInfo->tCoord.tPos.tXY[l].x = (thisInfo->tCoord.tPastPos[0].tXY[l].x + thisInfo->tCoord.tOrgPastPos[0].tXY[l].x) >> 1;
000020  eb0200c5          ADD      r0,r2,r5,LSL #3
000024  f8d01676          LDR      r1,[r0,#0x676]
000028  f8d039d8          LDR      r3,[r0,#0x9d8]
00002c  4419              ADD      r1,r1,r3
00002e  1049              ASRS     r1,r1,#1
000030  f8c0147e          STR      r1,[r0,#0x47e]
;;;2890   				thisInfo->tCoord.tPos.tXY[l].y = (thisInfo->tCoord.tPastPos[0].tXY[l].y + thisInfo->tCoord.tOrgPastPos[0].tXY[l].y) >> 1;
000034  f8d0167a          LDR      r1,[r0,#0x67a]
000038  f8d039dc          LDR      r3,[r0,#0x9dc]
00003c  4419              ADD      r1,r1,r3
00003e  1049              ASRS     r1,r1,#1
000040  f8c01482          STR      r1,[r0,#0x482]
                  |L16.68|
;;;2891   			}
;;;2892   			//thisInfo->tCoord.tPos.tXY[l].x = thisInfo->tCoord.tOrgPos.tXY[l].x = (thisInfo->tCoord.tOrgPastPos[0].tXY[l].x<<1) - thisInfo->tCoord.tOrgPastPos[1].tXY[l].x;
;;;2893   			//thisInfo->tCoord.tPos.tXY[l].y = thisInfo->tCoord.tOrgPos.tXY[l].y = (thisInfo->tCoord.tOrgPastPos[0].tXY[l].y<<1) - thisInfo->tCoord.tOrgPastPos[1].tXY[l].y;
;;;2894   			int iDist = algorithm_coord_calc_distance(thisInfo->tCoord.tPos.tXY[l], thisInfo->tCoord.tPastPos[0].tXY[l]);
000044  eb0200c5          ADD      r0,r2,r5,LSL #3
000048  f8d0247e          LDR      r2,[r0,#0x47e]
00004c  f8d01676          LDR      r1,[r0,#0x676]
000050  f8d03482          LDR      r3,[r0,#0x482]
000054  f8d0067a          LDR      r0,[r0,#0x67a]
000058  1a51              SUBS     r1,r2,r1
00005a  4349              MULS     r1,r1,r1
00005c  1a18              SUBS     r0,r3,r0
00005e  fb001000          MLA      r0,r0,r0,r1
000062  f7fffffe          BL       algorithm_calc_sqrt
;;;2895   			if(iDist>(thisModeConf->Coord.usMoveDistanceThd << POS_BOOST_SHIFT_))
000066  68f2              LDR      r2,[r6,#0xc]  ; thisModeConf
000068  f8b21089          LDRH     r1,[r2,#0x89]
00006c  ebb02f01          CMP      r0,r1,LSL #8
;;;2896   			{
;;;2897   				thisInfo->tCoord.tPastPos[4].vusS[l] = thisInfo->tCoord.tPastPos[3].vusS[l] = thisInfo->tCoord.tPastPos[2].vusS[l] = thisInfo->tCoord.tPastPos[1].vusS[l] = thisInfo->tCoord.tPastPos[0].vusS[l] = thisInfo->tCoord.tPos.vusS[l] = 0;
000070  bfc4              ITT      GT
000072  6930              LDRGT    r0,[r6,#0x10]  ; thisInfo
000074  eb000145          ADDGT    r1,r0,r5,LSL #1
000078  dc03              BGT      |L16.130|
;;;2898   				thisInfo->tCoord.tPastPos[4].vusR[l] = thisInfo->tCoord.tPastPos[3].vusR[l] = thisInfo->tCoord.tPastPos[2].vusR[l] = thisInfo->tCoord.tPastPos[1].vusR[l] = thisInfo->tCoord.tPastPos[0].vusR[l] = thisInfo->tCoord.tPos.vusR[l] = 0;
;;;2899   			}
;;;2900   			else
;;;2901   			{
;;;2902   				if(ver == 1)
00007a  2f01              CMP      r7,#1
00007c  d119              BNE      |L16.178|
00007e  e01d              B        |L16.188|
                  |L16.128|
000080  e7ff              B        |L16.130|
                  |L16.130|
;;;2903   				{
;;;2904   					iDist += thisModeConf->Coord.sInterpolationWeight;
;;;2905   					if(iDist < 10)
;;;2906   						iDist = 10;
;;;2907   					
;;;2908   					if(iDist > _BV(thisModeConf->Coord.lMoveSmoothingLevel))
;;;2909   						iDist = _BV(thisModeConf->Coord.lMoveSmoothingLevel);
;;;2910   
;;;2911   					thisInfo->tCoord.tPos.tXY[l].x = ((_BV(thisModeConf->Coord.lMoveSmoothingLevel) - iDist) * thisInfo->tCoord.tPastPos[0].tXY[l].x + iDist * thisInfo->tCoord.tPos.tXY[l].x + _BV(thisModeConf->Coord.lMoveSmoothingLevel-1)) >> thisModeConf->Coord.lMoveSmoothingLevel;
;;;2912   					thisInfo->tCoord.tPos.tXY[l].y = ((_BV(thisModeConf->Coord.lMoveSmoothingLevel) - iDist) * thisInfo->tCoord.tPastPos[0].tXY[l].y + iDist * thisInfo->tCoord.tPos.tXY[l].y + _BV(thisModeConf->Coord.lMoveSmoothingLevel-1)) >> thisModeConf->Coord.lMoveSmoothingLevel;
;;;2913   				}
;;;2914   			}
;;;2915   		}
;;;2916   		else
;;;2917   		{
;;;2918   			thisInfo->tCoord.tPastPos[4].vusS[l] = thisInfo->tCoord.tPastPos[3].vusS[l] = thisInfo->tCoord.tPastPos[2].vusS[l] = thisInfo->tCoord.tPastPos[1].vusS[l] = thisInfo->tCoord.tPastPos[0].vusS[l] = thisInfo->tCoord.tPos.vusS[l] = 0;
000082  f8a144ce          STRH     r4,[r1,#0x4ce]
000086  f8a146c6          STRH     r4,[r1,#0x6c6]
00008a  f8a1473f          STRH     r4,[r1,#0x73f]
00008e  f8a147b8          STRH     r4,[r1,#0x7b8]
000092  f8a14831          STRH     r4,[r1,#0x831]
000096  f8a148aa          STRH     r4,[r1,#0x8aa]
;;;2919   			thisInfo->tCoord.tPastPos[4].vusR[l] = thisInfo->tCoord.tPastPos[3].vusR[l] = thisInfo->tCoord.tPastPos[2].vusR[l] = thisInfo->tCoord.tPastPos[1].vusR[l] = thisInfo->tCoord.tPastPos[0].vusR[l] = thisInfo->tCoord.tPos.vusR[l] = 0;
00009a  f8a144e2          STRH     r4,[r1,#0x4e2]
00009e  f8a146da          STRH     r4,[r1,#0x6da]
0000a2  f8a14753          STRH     r4,[r1,#0x753]
0000a6  f8a147cc          STRH     r4,[r1,#0x7cc]
0000aa  f8a14845          STRH     r4,[r1,#0x845]
0000ae  f8a148be          STRH     r4,[r1,#0x8be]
                  |L16.178|
0000b2  1c6d              ADDS     r5,r5,#1
0000b4  2d0a              CMP      r5,#0xa
0000b6  dbab              BLT      |L16.16|
;;;2920   		}
;;;2921   	}
;;;2922   }
0000b8  e8bd87f0          POP      {r4-r10,pc}
                  |L16.188|
0000bc  f9b210b5          LDRSH    r1,[r2,#0xb5]         ;2904
0000c0  4408              ADD      r0,r0,r1              ;2904
0000c2  280a              CMP      r0,#0xa               ;2906
0000c4  db31              BLT      |L16.298|
0000c6  bf00              NOP                            ;2909
                  |L16.200|
0000c8  f8d23091          LDR      r3,[r2,#0x91]         ;2909
0000cc  fa08f103          LSL      r1,r8,r3              ;2909
0000d0  4281              CMP      r1,r0                 ;2909
0000d2  db2c              BLT      |L16.302|
                  |L16.212|
0000d4  eba10c00          SUB      r12,r1,r0             ;2911
0000d8  6931              LDR      r1,[r6,#0x10]         ;2911  ; thisInfo
0000da  eb0101c5          ADD      r1,r1,r5,LSL #3       ;2911
0000de  f8d19676          LDR      r9,[r1,#0x676]        ;2911
0000e2  fb0cfc09          MUL      r12,r12,r9            ;2911
0000e6  f8d1947e          LDR      r9,[r1,#0x47e]        ;2911
0000ea  fb00cc09          MLA      r12,r0,r9,r12         ;2911
0000ee  f1a30901          SUB      r9,r3,#1              ;2911
0000f2  fa08f909          LSL      r9,r8,r9              ;2911
0000f6  44cc              ADD      r12,r12,r9            ;2911
0000f8  fa4cf303          ASR      r3,r12,r3             ;2911
0000fc  f8c1347e          STR      r3,[r1,#0x47e]        ;2911
000100  f8922091          LDRB     r2,[r2,#0x91]         ;2912
000104  f8d1c67a          LDR      r12,[r1,#0x67a]       ;2912
000108  fa08f302          LSL      r3,r8,r2              ;2912
00010c  1a1b              SUBS     r3,r3,r0              ;2912
00010e  fb03f30c          MUL      r3,r3,r12             ;2912
000112  f8d1c482          LDR      r12,[r1,#0x482]       ;2912
000116  fb00300c          MLA      r0,r0,r12,r3          ;2912
00011a  1e53              SUBS     r3,r2,#1              ;2912
00011c  fa08f303          LSL      r3,r8,r3              ;2912
000120  4418              ADD      r0,r0,r3              ;2912
000122  4110              ASRS     r0,r0,r2              ;2912
000124  f8c10482          STR      r0,[r1,#0x482]        ;2912
000128  e7c3              B        |L16.178|
                  |L16.298|
00012a  200a              MOVS     r0,#0xa               ;2906
00012c  e7cc              B        |L16.200|
                  |L16.302|
00012e  4608              MOV      r0,r1                 ;2906
000130  e7d0              B        |L16.212|
;;;2923   
                          ENDP

000132  0000              DCW      0x0000
                  |L16.308|
                          DCD      ||.data||

                          AREA ||i.algorithm_coord_interpolation_v02||, CODE, READONLY, ALIGN=2

                  algorithm_coord_interpolation_v02 PROC
;;;2923   
;;;2924   void algorithm_coord_interpolation_v02(uint8_t Ver)
000000  e92d5ff0          PUSH     {r4-r12,lr}
;;;2925   {	
;;;2926   	tXY_t /*PredPos, ControlPos,*/BezierPos,AvgPos;
;;;2927   	int P1,P2,coef = 1;
000004  2701              MOVS     r7,#1
;;;2928   	for (int l = 0; l < MAX_TOUCH_; l++)
;;;2929   	{
;;;2930   		thisInfo->tCoord.tTempPos.vusR[l] = thisInfo->tCoord.tPos.vusR[l];
000006  4d6c              LDR      r5,|L17.440|
000008  4606              MOV      r6,r0                 ;2925
00000a  2400              MOVS     r4,#0                 ;2928
                  |L17.12|
00000c  f8d5c010          LDR      r12,[r5,#0x10]  ; thisInfo
000010  eb0c0044          ADD      r0,r12,r4,LSL #1
000014  f8b014e2          LDRH     r1,[r0,#0x4e2]
000018  f8a013fd          STRH     r1,[r0,#0x3fd]
;;;2931   		thisInfo->tCoord.tTempPos.vusS[l] = thisInfo->tCoord.tPos.vusS[l];
00001c  f8b014ce          LDRH     r1,[r0,#0x4ce]
000020  f8a013dd          STRH     r1,[r0,#0x3dd]
;;;2932   		thisInfo->tCoord.tTempPos.tXY[l] = thisInfo->tCoord.tPos.tXY[l];
000024  eb0c01c4          ADD      r1,r12,r4,LSL #3
000028  f5016880          ADD      r8,r1,#0x400
00002c  f8d1347e          LDR      r3,[r1,#0x47e]
000030  f8c1335d          STR      r3,[r1,#0x35d]
000034  f8d12482          LDR      r2,[r1,#0x482]
000038  f8c12361          STR      r2,[r1,#0x361]
;;;2933   		if( thisInfo->tCoord.tPastPos[0].vusR[l] && thisInfo->tCoord.tPos.vusR[l] )
00003c  f8b096da          LDRH     r9,[r0,#0x6da]
000040  f1b90f00          CMP      r9,#0
000044  bf1c              ITT      NE
000046  f8b094e2          LDRHNE   r9,[r0,#0x4e2]
00004a  f1b90f00          CMPNE    r9,#0
00004e  d076              BEQ      |L17.318|
;;;2934   		{
;;;2935   			if(Ver >= 3 && thisInfo->tCoord.tPastPos[2].vusS[l]>0 && thisInfo->tCoord.DrawingFlag[l] )
000050  2e03              CMP      r6,#3
000052  d376              BCC      |L17.322|
000054  f8b007b8          LDRH     r0,[r0,#0x7b8]
000058  2800              CMP      r0,#0
00005a  d072              BEQ      |L17.322|
00005c  eb0c0004          ADD      r0,r12,r4
000060  f8900e25          LDRB     r0,[r0,#0xe25]
000064  2800              CMP      r0,#0
000066  d06c              BEQ      |L17.322|
;;;2936   			{
;;;2937   				P1 = algorithm_coord_calc_distance(thisInfo->tCoord.tPos.tXY[l],thisInfo->tCoord.tPastPos[0].tXY[l]);
000068  f8d81276          LDR      r1,[r8,#0x276]
00006c  f8d8027a          LDR      r0,[r8,#0x27a]
000070  1a59              SUBS     r1,r3,r1
000072  4349              MULS     r1,r1,r1
000074  1a10              SUBS     r0,r2,r0
000076  fb001000          MLA      r0,r0,r0,r1
00007a  f7fffffe          BL       algorithm_calc_sqrt
00007e  4680              MOV      r8,r0
;;;2938   				P2 = algorithm_coord_calc_distance(thisInfo->tCoord.tPastPos[2].tXY[l],thisInfo->tCoord.tPastPos[0].tXY[l]);
000080  6928              LDR      r0,[r5,#0x10]  ; thisInfo
000082  eb0001c4          ADD      r1,r0,r4,LSL #3
000086  f5016080          ADD      r0,r1,#0x400
00008a  f8d1376c          LDR      r3,[r1,#0x76c]
00008e  f8d12768          LDR      r2,[r1,#0x768]
000092  f8d11676          LDR      r1,[r1,#0x676]
000096  f8d0027a          LDR      r0,[r0,#0x27a]
00009a  1a51              SUBS     r1,r2,r1
00009c  4349              MULS     r1,r1,r1
00009e  1a18              SUBS     r0,r3,r0
0000a0  fb001000          MLA      r0,r0,r0,r1
0000a4  f7fffffe          BL       algorithm_calc_sqrt
;;;2939   
;;;2940   				P1 += coef;
;;;2941   				P2 += coef;
0000a8  19c2              ADDS     r2,r0,r7
;;;2942   
;;;2943   				BezierPos.x = ((3*(thisInfo->tCoord.tPos.tXY[l].x + (thisInfo->tCoord.tPastPos[0].tXY[l].x<<1)) - thisInfo->tCoord.tPastPos[2].tXY[l].x)>>3);
0000aa  6928              LDR      r0,[r5,#0x10]  ; thisInfo
0000ac  eb080107          ADD      r1,r8,r7              ;2940
0000b0  eb0000c4          ADD      r0,r0,r4,LSL #3
0000b4  f8d0847e          LDR      r8,[r0,#0x47e]
0000b8  f8d0c676          LDR      r12,[r0,#0x676]
0000bc  f8d09768          LDR      r9,[r0,#0x768]
0000c0  eb08034c          ADD      r3,r8,r12,LSL #1
0000c4  eb030343          ADD      r3,r3,r3,LSL #1
0000c8  eba30309          SUB      r3,r3,r9
0000cc  ea4f09e3          ASR      r9,r3,#3
;;;2944   				BezierPos.y = ((3*(thisInfo->tCoord.tPos.tXY[l].y + (thisInfo->tCoord.tPastPos[0].tXY[l].y<<1)) - thisInfo->tCoord.tPastPos[2].tXY[l].y)>>3);
0000d0  f8d0b482          LDR      r11,[r0,#0x482]
0000d4  f8d0367a          LDR      r3,[r0,#0x67a]
;;;2945   				
;;;2946   				AvgPos.x = ((thisInfo->tCoord.tPos.tXY[l].x + thisInfo->tCoord.tPastPos[0].tXY[l].x)>>1);
0000d8  44c4              ADD      r12,r12,r8
0000da  eb0b0a43          ADD      r10,r11,r3,LSL #1     ;2944
0000de  f8d0e76c          LDR      lr,[r0,#0x76c]        ;2944
;;;2947   				AvgPos.y = ((thisInfo->tCoord.tPos.tXY[l].y + thisInfo->tCoord.tPastPos[0].tXY[l].y)>>1);
0000e2  445b              ADD      r3,r3,r11
0000e4  eb0a0a4a          ADD      r10,r10,r10,LSL #1    ;2944
0000e8  ea4f0863          ASR      r8,r3,#1
0000ec  ebaa0a0e          SUB      r10,r10,lr            ;2944
;;;2948   				
;;;2949   				thisInfo->tCoord.tPos.tXY[l].x = (AvgPos.x * abs(P1-P2) + BezierPos.x * (P1+P2 - abs(P1-P2)) ) / (P1 + P2);
0000f0  1a8b              SUBS     r3,r1,r2
0000f2  ea4f0aea          ASR      r10,r10,#3            ;2944
0000f6  ea4f0c6c          ASR      r12,r12,#1            ;2946
0000fa  2b00              CMP      r3,#0
0000fc  bfac              ITE      GE
0000fe  469b              MOVGE    r11,r3
000100  f1c30b00          RSBLT    r11,r3,#0
000104  fb0cfc0b          MUL      r12,r12,r11
000108  4411              ADD      r1,r1,r2
00010a  bfac              ITE      GE
00010c  461a              MOVGE    r2,r3
00010e  425a              RSBLT    r2,r3,#0
000110  eba10202          SUB      r2,r1,r2
000114  fb09c202          MLA      r2,r9,r2,r12
000118  fb92f2f1          SDIV     r2,r2,r1
00011c  f8c0247e          STR      r2,[r0,#0x47e]
;;;2950   				thisInfo->tCoord.tPos.tXY[l].y = (AvgPos.y * abs(P1-P2) + BezierPos.y * (P1+P2 - abs(P1-P2)) ) / (P1 + P2);
000120  bfac              ITE      GE
000122  461a              MOVGE    r2,r3
000124  425a              RSBLT    r2,r3,#0
000126  fb08f202          MUL      r2,r8,r2
00012a  bfb8              IT       LT
00012c  425b              RSBLT    r3,r3,#0
00012e  eba10303          SUB      r3,r1,r3
000132  fb0a2203          MLA      r2,r10,r3,r2
000136  fb92f1f1          SDIV     r1,r2,r1
00013a  f8c01482          STR      r1,[r0,#0x482]
                  |L17.318|
00013e  e00e              B        |L17.350|
000140  e7ff              B        |L17.322|
                  |L17.322|
;;;2951   			}
;;;2952   			else 
;;;2953   			{
;;;2954   				thisInfo->tCoord.tPos.tXY[l].x = ((thisInfo->tCoord.tPos.tXY[l].x + thisInfo->tCoord.tPastPos[0].tXY[l].x)>>1);
000142  f8d10676          LDR      r0,[r1,#0x676]
000146  4418              ADD      r0,r0,r3
000148  ea4f0060          ASR      r0,r0,#1
00014c  f8c1047e          STR      r0,[r1,#0x47e]
;;;2955   				thisInfo->tCoord.tPos.tXY[l].y = ((thisInfo->tCoord.tPos.tXY[l].y + thisInfo->tCoord.tPastPos[0].tXY[l].y)>>1);
000150  f8d1067a          LDR      r0,[r1,#0x67a]
000154  4410              ADD      r0,r0,r2
000156  ea4f0060          ASR      r0,r0,#1
00015a  f8c10482          STR      r0,[r1,#0x482]
                  |L17.350|
00015e  f1040401          ADD      r4,r4,#1
000162  2c0a              CMP      r4,#0xa               ;2928
000164  f6ffaf52          BLT      |L17.12|
;;;2956   			}
;;;2957   		}
;;;2958   	}
;;;2959   	
;;;2960   	algorithm_PendTouchEvent();
000168  f7fffffe          BL       algorithm_PendTouchEvent
;;;2961   	algorithm_coord_UpdatePosHistoryInfo();
00016c  f7fffffe          BL       algorithm_coord_UpdatePosHistoryInfo
;;;2962   	
;;;2963   	for (int l = 0; l < MAX_TOUCH_; l++)
;;;2964   	{
;;;2965   		thisInfo->tCoord.tPos.vusR[l] = thisInfo->tCoord.tTempPos.vusR[l];
000170  692a              LDR      r2,[r5,#0x10]  ; thisInfo
000172  2000              MOVS     r0,#0                 ;2963
                  |L17.372|
000174  eb020140          ADD      r1,r2,r0,LSL #1
000178  f8b133fd          LDRH     r3,[r1,#0x3fd]
00017c  f8a134e2          STRH     r3,[r1,#0x4e2]
;;;2966   		thisInfo->tCoord.tPos.vusS[l] = thisInfo->tCoord.tTempPos.vusS[l];
000180  f8b133dd          LDRH     r3,[r1,#0x3dd]
000184  f8a134ce          STRH     r3,[r1,#0x4ce]
;;;2967   		thisInfo->tCoord.tPos.tXY[l] = thisInfo->tCoord.tTempPos.tXY[l];
000188  eb0201c0          ADD      r1,r2,r0,LSL #3
00018c  1c40              ADDS     r0,r0,#1
00018e  f8d1335d          LDR      r3,[r1,#0x35d]
000192  f8c1347e          STR      r3,[r1,#0x47e]
000196  f8d13361          LDR      r3,[r1,#0x361]
00019a  f8c13482          STR      r3,[r1,#0x482]
00019e  280a              CMP      r0,#0xa               ;2963
0001a0  dbe8              BLT      |L17.372|
;;;2968   	}
;;;2969   	if(Ver == 4)
0001a2  2e04              CMP      r6,#4
;;;2970   	{
;;;2971   		algorithm_PendTouchEvent();
;;;2972   		algorithm_coord_UpdatePosHistoryInfo();
;;;2973   	}
;;;2974   }
0001a4  bf18              IT       NE
0001a6  e8bd9ff0          POPNE    {r4-r12,pc}
0001aa  f7fffffe          BL       algorithm_PendTouchEvent
0001ae  e8bd5ff0          POP      {r4-r12,lr}           ;2972
0001b2  f7ffbffe          B.W      algorithm_coord_UpdatePosHistoryInfo
;;;2975   
                          ENDP

0001b6  0000              DCW      0x0000
                  |L17.440|
                          DCD      ||.data||

                          AREA ||i.algorithm_coord_process||, CODE, READONLY, ALIGN=2

                  algorithm_coord_process PROC
;;;3832   
;;;3833   void algorithm_coord_process(int mode)
000000  b570              PUSH     {r4-r6,lr}
;;;3834   {
000002  4605              MOV      r5,r0
;;;3835   	//Edge_Expand_Finger LYB_190109
;;;3836   	algorithm_label_EdgeExpand_Finger(mode);
000004  f7fffffe          BL       algorithm_label_EdgeExpand_Finger
;;;3837   
;;;3838   #if BIG_FINGER_EDGE_EXPAND_ALGO_EN
;;;3839   	algorithm_coord_EdgeExpand_BigFinger(); 
;;;3840   #endif
;;;3841   	////////////////////////////////////////////////////////////////////////////////////////////////////////////////
;;;3842   	// Algorithm Coord. Calculation
;;;3843   	////////////////////////////////////////////////////////////////////////////////////////////////////////////////
;;;3844   	algorithm_coord_calc_pos(mode);
000008  4628              MOV      r0,r5
00000a  f7fffffe          BL       algorithm_coord_calc_pos
;;;3845   
;;;3846   #if WinCertAssistance_En	
;;;3847   	if(thisModeConf->Coord.bWinCertDrawingAssistanceOn)
00000e  4c0d              LDR      r4,|L18.68|
000010  68e1              LDR      r1,[r4,#0xc]  ; thisModeConf
000012  f8911101          LDRB     r1,[r1,#0x101]
000016  2900              CMP      r1,#0
;;;3848   		algorithm_coord_drawing_assistance(mode);
000018  bf1c              ITT      NE
00001a  4628              MOVNE    r0,r5
00001c  f7fffffe          BLNE     algorithm_coord_drawing_assistance
;;;3849   #endif
;;;3850   	////////////////////////////////////////////////////////////////////////////////////////////////////////////////
;;;3851   	// Algorithm Coord. Tracking
;;;3852   	////////////////////////////////////////////////////////////////////////////////////////////////////////////////
;;;3853       algorithm_coord_tracking_pos(mode);
000020  4628              MOV      r0,r5
000022  f7fffffe          BL       algorithm_coord_tracking_pos
;;;3854   		
;;;3855   //#ifndef COVER_GLASS_USE
;;;3856   //	algorithm_coord_compensation(mode);
;;;3857   //#endif
;;;3858   	
;;;3859       algorithm_coord_smoothing_pos(mode);
000026  4628              MOV      r0,r5
000028  f7fffffe          BL       algorithm_coord_smoothing_pos
;;;3860   	
;;;3861   	if(thisModeConf->Coord.usOutInDrawEdgeTh)
00002c  68e0              LDR      r0,[r4,#0xc]  ; thisModeConf
00002e  f8b000f9          LDRH     r0,[r0,#0xf9]
000032  2800              CMP      r0,#0
;;;3862   		algorithm_coord_OutInDrawing();
000034  bf18              IT       NE
000036  f7fffffe          BLNE     algorithm_coord_OutInDrawing
;;;3863   	
;;;3864   //	algorithm_coord_latency_cal_test();
;;;3865   	////////////////////////////////////////////////////////////////////////////////////////////////////////////////
;;;3866   	// Algorithm Coord. Post-Procssing
;;;3867   	////////////////////////////////////////////////////////////////////////////////////////////////////////////////
;;;3868   //	if(thisModeConf->Coord.cPostProcessEndMargin == 0)
;;;3869   //		algorithm_coord_PostProcess(mode);
;;;3870   //	else
;;;3871   		algorithm_coord_PostProcess_1();
00003a  e8bd4070          POP      {r4-r6,lr}
00003e  f7ffbffe          B.W      algorithm_coord_PostProcess_1
;;;3872   }
                          ENDP

000042  0000              DCW      0x0000
                  |L18.68|
                          DCD      ||.data||

                          AREA ||i.algorithm_coord_smoothing_pos||, CODE, READONLY, ALIGN=2

                  algorithm_coord_smoothing_pos PROC
;;;1849   
;;;1850   void algorithm_coord_smoothing_pos(int mode)
000000  e92d4ff0          PUSH     {r4-r11,lr}
;;;1851   {
;;;1852   	int i;
;;;1853   	int prev_curr_dist;
;;;1854   //	tXY_t curr_pos;  // NOTE : not used
;;;1855   //	tXY_t prev_pos;
;;;1856   //	tXY_t avg_pos, pred_pos;
;;;1857   
;;;1858   	tCoordInfo_t 	*temp_coord;
;;;1859   
;;;1860   	temp_coord = &thisInfo->tCoord;
000004  f8df8620          LDR      r8,|L19.1576|
000008  b097              SUB      sp,sp,#0x5c           ;1851
;;;1861   
;;;1862   	for( i=MAX_TOUCH_; i--; )
;;;1863   	{
;;;1864   		if( temp_coord->tPos.vusR[i] > 0 )
;;;1865   		{
;;;1866   			tXY_t coord_array[7];
;;;1867   
;;;1868   			if(thisModeConf->Coord.bFingerMeanSmoothing)
;;;1869   			{
;;;1870   				if(thisModeConf->Coord.ucSmoothPastOrgInter > 0 && thisModeConf->Coord.ucSmoothPastOrgInter <= 4 && temp_coord->tOrgPastPos[0].vusS[i]>0 && temp_coord->tOrgPastPos[1].vusS[i]>0 && temp_coord->tOrgPastPos[2].vusS[i]>0 && temp_coord->cScreenDebCnt[i] >= 5)
;;;1871   				{
;;;1872   					coord_array[0] = temp_coord->tOrgPos.tXY[i];
;;;1873   					coord_array[1] = temp_coord->tPastPos[0].tXY[i];
;;;1874   					coord_array[2] = temp_coord->tPastPos[1].tXY[i];
;;;1875   					coord_array[3] = temp_coord->tPastPos[2].tXY[i];
;;;1876   					coord_array[4] = temp_coord->tOrgPastPos[0].tXY[i];	
;;;1877   					coord_array[5] = temp_coord->tOrgPastPos[1].tXY[i];	
;;;1878   					coord_array[6] = temp_coord->tOrgPastPos[2].tXY[i];	
;;;1879   				
;;;1880   					temp_coord->tPos.tXY[i] = meanInterpolate(coord_array, 0,thisModeConf->Coord.ucSmoothPastOrgInter+3);
;;;1881   				}
;;;1882   				else
;;;1883   				{
;;;1884   //					if( temp_coord->tPastPos[2].vusS[i] > 0 && temp_coord->tPastPos[1].vusS[i] > 0 && temp_coord->tPastPos[0].vusS[i] > 0 && temp_coord->tPos.vusS[i] > 0 )
;;;1885   //					{					
;;;1886   //						coord_array[0].x = (temp_coord->tOrgPastPos[2].tXY[i].x + temp_coord->tOrgPastPos[1].tXY[i].x) / 2;
;;;1887   //						coord_array[1].x = (temp_coord->tOrgPastPos[2].tXY[i].x + temp_coord->tOrgPastPos[1].tXY[i].x + temp_coord->tOrgPastPos[0].tXY[i].x) / 3;
;;;1888   //						coord_array[2].x = (temp_coord->tOrgPastPos[2].tXY[i].x + temp_coord->tOrgPastPos[1].tXY[i].x + temp_coord->tOrgPastPos[0].tXY[i].x + temp_coord->tOrgPos.tXY[i].x) / 4;
;;;1889   //						coord_array[3].x = (temp_coord->tOrgPastPos[1].tXY[i].x + temp_coord->tOrgPastPos[0].tXY[i].x + temp_coord->tOrgPos.tXY[i].x) / 3;
;;;1890   //						coord_array[4].x = (temp_coord->tOrgPastPos[0].tXY[i].x + temp_coord->tOrgPos.tXY[i].x) / 2;
;;;1891   
;;;1892   //						coord_array[0].y = (temp_coord->tOrgPastPos[2].tXY[i].y + temp_coord->tOrgPastPos[1].tXY[i].y) / 2;
;;;1893   //						coord_array[1].y = (temp_coord->tOrgPastPos[2].tXY[i].y + temp_coord->tOrgPastPos[1].tXY[i].y + temp_coord->tOrgPastPos[0].tXY[i].y) / 3;
;;;1894   //						coord_array[2].y = (temp_coord->tOrgPastPos[2].tXY[i].y + temp_coord->tOrgPastPos[1].tXY[i].y + temp_coord->tOrgPastPos[0].tXY[i].y + temp_coord->tOrgPos.tXY[i].y) / 4;
;;;1895   //						coord_array[3].y = (temp_coord->tOrgPastPos[1].tXY[i].y + temp_coord->tOrgPastPos[0].tXY[i].y + temp_coord->tOrgPos.tXY[i].y) / 3;
;;;1896   //						coord_array[4].y = (temp_coord->tOrgPastPos[0].tXY[i].y + temp_coord->tOrgPos.tXY[i].y) / 2 ;
;;;1897   
;;;1898   //						temp_coord->tPos.tXY[i] = meanInterpolate(coord_array, 0,5);	
;;;1899   //					}
;;;1900   //					else if(temp_coord->tPastPos[1].vusS[i] > 0 && temp_coord->tPastPos[0].vusS[i] > 0 && temp_coord->tPos.vusS[i] > 0)
;;;1901   //					{
;;;1902   //						temp_coord->tPos.tXY[i].x = (temp_coord->tOrgPastPos[1].tXY[i].x + temp_coord->tOrgPastPos[0].tXY[i].x + temp_coord->tOrgPos.tXY[i].x)/3;
;;;1903   //						temp_coord->tPos.tXY[i].y = (temp_coord->tOrgPastPos[1].tXY[i].y + temp_coord->tOrgPastPos[0].tXY[i].y + temp_coord->tOrgPos.tXY[i].y)/3;
;;;1904   //					}
;;;1905   //					else if(temp_coord->tPastPos[0].vusS[i] > 0 && temp_coord->tPos.vusS[i] > 0)
;;;1906   //					{
;;;1907   //						temp_coord->tPos.tXY[i].x = (temp_coord->tOrgPastPos[0].tXY[i].x + temp_coord->tOrgPos.tXY[i].x)/2;
;;;1908   //						temp_coord->tPos.tXY[i].y = (temp_coord->tOrgPastPos[0].tXY[i].y + temp_coord->tOrgPos.tXY[i].y)/2;
;;;1909   //					}
;;;1910   
;;;1911   					if(temp_coord->tPastPos[0].vusS[i] > 0 && temp_coord->tPos.vusS[i] > 0)
;;;1912   					{
;;;1913   						temp_coord->tPos.tXY[i].x = (temp_coord->tOrgPastPos[0].tXY[i].x + temp_coord->tOrgPos.tXY[i].x)/2;
;;;1914   						temp_coord->tPos.tXY[i].y = (temp_coord->tOrgPastPos[0].tXY[i].y + temp_coord->tOrgPos.tXY[i].y)/2;
;;;1915   					}
;;;1916   				}
;;;1917   			}
;;;1918   
;;;1919   			if( temp_coord->tPastPos[0].vusS[i] > 0 )
;;;1920   			{
;;;1921   				if(thisModeConf->Coord.cDisSmoothOffset != 0)
;;;1922   				{
;;;1923   					uint16_t /*dist_th1 = 0, dist_th2 = 0,*/ dist = 0;
;;;1924   					tXY_t ProjectionVector, PrevVector, CurrVector, PredPos;
;;;1925   
;;;1926   					ProjectionVector.x = 0, ProjectionVector.y = 0;
;;;1927   					PredPos = temp_coord->tPastPos[0].tXY[i];
;;;1928   					
;;;1929   					prev_curr_dist = algorithm_coord_calc_distance(temp_coord->tPastPos[0].tXY[i], temp_coord->tPos.tXY[i]);
;;;1930   
;;;1931   					prev_curr_dist += thisModeConf->Coord.cDisSmoothOffset;
;;;1932   					
;;;1933   					if(thisInfo->WinCertMode)
;;;1934   						prev_curr_dist >>= 3;
;;;1935   					
;;;1936   					if(prev_curr_dist < 10)
;;;1937   						prev_curr_dist = 10;
;;;1938   					
;;;1939   					if(prev_curr_dist > _BV(thisModeConf->Coord.lMoveSmoothingLevel))
;;;1940   						prev_curr_dist = _BV(thisModeConf->Coord.lMoveSmoothingLevel);
;;;1941   							
;;;1942   					//Prediction based on projection
;;;1943   					if(thisModeConf->Coord.ucVectorPredictionCoef)
;;;1944   					{
;;;1945   						if(temp_coord->tPastPos[4].vusR[i] > 0){
;;;1946   							if(ProjectionEnable[i] == NO && 
;;;1947   								algorithm_coord_calc_distance(temp_coord->tPos.tXY[i],temp_coord->tPastPos[4].tXY[i]) > thisModeConf->Coord.usDistThdStationaryToMoving &&
;;;1948   								algorithm_coord_calc_distance(temp_coord->tPastPos[2].tXY[i],temp_coord->tPastPos[4].tXY[i]) > (thisModeConf->Coord.usDistThdStationaryToMoving>>1))
;;;1949   								ProjectionEnable[i] = YES;
;;;1950   							else if(ProjectionEnable[i] == YES && algorithm_coord_calc_distance(temp_coord->tPos.tXY[i],temp_coord->tPastPos[4].tXY[i]) < thisModeConf->Coord.usDistThdMovingToStationary)
;;;1951   								ProjectionEnable[i] = NO;
;;;1952   						}			
;;;1953   						if(ProjectionEnable[i] == YES)
;;;1954   						{
;;;1955   							PrevVector.x = temp_coord->tPastPos[0].tXY[i].x - temp_coord->tPastPos[4].tXY[i].x;
;;;1956   							PrevVector.y = temp_coord->tPastPos[0].tXY[i].y - temp_coord->tPastPos[4].tXY[i].y;
;;;1957   							CurrVector.x = temp_coord->tPos.tXY[i].x - temp_coord->tPastPos[4].tXY[i].x;
;;;1958   							CurrVector.y = temp_coord->tPos.tXY[i].y - temp_coord->tPastPos[4].tXY[i].y;
;;;1959   						
;;;1960   							ProjectionVector.x = (int)(PrevVector.x * (int64_t)(PrevVector.x*CurrVector.x + PrevVector.y*CurrVector.y) / (PrevVector.x*PrevVector.x+PrevVector.y*PrevVector.y));
;;;1961   							ProjectionVector.y = (int)(PrevVector.y * (int64_t)(PrevVector.x*CurrVector.x + PrevVector.y*CurrVector.y) / (PrevVector.x*PrevVector.x+PrevVector.y*PrevVector.y));
;;;1962   						
;;;1963   							PredPos.x = temp_coord->tPastPos[4].tXY[i].x + ProjectionVector.x;
;;;1964   							PredPos.y = temp_coord->tPastPos[4].tXY[i].y + ProjectionVector.y;
;;;1965   
;;;1966   							dist = algorithm_coord_calc_distance(temp_coord->tPos.tXY[i],PredPos);
;;;1967   							if(dist < 10)	dist = 0;
;;;1968   							else if(dist > thisModeConf->Coord.ucVectorPredictionCoef)	dist = thisModeConf->Coord.ucVectorPredictionCoef;
;;;1969   							
;;;1970   							temp_coord->tPos.tXY[i].x = ((thisModeConf->Coord.ucVectorPredictionCoef - dist) * PredPos.x + dist * temp_coord->tPos.tXY[i].x + (thisModeConf->Coord.ucVectorPredictionCoef>>1)) / thisModeConf->Coord.ucVectorPredictionCoef;
;;;1971   							temp_coord->tPos.tXY[i].y = ((thisModeConf->Coord.ucVectorPredictionCoef - dist) * PredPos.y + dist * temp_coord->tPos.tXY[i].y + (thisModeConf->Coord.ucVectorPredictionCoef>>1)) / thisModeConf->Coord.ucVectorPredictionCoef;			
;;;1972   							if( temp_coord->tPastPos[2].vusS[i] > 0)
;;;1973   							{
;;;1974   								temp_coord->tPos.tXY[i].x = ((((temp_coord->tPastPos[0].tXY[i].x<<1) - temp_coord->tPastPos[2].tXY[i].x) + temp_coord->tPos.tXY[i].x)>>1);
;;;1975   								temp_coord->tPos.tXY[i].y = ((((temp_coord->tPastPos[0].tXY[i].y<<1) - temp_coord->tPastPos[2].tXY[i].y) + temp_coord->tPos.tXY[i].y)>>1);
;;;1976   							}
;;;1977   						}
;;;1978   						else if(prev_curr_dist > (1<<POS_BOOST_SHIFT_)){
;;;1979   							temp_coord->tPos.tXY[i].x = ((temp_coord->tPos.tXY[i].x + temp_coord->tOrgPos.tXY[i].x)>>1);
;;;1980   							temp_coord->tPos.tXY[i].y = ((temp_coord->tPos.tXY[i].y + temp_coord->tOrgPos.tXY[i].y)>>1);
;;;1981   						}
;;;1982   					}
;;;1983   					temp_coord->tPos.tXY[i].x = ((_BV(thisModeConf->Coord.lMoveSmoothingLevel) - prev_curr_dist) * temp_coord->tPastPos[0].tXY[i].x + prev_curr_dist * temp_coord->tPos.tXY[i].x + _BV(thisModeConf->Coord.lMoveSmoothingLevel-1)) >> thisModeConf->Coord.lMoveSmoothingLevel;
;;;1984   					temp_coord->tPos.tXY[i].y = ((_BV(thisModeConf->Coord.lMoveSmoothingLevel) - prev_curr_dist) * temp_coord->tPastPos[0].tXY[i].y + prev_curr_dist * temp_coord->tPos.tXY[i].y + _BV(thisModeConf->Coord.lMoveSmoothingLevel-1)) >> thisModeConf->Coord.lMoveSmoothingLevel;
;;;1985   				
;;;1986   					//heon
;;;1987   					temp_coord->tPos.tXY[i] = temp_coord->tOrgPos.tXY[i];
;;;1988   				}
;;;1989   				
;;;1990   				if(temp_coord->tPos.vusS[i] > 0)
;;;1991   				{
;;;1992   					if(thisModeConf->Coord.usDrumTestDist > 0)
;;;1993   					{
;;;1994   						if(DrumStep[i] == 0)
;;;1995   						{
;;;1996   							if(temp_coord->tOrgPos.vusR[i] > 0 && temp_coord->tOrgPastPos[0].vusR[i] > 0){
;;;1997   								if(thisModeConf->Coord.usDrumTestDist < algorithm_coord_calc_distance(temp_coord->tOrgPos.tXY[i],temp_coord->tOrgPastPos[0].tXY[i]))
;;;1998   								{
;;;1999   									DrumStep[i] = 1;
;;;2000   //									DrumCoordBuf[i] = temp_coord->tPos.tXY[i];
;;;2001   									temp_coord->tPos.tXY[i] = temp_coord->tPastPos[0].tXY[i];
;;;2002   								}
;;;2003   								else if((thisModeConf->Coord.usDrumTestDist) < algorithm_coord_calc_distance(temp_coord->tOrgPos.tXY[i],temp_coord->iStopPos[i]))
;;;2004   								{
;;;2005   									DrumStep[i] = 3;
;;;2006   								}	
;;;2007   							}
;;;2008   						}
;;;2009   						
;;;2010   						
;;;2011   					}
;;;2012   					
;;;2013   					if(thisModeConf->Coord.usFirstDrawingThd > 0 && temp_coord->tPos.vusR[i] > thisModeConf->Coord.ucFirstDrawingCellCnt)
;;;2014   					{
;;;2015   						if(temp_coord->DrawingFlag[i] == NO)
;;;2016   						{
;;;2017   							int dist_th = 0;
;;;2018   							
;;;2019   	//						if(algorithm_coord_IsEdgeArea(&temp_coord->iStopPos[i])>0)
;;;2020   	//							dist_th = (1<<POS_BOOST_SHIFT_);
;;;2021   	//						else
;;;2022   								dist_th = thisModeConf->Coord.usFirstDrawingThd;
;;;2023   							
;;;2024   							if(algorithm_coord_IsEdgeArea(&temp_coord->iStopPos[i],0)>0)
;;;2025   								dist_th += AddDistTh;
;;;2026   							
;;;2027   							if( algorithm_coord_calc_distance(temp_coord->iStopPos[i],temp_coord->tPos.tXY[i]) < dist_th )
;;;2028   							{
;;;2029   								temp_coord->tPos.tXY[i] =temp_coord->iStopPos[i];
;;;2030   	//							temp_coord->tPos.tXY[i].x = ((temp_coord->tFirstPos.tXY[i].x*7 + temp_coord->tPos.tXY[i].x)>>3);
;;;2031   	//							temp_coord->tPos.tXY[i].y = ((temp_coord->tFirstPos.tXY[i].y*7 + temp_coord->tPos.tXY[i].y)>>3);
;;;2032   							}
;;;2033   							else{
;;;2034   								temp_coord->DrawingFlag[i] = YES;
;;;2035   								temp_coord->tPos.tXY[i].x = ((temp_coord->iStopPos[i].x + temp_coord->tPos.tXY[i].x)>>1);
;;;2036   								temp_coord->tPos.tXY[i].y = ((temp_coord->iStopPos[i].y + temp_coord->tPos.tXY[i].y)>>1);
;;;2037   							}
;;;2038   						}
;;;2039   					}
;;;2040   					else
;;;2041   					{
;;;2042   						temp_coord->DrawingFlag[i] = YES;
;;;2043   					}
;;;2044   				}
;;;2045   			
;;;2046   				// Finger Edge Smoothing
;;;2047   				if(thisModeConf->Coord.cEdgeSmoothing_Finger_On > 0)
;;;2048   				{
;;;2049   					int MoveSmoothingLevel = thisModeConf->Coord.lMoveSmoothingLevel;
;;;2050   					if(temp_coord->tPos.tXY[i].x < (1<<(POS_BOOST_SHIFT_)) || temp_coord->tPos.tXY[i].y > thisInfo->tCoord.iInternalYRes-(1<<(POS_BOOST_SHIFT_))
;;;2051   						|| temp_coord->tPos.tXY[i].x > thisInfo->tCoord.iInternalXRes-(1<<(POS_BOOST_SHIFT_)) || temp_coord->tPos.tXY[i].y < (1<<(POS_BOOST_SHIFT_)))
;;;2052   					{
;;;2053   						prev_curr_dist = abs(temp_coord->tPastPos[0].tXY[i].x - temp_coord->tPos.tXY[i].x);
;;;2054   						prev_curr_dist += thisModeConf->Coord.cEdgeSmoothing_Finger_On;					
;;;2055   						if(prev_curr_dist < 10) prev_curr_dist = 10;					
;;;2056   						if(prev_curr_dist > _BV(MoveSmoothingLevel)) prev_curr_dist = _BV(MoveSmoothingLevel);
;;;2057   
;;;2058   						temp_coord->tPos.tXY[i].x = ((_BV(MoveSmoothingLevel) - prev_curr_dist) * temp_coord->tPastPos[0].tXY[i].x + prev_curr_dist * temp_coord->tPos.tXY[i].x + _BV(MoveSmoothingLevel-1)) >> MoveSmoothingLevel;
;;;2059   						
;;;2060   						prev_curr_dist = abs(temp_coord->tPastPos[0].tXY[i].y - temp_coord->tPos.tXY[i].y);
;;;2061   						prev_curr_dist += thisModeConf->Coord.cEdgeSmoothing_Finger_On;					
;;;2062   						if(prev_curr_dist < 10) prev_curr_dist = 10;					
;;;2063   						if(prev_curr_dist > _BV(MoveSmoothingLevel)) prev_curr_dist = _BV(MoveSmoothingLevel);
;;;2064   
;;;2065   
;;;2066   						temp_coord->tPos.tXY[i].y = ((_BV(MoveSmoothingLevel) - prev_curr_dist) * temp_coord->tPastPos[0].tXY[i].y + prev_curr_dist * temp_coord->tPos.tXY[i].y + _BV(MoveSmoothingLevel-1)) >> MoveSmoothingLevel;				
;;;2067   					}
;;;2068   				}				
;;;2069   			}
;;;2070   		}
;;;2071   	}
;;;2072   }
00000a  2509              MOVS     r5,#9
00000c  f8d80010          LDR      r0,[r8,#0x10]         ;1860  ; thisInfo
000010  f04f0901          MOV      r9,#1                 ;1860
000014  f5007757          ADD      r7,r0,#0x35c          ;1860
                  |L19.24|
000018  eb070645          ADD      r6,r7,r5,LSL #1       ;1864
00001c  f8b60186          LDRH     r0,[r6,#0x186]        ;1864
000020  2800              CMP      r0,#0                 ;1864
000022  f00082ec          BEQ.W    |L19.1534|
000026  f8d8b00c          LDR      r11,[r8,#0xc]         ;1868  ; thisModeConf
00002a  f89b00ff          LDRB     r0,[r11,#0xff]        ;1868
00002e  2800              CMP      r0,#0                 ;1868
000030  d079              BEQ      |L19.294|
000032  f89b00fc          LDRB     r0,[r11,#0xfc]        ;1870
000036  1e40              SUBS     r0,r0,#1              ;1870
000038  2803              CMP      r0,#3                 ;1870
00003a  d876              BHI      |L19.298|
00003c  f8b606cc          LDRH     r0,[r6,#0x6cc]        ;1870
000040  2800              CMP      r0,#0                 ;1870
000042  bf1f              ITTTT    NE                    ;1870
000044  f8b60745          LDRHNE   r0,[r6,#0x745]        ;1870
000048  2800              CMPNE    r0,#0                 ;1870
00004a  f8b607be          LDRHNE   r0,[r6,#0x7be]        ;1870
00004e  2800              CMPNE    r0,#0                 ;1870
000050  d06b              BEQ      |L19.298|
000052  eb070005          ADD      r0,r7,r5              ;1870
000056  f9900987          LDRSB    r0,[r0,#0x987]        ;1870
00005a  2805              CMP      r0,#5                 ;1870
00005c  db65              BLT      |L19.298|
00005e  eb0701c5          ADD      r1,r7,r5,LSL #3       ;1872
000062  910e              STR      r1,[sp,#0x38]         ;1872
000064  f8d12577          LDR      r2,[r1,#0x577]        ;1872
000068  9200              STR      r2,[sp,#0]            ;1872
00006a  f8d1257b          LDR      r2,[r1,#0x57b]        ;1872
00006e  9201              STR      r2,[sp,#4]            ;1873
000070  f8d1231a          LDR      r2,[r1,#0x31a]        ;1873
000074  9202              STR      r2,[sp,#8]            ;1873
000076  f8d1231e          LDR      r2,[r1,#0x31e]        ;1873
00007a  9203              STR      r2,[sp,#0xc]          ;1874
00007c  f8d12393          LDR      r2,[r1,#0x393]        ;1874
000080  f5016080          ADD      r0,r1,#0x400          ;1872
000084  9204              STR      r2,[sp,#0x10]         ;1874
000086  f8d11397          LDR      r1,[r1,#0x397]        ;1874
00008a  9105              STR      r1,[sp,#0x14]         ;1875
00008c  68c1              LDR      r1,[r0,#0xc]          ;1875
00008e  9106              STR      r1,[sp,#0x18]         ;1875
000090  6901              LDR      r1,[r0,#0x10]         ;1875
000092  9107              STR      r1,[sp,#0x1c]         ;1876
000094  f8d0127c          LDR      r1,[r0,#0x27c]        ;1876
000098  9108              STR      r1,[sp,#0x20]         ;1876
00009a  f8d01280          LDR      r1,[r0,#0x280]        ;1876
00009e  9109              STR      r1,[sp,#0x24]         ;1877
0000a0  f8d012f5          LDR      r1,[r0,#0x2f5]        ;1877
0000a4  910a              STR      r1,[sp,#0x28]         ;1877
0000a6  f8d012f9          LDR      r1,[r0,#0x2f9]        ;1877
0000aa  910b              STR      r1,[sp,#0x2c]         ;1878
0000ac  f8d0136e          LDR      r1,[r0,#0x36e]        ;1878
0000b0  910c              STR      r1,[sp,#0x30]         ;1878
0000b2  f8d00372          LDR      r0,[r0,#0x372]        ;1878
0000b6  900d              STR      r0,[sp,#0x34]         ;1880
0000b8  a810              ADD      r0,sp,#0x40           ;1880
0000ba  900f              STR      r0,[sp,#0x3c]         ;1880
0000bc  2100              MOVS     r1,#0                 ;1880
0000be  f89b00fc          LDRB     r0,[r11,#0xfc]        ;1880
0000c2  466c              MOV      r4,sp                 ;1880
0000c4  f1000e03          ADD      lr,r0,#3              ;1880
0000c8  460a              MOV      r2,r1                 ;1880
0000ca  460b              MOV      r3,r1                 ;1880
0000cc  f1be0f00          CMP      lr,#0                 ;1880
0000d0  bfd8              IT       LE                    ;1880
0000d2  2000              MOVLE    r0,#0                 ;1880
0000d4  dd04              BLE      |L19.224|
0000d6  f01e0001          ANDS     r0,lr,#1              ;1880
0000da  bf18              IT       NE                    ;1880
0000dc  e9dd3200          LDRDNE   r3,r2,[sp,#0]         ;1880
                  |L19.224|
0000e0  4586              CMP      lr,r0                 ;1880
0000e2  bfc8              IT       GT                    ;1880
0000e4  eb010c0e          ADDGT    r12,r1,lr             ;1880
0000e8  dd10              BLE      |L19.268|
0000ea  bf00              NOP                            ;1880
                  |L19.236|
0000ec  eb0401c0          ADD      r1,r4,r0,LSL #3       ;1880
0000f0  1c80              ADDS     r0,r0,#2              ;1880
0000f2  f8d1a000          LDR      r10,[r1,#0]           ;1880
0000f6  4584              CMP      r12,r0                ;1880
0000f8  4453              ADD      r3,r3,r10             ;1880
0000fa  f8d1a004          LDR      r10,[r1,#4]           ;1880
0000fe  4452              ADD      r2,r2,r10             ;1880
000100  f8d1a008          LDR      r10,[r1,#8]           ;1880
000104  68c9              LDR      r1,[r1,#0xc]          ;1880
000106  4453              ADD      r3,r3,r10             ;1880
000108  440a              ADD      r2,r2,r1              ;1880
00010a  dcef              BGT      |L19.236|
                  |L19.268|
00010c  fb93f0fe          SDIV     r0,r3,lr              ;1880
000110  fb92f2fe          SDIV     r2,r2,lr              ;1880
000114  990f              LDR      r1,[sp,#0x3c]         ;1880
000116  6008              STR      r0,[r1,#0]            ;1880
000118  604a              STR      r2,[r1,#4]            ;1880
00011a  980e              LDR      r0,[sp,#0x38]         ;1880
00011c  9910              LDR      r1,[sp,#0x40]         ;1880
00011e  f8c01122          STR      r1,[r0,#0x122]        ;1880
000122  9911              LDR      r1,[sp,#0x44]         ;1880
000124  e01d              B        |L19.354|
                  |L19.294|
000126  e01e              B        |L19.358|
000128  e7ff              B        |L19.298|
                  |L19.298|
00012a  f8b6036a          LDRH     r0,[r6,#0x36a]        ;1911
00012e  2800              CMP      r0,#0                 ;1911
000130  f0008265          BEQ.W    |L19.1534|
000134  f8b60172          LDRH     r0,[r6,#0x172]        ;1911
000138  b1d0              CBZ      r0,|L19.368|
00013a  eb0700c5          ADD      r0,r7,r5,LSL #3       ;1913
00013e  f8d0167c          LDR      r1,[r0,#0x67c]        ;1913
000142  f8d02577          LDR      r2,[r0,#0x577]        ;1913
000146  4411              ADD      r1,r1,r2              ;1913
000148  eb0171d1          ADD      r1,r1,r1,LSR #31      ;1913
00014c  1049              ASRS     r1,r1,#1              ;1913
00014e  f8c01122          STR      r1,[r0,#0x122]        ;1913
000152  f8d01680          LDR      r1,[r0,#0x680]        ;1914
000156  f8d0257b          LDR      r2,[r0,#0x57b]        ;1914
00015a  4411              ADD      r1,r1,r2              ;1914
00015c  eb0171d1          ADD      r1,r1,r1,LSR #31      ;1914
000160  1049              ASRS     r1,r1,#1              ;1914
                  |L19.354|
000162  f8c01126          STR      r1,[r0,#0x126]        ;1914
                  |L19.358|
000166  f8b6036a          LDRH     r0,[r6,#0x36a]        ;1919
00016a  2800              CMP      r0,#0                 ;1919
00016c  f0008247          BEQ.W    |L19.1534|
                  |L19.368|
000170  f8bb00fd          LDRH     r0,[r11,#0xfd]        ;1921
000174  2800              CMP      r0,#0                 ;1921
000176  d07c              BEQ      |L19.626|
000178  eb0704c5          ADD      r4,r7,r5,LSL #3       ;1927
00017c  f8d4131a          LDR      r1,[r4,#0x31a]        ;1927
000180  f8d42122          LDR      r2,[r4,#0x122]        ;1929
000184  f8d4031e          LDR      r0,[r4,#0x31e]        ;1927
000188  f8d43126          LDR      r3,[r4,#0x126]        ;1929
00018c  1a89              SUBS     r1,r1,r2              ;1929
00018e  4349              MULS     r1,r1,r1              ;1929
000190  1ac0              SUBS     r0,r0,r3              ;1929
000192  fb001000          MLA      r0,r0,r0,r1           ;1929
000196  f7fffffe          BL       algorithm_calc_sqrt
00019a  f8d8100c          LDR      r1,[r8,#0xc]          ;1931  ; thisModeConf
00019e  f9b120fd          LDRSH    r2,[r1,#0xfd]         ;1931
0001a2  eb020a00          ADD      r10,r2,r0             ;1931
0001a6  f8d80010          LDR      r0,[r8,#0x10]         ;1933  ; thisInfo
0001aa  f5005080          ADD      r0,r0,#0x1000         ;1933
0001ae  f8900171          LDRB     r0,[r0,#0x171]        ;1933
0001b2  2800              CMP      r0,#0                 ;1933
0001b4  bf18              IT       NE                    ;1934
0001b6  ea4f0aea          ASRNE    r10,r10,#3            ;1934
0001ba  f1ba0f0a          CMP      r10,#0xa              ;1937
0001be  f2c08225          BLT.W    |L19.1548|
0001c2  bf00              NOP                            ;1940
                  |L19.452|
0001c4  f8910091          LDRB     r0,[r1,#0x91]         ;1940
0001c8  fa09f000          LSL      r0,r9,r0              ;1940
0001cc  4550              CMP      r0,r10                ;1940
0001ce  f2c08220          BLT.W    |L19.1554|
0001d2  bf00              NOP                            ;1943
                  |L19.468|
0001d4  f8910095          LDRB     r0,[r1,#0x95]         ;1943
0001d8  2800              CMP      r0,#0                 ;1943
0001da  d070              BEQ      |L19.702|
0001dc  f8b60562          LDRH     r0,[r6,#0x562]        ;1945
0001e0  2800              CMP      r0,#0                 ;1945
0001e2  d055              BEQ      |L19.656|
0001e4  f8dfb444          LDR      r11,|L19.1580|
0001e8  f81b0005          LDRB     r0,[r11,r5]           ;1946
0001ec  bb88              CBNZ     r0,|L19.594|
0001ee  f8d42122          LDR      r2,[r4,#0x122]        ;1946
0001f2  f8d43126          LDR      r3,[r4,#0x126]        ;1946
0001f6  f5046080          ADD      r0,r4,#0x400          ;1946
0001fa  900e              STR      r0,[sp,#0x38]         ;1946
0001fc  f8d404fe          LDR      r0,[r4,#0x4fe]        ;1946
000200  f8d41502          LDR      r1,[r4,#0x502]        ;1946
000204  1a10              SUBS     r0,r2,r0              ;1946
000206  4340              MULS     r0,r0,r0              ;1946
000208  1a59              SUBS     r1,r3,r1              ;1946
00020a  fb010001          MLA      r0,r1,r1,r0           ;1946
00020e  f7fffffe          BL       algorithm_calc_sqrt
000212  f8d8100c          LDR      r1,[r8,#0xc]          ;1946  ; thisModeConf
000216  f8b1108d          LDRH     r1,[r1,#0x8d]         ;1946
00021a  4288              CMP      r0,r1                 ;1946
00021c  dd19              BLE      |L19.594|
00021e  990e              LDR      r1,[sp,#0x38]         ;1946
000220  f8d4340c          LDR      r3,[r4,#0x40c]        ;1946
000224  f8d40410          LDR      r0,[r4,#0x410]        ;1946
000228  f8d120fe          LDR      r2,[r1,#0xfe]         ;1946
00022c  f8d11102          LDR      r1,[r1,#0x102]        ;1946
000230  1a9a              SUBS     r2,r3,r2              ;1946
000232  4352              MULS     r2,r2,r2              ;1946
000234  1a40              SUBS     r0,r0,r1              ;1946
000236  fb002000          MLA      r0,r0,r0,r2           ;1946
00023a  f7fffffe          BL       algorithm_calc_sqrt
00023e  f8d8100c          LDR      r1,[r8,#0xc]          ;1946  ; thisModeConf
000242  f8b1108d          LDRH     r1,[r1,#0x8d]         ;1946
000246  ebb00f51          CMP      r0,r1,LSR #1          ;1946
00024a  bfc8              IT       GT                    ;1949
00024c  f80b9005          STRBGT   r9,[r11,r5]           ;1949
000250  dc64              BGT      |L19.796|
                  |L19.594|
000252  f81b0005          LDRB     r0,[r11,r5]           ;1950
000256  2801              CMP      r0,#1                 ;1950
000258  d11e              BNE      |L19.664|
00025a  f8d42122          LDR      r2,[r4,#0x122]        ;1950
00025e  f8d404fe          LDR      r0,[r4,#0x4fe]        ;1950
000262  f8d43126          LDR      r3,[r4,#0x126]        ;1950
000266  f8d41502          LDR      r1,[r4,#0x502]        ;1950
00026a  1a10              SUBS     r0,r2,r0              ;1950
00026c  4340              MULS     r0,r0,r0              ;1950
00026e  1a59              SUBS     r1,r3,r1              ;1950
000270  e000              B        |L19.628|
                  |L19.626|
000272  e041              B        |L19.760|
                  |L19.628|
000274  fb010001          MLA      r0,r1,r1,r0           ;1950
000278  f7fffffe          BL       algorithm_calc_sqrt
00027c  f8d8100c          LDR      r1,[r8,#0xc]          ;1950  ; thisModeConf
000280  f8b1108b          LDRH     r1,[r1,#0x8b]         ;1950
000284  4288              CMP      r0,r1                 ;1950
000286  bfbc              ITT      LT                    ;1951
000288  2000              MOVLT    r0,#0                 ;1951
00028a  f80b0005          STRBLT   r0,[r11,r5]           ;1951
00028e  db03              BLT      |L19.664|
                  |L19.656|
000290  48e6              LDR      r0,|L19.1580|
000292  5d40              LDRB     r0,[r0,r5]            ;1953
000294  2801              CMP      r0,#1                 ;1953
000296  d041              BEQ      |L19.796|
                  |L19.664|
000298  f5ba7f80          CMP      r10,#0x100            ;1978
00029c  dd0f              BLE      |L19.702|
00029e  f8d40122          LDR      r0,[r4,#0x122]        ;1979
0002a2  f8d41577          LDR      r1,[r4,#0x577]        ;1979
0002a6  4408              ADD      r0,r0,r1              ;1979
0002a8  1040              ASRS     r0,r0,#1              ;1979
0002aa  f8c40122          STR      r0,[r4,#0x122]        ;1979
0002ae  f8d40126          LDR      r0,[r4,#0x126]        ;1980
0002b2  f8d4157b          LDR      r1,[r4,#0x57b]        ;1980
0002b6  4408              ADD      r0,r0,r1              ;1980
0002b8  1040              ASRS     r0,r0,#1              ;1980
0002ba  f8c40126          STR      r0,[r4,#0x126]        ;1980
                  |L19.702|
0002be  f8d8000c          LDR      r0,[r8,#0xc]          ;1983  ; thisModeConf
0002c2  f8d4231a          LDR      r2,[r4,#0x31a]        ;1983
0002c6  f8900091          LDRB     r0,[r0,#0x91]         ;1983
0002ca  fa09f100          LSL      r1,r9,r0              ;1983
0002ce  eba1010a          SUB      r1,r1,r10             ;1983
0002d2  434a              MULS     r2,r1,r2              ;1983
0002d4  f8d41122          LDR      r1,[r4,#0x122]        ;1983
0002d8  fb0a2101          MLA      r1,r10,r1,r2          ;1983
0002dc  1e42              SUBS     r2,r0,#1              ;1983
0002de  fa09f202          LSL      r2,r9,r2              ;1983
0002e2  4411              ADD      r1,r1,r2              ;1983
0002e4  fa41f000          ASR      r0,r1,r0              ;1983
0002e8  f8d40577          LDR      r0,[r4,#0x577]        ;1987
0002ec  f8c40122          STR      r0,[r4,#0x122]        ;1987
0002f0  f8d4057b          LDR      r0,[r4,#0x57b]        ;1987
0002f4  f8c40126          STR      r0,[r4,#0x126]        ;1987
                  |L19.760|
0002f8  f8b60172          LDRH     r0,[r6,#0x172]        ;1990
0002fc  2800              CMP      r0,#0                 ;1990
0002fe  f000812a          BEQ.W    |L19.1366|
000302  f8d8000c          LDR      r0,[r8,#0xc]          ;1992  ; thisModeConf
000306  f8b00096          LDRH     r0,[r0,#0x96]         ;1992
00030a  2800              CMP      r0,#0                 ;1992
00030c  d07e              BEQ      |L19.1036|
00030e  f8dfa320          LDR      r10,|L19.1584|
000312  f81a0005          LDRB     r0,[r10,r5]           ;1994
000316  2800              CMP      r0,#0                 ;1994
000318  d079              BEQ      |L19.1038|
00031a  e0cf              B        |L19.1212|
                  |L19.796|
00031c  f8d4031a          LDR      r0,[r4,#0x31a]        ;1955
000320  f8d434fe          LDR      r3,[r4,#0x4fe]        ;1955
000324  9311              STR      r3,[sp,#0x44]         ;1956
000326  1ac1              SUBS     r1,r0,r3              ;1955
000328  f8d4031e          LDR      r0,[r4,#0x31e]        ;1956
00032c  f8d43502          LDR      r3,[r4,#0x502]        ;1956
000330  9313              STR      r3,[sp,#0x4c]         ;1957
000332  eba00b03          SUB      r11,r0,r3             ;1956
000336  f8d40122          LDR      r0,[r4,#0x122]        ;1957
00033a  9010              STR      r0,[sp,#0x40]         ;1957
00033c  9b11              LDR      r3,[sp,#0x44]         ;1957
00033e  f8d42126          LDR      r2,[r4,#0x126]        ;1958
000342  1ac0              SUBS     r0,r0,r3              ;1957
000344  9b13              LDR      r3,[sp,#0x4c]         ;1958
000346  9212              STR      r2,[sp,#0x48]         ;1958
000348  1ad3              SUBS     r3,r2,r3              ;1958
00034a  fb01f201          MUL      r2,r1,r1              ;1960
00034e  4348              MULS     r0,r1,r0              ;1960
000350  fb0b0003          MLA      r0,r11,r3,r0          ;1960
000354  fb0b220b          MLA      r2,r11,r11,r2         ;1960
000358  9015              STR      r0,[sp,#0x54]         ;1960
00035a  fb810100          SMULL    r0,r1,r1,r0           ;1960
00035e  920f              STR      r2,[sp,#0x3c]         ;1960
000360  17d2              ASRS     r2,r2,#31             ;1960
000362  920e              STR      r2,[sp,#0x38]         ;1960
000364  e9dd320e          LDRD     r3,r2,[sp,#0x38]      ;1960
000368  f7fffffe          BL       __aeabi_ldivmod
00036c  9014              STR      r0,[sp,#0x50]         ;1960
00036e  9815              LDR      r0,[sp,#0x54]         ;1961
000370  e9dd320e          LDRD     r3,r2,[sp,#0x38]      ;1961
000374  fb8b0100          SMULL    r0,r1,r11,r0          ;1961
000378  f7fffffe          BL       __aeabi_ldivmod
00037c  4602              MOV      r2,r0                 ;1961
00037e  9b11              LDR      r3,[sp,#0x44]         ;1963
000380  9814              LDR      r0,[sp,#0x50]         ;1963
000382  1819              ADDS     r1,r3,r0              ;1963
000384  910e              STR      r1,[sp,#0x38]         ;1963
000386  9b13              LDR      r3,[sp,#0x4c]         ;1964
000388  9810              LDR      r0,[sp,#0x40]         ;1964
00038a  eb030b02          ADD      r11,r3,r2             ;1964
00038e  1a40              SUBS     r0,r0,r1              ;1964
000390  9a12              LDR      r2,[sp,#0x48]         ;1964
000392  4340              MULS     r0,r0,r0              ;1964
000394  eba2010b          SUB      r1,r2,r11             ;1964
000398  fb010001          MLA      r0,r1,r1,r0           ;1964
00039c  f7fffffe          BL       algorithm_calc_sqrt
0003a0  b280              UXTH     r0,r0                 ;1966
0003a2  280a              CMP      r0,#0xa               ;1967
0003a4  bf38              IT       CC                    ;1967
0003a6  2000              MOVCC    r0,#0                 ;1967
0003a8  d306              BCC      |L19.952|
0003aa  f8d8100c          LDR      r1,[r8,#0xc]          ;1968  ; thisModeConf
0003ae  f8911095          LDRB     r1,[r1,#0x95]         ;1968
0003b2  4281              CMP      r1,r0                 ;1968
0003b4  bf38              IT       CC                    ;1968
0003b6  4608              MOVCC    r0,r1                 ;1968
                  |L19.952|
0003b8  f8d8c00c          LDR      r12,[r8,#0xc]         ;1970  ; thisModeConf
0003bc  990e              LDR      r1,[sp,#0x38]         ;1970
0003be  f89c3095          LDRB     r3,[r12,#0x95]        ;1970
0003c2  1a1a              SUBS     r2,r3,r0              ;1970
0003c4  4351              MULS     r1,r2,r1              ;1970
0003c6  f8d42122          LDR      r2,[r4,#0x122]        ;1970
0003ca  fb001102          MLA      r1,r0,r2,r1           ;1970
0003ce  eb010153          ADD      r1,r1,r3,LSR #1       ;1970
0003d2  fb91fef3          SDIV     lr,r1,r3              ;1970
0003d6  f8c4e122          STR      lr,[r4,#0x122]        ;1970
0003da  f89c1095          LDRB     r1,[r12,#0x95]        ;1971
0003de  f8d43126          LDR      r3,[r4,#0x126]        ;1971
0003e2  1a0a              SUBS     r2,r1,r0              ;1971
0003e4  fb02f20b          MUL      r2,r2,r11             ;1971
0003e8  fb002003          MLA      r0,r0,r3,r2           ;1971
0003ec  eb000051          ADD      r0,r0,r1,LSR #1       ;1971
0003f0  fb90f0f1          SDIV     r0,r0,r1              ;1971
0003f4  f8c40126          STR      r0,[r4,#0x126]        ;1971
0003f8  f8b6145c          LDRH     r1,[r6,#0x45c]        ;1972
0003fc  2900              CMP      r1,#0                 ;1972
0003fe  f43faf5e          BEQ      |L19.702|
000402  f8d4140c          LDR      r1,[r4,#0x40c]        ;1974
000406  f8d4231a          LDR      r2,[r4,#0x31a]        ;1974
00040a  e001              B        |L19.1040|
                  |L19.1036|
00040c  e056              B        |L19.1212|
                  |L19.1038|
00040e  e010              B        |L19.1074|
                  |L19.1040|
000410  ebc10142          RSB      r1,r1,r2,LSL #1       ;1974
000414  4471              ADD      r1,r1,lr              ;1974
000416  1049              ASRS     r1,r1,#1              ;1974
000418  f8c41122          STR      r1,[r4,#0x122]        ;1974
00041c  f8d41410          LDR      r1,[r4,#0x410]        ;1975
000420  f8d4231e          LDR      r2,[r4,#0x31e]        ;1975
000424  ebc10142          RSB      r1,r1,r2,LSL #1       ;1975
000428  4408              ADD      r0,r0,r1              ;1975
00042a  1040              ASRS     r0,r0,#1              ;1975
00042c  f8c40126          STR      r0,[r4,#0x126]        ;1975
000430  e745              B        |L19.702|
                  |L19.1074|
000432  f8b605db          LDRH     r0,[r6,#0x5db]        ;1996
000436  2800              CMP      r0,#0                 ;1996
000438  bf1c              ITT      NE                    ;1996
00043a  f8b606e0          LDRHNE   r0,[r6,#0x6e0]        ;1996
00043e  2800              CMPNE    r0,#0                 ;1996
000440  d03c              BEQ      |L19.1212|
000442  eb0704c5          ADD      r4,r7,r5,LSL #3       ;1997
000446  f8d41577          LDR      r1,[r4,#0x577]        ;1997
00044a  f8d4067c          LDR      r0,[r4,#0x67c]        ;1997
00044e  f8d4257b          LDR      r2,[r4,#0x57b]        ;1997
000452  f8d43680          LDR      r3,[r4,#0x680]        ;1997
000456  eba10000          SUB      r0,r1,r0              ;1997
00045a  fb00f000          MUL      r0,r0,r0              ;1997
00045e  eba20103          SUB      r1,r2,r3              ;1997
000462  fb010001          MLA      r0,r1,r1,r0           ;1997
000466  f7fffffe          BL       algorithm_calc_sqrt
00046a  f8d8100c          LDR      r1,[r8,#0xc]          ;1997  ; thisModeConf
00046e  f8b11096          LDRH     r1,[r1,#0x96]         ;1997
000472  4288              CMP      r0,r1                 ;1997
000474  dd0a              BLE      |L19.1164|
000476  f80a9005          STRB     r9,[r10,r5]           ;1999
00047a  f8d4031a          LDR      r0,[r4,#0x31a]        ;2001
00047e  f8c40122          STR      r0,[r4,#0x122]        ;2001
000482  f8d4031e          LDR      r0,[r4,#0x31e]        ;2001
000486  f8c40126          STR      r0,[r4,#0x126]        ;2001
00048a  e017              B        |L19.1212|
                  |L19.1164|
00048c  f8d40577          LDR      r0,[r4,#0x577]        ;2003
000490  f8d42a2f          LDR      r2,[r4,#0xa2f]        ;2003
000494  f8d4157b          LDR      r1,[r4,#0x57b]        ;2003
000498  f8d43a33          LDR      r3,[r4,#0xa33]        ;2003
00049c  1a80              SUBS     r0,r0,r2              ;2003
00049e  4340              MULS     r0,r0,r0              ;2003
0004a0  1ac9              SUBS     r1,r1,r3              ;2003
0004a2  fb010001          MLA      r0,r1,r1,r0           ;2003
0004a6  f7fffffe          BL       algorithm_calc_sqrt
0004aa  f8d8100c          LDR      r1,[r8,#0xc]          ;2003  ; thisModeConf
0004ae  f8b11096          LDRH     r1,[r1,#0x96]         ;2003
0004b2  4281              CMP      r1,r0                 ;2003
0004b4  bfbc              ITT      LT                    ;2005
0004b6  2003              MOVLT    r0,#3                 ;2005
0004b8  f80a0005          STRBLT   r0,[r10,r5]           ;2005
                  |L19.1212|
0004bc  f8d8000c          LDR      r0,[r8,#0xc]          ;2013  ; thisModeConf
0004c0  f8b04110          LDRH     r4,[r0,#0x110]        ;2013
0004c4  b3f4              CBZ      r4,|L19.1348|
0004c6  f8b61186          LDRH     r1,[r6,#0x186]        ;2013
0004ca  f8900112          LDRB     r0,[r0,#0x112]        ;2013
0004ce  4281              CMP      r1,r0                 ;2013
0004d0  d93e              BLS      |L19.1360|
0004d2  eb070a05          ADD      r10,r7,r5             ;2015
0004d6  f89a0ac9          LDRB     r0,[r10,#0xac9]       ;2015
0004da  bba0              CBNZ     r0,|L19.1350|
0004dc  eb0706c5          ADD      r6,r7,r5,LSL #3       ;2024
0004e0  f606202f          ADD      r0,r6,#0xa2f          ;2024
0004e4  2100              MOVS     r1,#0                 ;2024
0004e6  f7fffffe          BL       algorithm_coord_IsEdgeArea
0004ea  2800              CMP      r0,#0                 ;2024
0004ec  bfc4              ITT      GT                    ;2025
0004ee  f9b80004          LDRSHGT  r0,[r8,#4]            ;2025  ; AddDistTh
0004f2  4404              ADDGT    r4,r0                 ;2025
0004f4  f8d63a2f          LDR      r3,[r6,#0xa2f]        ;2027
0004f8  f8d61122          LDR      r1,[r6,#0x122]        ;2027
0004fc  f8d60a33          LDR      r0,[r6,#0xa33]        ;2027
000500  f8d62126          LDR      r2,[r6,#0x126]        ;2027
000504  1a59              SUBS     r1,r3,r1              ;2027
000506  4349              MULS     r1,r1,r1              ;2027
000508  1a80              SUBS     r0,r0,r2              ;2027
00050a  fb001000          MLA      r0,r0,r0,r1           ;2027
00050e  f7fffffe          BL       algorithm_calc_sqrt
000512  42a0              CMP      r0,r4                 ;2027
000514  da06              BGE      |L19.1316|
000516  f8d60a2f          LDR      r0,[r6,#0xa2f]        ;2029
00051a  f8c60122          STR      r0,[r6,#0x122]        ;2029
00051e  f8d60a33          LDR      r0,[r6,#0xa33]        ;2029
000522  e012              B        |L19.1354|
                  |L19.1316|
000524  f88a9ac9          STRB     r9,[r10,#0xac9]       ;2034
000528  f8d60a2f          LDR      r0,[r6,#0xa2f]        ;2035
00052c  f8d61122          LDR      r1,[r6,#0x122]        ;2035
000530  4408              ADD      r0,r0,r1              ;2035
000532  1040              ASRS     r0,r0,#1              ;2035
000534  f8c60122          STR      r0,[r6,#0x122]        ;2035
000538  f8d60a33          LDR      r0,[r6,#0xa33]        ;2036
00053c  f8d61126          LDR      r1,[r6,#0x126]        ;2036
000540  4408              ADD      r0,r0,r1              ;2036
000542  e001              B        |L19.1352|
                  |L19.1348|
000544  e004              B        |L19.1360|
                  |L19.1350|
000546  e006              B        |L19.1366|
                  |L19.1352|
000548  1040              ASRS     r0,r0,#1              ;2036
                  |L19.1354|
00054a  f8c60126          STR      r0,[r6,#0x126]        ;2029
00054e  e002              B        |L19.1366|
                  |L19.1360|
000550  1978              ADDS     r0,r7,r5              ;2042
000552  f8809ac9          STRB     r9,[r0,#0xac9]        ;2042
                  |L19.1366|
000556  f8d8400c          LDR      r4,[r8,#0xc]          ;2047  ; thisModeConf
00055a  f99410b8          LDRSB    r1,[r4,#0xb8]         ;2047
00055e  2900              CMP      r1,#0                 ;2047
000560  dd4d              BLE      |L19.1534|
000562  eb0702c5          ADD      r2,r7,r5,LSL #3       ;2050
000566  f8d43091          LDR      r3,[r4,#0x91]         ;2049
00056a  f8d2c122          LDR      r12,[r2,#0x122]       ;2050
00056e  f5bc7f80          CMP      r12,#0x100            ;2050
000572  db12              BLT      |L19.1434|
000574  f8d80010          LDR      r0,[r8,#0x10]         ;2050  ; thisInfo
000578  f8d26126          LDR      r6,[r2,#0x126]        ;2050
00057c  f8d0ad4f          LDR      r10,[r0,#0xd4f]       ;2050
000580  f5aa7a80          SUB      r10,r10,#0x100        ;2050
000584  45b2              CMP      r10,r6                ;2050
000586  db08              BLT      |L19.1434|
000588  f8d00d4b          LDR      r0,[r0,#0xd4b]        ;2050
00058c  f5a07080          SUB      r0,r0,#0x100          ;2050
000590  4560              CMP      r0,r12                ;2050
000592  bfa8              IT       GE                    ;2050
000594  f5b67f80          CMPGE    r6,#0x100             ;2050
000598  da31              BGE      |L19.1534|
                  |L19.1434|
00059a  f8d2631a          LDR      r6,[r2,#0x31a]        ;2053
00059e  ebb6000c          SUBS     r0,r6,r12             ;2053
0005a2  bf48              IT       MI                    ;2053
0005a4  4240              RSBMI    r0,r0,#0              ;2053
0005a6  4401              ADD      r1,r1,r0              ;2054
0005a8  290a              CMP      r1,#0xa               ;2055
0005aa  db34              BLT      |L19.1558|
                  |L19.1452|
0005ac  fa09f003          LSL      r0,r9,r3              ;2056
0005b0  4288              CMP      r0,r1                 ;2056
0005b2  db32              BLT      |L19.1562|
                  |L19.1460|
0005b4  eba00a01          SUB      r10,r0,r1             ;2058
0005b8  fb0af606          MUL      r6,r10,r6             ;2058
0005bc  fb01610c          MLA      r1,r1,r12,r6          ;2058
0005c0  f1a30c01          SUB      r12,r3,#1             ;2058
0005c4  fa09fa0c          LSL      r10,r9,r12            ;2058
0005c8  4451              ADD      r1,r1,r10             ;2058
0005ca  4119              ASRS     r1,r1,r3              ;2058
0005cc  f8c21122          STR      r1,[r2,#0x122]        ;2058
0005d0  f8d2631e          LDR      r6,[r2,#0x31e]        ;2060
0005d4  f8d2c126          LDR      r12,[r2,#0x126]       ;2060
0005d8  ebb6010c          SUBS     r1,r6,r12             ;2060
0005dc  bf48              IT       MI                    ;2060
0005de  4249              RSBMI    r1,r1,#0              ;2060
0005e0  f99440b8          LDRSB    r4,[r4,#0xb8]         ;2061
0005e4  4421              ADD      r1,r1,r4              ;2061
0005e6  290a              CMP      r1,#0xa               ;2062
0005e8  db19              BLT      |L19.1566|
                  |L19.1514|
0005ea  4288              CMP      r0,r1                 ;2063
0005ec  db19              BLT      |L19.1570|
                  |L19.1518|
0005ee  1a40              SUBS     r0,r0,r1              ;2066
0005f0  4370              MULS     r0,r6,r0              ;2066
0005f2  fb01000c          MLA      r0,r1,r12,r0          ;2066
0005f6  4450              ADD      r0,r0,r10             ;2066
0005f8  4118              ASRS     r0,r0,r3              ;2066
0005fa  f8c20126          STR      r0,[r2,#0x126]        ;2066
                  |L19.1534|
0005fe  1e6d              SUBS     r5,r5,#1              ;2066
000600  f4bfad0a          BCS      |L19.24|
000604  b017              ADD      sp,sp,#0x5c
000606  e8bd8ff0          POP      {r4-r11,pc}
00060a  bf00              NOP                            ;1937
                  |L19.1548|
00060c  f04f0a0a          MOV      r10,#0xa              ;1937
000610  e5d8              B        |L19.452|
                  |L19.1554|
000612  4682              MOV      r10,r0                ;1940
000614  e5de              B        |L19.468|
                  |L19.1558|
000616  210a              MOVS     r1,#0xa               ;2055
000618  e7c8              B        |L19.1452|
                  |L19.1562|
00061a  4601              MOV      r1,r0                 ;2056
00061c  e7ca              B        |L19.1460|
                  |L19.1566|
00061e  210a              MOVS     r1,#0xa               ;2062
000620  e7e3              B        |L19.1514|
                  |L19.1570|
000622  4601              MOV      r1,r0                 ;2063
000624  e7e3              B        |L19.1518|
;;;2073   
                          ENDP

000626  0000              DCW      0x0000
                  |L19.1576|
                          DCD      ||.data||
                  |L19.1580|
                          DCD      ||area_number.27||+0x10
                  |L19.1584|
                          DCD      ||area_number.27||+0x20

                          AREA ||i.algorithm_coord_tracking_pos||, CODE, READONLY, ALIGN=2

                  algorithm_coord_tracking_pos PROC
;;;1050   extern ePartialSensing_t g_RetVal;
;;;1051   void algorithm_coord_tracking_pos(int mode)
000000  e92d4ff1          PUSH     {r0,r4-r11,lr}
;;;1052   {
;;;1053       uint8_t pl, cl; // Index of Previous Label, Current Label
;;;1054   //    int32_t iDist, iDist2, iMinDist; // NOTE : not used
;;;1055       int32_t iDist, iMinDist;
;;;1056   //    int match; // NOTE : not used
;;;1057       int8_t cReorderRemap[LOOSE_POSBUF_];
;;;1058       uint32_t ulPrematchedDist[LOOSE_POSBUF_];
;;;1059       int32_t lDistanceMap[LOOSE_POSBUF_][LOOSE_POSBUF_];
;;;1060   //    tXY_t pred_pos, avg_pos, curr_pos; // NOTE : not used
;;;1061       tXY_t pred_pos;
;;;1062       tXY_t curr_pos_sum;
;;;1063       tXY_t prev_pos_sum;
;;;1064       tXY_t comp_pos;
;;;1065       int match_cl, match_pl;
;;;1066       int iDistanceThd;
;;;1067       tXY_t pos_max, pos_min;
;;;1068       bool_t bCompFlag;
;;;1069   
;;;1070   	tCoordInfo_t 	*temp_coord;
;;;1071   	
;;;1072   	temp_coord = &thisInfo->tCoord;
000004  48ff              LDR      r0,|L20.1028|
000006  f5ad6d93          SUB      sp,sp,#0x498          ;1052
;;;1073   
;;;1074       temp_coord->tPos.sFinger_ = MIN(temp_coord->tTempPos.sFinger_, MAX_TOUCH_);
00000a  6904              LDR      r4,[r0,#0x10]  ; thisInfo
00000c  f894535c          LDRB     r5,[r4,#0x35c]
000010  f5047457          ADD      r4,r4,#0x35c
000014  2d0a              CMP      r5,#0xa
000016  bf28              IT       CS
000018  250a              MOVCS    r5,#0xa
00001a  f8845121          STRB     r5,[r4,#0x121]
;;;1075   
;;;1076       memset(&cReorderRemap, -1, sizeof(cReorderRemap));
00001e  f04f32ff          MOV      r2,#0xffffffff
000022  2110              MOVS     r1,#0x10
000024  f50d6090          ADD      r0,sp,#0x480
000028  f8cd540c          STR      r5,[sp,#0x40c]
00002c  f7fffffe          BL       __aeabi_memset
;;;1077       memset(&ulPrematchedDist, UINT8_MAX, sizeof(ulPrematchedDist));
000030  22ff              MOVS     r2,#0xff
000032  2140              MOVS     r1,#0x40
000034  f50d6086          ADD      r0,sp,#0x430
000038  f7fffffe          BL       __aeabi_memset
;;;1078   
;;;1079   #if 1
;;;1080   	if( temp_coord->tPos.sFinger_ > 1 && temp_coord->tPastPos[0].sFinger_ == temp_coord->tPos.sFinger_ )
;;;1081   	{
;;;1082   		curr_pos_sum.x = 0;
;;;1083   		curr_pos_sum.y = 0;
;;;1084   		prev_pos_sum.x = 0;
;;;1085   		prev_pos_sum.y = 0;
;;;1086   		pos_min.x = INT32_MAX;
00003c  f06f4e00          MVN      lr,#0x80000000
000040  2d01              CMP      r5,#1                 ;1080
000042  d961              BLS      |L20.264|
000044  f8941319          LDRB     r1,[r4,#0x319]        ;1080
000048  f8dd040c          LDR      r0,[sp,#0x40c]        ;1080
00004c  4281              CMP      r1,r0                 ;1080
00004e  d15b              BNE      |L20.264|
000050  2600              MOVS     r6,#0                 ;1082
000052  4637              MOV      r7,r6                 ;1083
000054  46bc              MOV      r12,r7                ;1084
000056  4665              MOV      r5,r12                ;1085
;;;1087   		pos_max.x = 0;
;;;1088   		pos_min.y = INT32_MAX;
;;;1089   		pos_max.y = 0;
;;;1090   
;;;1091   		for( cl = 0; cl < temp_coord->tTempPos.sFinger_; cl++ )
000058  f894b000          LDRB     r11,[r4,#0]
00005c  4629              MOV      r1,r5                 ;1087
00005e  46f0              MOV      r8,lr                 ;1086
000060  46f1              MOV      r9,lr                 ;1088
000062  4608              MOV      r0,r1                 ;1089
000064  46b2              MOV      r10,r6
000066  f1bb0f00          CMP      r11,#0
00006a  d91e              BLS      |L20.170|
                  |L20.108|
;;;1092   		{
;;;1093   			if( temp_coord->tTempPos.vusR[cl] != 0 )
00006c  eb04024a          ADD      r2,r4,r10,LSL #1
000070  f8b220a1          LDRH     r2,[r2,#0xa1]
000074  b19a              CBZ      r2,|L20.158|
;;;1094   			{
;;;1095   				curr_pos_sum.x += temp_coord->tTempPos.tXY[cl].x;
000076  eb0403ca          ADD      r3,r4,r10,LSL #3
00007a  f8d32001          LDR      r2,[r3,#1]
;;;1096   				curr_pos_sum.y += temp_coord->tTempPos.tXY[cl].y;
00007e  f8d33005          LDR      r3,[r3,#5]
000082  4416              ADD      r6,r6,r2              ;1095
000084  441f              ADD      r7,r7,r3
;;;1097   
;;;1098   				if( pos_min.x > temp_coord->tTempPos.tXY[cl].x )
;;;1099   					pos_min.x = temp_coord->tTempPos.tXY[cl].x;
000086  4590              CMP      r8,r2
000088  bfc8              IT       GT
00008a  4690              MOVGT    r8,r2
;;;1100   				if( pos_max.x < temp_coord->tTempPos.tXY[cl].x )
;;;1101   					pos_max.x = temp_coord->tTempPos.tXY[cl].x;
00008c  4291              CMP      r1,r2
00008e  bfd8              IT       LE
000090  4611              MOVLE    r1,r2
;;;1102   				if( pos_min.y > temp_coord->tTempPos.tXY[cl].y )
;;;1103   					pos_min.y = temp_coord->tTempPos.tXY[cl].y;
000092  4599              CMP      r9,r3
000094  bfc8              IT       GT
000096  4699              MOVGT    r9,r3
;;;1104   				if( pos_max.y < temp_coord->tTempPos.tXY[cl].y )
;;;1105   					pos_max.y = temp_coord->tTempPos.tXY[cl].y;
000098  4298              CMP      r0,r3
00009a  bfd8              IT       LE
00009c  4618              MOVLE    r0,r3
                  |L20.158|
00009e  f10a0201          ADD      r2,r10,#1
0000a2  f0020aff          AND      r10,r2,#0xff
0000a6  45d3              CMP      r11,r10
0000a8  d8e0              BHI      |L20.108|
                  |L20.170|
;;;1106   			}
;;;1107   		}
;;;1108   
;;;1109   		for( pl = 0; pl < MAX_TOUCH_; pl++ )
0000aa  2200              MOVS     r2,#0
                  |L20.172|
;;;1110   		{
;;;1111   			if( temp_coord->tPastPos[0].vusR[pl] != 0 )
0000ac  eb040342          ADD      r3,r4,r2,LSL #1
0000b0  f8b3337e          LDRH     r3,[r3,#0x37e]
0000b4  b13b              CBZ      r3,|L20.198|
;;;1112   			{
;;;1113   				prev_pos_sum.x += temp_coord->tOrgPastPos[0].tXY[pl].x;
0000b6  eb0403c2          ADD      r3,r4,r2,LSL #3
0000ba  f8d3a67c          LDR      r10,[r3,#0x67c]
;;;1114   				prev_pos_sum.y += temp_coord->tOrgPastPos[0].tXY[pl].y;
0000be  f8d33680          LDR      r3,[r3,#0x680]
0000c2  44d4              ADD      r12,r12,r10           ;1113
0000c4  441d              ADD      r5,r5,r3
                  |L20.198|
0000c6  1c52              ADDS     r2,r2,#1
0000c8  b2d2              UXTB     r2,r2
0000ca  2a0a              CMP      r2,#0xa
0000cc  d3ee              BCC      |L20.172|
;;;1115   			}
;;;1116   		}
;;;1117   		comp_pos.x = curr_pos_sum.x - prev_pos_sum.x;
0000ce  eba6030c          SUB      r3,r6,r12
;;;1118   		comp_pos.y = curr_pos_sum.y - prev_pos_sum.y;
;;;1119   		comp_pos.x = comp_pos.x / temp_coord->tPos.sFinger_;
0000d2  f8ddc40c          LDR      r12,[sp,#0x40c]
0000d6  1b7a              SUBS     r2,r7,r5              ;1118
;;;1120   		comp_pos.y = comp_pos.y / temp_coord->tPos.sFinger_;
0000d8  fb92f2fc          SDIV     r2,r2,r12
0000dc  fb93f3fc          SDIV     r3,r3,r12             ;1119
;;;1121   
;;;1122   		if( (pos_max.x - pos_min.x) < (thisModeConf->Coord.usCenterMatchDistanceThd << POS_BOOST_SHIFT_)
0000e0  f8cd241c          STR      r2,[sp,#0x41c]
0000e4  eba10208          SUB      r2,r1,r8
0000e8  49c6              LDR      r1,|L20.1028|
0000ea  f8cd3418          STR      r3,[sp,#0x418]
0000ee  68c9              LDR      r1,[r1,#0xc]  ; thisModeConf
0000f0  f8d110af          LDR      r1,[r1,#0xaf]
0000f4  ebb22f01          CMP      r2,r1,LSL #8
0000f8  bf3e              ITTT     CC
0000fa  eba00009          SUBCC    r0,r0,r9
0000fe  ebb02f01          CMPCC    r0,r1,LSL #8
;;;1123     		 && (pos_max.y - pos_min.y) < (thisModeConf->Coord.usCenterMatchDistanceThd << POS_BOOST_SHIFT_) )
;;;1124   		{
;;;1125   			bCompFlag = 1;
000102  f04f0901          MOVCC    r9,#1
000106  d301              BCC      |L20.268|
                  |L20.264|
;;;1126   		}
;;;1127   		else
;;;1128   		{
;;;1129   			bCompFlag = 0;
000108  f04f0900          MOV      r9,#0
                  |L20.268|
;;;1130   		}
;;;1131   	}
;;;1132   	else
;;;1133   	{
;;;1134   		bCompFlag = 0;
;;;1135   	}
;;;1136   
;;;1137   	for (pl = 0; pl < LOOSE_POSBUF_; pl++)
00010c  2300              MOVS     r3,#0
00010e  4670              MOV      r0,lr                 ;1086
000110  ea4f0c0d          MOV.W    r12,sp                ;1059
                  |L20.276|
;;;1138   		for (cl = 0; cl < LOOSE_POSBUF_; cl++)
000114  eb0c1183          ADD      r1,r12,r3,LSL #6
000118  2208              MOVS     r2,#8
00011a  1f09              SUBS     r1,r1,#4
                  |L20.284|
;;;1139   			lDistanceMap[pl][cl] = INT32_MAX;
00011c  1e52              SUBS     r2,r2,#1
00011e  6048              STR      r0,[r1,#4]
000120  f8410f08          STR      r0,[r1,#8]!
000124  d1fa              BNE      |L20.284|
000126  1c59              ADDS     r1,r3,#1
000128  b2cb              UXTB     r3,r1
00012a  2b10              CMP      r3,#0x10
00012c  d3f2              BCC      |L20.276|
;;;1140   
;;;1141       for (pl = 0; pl < MAX_TOUCH_; pl++)
00012e  2700              MOVS     r7,#0
                  |L20.304|
;;;1142   	{
;;;1143   		if (temp_coord->tPastPos[0].vusR[pl] != 0)
000130  eb040847          ADD      r8,r4,r7,LSL #1
000134  f8b8037e          LDRH     r0,[r8,#0x37e]
000138  2800              CMP      r0,#0
00013a  d07c              BEQ      |L20.566|
;;;1144   		{
;;;1145   			for (cl = 0; cl < temp_coord->tTempPos.sFinger_; cl++)
00013c  7820              LDRB     r0,[r4,#0]
00013e  2600              MOVS     r6,#0
000140  2800              CMP      r0,#0
000142  d978              BLS      |L20.566|
000144  4668              MOV      r0,sp                 ;1059
000146  eb001087          ADD      r0,r0,r7,LSL #6       ;1138
00014a  eb0405c7          ADD      r5,r4,r7,LSL #3       ;1113
00014e  f8cd0470          STR      r0,[sp,#0x470]        ;1138
;;;1146   			{
;;;1147   				if (temp_coord->tTempPos.vusR[cl]) //For unmatched fingers,
000152  bf00              NOP      
                  |L20.340|
000154  eb040046          ADD      r0,r4,r6,LSL #1
000158  f8b000a1          LDRH     r0,[r0,#0xa1]
00015c  2800              CMP      r0,#0
00015e  d06b              BEQ      |L20.568|
;;;1148   				{
;;;1149   					uint16_t Check_vusR = 0;
;;;1150   					tXY_t UsePastPos;
;;;1151   					if(temp_coord->bInterpolation_On)
000160  f8943ad9          LDRB     r3,[r4,#0xad9]
000164  2b00              CMP      r3,#0
;;;1152   					{
;;;1153   						Check_vusR = temp_coord->tPastPos[2].vusR[pl];
;;;1154   						UsePastPos = temp_coord->tOrgPastPos[2].tXY[pl];
;;;1155   					}
;;;1156   					else
;;;1157   					{
;;;1158   						Check_vusR = temp_coord->tPastPos[1].vusR[pl];
000166  bf03              ITTTE    EQ
000168  f8b803f7          LDRHEQ   r0,[r8,#0x3f7]
;;;1159   						UsePastPos = temp_coord->tOrgPastPos[1].tXY[pl];
00016c  f8d526f5          LDREQ    r2,[r5,#0x6f5]
000170  f8d516f9          LDREQ    r1,[r5,#0x6f9]
000174  f8b80470          LDRHNE   r0,[r8,#0x470]        ;1153
000178  bf1c              ITT      NE                    ;1154
00017a  f8d5276e          LDRNE    r2,[r5,#0x76e]        ;1154
00017e  f8d51772          LDRNE    r1,[r5,#0x772]        ;1154
;;;1160   					}
;;;1161   					
;;;1162   					if( Check_vusR )
000182  2800              CMP      r0,#0
;;;1163   					{
;;;1164   						pred_pos.x = (temp_coord->tOrgPastPos[0].tXY[pl].x << 1) - UsePastPos.x;
;;;1165   						pred_pos.y = (temp_coord->tOrgPastPos[0].tXY[pl].y << 1) - UsePastPos.y;
;;;1166   					}
;;;1167   					else
;;;1168   					{
;;;1169   						pred_pos.x = temp_coord->tOrgPastPos[0].tXY[pl].x;
000184  f8d5067c          LDR      r0,[r5,#0x67c]
;;;1170   						pred_pos.y = temp_coord->tOrgPastPos[0].tXY[pl].y;
000188  bf08              IT       EQ
00018a  f8d51680          LDREQ    r1,[r5,#0x680]
00018e  d005              BEQ      |L20.412|
000190  ebc20040          RSB      r0,r2,r0,LSL #1       ;1164
000194  f8d52680          LDR      r2,[r5,#0x680]        ;1165
000198  ebc10142          RSB      r1,r1,r2,LSL #1       ;1165
                  |L20.412|
;;;1171   					}
;;;1172   					
;;;1173   					Check_vusR = 0;
;;;1174   					if(temp_coord->bInterpolation_On)
00019c  2b00              CMP      r3,#0
;;;1175   						Check_vusR = temp_coord->tPastPos[4].vusR[pl];
00019e  bf14              ITE      NE
0001a0  f8b82562          LDRHNE   r2,[r8,#0x562]
;;;1176   					else
;;;1177   						Check_vusR = temp_coord->tPastPos[2].vusR[pl];
0001a4  f8b82470          LDRHEQ   r2,[r8,#0x470]
;;;1178   					
;;;1179   					if( Check_vusR )
0001a8  2a00              CMP      r2,#0
0001aa  d059              BEQ      |L20.608|
;;;1180   					{
;;;1181   						int sPred_x, sPred_y;
;;;1182   						int fPred_x, fPred_y;
;;;1183   						int sub_x1, sub_y1, sub_x2, sub_y2;
;;;1184   						tXY_t pred_pos2;
;;;1185   					
;;;1186   						if(temp_coord->bInterpolation_On)
0001ac  b19b              CBZ      r3,|L20.470|
;;;1187   						{
;;;1188   							fPred_x = temp_coord->tOrgPastPos[4].tXY[pl].x - temp_coord->tOrgPastPos[2].tXY[pl].x;
0001ae  f8d52860          LDR      r2,[r5,#0x860]
0001b2  f8d5a76e          LDR      r10,[r5,#0x76e]
;;;1189   							fPred_y = temp_coord->tOrgPastPos[4].tXY[pl].y - temp_coord->tOrgPastPos[2].tXY[pl].y;
;;;1190   							sPred_x = temp_coord->tOrgPastPos[2].tXY[pl].x - temp_coord->tOrgPastPos[0].tXY[pl].x;
0001b6  f8d5b67c          LDR      r11,[r5,#0x67c]
0001ba  eba20c0a          SUB      r12,r2,r10            ;1188
0001be  f8d53864          LDR      r3,[r5,#0x864]        ;1189
0001c2  f8d52772          LDR      r2,[r5,#0x772]        ;1189
0001c6  ebaa0a0b          SUB      r10,r10,r11
;;;1191   							sPred_y = temp_coord->tOrgPastPos[2].tXY[pl].y - temp_coord->tOrgPastPos[0].tXY[pl].y;
0001ca  f8d5b680          LDR      r11,[r5,#0x680]
0001ce  1a9b              SUBS     r3,r3,r2              ;1189
0001d0  eba2020b          SUB      r2,r2,r11
0001d4  e013              B        |L20.510|
                  |L20.470|
;;;1192   						}
;;;1193   						else
;;;1194   						{
;;;1195   							fPred_x = temp_coord->tOrgPastPos[2].tXY[pl].x - temp_coord->tOrgPastPos[1].tXY[pl].x;
0001d6  f8d526f5          LDR      r2,[r5,#0x6f5]
0001da  f8d5376e          LDR      r3,[r5,#0x76e]
;;;1196   							fPred_y = temp_coord->tOrgPastPos[2].tXY[pl].y - temp_coord->tOrgPastPos[1].tXY[pl].y;
;;;1197   							sPred_x = temp_coord->tOrgPastPos[1].tXY[pl].x - temp_coord->tOrgPastPos[0].tXY[pl].x;
0001de  f8d5a67c          LDR      r10,[r5,#0x67c]
0001e2  eba30c02          SUB      r12,r3,r2             ;1195
0001e6  f8d5b6f9          LDR      r11,[r5,#0x6f9]       ;1196
0001ea  eba20a0a          SUB      r10,r2,r10
0001ee  f8d53772          LDR      r3,[r5,#0x772]        ;1196
;;;1198   							sPred_y = temp_coord->tOrgPastPos[1].tXY[pl].y - temp_coord->tOrgPastPos[0].tXY[pl].y;
0001f2  f8d52680          LDR      r2,[r5,#0x680]
0001f6  eba3030b          SUB      r3,r3,r11             ;1196
0001fa  ebab0202          SUB      r2,r11,r2
                  |L20.510|
;;;1199   						}
;;;1200   						
;;;1201   						pred_pos2.x = temp_coord->tOrgPastPos[0].tXY[pl].x - (sPred_x + sPred_x - fPred_x);
0001fe  ebcc0c4a          RSB      r12,r12,r10,LSL #1
;;;1202   						pred_pos2.y = temp_coord->tOrgPastPos[0].tXY[pl].y - (sPred_y + sPred_y - fPred_y);
000202  f8d5a680          LDR      r10,[r5,#0x680]
000206  ebc30242          RSB      r2,r3,r2,LSL #1
00020a  ebaa0a02          SUB      r10,r10,r2
00020e  f8d5b67c          LDR      r11,[r5,#0x67c]       ;1201
;;;1203   						
;;;1204   						sub_x1 = pred_pos.x - temp_coord->tTempPos.tXY[cl].x;
000212  eb0402c6          ADD      r2,r4,r6,LSL #3
000216  ebab0c0c          SUB      r12,r11,r12           ;1201
00021a  f8d2b001          LDR      r11,[r2,#1]
;;;1205   						sub_y1 = pred_pos.y - temp_coord->tTempPos.tXY[cl].y;
00021e  f8d2e005          LDR      lr,[r2,#5]
000222  ebb0030b          SUBS     r3,r0,r11             ;1204
000226  eba1020e          SUB      r2,r1,lr
;;;1206   						if(sub_x1 < 0)	sub_x1 = -sub_x1;
00022a  bf48              IT       MI
00022c  425b              RSBMI    r3,r3,#0
;;;1207   						if(sub_y1 < 0)	sub_y1 = -sub_y1;
00022e  2a00              CMP      r2,#0
000230  bfb8              IT       LT
000232  4252              RSBLT    r2,r2,#0
;;;1208   						
;;;1209   						sub_x2 = pred_pos2.x - temp_coord->tTempPos.tXY[cl].x;
000234  e001              B        |L20.570|
                  |L20.566|
000236  e046              B        |L20.710|
                  |L20.568|
000238  e03f              B        |L20.698|
                  |L20.570|
00023a  ebbc0b0b          SUBS     r11,r12,r11
;;;1210   						sub_y2 = pred_pos2.y - temp_coord->tTempPos.tXY[cl].y;
00023e  ebaa0e0e          SUB      lr,r10,lr
;;;1211   						if(sub_x2 < 0)	sub_x2 = -sub_x2;
000242  bf48              IT       MI
000244  f1cb0b00          RSBMI    r11,r11,#0
;;;1212   						if(sub_y2 < 0)	sub_y2 = -sub_y2;
000248  f1be0f00          CMP      lr,#0
00024c  bfb8              IT       LT
00024e  f1ce0e00          RSBLT    lr,lr,#0
;;;1213   						
;;;1214   						sub_x1 += sub_y1;
000252  4413              ADD      r3,r3,r2
;;;1215   						sub_x2 += sub_y2;
000254  eb0b020e          ADD      r2,r11,lr
;;;1216   						
;;;1217   						if(sub_x2 < sub_x1)
000258  429a              CMP      r2,r3
;;;1218   							pred_pos = pred_pos2;
00025a  bfbc              ITT      LT
00025c  4660              MOVLT    r0,r12
00025e  4651              MOVLT    r1,r10
                  |L20.608|
;;;1219   					}
;;;1220   
;;;1221   					if( bCompFlag )
000260  f1b90f00          CMP      r9,#0
000264  d017              BEQ      |L20.662|
;;;1222   					{
;;;1223   						iDist = algorithm_coord_calc_comp_distance(temp_coord->tTempPos.tXY[cl], temp_coord->tOrgPastPos[0].tXY[pl], comp_pos);
000266  eb0400c6          ADD      r0,r4,r6,LSL #3
00026a  f8d5167c          LDR      r1,[r5,#0x67c]
00026e  f8d0c001          LDR      r12,[r0,#1]
000272  f8dd3418          LDR      r3,[sp,#0x418]
000276  f8d0a005          LDR      r10,[r0,#5]
00027a  f8d52680          LDR      r2,[r5,#0x680]
00027e  ebac0101          SUB      r1,r12,r1
000282  1ac9              SUBS     r1,r1,r3
000284  f8dd041c          LDR      r0,[sp,#0x41c]
000288  4349              MULS     r1,r1,r1
00028a  ebaa0202          SUB      r2,r10,r2
00028e  1a10              SUBS     r0,r2,r0
000290  fb001000          MLA      r0,r0,r0,r1
000294  e00b              B        |L20.686|
                  |L20.662|
;;;1224   					}
;;;1225   					else
;;;1226   					{
;;;1227   						iDist = algorithm_coord_calc_distance(temp_coord->tTempPos.tXY[cl], pred_pos);
000296  eb0403c6          ADD      r3,r4,r6,LSL #3
00029a  f8d32001          LDR      r2,[r3,#1]
00029e  f8d33005          LDR      r3,[r3,#5]
0002a2  1a10              SUBS     r0,r2,r0
0002a4  fb00f200          MUL      r2,r0,r0
0002a8  1a58              SUBS     r0,r3,r1
0002aa  fb002000          MLA      r0,r0,r0,r2
                  |L20.686|
0002ae  f7fffffe          BL       algorithm_calc_sqrt
;;;1228   					}
;;;1229   					lDistanceMap[pl][cl] = iDist;
0002b2  f8dd1470          LDR      r1,[sp,#0x470]
0002b6  f8410026          STR      r0,[r1,r6,LSL #2]
                  |L20.698|
;;;1230   				}
0002ba  1c70              ADDS     r0,r6,#1
0002bc  b2c6              UXTB     r6,r0
0002be  7820              LDRB     r0,[r4,#0]
0002c0  42b0              CMP      r0,r6
0002c2  f63faf47          BHI      |L20.340|
                  |L20.710|
0002c6  1c78              ADDS     r0,r7,#1
0002c8  b2c7              UXTB     r7,r0
0002ca  2f0a              CMP      r7,#0xa
0002cc  f4ffaf30          BCC      |L20.304|
0002d0  ea4f070d          MOV.W    r7,sp                 ;1059
                  |L20.724|
;;;1231   			}
;;;1232   		}
;;;1233   	}
;;;1234   
;;;1235       do
;;;1236   	{
;;;1237       	match_cl = -1;
0002d4  f04f36ff          MOV      r6,#0xffffffff
;;;1238       	match_pl = -1;
0002d8  4635              MOV      r5,r6
;;;1239   
;;;1240   		iMinDist = INT32_MAX;
0002da  f06f4800          MVN      r8,#0x80000000
;;;1241   
;;;1242   		for(pl = 0; pl < MAX_TOUCH_; pl++)
0002de  2100              MOVS     r1,#0
                  |L20.736|
;;;1243   		{
;;;1244   			if (temp_coord->tPastPos[0].vusR[pl] != 0)
0002e0  eb040041          ADD      r0,r4,r1,LSL #1
0002e4  f8b0037e          LDRH     r0,[r0,#0x37e]
0002e8  b1c8              CBZ      r0,|L20.798|
;;;1245   			{
;;;1246   				for(cl = 0; cl < temp_coord->tTempPos.sFinger_; cl++)
0002ea  7823              LDRB     r3,[r4,#0]
0002ec  2000              MOVS     r0,#0
0002ee  2b00              CMP      r3,#0
0002f0  bf88              IT       HI                    ;1138
0002f2  eb071c81          ADDHI    r12,r7,r1,LSL #6      ;1138
0002f6  d912              BLS      |L20.798|
                  |L20.760|
;;;1247   				{
;;;1248   					if (temp_coord->tTempPos.vusR[cl]) //For unmatched fingers,
0002f8  eb040240          ADD      r2,r4,r0,LSL #1
0002fc  f8b220a1          LDRH     r2,[r2,#0xa1]
000300  2a00              CMP      r2,#0
;;;1249   					{
;;;1250   						iDist = lDistanceMap[pl][cl];
000302  bf1e              ITTT     NE
000304  f85c2020          LDRNE    r2,[r12,r0,LSL #2]
;;;1251   						if(iDist == -1) continue;
000308  f1b23fff          CMPNE    r2,#0xffffffff
;;;1252   
;;;1253   						if(iDist < iMinDist)
00030c  4542              CMPNE    r2,r8
00030e  da02              BGE      |L20.790|
;;;1254   						{
;;;1255   							iMinDist = iDist;
000310  4690              MOV      r8,r2
;;;1256   							match_cl = cl;
000312  4606              MOV      r6,r0
;;;1257   							match_pl = pl;
000314  460d              MOV      r5,r1
                  |L20.790|
000316  1c40              ADDS     r0,r0,#1
000318  b2c0              UXTB     r0,r0
00031a  4283              CMP      r3,r0
00031c  d8ec              BHI      |L20.760|
                  |L20.798|
00031e  1c48              ADDS     r0,r1,#1
000320  b2c1              UXTB     r1,r0
000322  290a              CMP      r1,#0xa
000324  d3dc              BCC      |L20.736|
;;;1258   						}
;;;1259   					}
;;;1260   				}
;;;1261   			}
;;;1262   		}
;;;1263   
;;;1264   		if( bCompFlag )
000326  f1b90f00          CMP      r9,#0
00032a  d06d              BEQ      |L20.1032|
;;;1265   		{
;;;1266   			uint16_t Check_vusR = 0;
;;;1267   			tXY_t UsePastPos;
;;;1268   			if(temp_coord->bInterpolation_On)
00032c  f8943ad9          LDRB     r3,[r4,#0xad9]
;;;1269   			{
;;;1270   				Check_vusR = temp_coord->tPastPos[2].vusR[match_pl];
;;;1271   				UsePastPos = temp_coord->tOrgPastPos[2].tXY[match_pl];
;;;1272   			}
;;;1273   			else
;;;1274   			{
;;;1275   				Check_vusR = temp_coord->tPastPos[1].vusR[match_pl];
000330  eb040045          ADD      r0,r4,r5,LSL #1
000334  2b00              CMP      r3,#0                 ;1268
000336  bf0c              ITE      EQ
000338  f8b023f7          LDRHEQ   r2,[r0,#0x3f7]
00033c  f8b02470          LDRHNE   r2,[r0,#0x470]        ;1270
000340  eb0401c5          ADD      r1,r4,r5,LSL #3       ;1271
;;;1276   				UsePastPos = temp_coord->tOrgPastPos[1].tXY[match_pl];
000344  bf07              ITTEE    EQ
000346  f8d106f5          LDREQ    r0,[r1,#0x6f5]
00034a  f8d116f9          LDREQ    r1,[r1,#0x6f9]
00034e  f8d1076e          LDRNE    r0,[r1,#0x76e]        ;1271
000352  f8d11772          LDRNE    r1,[r1,#0x772]        ;1271
000356  b152              CBZ      r2,|L20.878|
;;;1277   			}
;;;1278   
;;;1279   			if( Check_vusR )
;;;1280   			{
;;;1281   				pred_pos.x = (temp_coord->tOrgPastPos[0].tXY[match_pl].x << 1) - UsePastPos.x;
000358  eb0402c5          ADD      r2,r4,r5,LSL #3
00035c  f8d2c67c          LDR      r12,[r2,#0x67c]
;;;1282   				pred_pos.y = (temp_coord->tOrgPastPos[0].tXY[match_pl].y << 1) - UsePastPos.y;
000360  f8d22680          LDR      r2,[r2,#0x680]
000364  ebc0004c          RSB      r0,r0,r12,LSL #1      ;1281
000368  ebc10142          RSB      r1,r1,r2,LSL #1
00036c  e005              B        |L20.890|
                  |L20.878|
;;;1283   			}
;;;1284   			else
;;;1285   			{
;;;1286   				pred_pos.x = temp_coord->tOrgPastPos[0].tXY[match_pl].x;
00036e  eb0401c5          ADD      r1,r4,r5,LSL #3
000372  f8d1067c          LDR      r0,[r1,#0x67c]
;;;1287   				pred_pos.y = temp_coord->tOrgPastPos[0].tXY[match_pl].y;
000376  f8d11680          LDR      r1,[r1,#0x680]
                  |L20.890|
;;;1288   			}
;;;1289   			
;;;1290   			Check_vusR = 0;
;;;1291   			if(temp_coord->bInterpolation_On)
00037a  2b00              CMP      r3,#0
;;;1292   				Check_vusR = temp_coord->tPastPos[4].vusR[match_pl];
;;;1293   			else
;;;1294   				Check_vusR = temp_coord->tPastPos[2].vusR[match_pl];
00037c  eb040245          ADD      r2,r4,r5,LSL #1
000380  bf14              ITE      NE                    ;1292
000382  f8b22562          LDRHNE   r2,[r2,#0x562]        ;1292
000386  f8b22470          LDRHEQ   r2,[r2,#0x470]
00038a  b3d2              CBZ      r2,|L20.1026|
;;;1295   
;;;1296   			if( Check_vusR )
;;;1297   			{
;;;1298   				int sPred_x, sPred_y;
;;;1299   				int fPred_x, fPred_y;
;;;1300   				int sub_x1, sub_y1, sub_x2, sub_y2;
;;;1301   				tXY_t pred_pos2;
;;;1302   				
;;;1303   				if(temp_coord->bInterpolation_On)
;;;1304   				{					
;;;1305   					fPred_x = temp_coord->tOrgPastPos[4].tXY[match_pl].x - temp_coord->tOrgPastPos[2].tXY[match_pl].x;
;;;1306   					fPred_y = temp_coord->tOrgPastPos[4].tXY[match_pl].y - temp_coord->tOrgPastPos[2].tXY[match_pl].y;
;;;1307   					sPred_x = temp_coord->tOrgPastPos[2].tXY[match_pl].x - temp_coord->tOrgPastPos[0].tXY[match_pl].x;
;;;1308   					sPred_y = temp_coord->tOrgPastPos[2].tXY[match_pl].y - temp_coord->tOrgPastPos[0].tXY[match_pl].y;
;;;1309   				}
;;;1310   				else
;;;1311   				{
;;;1312   					fPred_x = temp_coord->tOrgPastPos[2].tXY[match_pl].x - temp_coord->tOrgPastPos[1].tXY[match_pl].x;
00038c  eb0402c5          ADD      r2,r4,r5,LSL #3
000390  b1a3              CBZ      r3,|L20.956|
000392  f8d23860          LDR      r3,[r2,#0x860]        ;1305
000396  f8d2c76e          LDR      r12,[r2,#0x76e]       ;1305
00039a  f8d2b67c          LDR      r11,[r2,#0x67c]       ;1307
00039e  eba3080c          SUB      r8,r3,r12             ;1305
0003a2  f8d23864          LDR      r3,[r2,#0x864]        ;1306
0003a6  f8d2a772          LDR      r10,[r2,#0x772]       ;1306
0003aa  f8d22680          LDR      r2,[r2,#0x680]        ;1308
0003ae  eba3030a          SUB      r3,r3,r10             ;1306
0003b2  ebac0c0b          SUB      r12,r12,r11           ;1307
0003b6  ebaa0a02          SUB      r10,r10,r2            ;1308
0003ba  e013              B        |L20.996|
                  |L20.956|
0003bc  f8d2376e          LDR      r3,[r2,#0x76e]
0003c0  f8d2c6f5          LDR      r12,[r2,#0x6f5]
;;;1313   					fPred_y = temp_coord->tOrgPastPos[2].tXY[match_pl].y - temp_coord->tOrgPastPos[1].tXY[match_pl].y;
;;;1314   					sPred_x = temp_coord->tOrgPastPos[1].tXY[match_pl].x - temp_coord->tOrgPastPos[0].tXY[match_pl].x;
0003c4  f8d2b67c          LDR      r11,[r2,#0x67c]
0003c8  eba3080c          SUB      r8,r3,r12             ;1312
0003cc  f8d23772          LDR      r3,[r2,#0x772]        ;1313
0003d0  f8d2a6f9          LDR      r10,[r2,#0x6f9]       ;1313
;;;1315   					sPred_y = temp_coord->tOrgPastPos[1].tXY[match_pl].y - temp_coord->tOrgPastPos[0].tXY[match_pl].y;
0003d4  f8d22680          LDR      r2,[r2,#0x680]
0003d8  eba3030a          SUB      r3,r3,r10             ;1313
0003dc  ebac0c0b          SUB      r12,r12,r11           ;1314
0003e0  ebaa0a02          SUB      r10,r10,r2
                  |L20.996|
;;;1316   				}
;;;1317   				
;;;1318   				pred_pos2.x = temp_coord->tOrgPastPos[0].tXY[match_pl].x - (sPred_x + sPred_x - fPred_x);
0003e4  eb0402c5          ADD      r2,r4,r5,LSL #3
0003e8  ebc80c4c          RSB      r12,r8,r12,LSL #1
0003ec  f8d2b67c          LDR      r11,[r2,#0x67c]
;;;1319   				pred_pos2.y = temp_coord->tOrgPastPos[0].tXY[match_pl].y - (sPred_y + sPred_y - fPred_y);
0003f0  f8d22680          LDR      r2,[r2,#0x680]
0003f4  ebc3034a          RSB      r3,r3,r10,LSL #1
0003f8  ebab080c          SUB      r8,r11,r12            ;1318
0003fc  eba20a03          SUB      r10,r2,r3
;;;1320   				
;;;1321   				sub_x1 = pred_pos.x - temp_coord->tTempPos.tXY[match_cl].x;
000400  e003              B        |L20.1034|
                  |L20.1026|
000402  e024              B        |L20.1102|
                  |L20.1028|
                          DCD      ||.data||
                  |L20.1032|
000408  e030              B        |L20.1132|
                  |L20.1034|
00040a  eb0402c6          ADD      r2,r4,r6,LSL #3
00040e  f8d2c001          LDR      r12,[r2,#1]
;;;1322   				sub_y1 = pred_pos.y - temp_coord->tTempPos.tXY[match_cl].y;
000412  f8d2b005          LDR      r11,[r2,#5]
000416  ebb0030c          SUBS     r3,r0,r12             ;1321
00041a  eba1020b          SUB      r2,r1,r11
;;;1323   				if(sub_x1 < 0)	sub_x1 = -sub_x1;
00041e  bf48              IT       MI
000420  425b              RSBMI    r3,r3,#0
;;;1324   				if(sub_y1 < 0)	sub_y1 = -sub_y1;
000422  2a00              CMP      r2,#0
000424  bfb8              IT       LT
000426  4252              RSBLT    r2,r2,#0
;;;1325   				
;;;1326   				sub_x2 = pred_pos2.x - temp_coord->tTempPos.tXY[match_cl].x;
000428  ebb80c0c          SUBS     r12,r8,r12
;;;1327   				sub_y2 = pred_pos2.y - temp_coord->tTempPos.tXY[match_cl].y;
00042c  ebaa0b0b          SUB      r11,r10,r11
;;;1328   				if(sub_x2 < 0)	sub_x2 = -sub_x2;
000430  bf48              IT       MI
000432  f1cc0c00          RSBMI    r12,r12,#0
;;;1329   				if(sub_y2 < 0)	sub_y2 = -sub_y2;
000436  f1bb0f00          CMP      r11,#0
00043a  bfb8              IT       LT
00043c  f1cb0b00          RSBLT    r11,r11,#0
;;;1330   				
;;;1331   				sub_x1 += sub_y1;
000440  441a              ADD      r2,r2,r3
;;;1332   				sub_x2 += sub_y2;
000442  eb0c030b          ADD      r3,r12,r11
;;;1333   				
;;;1334   				if(sub_x2 < sub_x1)
000446  4293              CMP      r3,r2
;;;1335   					pred_pos = pred_pos2;
000448  bfbc              ITT      LT
00044a  4640              MOVLT    r0,r8
00044c  4651              MOVLT    r1,r10
                  |L20.1102|
;;;1336   			}
;;;1337   			
;;;1338   			iMinDist = algorithm_coord_calc_distance(temp_coord->tTempPos.tXY[match_cl], pred_pos);
00044e  eb0402c6          ADD      r2,r4,r6,LSL #3
000452  f8d23001          LDR      r3,[r2,#1]
000456  f8d22005          LDR      r2,[r2,#5]
00045a  1a18              SUBS     r0,r3,r0
00045c  fb00f300          MUL      r3,r0,r0
000460  1a50              SUBS     r0,r2,r1
000462  fb003000          MLA      r0,r0,r0,r3
000466  f7fffffe          BL       algorithm_calc_sqrt
00046a  4680              MOV      r8,r0
                  |L20.1132|
;;;1339   		}
;;;1340   
;;;1341   #if 0
;;;1342   		if (temp_coord->ucIdMappedCnt[match_pl] == 1)
;;;1343   		{
;;;1344   			iDistanceThd = (thisModeConf->Coord.usFirstMoveDistanceThd << POS_BOOST_SHIFT_);
;;;1345   		}
;;;1346   		else
;;;1347   		{
;;;1348   			iDistanceThd = temp_coord->slScaledMoveDistThd;
;;;1349   			if (temp_coord->lPrevDist[match_pl] > temp_coord->slScaledMoveDistThd)
;;;1350   				iDistanceThd += (temp_coord->lPrevDist[match_pl] * 2);
;;;1351   		}
;;;1352   #endif		
;;;1353   		
;;;1354   		//Set tracking distance
;;;1355   		{
;;;1356   			uint8_t FirstMoveFrameNum = 0;
;;;1357   			if(thisModeConf->Coord.ucFastDrawingMode)
00046c  f8dfa514          LDR      r10,|L20.2436|
000470  f8da000c          LDR      r0,[r10,#0xc]  ; thisModeConf
000474  f8901088          LDRB     r1,[r0,#0x88]
000478  2900              CMP      r1,#0
;;;1358   				FirstMoveFrameNum = 2;
00047a  bf14              ITE      NE
00047c  2202              MOVNE    r2,#2
;;;1359   			else
;;;1360   				FirstMoveFrameNum = 1;
00047e  2201              MOVEQ    r2,#1
;;;1361   	//		if (temp_coord->bIsMoving[match_pl] == NO)		//In tracking
;;;1362   			if (temp_coord->ucIdMappedCnt[match_pl] <= FirstMoveFrameNum)
000480  1961              ADDS     r1,r4,r5
000482  f891197d          LDRB     r1,[r1,#0x97d]
000486  4291              CMP      r1,r2
;;;1363   			{
;;;1364   				iDistanceThd = (thisModeConf->Coord.usFirstMoveDistanceThd << POS_BOOST_SHIFT_);
000488  bf9c              ITT      LS
00048a  f8b0008f          LDRHLS   r0,[r0,#0x8f]
00048e  0200              LSLLS    r0,r0,#8
000490  d90f              BLS      |L20.1202|
;;;1365   			}
;;;1366   			else
;;;1367   			{
;;;1368   				//Dynamic tracking distance
;;;1369   				if(thisModeConf->Coord.ucDynamicTrackingDistanceMode == 1)
000492  f8900087          LDRB     r0,[r0,#0x87]
000496  2801              CMP      r0,#1
000498  d026              BEQ      |L20.1256|
;;;1370   				{
;;;1371   					if(thisInfo->WinCertMode){
;;;1372   						thisInfo->WinCertTrackingDist = MAX(thisInfo->WinCertTrackingDist, (temp_coord->lPrevDist[match_pl]<<3));
;;;1373   						iDistanceThd = MAX( (1<<(POS_BOOST_SHIFT_-1)), thisInfo->WinCertTrackingDist );
;;;1374   					}
;;;1375   					else{
;;;1376   						if(algorithm_coord_IsEdgeArea(&temp_coord->iStopPos[match_pl],0)>0)
;;;1377   							iDistanceThd = MAX( (3<<(POS_BOOST_SHIFT_)), (temp_coord->lPrevDist[match_pl]<<2) );
;;;1378   						else
;;;1379   							iDistanceThd = MAX( (1<<(POS_BOOST_SHIFT_))+(1<<(POS_BOOST_SHIFT_-1)), (temp_coord->lPrevDist[match_pl]<<2) );
;;;1380   						
;;;1381   		//				if(temp_coord->ucIdMappedCnt[match_pl] >= 4)
;;;1382   		//					iDistanceThd = (thisModeConf->Coord.usMoveDistanceThd << POS_BOOST_SHIFT_);
;;;1383   					}
;;;1384   				}
;;;1385   				else if(thisModeConf->Coord.ucDynamicTrackingDistanceMode == 2)
00049a  2802              CMP      r0,#2
00049c  d05d              BEQ      |L20.1370|
;;;1386   				{
;;;1387   					iDistanceThd = MAX( ((temp_coord->ucIdMappedCnt[match_pl]+1)<<(POS_BOOST_SHIFT_)), (temp_coord->lPrevDist[match_pl]<<2) );
;;;1388   				}
;;;1389   				else
;;;1390   				{	
;;;1391   					iDistanceThd = temp_coord->slScaledMoveDistThd;
;;;1392   					if (temp_coord->lPrevDist[match_pl] > temp_coord->slScaledMoveDistThd)
00049e  eb040185          ADD      r1,r4,r5,LSL #2
0004a2  f8d40979          LDR      r0,[r4,#0x979]        ;1391
0004a6  f8d119b5          LDR      r1,[r1,#0x9b5]
0004aa  4281              CMP      r1,r0
;;;1393   						iDistanceThd += (temp_coord->lPrevDist[match_pl] * 2);
0004ac  bfc8              IT       GT
0004ae  eb000041          ADDGT    r0,r0,r1,LSL #1
                  |L20.1202|
;;;1394   				}
;;;1395   			}
;;;1396   #if USED_NOISE_HOPPING_FREQ
;;;1397   //			if(ptAppInfo->eHoppingStatus == FREQ_HOPPING_CHANGED)
;;;1398   			if(ptAppInfo->ucHoppFrameCnt)
0004b2  f8da2014          LDR      r2,[r10,#0x14]  ; ptAppInfo
0004b6  7d11              LDRB     r1,[r2,#0x14]
0004b8  b191              CBZ      r1,|L20.1248|
;;;1399   			{
;;;1400   //				iDistanceThd <<= 2;
;;;1401   				iDistanceThd = (thisModeConf->Noise.ucHoppingMoveDistanceThd << POS_BOOST_SHIFT_);
0004ba  f8da000c          LDR      r0,[r10,#0xc]  ; thisModeConf
;;;1402   				if (temp_coord->lPrevDist[match_pl] > iDistanceThd)
0004be  eb040185          ADD      r1,r4,r5,LSL #2
0004c2  f89001fe          LDRB     r0,[r0,#0x1fe]        ;1401
0004c6  f8d119b5          LDR      r1,[r1,#0x9b5]
0004ca  0200              LSLS     r0,r0,#8              ;1401
0004cc  4281              CMP      r1,r0
;;;1403   						iDistanceThd += (temp_coord->lPrevDist[match_pl] * 2);
0004ce  bfc8              IT       GT
0004d0  eb000041          ADDGT    r0,r0,r1,LSL #1
;;;1404   				
;;;1405   				iDistanceThd = MAX( (iDistanceThd), (temp_coord->lPrevDist[match_pl]<<2) );
0004d4  ebb00f81          CMP      r0,r1,LSL #2
0004d8  bfd8              IT       LE
0004da  0088              LSLLE    r0,r1,#2
;;;1406   				ptAppInfo->ucHoppFrameCnt = 0;
0004dc  2100              MOVS     r1,#0
0004de  7511              STRB     r1,[r2,#0x14]
                  |L20.1248|
;;;1407   			}
;;;1408   #endif /* USED_NOISE_HOPPING_FREQ */
;;;1409   		}
;;;1410   
;;;1411   
;;;1412   		if(mode == FULL_MODE)
0004e0  f8dd1498          LDR      r1,[sp,#0x498]
0004e4  b3c1              CBZ      r1,|L20.1368|
0004e6  e0d1              B        |L20.1676|
                  |L20.1256|
0004e8  f8da0010          LDR      r0,[r10,#0x10]        ;1371  ; thisInfo
0004ec  f5005180          ADD      r1,r0,#0x1000         ;1371
0004f0  f8910171          LDRB     r0,[r1,#0x171]        ;1371
0004f4  b180              CBZ      r0,|L20.1304|
0004f6  eb040085          ADD      r0,r4,r5,LSL #2       ;1372
0004fa  f8b12174          LDRH     r2,[r1,#0x174]        ;1372
0004fe  f8d009b5          LDR      r0,[r0,#0x9b5]        ;1372
000502  ebb20fc0          CMP      r2,r0,LSL #3          ;1372
000506  bfd8              IT       LE                    ;1372
000508  00c2              LSLLE    r2,r0,#3              ;1372
00050a  b290              UXTH     r0,r2                 ;1372
00050c  f8a10174          STRH     r0,[r1,#0x174]        ;1372
000510  2880              CMP      r0,#0x80              ;1373
000512  bf38              IT       CC                    ;1373
000514  2080              MOVCC    r0,#0x80              ;1373
000516  e7cc              B        |L20.1202|
                  |L20.1304|
000518  eb0400c5          ADD      r0,r4,r5,LSL #3       ;1376
00051c  2100              MOVS     r1,#0                 ;1376
00051e  f600202f          ADD      r0,r0,#0xa2f          ;1376
000522  f7fffffe          BL       algorithm_coord_IsEdgeArea
000526  2800              CMP      r0,#0                 ;1376
000528  eb040085          ADD      r0,r4,r5,LSL #2       ;1379
00052c  f8d009b5          LDR      r0,[r0,#0x9b5]        ;1379
000530  dd08              BLE      |L20.1348|
000532  f44f7140          MOV      r1,#0x300             ;1377
000536  ebb10f80          CMP      r1,r0,LSL #2          ;1377
00053a  bfc8              IT       GT                    ;1377
00053c  f44f7040          MOVGT    r0,#0x300             ;1377
000540  dd08              BLE      |L20.1364|
000542  e7b6              B        |L20.1202|
                  |L20.1348|
000544  f44f71c0          MOV      r1,#0x180             ;1379
000548  ebb10f80          CMP      r1,r0,LSL #2          ;1379
00054c  bfc8              IT       GT                    ;1379
00054e  f44f70c0          MOVGT    r0,#0x180             ;1379
000552  dcae              BGT      |L20.1202|
                  |L20.1364|
000554  0080              LSLS     r0,r0,#2              ;1379
000556  e7ac              B        |L20.1202|
                  |L20.1368|
000558  e00b              B        |L20.1394|
                  |L20.1370|
00055a  0208              LSLS     r0,r1,#8              ;1387
00055c  eb040185          ADD      r1,r4,r5,LSL #2       ;1387
000560  f5007080          ADD      r0,r0,#0x100          ;1387
000564  f8d119b5          LDR      r1,[r1,#0x9b5]        ;1387
000568  ebb00f81          CMP      r0,r1,LSL #2          ;1387
00056c  bfd8              IT       LE                    ;1387
00056e  0088              LSLLE    r0,r1,#2              ;1387
000570  e79f              B        |L20.1202|
                  |L20.1394|
;;;1413   		{
;;;1414   			if(iMinDist > iDistanceThd)
000572  4580              CMP      r8,r0
;;;1415   			{
;;;1416   				match_cl = -1;
000574  bfc4              ITT      GT
000576  f04f36ff          MOVGT    r6,#0xffffffff
;;;1417   				match_pl = -1;
00057a  4635              MOVGT    r5,r6
00057c  dc04              BGT      |L20.1416|
;;;1418   			}
;;;1419   #if USED_NOISE_HOPPING_FREQ
;;;1420   			else if(ptAppInfo->eHoppingStatus == FREQ_HOPPING_CHANGED)
00057e  7cd0              LDRB     r0,[r2,#0x13]
000580  2801              CMP      r0,#1
;;;1421   			{
;;;1422   				ptAppInfo->eHoppingStatus = FREQ_HOPPING_NONE;
000582  bf04              ITT      EQ
000584  2000              MOVEQ    r0,#0
000586  74d0              STRBEQ   r0,[r2,#0x13]
                  |L20.1416|
;;;1423   			}
;;;1424   #endif /* USED_NOISE_HOPPING_FREQ */
;;;1425   			///////////drum in tracking starts here
;;;1426   			if(thisModeConf->Coord.usDrumTestDist)
000588  f8da000c          LDR      r0,[r10,#0xc]  ; thisModeConf
00058c  f8b00096          LDRH     r0,[r0,#0x96]
000590  b3e8              CBZ      r0,|L20.1550|
;;;1427   			{
;;;1428   				if(DrumStep[match_pl] == 1)
000592  48fd              LDR      r0,|L20.2440|
000594  5d40              LDRB     r0,[r0,r5]
000596  2801              CMP      r0,#1
000598  d178              BNE      |L20.1676|
;;;1429   				{
;;;1430   					int InnerProduct = 0, S1=0, S2=0,CosSeta = 0;
;;;1431   					tXY_t P[3];
;;;1432   					tXY_t V1,V2;
;;;1433   					
;;;1434   					P[0] = temp_coord->tTempPos.tXY[match_cl];
00059a  eb0400c6          ADD      r0,r4,r6,LSL #3
;;;1435   //					P[1] = temp_coord->tOrgPosHist[1].tXY[match_pl];
;;;1436   //					P[2] = temp_coord->tOrgPosHist[3].tXY[match_pl];
;;;1437   					P[1] = temp_coord->tOrgPastPos[0].tXY[match_pl];
00059e  eb0401c5          ADD      r1,r4,r5,LSL #3
0005a2  f8d0c001          LDR      r12,[r0,#1]           ;1434
0005a6  f8d0b005          LDR      r11,[r0,#5]           ;1434
0005aa  f5016380          ADD      r3,r1,#0x400
0005ae  f8d1067c          LDR      r0,[r1,#0x67c]
;;;1438   					P[2] = temp_coord->tOrgPastPos[2].tXY[match_pl];
0005b2  f8d3236e          LDR      r2,[r3,#0x36e]
0005b6  f8d11680          LDR      r1,[r1,#0x680]        ;1437
;;;1439   					V1.x = P[0].x - P[1].x;
0005ba  ebac0c00          SUB      r12,r12,r0
0005be  f8d33372          LDR      r3,[r3,#0x372]        ;1438
;;;1440   					V1.y = P[0].y - P[1].y;
;;;1441   					V2.x = P[1].x - P[2].x;
0005c2  1a80              SUBS     r0,r0,r2
0005c4  f8cd0420          STR      r0,[sp,#0x420]
;;;1442   					V2.y = P[1].y - P[2].y;
0005c8  f8cd0408          STR      r0,[sp,#0x408]
0005cc  1ac8              SUBS     r0,r1,r3
0005ce  f8cdc410          STR      r12,[sp,#0x410]
0005d2  f8cd0470          STR      r0,[sp,#0x470]
0005d6  f8cd0424          STR      r0,[sp,#0x424]
0005da  ebab0b01          SUB      r11,r11,r1            ;1440
0005de  fb0cf00c          MUL      r0,r12,r12            ;1440
0005e2  fb0b000b          MLA      r0,r11,r11,r0         ;1440
0005e6  f7fffffe          BL       algorithm_calc_sqrt
;;;1443   					S1 = algorithm_coord_calc_distance(P[0], P[1]);
0005ea  f8cd041c          STR      r0,[sp,#0x41c]
0005ee  f8dd0420          LDR      r0,[sp,#0x420]
0005f2  fb00f100          MUL      r1,r0,r0
0005f6  f8dd0470          LDR      r0,[sp,#0x470]
0005fa  fb001000          MLA      r0,r0,r0,r1
0005fe  f7fffffe          BL       algorithm_calc_sqrt
;;;1444   					S2 = algorithm_coord_calc_distance(P[1], P[2]);
000602  4601              MOV      r1,r0
;;;1445   					InnerProduct = V1.x*V2.x + V1.y*V2.y;
000604  f8ddc410          LDR      r12,[sp,#0x410]
000608  f8dd0408          LDR      r0,[sp,#0x408]
00060c  e000              B        |L20.1552|
                  |L20.1550|
00060e  e03d              B        |L20.1676|
                  |L20.1552|
000610  fb0cf200          MUL      r2,r12,r0
000614  f8dd0424          LDR      r0,[sp,#0x424]
000618  fb0b2000          MLA      r0,r11,r0,r2
;;;1446   					CosSeta = InnerProduct * (thisModeConf->Coord.usDrumTestDist>>1) / (S1*S2);
00061c  f8da200c          LDR      r2,[r10,#0xc]  ; thisModeConf
000620  f8b22096          LDRH     r2,[r2,#0x96]
000624  0853              LSRS     r3,r2,#1
000626  4343              MULS     r3,r0,r3
000628  f8dd041c          LDR      r0,[sp,#0x41c]
00062c  4348              MULS     r0,r1,r0
00062e  fb93f0f0          SDIV     r0,r3,r0
;;;1447   					if(CosSeta < 0)	CosSeta = 0;
000632  2800              CMP      r0,#0
000634  f2c08249          BLT.W    |L20.2762|
                  |L20.1592|
;;;1448   					if(CosSeta > (thisModeConf->Coord.usDrumTestDist>>1))	CosSeta = (thisModeConf->Coord.usDrumTestDist>>1);
000638  ebb00f52          CMP      r0,r2,LSR #1
00063c  f3008247          BGT.W    |L20.2766|
                  |L20.1600|
;;;1449   					
;;;1450   //					if( (InnerProduct<<1) < S1*S2 || S1 < (thisModeConf->Coord.usDrumTestDist - CosSeta) )
;;;1451   					if( S1 < (thisModeConf->Coord.usDrumTestDist - CosSeta) )
000640  1a11              SUBS     r1,r2,r0
000642  f8dd041c          LDR      r0,[sp,#0x41c]
000646  4281              CMP      r1,r0
000648  dd1d              BLE      |L20.1670|
;;;1452   //					if(S1 < (thisModeConf->Coord.usDrumTestDist>>1)  )
;;;1453   					{
;;;1454   //						match_cl = -1;
;;;1455   //						match_pl = -1;
;;;1456   						for(pl = 0; pl < MAX_TOUCH_; pl++)
00064a  eb070086          ADD      r0,r7,r6,LSL #2
00064e  f1a00140          SUB      r1,r0,#0x40
000652  2205              MOVS     r2,#5
000654  1f90              SUBS     r0,r2,#6              ;1076
                  |L20.1622|
;;;1457   							lDistanceMap[pl][match_cl] = -1;
000656  6408              STR      r0,[r1,#0x40]
000658  f8410f80          STR      r0,[r1,#0x80]!
00065c  1e52              SUBS     r2,r2,#1
00065e  d1fa              BNE      |L20.1622|
;;;1458   
;;;1459   						for(cl = 0; cl < temp_coord->tTempPos.sFinger_; cl++)
000660  7822              LDRB     r2,[r4,#0]
000662  b3ca              CBZ      r2,|L20.1752|
000664  eb071185          ADD      r1,r7,r5,LSL #6
000668  1f09              SUBS     r1,r1,#4
;;;1460   							lDistanceMap[match_pl][cl] = -1;
;;;1461   						continue;
;;;1462   						
;;;1463   					}
;;;1464   					DrumStep[match_pl] = 2;
;;;1465   				}
;;;1466   			}
;;;1467   		}
;;;1468   //////////////////drum in tracking ends here
;;;1469   		if(match_cl != -1)
;;;1470   		{
;;;1471   			for(pl = 0; pl < MAX_TOUCH_; pl++)
;;;1472   				lDistanceMap[pl][match_cl] = -1;
;;;1473   
;;;1474   			for(cl = 0; cl < temp_coord->tTempPos.sFinger_; cl++)
;;;1475   				lDistanceMap[match_pl][cl] = -1;
;;;1476   
;;;1477               //if (match_cl != -1) // If the most near finger is found,
;;;1478               {
;;;1479   				ulPrematchedDist[match_cl] = iMinDist;
;;;1480   				cReorderRemap[match_cl] = match_pl;
;;;1481               }
;;;1482   		}
;;;1483   
;;;1484   	} while(match_cl != -1);
;;;1485   
;;;1486   #else
;;;1487       //cReorderRemap . Current Group Index --> Real Group Index(  ).
;;;1488       for (pl = 0; pl < MAX_TOUCH_; pl++)
;;;1489       {
;;;1490           if (temp_coord->tPastPos[0].vusR[pl] != 0)
;;;1491           {
;;;1492               //Increase minimum displacement according to prev-distance.
;;;1493   			iMinDist = (temp_coord->lPrevDist[pl])*2 + temp_coord->slScaledMoveDistThd;
;;;1494   
;;;1495               match = -1;
;;;1496               // Find the previous point to match the current point
;;;1497               for (cl = 0; cl < temp_coord->tTempPos.sFinger_; cl++)
;;;1498               {
;;;1499                   if (temp_coord->tTempPos.vusR[cl]) //For unmatched fingers,
;;;1500                   {
;;;1501                   	uint16_t Check_vusR = 0;
;;;1502   					tXY_t UsePastPos;
;;;1503   					if(temp_coord->bInterpolation_On)
;;;1504   					{
;;;1505   						Check_vusR = temp_coord->tPastPos[2].vusR[pl];
;;;1506   						UsePastPos = temp_coord->tOrgPastPos[2].tXY[pl];
;;;1507   					}
;;;1508   					else
;;;1509   					{
;;;1510   						Check_vusR = temp_coord->tPastPos[1].vusR[pl];
;;;1511   						UsePastPos = temp_coord->tOrgPastPos[1].tXY[pl];
;;;1512   					}
;;;1513   					
;;;1514                   	if( Check_vusR )
;;;1515                   	{
;;;1516                   		if(temp_coord->ucIdMappedCnt[cl] >= 2)
;;;1517                   		{
;;;1518                   			avg_pos.x = (temp_coord->tTempPos.tXY[cl].x + temp_coord->tOrgPastPos[0].tXY[pl].x + UsePastPos.x)/3;
;;;1519   							avg_pos.y = (temp_coord->tTempPos.tXY[cl].y + temp_coord->tOrgPastPos[0].tXY[pl].y + UsePastPos.y)/3;
;;;1520   							pred_pos.x = (avg_pos.x << 1) - temp_coord->tOrgAvgPos.tXY[pl].x;
;;;1521   							pred_pos.y = (avg_pos.y << 1) - temp_coord->tOrgAvgPos.tXY[pl].y;
;;;1522                   		}
;;;1523                   		else
;;;1524                   		{
;;;1525                   			avg_pos.x = (temp_coord->tTempPos.tXY[cl].x + temp_coord->tOrgPastPos[0].tXY[pl].x)/2;
;;;1526   							avg_pos.y = (temp_coord->tTempPos.tXY[cl].y + temp_coord->tOrgPastPos[0].tXY[pl].y)/2;
;;;1527                   		}
;;;1528   
;;;1529   						pred_pos.x = (avg_pos.x << 1) - temp_coord->tOrgAvgPos.tXY[pl].x;
;;;1530   						pred_pos.y = (avg_pos.y << 1) - temp_coord->tOrgAvgPos.tXY[pl].y;
;;;1531                   	}
;;;1532                   	else
;;;1533                   	{
;;;1534                   		pred_pos.x = temp_coord->tOrgPastPos[0].tXY[pl].x;
;;;1535                   		pred_pos.y = temp_coord->tOrgPastPos[0].tXY[pl].y;
;;;1536                   	}
;;;1537   
;;;1538                       iDist = algorithm_coord_calc_distance(temp_coord->tTempPos.tXY[cl], pred_pos);
;;;1539   
;;;1540                       if (iDist < iMinDist)
;;;1541                       {
;;;1542                           iMinDist = iDist;
;;;1543                           match = cl;
;;;1544                       }
;;;1545                   }
;;;1546               }
;;;1547   
;;;1548               if (match != -1) // If the most near finger is found,
;;;1549               {
;;;1550                   //    ,       ,
;;;1551                   if ((cReorderRemap[match] != -1) && ulPrematchedDist[match] > (uint32_t)iMinDist)
;;;1552                   {
;;;1553                       ulPrematchedDist[match] = iMinDist;
;;;1554                       cReorderRemap[match] = pl;
;;;1555                   }
;;;1556                   //    .
;;;1557                   else if (cReorderRemap[match] == -1)
;;;1558                   {
;;;1559                       ulPrematchedDist[match] = iMinDist;
;;;1560                       cReorderRemap[match] = pl;
;;;1561                   }
;;;1562               }
;;;1563           }
;;;1564       }
;;;1565   #endif
;;;1566   
;;;1567       //TODO:    iReorderRemap  , iReorderRemap  reordering    .
;;;1568       for (cl = 0; cl < temp_coord->tTempPos.sFinger_; cl++)
;;;1569       {
;;;1570           //Remap  ,
;;;1571           if (cReorderRemap[cl] != -1)
;;;1572           {
;;;1573               pl = cReorderRemap[cl];
;;;1574               temp_coord->tPos.tXY[pl]  = temp_coord->tTempPos.tXY[cl];
;;;1575               temp_coord->tPos.vusR[pl] = temp_coord->tTempPos.vusR[cl];
;;;1576               temp_coord->tPos.vusS[pl] = temp_coord->tTempPos.vusS[cl];
;;;1577               temp_coord->tPos.rect[pl] = temp_coord->tTempPos.rect[cl];
;;;1578               temp_coord->tPos.MaxDelta[pl] = temp_coord->tTempPos.MaxDelta[cl];
;;;1579   			
;;;1580   			temp_coord->RealMaxDelta[pl] = temp_coord->RealMaxDelta[cl];
;;;1581   
;;;1582   			temp_coord->lPrevDist[pl] = algorithm_coord_calc_distance(temp_coord->tOrgPastPos[0].tXY[pl], temp_coord->tPos.tXY[pl]);
;;;1583           }
;;;1584       }
;;;1585   
;;;1586       /*
;;;1587        *    finger .
;;;1588        */
;;;1589       for (cl = 0; cl < temp_coord->tTempPos.sFinger_; cl++)
;;;1590       {
;;;1591           // For unmatched current points
;;;1592           if (cReorderRemap[cl] == -1 && temp_coord->tTempPos.vusR[cl])
;;;1593           {
;;;1594               for (pl = 0; pl < MAX_TOUCH_; pl++)
;;;1595               {
;;;1596                   // For an empty and new slot
;;;1597                   if (temp_coord->tPastPos[0].vusR[pl] == 0 && temp_coord->tPos.vusR[pl] == 0)
;;;1598                   {
;;;1599                       cReorderRemap[cl] = pl;
;;;1600                       temp_coord->tPos.tXY[pl]      = temp_coord->tTempPos.tXY[cl];
;;;1601                       temp_coord->tPos.vusR[pl]     = temp_coord->tTempPos.vusR[cl];
;;;1602                       temp_coord->tPos.vusS[pl]     = temp_coord->tTempPos.vusS[cl];
;;;1603                       temp_coord->tPos.rect[pl]     = temp_coord->tTempPos.rect[cl];
;;;1604                       temp_coord->tPos.MaxDelta[pl]  = temp_coord->tTempPos.MaxDelta[cl];
;;;1605   					
;;;1606   					temp_coord->RealMaxDelta[pl] = temp_coord->RealMaxDelta[cl];
;;;1607   
;;;1608                       temp_coord->lPrevDist[pl]     = 0;
;;;1609                       break;
;;;1610                   }
;;;1611               }
;;;1612           }
;;;1613       }
;;;1614   
;;;1615       //Remap matrix . Group matrix      .
;;;1616       for (cl = 0; cl < LOOSE_POSBUF_; cl++)
;;;1617       {
;;;1618           pl = cReorderRemap[cl];
;;;1619           if (pl < MAX_TOUCH_)
;;;1620           	temp_coord->cRemap[pl] = cl;
;;;1621   //        else
;;;1622   //            //maxtouch    group index ,
;;;1623   //        	temp_coord->cRemap[cl] = -1;
;;;1624       }
;;;1625   
;;;1626   	temp_coord->tOrgPos.sFinger_ = temp_coord->tPos.sFinger_; 
;;;1627       for( cl=MAX_TOUCH_; cl--; )
;;;1628   	{
;;;1629   //		temp_coord->tOrgPosHist[0].tXY[cl]  = temp_coord->tPos.tXY[cl];
;;;1630   //		temp_coord->tOrgPosHist[0].vusS[cl] = temp_coord->tPos.vusS[cl];
;;;1631   //		temp_coord->tOrgPosHist[0].vusR[cl] = temp_coord->tPos.vusR[cl];
;;;1632   		
;;;1633   		temp_coord->tOrgPos.tXY[cl]  = temp_coord->tPos.tXY[cl];
;;;1634   		temp_coord->tOrgPos.vusS[cl] = temp_coord->tPos.vusS[cl];
;;;1635   		temp_coord->tOrgPos.vusR[cl] = temp_coord->tPos.vusR[cl];
;;;1636   		temp_coord->tOrgPos.rect[cl] = temp_coord->tPos.rect[cl];
;;;1637   
;;;1638   		if( temp_coord->tPos.vusR[cl] )
;;;1639   		{
;;;1640   			if(temp_coord->ucIdMappedCnt[cl] < COORD_HISTORY_NUM)
;;;1641   			{
;;;1642   				temp_coord->ucIdMappedCnt[cl]++;
;;;1643   			}
;;;1644   
;;;1645   			if( temp_coord->ucIdMappedCnt[cl] == 1 )
;;;1646   			{
;;;1647   //				if(mode == FULL_MODE)
;;;1648   //				{
;;;1649   //					pl = thisInfo->tCoord.cRemap[cl];
;;;1650   //					if((thisInfo->tLabel.tTable[pl].ulStrength*100)/thisInfo->tLabel.tTable[pl].ulExtStrength < 70)//77)
;;;1651   //					{
;;;1652   ////						thisInfo->tCoord.ucIdMappedCnt[cl] = 0;
;;;1653   ////						thisInfo->tCoord.tPos.vusR[cl] = 0;
;;;1654   //						thisInfo->tCoord.tPos.vusS[cl] = 0;
;;;1655   ////						continue;
;;;1656   //					}
;;;1657   //				}
;;;1658   				temp_coord->tFirstPos.tXY[cl] = temp_coord->tPos.tXY[cl];
;;;1659   				temp_coord->DrawingFlag[cl] = NO;
;;;1660   				FirstTouchEnable[cl] = NO;
;;;1661   				ProjectionEnable[cl] = NO;
;;;1662   				temp_coord->iStopPos[cl] = temp_coord->tPos.tXY[cl];
;;;1663   				DrumStep[cl] = 0;
;;;1664   			}
;;;1665   			
;;;1666   			if(thisModeConf->Coord.sFirstTouchEnable1Touch > 0)
;;;1667   			{
;;;1668   				if(FirstTouchEnable[cl] == NO){
;;;1669   					int16_t FirstTouchThreshold = 0;
;;;1670   
;;;1671   					if(thisInfo->bIsPalm)					FirstTouchThreshold = thisModeConf->Coord.sFirstTouchEnable5Touch;
;;;1672   					else if(temp_coord->tPos.sFinger_ == 1)	FirstTouchThreshold = thisModeConf->Coord.sFirstTouchEnable1Touch;
;;;1673   					else if(temp_coord->tPos.sFinger_ == 2)	FirstTouchThreshold = thisModeConf->Coord.sFirstTouchEnable2Touch;
;;;1674   					else if(temp_coord->tPos.sFinger_ == 3)	FirstTouchThreshold = thisModeConf->Coord.sFirstTouchEnable3Touch;
;;;1675   					else if(temp_coord->tPos.sFinger_ == 4)	FirstTouchThreshold = thisModeConf->Coord.sFirstTouchEnable4Touch;
;;;1676   					else 									FirstTouchThreshold = thisModeConf->Coord.sFirstTouchEnable5Touch;
;;;1677   
;;;1678   					if(temp_coord->tPos.vusS[cl] >= FirstTouchThreshold){
;;;1679   						FirstTouchEnable[cl] = YES;
;;;1680   						temp_coord->iStopPos[cl] = temp_coord->tPos.tXY[cl];
;;;1681   					}
;;;1682   				}
;;;1683   
;;;1684   				if(FirstTouchEnable[cl] == NO)
;;;1685   					temp_coord->tPos.vusS[cl] = NO;
;;;1686   			
;;;1687   				if(temp_coord->tPos.vusS[cl])
;;;1688   				{
;;;1689   					if(temp_coord->cScreenDebCnt[cl] < COORD_HISTORY_NUM){
;;;1690   						temp_coord->cScreenDebCnt[cl]++;
;;;1691   //						if(thisModeConf->Coord.ucWinCertAssistance == 1){
;;;1692   //							if(thisInfo->tLabel.LabelSplitCnt)
;;;1693   //								temp_coord->tPos.vusS[cl] = 0;
;;;1694   //						}
;;;1695   					}
;;;1696   				}
;;;1697   				
;;;1698   				if(algorithm_coord_IsEdgeArea(&temp_coord->iStopPos[cl],0)>0){
;;;1699   					if(temp_coord->cScreenDebCnt[cl] <= thisModeConf->Coord.ucDebCntEdge)
;;;1700   						temp_coord->tPos.vusS[cl] = 0;
;;;1701   				}
;;;1702   				else{
;;;1703   					if(temp_coord->cScreenDebCnt[cl] <= thisModeConf->Coord.ucDebCntInner)
;;;1704   						temp_coord->tPos.vusS[cl] = 0;
;;;1705   				}
;;;1706   			}
;;;1707   			else 
;;;1708   			{
;;;1709   				if( temp_coord->tPastPos[0].vusS[cl] )
;;;1710   				{
;;;1711   					int lTouchOffThd = thisModeConf->Coord.lTouchOffThd;
;;;1712   				
;;;1713   					if(temp_coord->cScreenDebCnt[cl] < COORD_HISTORY_NUM)
;;;1714   					{
;;;1715   						temp_coord->cScreenDebCnt[cl]++;
;;;1716   					}
;;;1717   				
;;;1718   					if( thisModeConf->Coord.ucMultifingerFirstTouchThDownOffset > 0 && (temp_coord->tPos.sFinger_ > 5 || thisInfo->bIsPalm == YES) ) lTouchOffThd -= ((thisModeConf->Coord.ucMultifingerFirstTouchThDownOffset)>>1);
;;;1719   				
;;;1720   					if( temp_coord->tPos.vusS[cl] < lTouchOffThd )
;;;1721   					{
;;;1722   						temp_coord->tPos.vusS[cl] = 0;
;;;1723   						temp_coord->cScreenDebCnt[cl] = 0;
;;;1724   					}
;;;1725   				}
;;;1726   				else
;;;1727   				{
;;;1728   					int sFirstTouchOnMaxCellVal = thisModeConf->Coord.sFirstTouchOnMaxCellVal;
;;;1729   
;;;1730   					if( thisModeConf->Coord.ucMultifingerFirstTouchThDownOffset > 0 && (temp_coord->tPos.sFinger_ > 5 || thisInfo->bIsPalm == YES) ) sFirstTouchOnMaxCellVal -= thisModeConf->Coord.ucMultifingerFirstTouchThDownOffset;//10;
;;;1731   					
;;;1732   					if( temp_coord->tPos.vusS[cl] >= thisModeConf->Coord.lSmallTouchOnThd && temp_coord->tPos.vusR[cl] > 0 )
;;;1733   					{
;;;1734   						int iDebCnt     = 0;
;;;1735   						int iDebCntPlus = 0;//(int)algorithm_coord_IsEdgeArea(&temp_coord->tFirstPos.tXY[cl]);
;;;1736   						
;;;1737   						if(thisModeConf->Coord.bEdgeDebCntUp > 0)
;;;1738   							iDebCntPlus = (int)algorithm_coord_IsEdgeArea(&temp_coord->tFirstPos.tXY[cl] , 0);
;;;1739   						
;;;1740   //						if(thisModeConf->Coord.ucDebCntEdge > 0 && algorithm_coord_IsEdgeArea(&temp_coord->tFirstPos.tXY[cl] , 0))
;;;1741   //							iDebCntPlus = thisModeConf->Coord.ucDebCntEdge;
;;;1742   						
;;;1743   						if(temp_coord->cScreenDebCnt[cl] < COORD_HISTORY_NUM)
;;;1744   						{
;;;1745   							temp_coord->cScreenDebCnt[cl]++;
;;;1746   						}
;;;1747   
;;;1748   						if( temp_coord->tPos.MaxDelta[cl] > sFirstTouchOnMaxCellVal )
;;;1749   						{
;;;1750   							if( temp_coord->tPos.vusS[cl] >= thisModeConf->Coord.lLargeTouchOnThd )
;;;1751   							{
;;;1752   	//							iDebCnt = (iDebCntPlus > 0) ? iDebCntPlus : thisModeConf->Coord.ucLargeTouchOnDebCnt;
;;;1753   								iDebCnt = iDebCntPlus + thisModeConf->Coord.ucLargeTouchOnDebCnt;
;;;1754   							}
;;;1755   							else if( temp_coord->tPos.vusS[cl] >= thisModeConf->Coord.lMediumTouchOnThd )
;;;1756   							{
;;;1757   	//							iDebCnt = (iDebCntPlus > 0) ? iDebCntPlus : thisModeConf->Coord.ucMediumTouchOnDebCnt;
;;;1758   								iDebCnt = iDebCntPlus + thisModeConf->Coord.ucMediumTouchOnDebCnt;
;;;1759   							}
;;;1760   							else if( temp_coord->tPos.vusS[cl] >= thisModeConf->Coord.lSmallTouchOnThd )
;;;1761   							{
;;;1762   	//							iDebCnt = (iDebCntPlus > 0) ? iDebCntPlus : thisModeConf->Coord.ucSmallTouchOnDebCnt;
;;;1763   								iDebCnt = iDebCntPlus + thisModeConf->Coord.ucSmallTouchOnDebCnt;
;;;1764   							}
;;;1765   
;;;1766   							if( temp_coord->cScreenDebCnt[cl] > iDebCnt )
;;;1767   							{
;;;1768   
;;;1769   							}
;;;1770   							else
;;;1771   							{
;;;1772   								temp_coord->tPos.vusS[cl] = 0;
;;;1773   							}
;;;1774   						}
;;;1775   						else
;;;1776   						{
;;;1777   							temp_coord->tPos.vusS[cl] = 0;
;;;1778   							temp_coord->cScreenDebCnt[cl] = 0;
;;;1779   						}
;;;1780   					}
;;;1781   					else
;;;1782   					{
;;;1783   						temp_coord->tPos.vusS[cl] = 0;
;;;1784   						temp_coord->cScreenDebCnt[cl] = 0;
;;;1785   					}
;;;1786   				}
;;;1787   			}
;;;1788   			
;;;1789   			temp_coord->cIsbefor[cl] = 0;
;;;1790   		}
;;;1791   		else
;;;1792   		{
;;;1793   //			if(temp_coord->tPastPos[0].vusR[cl] > 0 && mode == LOCAL_MODE)
;;;1794   //			{
;;;1795   //				if(((temp_coord->cIsbefor[cl] < 1 /*&& g_RetVal == PARTIAL_PEN_COORD1*/) || (temp_coord->cIsbefor[cl] < 4 && temp_coord->cIsbefor[cl] > 0))&& temp_coord->ucIdMappedCnt[cl] > 3)
;;;1796   ////				if(temp_coord->cIsbefor[cl] < 1 && temp_coord->ucIdMappedCnt[cl] > 3)
;;;1797   //				{
;;;1798   //					thisInfo->bLocal_sensing = YES;
;;;1799   
;;;1800   //					temp_coord->tPos.vusR[cl] = temp_coord->tPastPos[0].vusR[cl];
;;;1801   //					temp_coord->tPos.vusS[cl] = temp_coord->tPastPos[0].vusS[cl];
;;;1802   //					temp_coord->tPos.tXY[cl] = temp_coord->tOrgPastPos[0].tXY[cl];
;;;1803   //					temp_coord->cIsbefor[cl]++;
;;;1804   //					
;;;1805   //					temp_coord->tOrgPosHist[0].tXY[cl]  = temp_coord->tPos.tXY[cl];
;;;1806   //					temp_coord->tOrgPosHist[0].vusS[cl] = temp_coord->tPos.vusS[cl];
;;;1807   //					temp_coord->tOrgPosHist[0].vusR[cl] = temp_coord->tPos.vusR[cl];
;;;1808   //					
;;;1809   //					temp_coord->tOrgPos.tXY[cl]  = temp_coord->tPos.tXY[cl];
;;;1810   //					temp_coord->tOrgPos.vusS[cl] = temp_coord->tPos.vusS[cl];
;;;1811   //					temp_coord->tOrgPos.vusR[cl] = temp_coord->tPos.vusR[cl];
;;;1812   //				}
;;;1813   //				else
;;;1814   //				{
;;;1815   //					temp_coord->ucIdMappedCnt[cl] = 0;
;;;1816   //					temp_coord->cScreenDebCnt[cl] = 0;
;;;1817   //					temp_coord->cIsbefor[cl] = 0;
;;;1818   //				}
;;;1819   //			}
;;;1820   //			else
;;;1821   			{
;;;1822   				temp_coord->ucIdMappedCnt[cl] = 0;
;;;1823   				temp_coord->cScreenDebCnt[cl] = 0;
;;;1824   				temp_coord->cIsbefor[cl] = 0;
;;;1825   			}
;;;1826   		}
;;;1827   	}
;;;1828   }
00066a  f0120f01          TST      r2,#1
00066e  bf18              IT       NE                    ;1460
000670  f8410f04          STRNE    r0,[r1,#4]!           ;1460
000674  7822              LDRB     r2,[r4,#0]            ;1459
000676  0852              LSRS     r2,r2,#1              ;1459
000678  d02e              BEQ      |L20.1752|
                  |L20.1658|
00067a  6048              STR      r0,[r1,#4]            ;1460
00067c  f8410f08          STR      r0,[r1,#8]!           ;1460
000680  1e52              SUBS     r2,r2,#1              ;1460
000682  d1fa              BNE      |L20.1658|
000684  e028              B        |L20.1752|
                  |L20.1670|
000686  48c0              LDR      r0,|L20.2440|
000688  2102              MOVS     r1,#2                 ;1464
00068a  5541              STRB     r1,[r0,r5]            ;1464
                  |L20.1676|
00068c  f1b63fff          CMP      r6,#0xffffffff        ;1469
000690  d026              BEQ      |L20.1760|
000692  eb070086          ADD      r0,r7,r6,LSL #2       ;1471
000696  f1a00240          SUB      r2,r0,#0x40           ;1471
00069a  2105              MOVS     r1,#5                 ;1471
00069c  1f88              SUBS     r0,r1,#6              ;1076
                  |L20.1694|
00069e  6410              STR      r0,[r2,#0x40]         ;1472
0006a0  f8420f80          STR      r0,[r2,#0x80]!        ;1472
0006a4  1e49              SUBS     r1,r1,#1              ;1472
0006a6  d1fa              BNE      |L20.1694|
0006a8  7822              LDRB     r2,[r4,#0]            ;1474
0006aa  b17a              CBZ      r2,|L20.1740|
0006ac  eb071185          ADD      r1,r7,r5,LSL #6       ;1474
0006b0  1f09              SUBS     r1,r1,#4              ;1474
0006b2  f0120f01          TST      r2,#1
0006b6  bf18              IT       NE                    ;1475
0006b8  f8410f04          STRNE    r0,[r1,#4]!           ;1475
0006bc  7822              LDRB     r2,[r4,#0]            ;1474
0006be  0852              LSRS     r2,r2,#1              ;1474
0006c0  d004              BEQ      |L20.1740|
                  |L20.1730|
0006c2  6048              STR      r0,[r1,#4]            ;1475
0006c4  f8410f08          STR      r0,[r1,#8]!           ;1475
0006c8  1e52              SUBS     r2,r2,#1              ;1475
0006ca  d1fa              BNE      |L20.1730|
                  |L20.1740|
0006cc  f50d6086          ADD      r0,sp,#0x430          ;1479
0006d0  f8408026          STR      r8,[r0,r6,LSL #2]     ;1479
0006d4  3050              ADDS     r0,r0,#0x50           ;1480
0006d6  5585              STRB     r5,[r0,r6]            ;1480
                  |L20.1752|
0006d8  f1b63fff          CMP      r6,#0xffffffff        ;1480
0006dc  f47fadfa          BNE      |L20.724|
                  |L20.1760|
0006e0  7820              LDRB     r0,[r4,#0]            ;1568
0006e2  2500              MOVS     r5,#0                 ;1568
0006e4  2800              CMP      r0,#0                 ;1568
0006e6  bf88              IT       HI                    ;1057
0006e8  f50d6690          ADDHI    r6,sp,#0x480          ;1057
0006ec  d943              BLS      |L20.1910|
                  |L20.1774|
0006ee  5770              LDRSB    r0,[r6,r5]            ;1571
0006f0  f1b03fff          CMP      r0,#0xffffffff        ;1571
0006f4  d03a              BEQ      |L20.1900|
0006f6  5d72              LDRB     r2,[r6,r5]            ;1573
0006f8  eb0401c5          ADD      r1,r4,r5,LSL #3       ;1574
0006fc  eb0403c2          ADD      r3,r4,r2,LSL #3       ;1574
000700  f8d10001          LDR      r0,[r1,#1]            ;1574
000704  f8c30122          STR      r0,[r3,#0x122]        ;1574
000708  f8d10005          LDR      r0,[r1,#5]            ;1574
00070c  f8c30126          STR      r0,[r3,#0x126]        ;1574
000710  eb040045          ADD      r0,r4,r5,LSL #1       ;1575
000714  eb040142          ADD      r1,r4,r2,LSL #1       ;1575
000718  f8b0c0a1          LDRH     r12,[r0,#0xa1]        ;1575
00071c  f8a1c186          STRH     r12,[r1,#0x186]       ;1575
000720  eb040782          ADD      r7,r4,r2,LSL #2       ;1577
000724  f8b0c081          LDRH     r12,[r0,#0x81]        ;1576
000728  eb040285          ADD      r2,r4,r5,LSL #2       ;1577
00072c  f8a1c172          STRH     r12,[r1,#0x172]       ;1576
000730  f8d220c1          LDR      r2,[r2,#0xc1]         ;1577
000734  f8c7219a          STR      r2,[r7,#0x19a]        ;1577
000738  f8b02101          LDRH     r2,[r0,#0x101]        ;1578
00073c  f8a121c2          STRH     r2,[r1,#0x1c2]        ;1578
000740  f8b00a7f          LDRH     r0,[r0,#0xa7f]        ;1580
000744  f8a10a7f          STRH     r0,[r1,#0xa7f]        ;1580
000748  f8d3267c          LDR      r2,[r3,#0x67c]        ;1582
00074c  f8d31122          LDR      r1,[r3,#0x122]        ;1582
000750  f8d3c680          LDR      r12,[r3,#0x680]       ;1582
000754  f8d30126          LDR      r0,[r3,#0x126]        ;1582
000758  1a51              SUBS     r1,r2,r1              ;1582
00075a  4349              MULS     r1,r1,r1              ;1582
00075c  ebac0000          SUB      r0,r12,r0             ;1582
000760  fb001000          MLA      r0,r0,r0,r1           ;1582
000764  f7fffffe          BL       algorithm_calc_sqrt
000768  f8c709b5          STR      r0,[r7,#0x9b5]        ;1582
                  |L20.1900|
00076c  1c68              ADDS     r0,r5,#1              ;1582
00076e  b2c5              UXTB     r5,r0                 ;1582
000770  7820              LDRB     r0,[r4,#0]            ;1582
000772  42a8              CMP      r0,r5                 ;1582
000774  d8bb              BHI      |L20.1774|
                  |L20.1910|
000776  2200              MOVS     r2,#0                 ;1589
000778  f0100fff          TST      r0,#0xff              ;1589
00077c  bf1c              ITT      NE                    ;1057
00077e  f50d6c90          ADDNE    r12,sp,#0x480         ;1057
000782  2500              MOVNE    r5,#0                 ;1057
000784  d022              BEQ      |L20.1996|
000786  bf00              NOP                            ;1592
                  |L20.1928|
000788  f91c0002          LDRSB    r0,[r12,r2]           ;1592
00078c  f1b03fff          CMP      r0,#0xffffffff        ;1592
000790  d117              BNE      |L20.1986|
000792  eb040342          ADD      r3,r4,r2,LSL #1       ;1592
000796  f8b300a1          LDRH     r0,[r3,#0xa1]         ;1592
00079a  2800              CMP      r0,#0                 ;1592
00079c  bf18              IT       NE                    ;1594
00079e  2000              MOVNE    r0,#0                 ;1594
0007a0  d00f              BEQ      |L20.1986|
0007a2  bf00              NOP                            ;1597
                  |L20.1956|
0007a4  eb040140          ADD      r1,r4,r0,LSL #1       ;1597
0007a8  f8b1637e          LDRH     r6,[r1,#0x37e]        ;1597
0007ac  2e00              CMP      r6,#0                 ;1597
0007ae  bf04              ITT      EQ                    ;1597
0007b0  f8b16186          LDRHEQ   r6,[r1,#0x186]        ;1597
0007b4  2e00              CMPEQ    r6,#0                 ;1597
0007b6  d050              BEQ      |L20.2138|
0007b8  f1000001          ADD      r0,r0,#1              ;1597
0007bc  b2c0              UXTB     r0,r0                 ;1609
0007be  280a              CMP      r0,#0xa               ;1609
0007c0  d3f0              BCC      |L20.1956|
                  |L20.1986|
0007c2  1c50              ADDS     r0,r2,#1              ;1609
0007c4  b2c2              UXTB     r2,r0                 ;1609
0007c6  7820              LDRB     r0,[r4,#0]            ;1609
0007c8  4282              CMP      r2,r0                 ;1609
0007ca  d3dd              BCC      |L20.1928|
                  |L20.1996|
0007cc  2100              MOVS     r1,#0                 ;1616
0007ce  f50d6090          ADD      r0,sp,#0x480          ;1616
0007d2  2210              MOVS     r2,#0x10              ;1616
0007d4  f60413a5          ADD      r3,r4,#0x9a5          ;1620
                  |L20.2008|
0007d8  f890c000          LDRB     r12,[r0,#0]           ;1619
0007dc  f1bc0f0a          CMP      r12,#0xa              ;1619
0007e0  bf38              IT       CC                    ;1620
0007e2  f80c1003          STRBCC   r1,[r12,r3]           ;1620
0007e6  1c40              ADDS     r0,r0,#1              ;1620
0007e8  1c49              ADDS     r1,r1,#1              ;1620
0007ea  1e52              SUBS     r2,r2,#1              ;1620
0007ec  f01202ff          ANDS     r2,r2,#0xff           ;1624
0007f0  d1f2              BNE      |L20.2008|
0007f2  f8940121          LDRB     r0,[r4,#0x121]        ;1626
0007f6  2509              MOVS     r5,#9                 ;1627
0007f8  f8df8190          LDR      r8,|L20.2444|
0007fc  f8840576          STRB     r0,[r4,#0x576]        ;1626
000800  f05f0700          MOVS.W   r7,#0                 ;1660
                  |L20.2052|
000804  eb0401c5          ADD      r1,r4,r5,LSL #3       ;1633
000808  eb040645          ADD      r6,r4,r5,LSL #1       ;1634
00080c  f8d10122          LDR      r0,[r1,#0x122]        ;1633
000810  f8c10577          STR      r0,[r1,#0x577]        ;1633
000814  f8d10126          LDR      r0,[r1,#0x126]        ;1633
000818  f8c1057b          STR      r0,[r1,#0x57b]        ;1633
00081c  f8b60172          LDRH     r0,[r6,#0x172]        ;1634
000820  f8a605c7          STRH     r0,[r6,#0x5c7]        ;1634
000824  f8b60186          LDRH     r0,[r6,#0x186]        ;1635
000828  f8a605db          STRH     r0,[r6,#0x5db]        ;1635
00082c  eb040085          ADD      r0,r4,r5,LSL #2       ;1636
000830  f8d0219a          LDR      r2,[r0,#0x19a]        ;1636
000834  f8c025ef          STR      r2,[r0,#0x5ef]        ;1636
000838  f8b60186          LDRH     r0,[r6,#0x186]        ;1638
00083c  2800              CMP      r0,#0                 ;1638
00083e  d07c              BEQ      |L20.2362|
000840  eb040905          ADD      r9,r4,r5              ;1640
000844  f899097d          LDRB     r0,[r9,#0x97d]        ;1640
000848  2805              CMP      r0,#5                 ;1640
00084a  bf3c              ITT      CC                    ;1640
00084c  1c40              ADDCC    r0,r0,#1              ;1640
00084e  f889097d          STRBCC   r0,[r9,#0x97d]        ;1642
000852  b2c0              UXTB     r0,r0                 ;1645
000854  2801              CMP      r0,#1                 ;1645
000856  d143              BNE      |L20.2272|
000858  e02a              B        |L20.2224|
                  |L20.2138|
00085a  eb0407c2          ADD      r7,r4,r2,LSL #3       ;1600
00085e  f80c0002          STRB     r0,[r12,r2]           ;1599
000862  eb0406c0          ADD      r6,r4,r0,LSL #3       ;1600
000866  f8d78001          LDR      r8,[r7,#1]            ;1600
00086a  f8c68122          STR      r8,[r6,#0x122]        ;1600
00086e  f8d77005          LDR      r7,[r7,#5]            ;1600
000872  f8c67126          STR      r7,[r6,#0x126]        ;1600
000876  eb040640          ADD      r6,r4,r0,LSL #1       ;1601
00087a  f8b370a1          LDRH     r7,[r3,#0xa1]         ;1601
00087e  f8a67186          STRH     r7,[r6,#0x186]        ;1601
000882  f8b36081          LDRH     r6,[r3,#0x81]         ;1602
000886  f8a16172          STRH     r6,[r1,#0x172]        ;1602
00088a  eb040682          ADD      r6,r4,r2,LSL #2       ;1603
00088e  eb040080          ADD      r0,r4,r0,LSL #2       ;1603
000892  f8d660c1          LDR      r6,[r6,#0xc1]         ;1603
000896  f8c0619a          STR      r6,[r0,#0x19a]        ;1603
00089a  f8b36101          LDRH     r6,[r3,#0x101]        ;1604
00089e  f8a161c2          STRH     r6,[r1,#0x1c2]        ;1604
0008a2  f8b33a7f          LDRH     r3,[r3,#0xa7f]        ;1606
0008a6  f8a13a7f          STRH     r3,[r1,#0xa7f]        ;1606
0008aa  f8c059b5          STR      r5,[r0,#0x9b5]        ;1608
0008ae  e788              B        |L20.1986|
                  |L20.2224|
0008b0  f8d10122          LDR      r0,[r1,#0x122]        ;1658
0008b4  f8c10227          STR      r0,[r1,#0x227]        ;1658
0008b8  f8d10126          LDR      r0,[r1,#0x126]        ;1658
0008bc  f8c1022b          STR      r0,[r1,#0x22b]        ;1658
0008c0  4833              LDR      r0,|L20.2448|
0008c2  f8897ac9          STRB     r7,[r9,#0xac9]        ;1659
0008c6  f8087005          STRB     r7,[r8,r5]            ;1660
0008ca  5547              STRB     r7,[r0,r5]            ;1661
0008cc  f8d10122          LDR      r0,[r1,#0x122]        ;1662
0008d0  f8c10a2f          STR      r0,[r1,#0xa2f]        ;1662
0008d4  f8d10126          LDR      r0,[r1,#0x126]        ;1662
0008d8  f8c10a33          STR      r0,[r1,#0xa33]        ;1662
0008dc  482a              LDR      r0,|L20.2440|
0008de  5547              STRB     r7,[r0,r5]            ;1663
                  |L20.2272|
0008e0  f8da200c          LDR      r2,[r10,#0xc]         ;1666  ; thisModeConf
0008e4  f9b20104          LDRSH    r0,[r2,#0x104]        ;1666
0008e8  2800              CMP      r0,#0                 ;1666
0008ea  dd5b              BLE      |L20.2468|
0008ec  f8183005          LDRB     r3,[r8,r5]            ;1668
0008f0  bb6b              CBNZ     r3,|L20.2382|
0008f2  f8da3010          LDR      r3,[r10,#0x10]        ;1671  ; thisInfo
0008f6  f8933fb2          LDRB     r3,[r3,#0xfb2]        ;1671
0008fa  b993              CBNZ     r3,|L20.2338|
0008fc  f8943121          LDRB     r3,[r4,#0x121]        ;1672
000900  2b01              CMP      r3,#1                 ;1672
000902  d010              BEQ      |L20.2342|
000904  2b02              CMP      r3,#2                 ;1673
000906  bf08              IT       EQ                    ;1673
000908  f9b20106          LDRSHEQ  r0,[r2,#0x106]        ;1673
00090c  d00b              BEQ      |L20.2342|
00090e  2b03              CMP      r3,#3                 ;1674
000910  bf08              IT       EQ                    ;1674
000912  f9b20108          LDRSHEQ  r0,[r2,#0x108]        ;1674
000916  d006              BEQ      |L20.2342|
000918  2b04              CMP      r3,#4                 ;1675
00091a  bf08              IT       EQ                    ;1675
00091c  f9b2010a          LDRSHEQ  r0,[r2,#0x10a]        ;1675
000920  d001              BEQ      |L20.2342|
                  |L20.2338|
000922  f9b2010c          LDRSH    r0,[r2,#0x10c]        ;1676
                  |L20.2342|
000926  f8b62172          LDRH     r2,[r6,#0x172]        ;1678
00092a  4282              CMP      r2,r0                 ;1678
00092c  db32              BLT      |L20.2452|
00092e  2001              MOVS     r0,#1                 ;1679
000930  f8080005          STRB     r0,[r8,r5]            ;1679
000934  f8d10122          LDR      r0,[r1,#0x122]        ;1680
000938  e000              B        |L20.2364|
                  |L20.2362|
00093a  e0b7              B        |L20.2732|
                  |L20.2364|
00093c  f8c10a2f          STR      r0,[r1,#0xa2f]        ;1680
000940  f8d10126          LDR      r0,[r1,#0x126]        ;1680
000944  f8c10a33          STR      r0,[r1,#0xa33]        ;1680
000948  f8180005          LDRB     r0,[r8,r5]            ;1684
00094c  b310              CBZ      r0,|L20.2452|
                  |L20.2382|
00094e  f8b60172          LDRH     r0,[r6,#0x172]        ;1687
000952  2800              CMP      r0,#0                 ;1687
000954  bf1c              ITT      NE                    ;1689
000956  f9990987          LDRSBNE  r0,[r9,#0x987]        ;1689
00095a  2805              CMPNE    r0,#5                 ;1689
00095c  bfbc              ITT      LT                    ;1689
00095e  1c40              ADDLT    r0,r0,#1              ;1689
000960  f8890987          STRBLT   r0,[r9,#0x987]        ;1690
                  |L20.2404|
000964  f601202f          ADD      r0,r1,#0xa2f          ;1698
000968  2100              MOVS     r1,#0                 ;1698
00096a  f7fffffe          BL       algorithm_coord_IsEdgeArea
00096e  2800              CMP      r0,#0                 ;1698
000970  f9990987          LDRSB    r0,[r9,#0x987]        ;1703
000974  f8da100c          LDR      r1,[r10,#0xc]         ;1698  ; thisModeConf
000978  dd0f              BLE      |L20.2458|
00097a  f891110f          LDRB     r1,[r1,#0x10f]        ;1699
00097e  4288              CMP      r0,r1                 ;1699
000980  dd78              BLE      |L20.2676|
000982  e090              B        |L20.2726|
                  |L20.2436|
                          DCD      ||.data||
                  |L20.2440|
                          DCD      ||area_number.27||+0x20
                  |L20.2444|
                          DCD      ||area_number.27||
                  |L20.2448|
                          DCD      ||area_number.27||+0x10
                  |L20.2452|
000994  f8a67172          STRH     r7,[r6,#0x172]        ;1685
000998  e7e4              B        |L20.2404|
                  |L20.2458|
00099a  f891110e          LDRB     r1,[r1,#0x10e]        ;1703
00099e  4288              CMP      r0,r1                 ;1703
0009a0  dc6a              BGT      |L20.2680|
0009a2  e079              B        |L20.2712|
                  |L20.2468|
0009a4  f8b6036a          LDRH     r0,[r6,#0x36a]        ;1709
0009a8  b1e0              CBZ      r0,|L20.2532|
0009aa  f9991987          LDRSB    r1,[r9,#0x987]        ;1713
0009ae  f8d200aa          LDR      r0,[r2,#0xaa]         ;1711
0009b2  2905              CMP      r1,#5                 ;1713
0009b4  bfbc              ITT      LT                    ;1713
0009b6  1c49              ADDLT    r1,r1,#1              ;1713
0009b8  f8891987          STRBLT   r1,[r9,#0x987]        ;1715
0009bc  f89210ae          LDRB     r1,[r2,#0xae]         ;1718
0009c0  b159              CBZ      r1,|L20.2522|
0009c2  f8942121          LDRB     r2,[r4,#0x121]        ;1718
0009c6  2a05              CMP      r2,#5                 ;1718
0009c8  d805              BHI      |L20.2518|
0009ca  f8da2010          LDR      r2,[r10,#0x10]        ;1718  ; thisInfo
0009ce  f8922fb2          LDRB     r2,[r2,#0xfb2]        ;1718
0009d2  2a01              CMP      r2,#1                 ;1718
0009d4  d101              BNE      |L20.2522|
                  |L20.2518|
0009d6  eba00051          SUB      r0,r0,r1,LSR #1       ;1718
                  |L20.2522|
0009da  f8b61172          LDRH     r1,[r6,#0x172]        ;1720
0009de  4281              CMP      r1,r0                 ;1720
0009e0  da61              BGE      |L20.2726|
0009e2  e05c              B        |L20.2718|
                  |L20.2532|
0009e4  f9b2b0a8          LDRSH    r11,[r2,#0xa8]        ;1728
0009e8  f89200ae          LDRB     r0,[r2,#0xae]         ;1730
0009ec  b158              CBZ      r0,|L20.2566|
0009ee  f8943121          LDRB     r3,[r4,#0x121]        ;1730
0009f2  2b05              CMP      r3,#5                 ;1730
0009f4  d805              BHI      |L20.2562|
0009f6  f8da3010          LDR      r3,[r10,#0x10]        ;1730  ; thisInfo
0009fa  f8933fb2          LDRB     r3,[r3,#0xfb2]        ;1730
0009fe  2b01              CMP      r3,#1                 ;1730
000a00  d101              BNE      |L20.2566|
                  |L20.2562|
000a02  ebab0b00          SUB      r11,r11,r0            ;1730
                  |L20.2566|
000a06  f8b60172          LDRH     r0,[r6,#0x172]        ;1732
000a0a  f8d230a2          LDR      r3,[r2,#0xa2]         ;1732
000a0e  4298              CMP      r0,r3                 ;1732
000a10  d345              BCC      |L20.2718|
000a12  f8b60186          LDRH     r0,[r6,#0x186]        ;1732
000a16  b370              CBZ      r0,|L20.2678|
000a18  2000              MOVS     r0,#0                 ;1734
000a1a  f8cd0420          STR      r0,[sp,#0x420]        ;1737
000a1e  f89220a7          LDRB     r2,[r2,#0xa7]         ;1737
000a22  b122              CBZ      r2,|L20.2606|
000a24  f2012027          ADD      r0,r1,#0x227          ;1738
000a28  2100              MOVS     r1,#0                 ;1738
000a2a  f7fffffe          BL       algorithm_coord_IsEdgeArea
                  |L20.2606|
000a2e  f9991987          LDRSB    r1,[r9,#0x987]        ;1743
000a32  2905              CMP      r1,#5                 ;1743
000a34  bfbc              ITT      LT                    ;1743
000a36  1c49              ADDLT    r1,r1,#1              ;1743
000a38  f8891987          STRBLT   r1,[r9,#0x987]        ;1745
000a3c  f8b611c2          LDRH     r1,[r6,#0x1c2]        ;1748
000a40  4559              CMP      r1,r11                ;1748
000a42  dd2c              BLE      |L20.2718|
000a44  f8da100c          LDR      r1,[r10,#0xc]         ;1750  ; thisModeConf
000a48  f8b62172          LDRH     r2,[r6,#0x172]        ;1750
000a4c  f8d13098          LDR      r3,[r1,#0x98]         ;1750
000a50  429a              CMP      r2,r3                 ;1750
000a52  d305              BCC      |L20.2656|
000a54  f891109c          LDRB     r1,[r1,#0x9c]         ;1753
000a58  4408              ADD      r0,r0,r1              ;1753
000a5a  f8cd0420          STR      r0,[sp,#0x420]        ;1753
000a5e  e015              B        |L20.2700|
                  |L20.2656|
000a60  f8d1309d          LDR      r3,[r1,#0x9d]         ;1755
000a64  429a              CMP      r2,r3                 ;1755
000a66  d308              BCC      |L20.2682|
000a68  f89110a1          LDRB     r1,[r1,#0xa1]         ;1758
000a6c  4408              ADD      r0,r0,r1              ;1758
000a6e  f8cd0420          STR      r0,[sp,#0x420]        ;1758
000a72  e00b              B        |L20.2700|
                  |L20.2676|
000a74  e010              B        |L20.2712|
                  |L20.2678|
000a76  e012              B        |L20.2718|
                  |L20.2680|
000a78  e015              B        |L20.2726|
                  |L20.2682|
000a7a  f8d130a2          LDR      r3,[r1,#0xa2]         ;1760
000a7e  429a              CMP      r2,r3                 ;1760
000a80  d304              BCC      |L20.2700|
000a82  f89110a6          LDRB     r1,[r1,#0xa6]         ;1763
000a86  4408              ADD      r0,r0,r1              ;1763
000a88  f8cd0420          STR      r0,[sp,#0x420]        ;1763
                  |L20.2700|
000a8c  f9991987          LDRSB    r1,[r9,#0x987]        ;1766
000a90  f8dd0420          LDR      r0,[sp,#0x420]        ;1766
000a94  4281              CMP      r1,r0                 ;1766
000a96  dc06              BGT      |L20.2726|
                  |L20.2712|
000a98  f8a67172          STRH     r7,[r6,#0x172]        ;1772
000a9c  e003              B        |L20.2726|
                  |L20.2718|
000a9e  f8a67172          STRH     r7,[r6,#0x172]        ;1777
000aa2  f8897987          STRB     r7,[r9,#0x987]        ;1778
                  |L20.2726|
000aa6  f8897a25          STRB     r7,[r9,#0xa25]        ;1789
000aaa  e006              B        |L20.2746|
                  |L20.2732|
000aac  1960              ADDS     r0,r4,r5              ;1822
000aae  f880797d          STRB     r7,[r0,#0x97d]        ;1822
000ab2  f8807987          STRB     r7,[r0,#0x987]        ;1823
000ab6  f8807a25          STRB     r7,[r0,#0xa25]        ;1824
                  |L20.2746|
000aba  1e69              SUBS     r1,r5,#1              ;1824
000abc  b2cd              UXTB     r5,r1                 ;1824
000abe  f4bfaea1          BCS      |L20.2052|
000ac2  f20d4d9c          ADD      sp,sp,#0x49c
000ac6  e8bd8ff0          POP      {r4-r11,pc}
                  |L20.2762|
000aca  2000              MOVS     r0,#0                 ;1447
000acc  e5b4              B        |L20.1592|
                  |L20.2766|
000ace  0850              LSRS     r0,r2,#1              ;1448
000ad0  e5b6              B        |L20.1600|
;;;1829   
                          ENDP


                          AREA ||i.algorithm_label_EdgeExpand_Finger||, CODE, READONLY, ALIGN=2

                  algorithm_label_EdgeExpand_Finger PROC
;;;3374   int max_d = 100;
;;;3375   void algorithm_label_EdgeExpand_Finger(int mode)
000000  e92d4ff0          PUSH     {r4-r11,lr}
;;;3376   {
000004  b08d              SUB      sp,sp,#0x34
;;;3377       uint8_t rLabel_val;
;;;3378   	int l, c, r, apply_r, apply_c, search_r = -1, search_c = -1, search_c1,search_r1, tmp, edge_sum = 0;
;;;3379   	uint16_t offset_r = 0, offset_c = 0, scale_r = 0, scale_c = 0;
000006  2000              MOVS     r0,#0
000008  9005              STR      r0,[sp,#0x14]
00000a  9004              STR      r0,[sp,#0x10]
00000c  9003              STR      r0,[sp,#0xc]
;;;3380   	int32_t _d,_d1,_d2;	
;;;3381   	tLabelInfo_t	*temp_label = &thisInfo->tLabel;
00000e  9002              STR      r0,[sp,#8]
000010  48d7              LDR      r0,|L21.880|
000012  6900              LDR      r0,[r0,#0x10]  ; thisInfo
000014  3039              ADDS     r0,r0,#0x39
;;;3382   	
;;;3383   	for(l=temp_label->ucNum;l--;)
000016  9001              STR      r0,[sp,#4]
000018  7800              LDRB     r0,[r0,#0]
00001a  1e41              SUBS     r1,r0,#1
00001c  9100              STR      r1,[sp,#0]            ;3376
00001e  f0c0818e          BCC.W    |L21.830|
;;;3384   	{
;;;3385   		if( temp_label->tTable[l].ulStrength )
;;;3386   		{
;;;3387   			search_r = -1, search_c = -1;
;;;3388   			if(temp_label->tTable[l].tMaxCell.r <= 1){
;;;3389   				search_r = 0, search_r1 = 1, apply_r = -1;
;;;3390   				offset_r = thisModeConf->Coord.usTopEdgeExpand_Offset;
;;;3391   				scale_r  = thisModeConf->Coord.usTopEdgeExpand_Scale;
;;;3392   			}
;;;3393   
;;;3394   			if(temp_label->tTable[l].tMaxCell.r >= ROW_MAX-2){
;;;3395   				search_r = ROW_MAX-1, search_r1 = ROW_MAX-2, apply_r = ROW_MAX;
;;;3396   				offset_r = thisModeConf->Coord.usBottomEdgeExpand_Offset;
;;;3397   				scale_r	 = thisModeConf->Coord.usBottomEdgeExpand_Scale;
;;;3398   			}
;;;3399   
;;;3400   			if(temp_label->tTable[l].tMaxCell.c <= 1){
;;;3401   				search_c = 0, search_c1 = 1, apply_c = -1;
;;;3402   				offset_c = thisModeConf->Coord.usLeftEdgeExpand_Offset;
;;;3403   				scale_c  = thisModeConf->Coord.usLeftEdgeExpand_Scale;
;;;3404   			}
;;;3405   
;;;3406   			if(temp_label->tTable[l].tMaxCell.c >= COL_MAX-2){
;;;3407   				search_c = COL_MAX-1, search_c1 = COL_MAX-2, apply_c = COL_MAX;
;;;3408   				offset_c = thisModeConf->Coord.usRightEdgeExpand_Offset;
000022  48d3              LDR      r0,|L21.880|
000024  68c1              LDR      r1,[r0,#0xc]  ; thisModeConf
000026  f8dd0000          LDR.W    r0,[sp,#0]            ;3385
00002a  9106              STR      r1,[sp,#0x18]         ;3385
                  |L21.44|
00002c  ebc001c0          RSB      r1,r0,r0,LSL #3       ;3385
000030  eb011140          ADD      r1,r1,r0,LSL #5       ;3385
000034  9801              LDR      r0,[sp,#4]            ;3385
000036  4408              ADD      r0,r0,r1              ;3385
000038  6941              LDR      r1,[r0,#0x14]         ;3385
00003a  2900              CMP      r1,#0                 ;3385
00003c  f000817a          BEQ.W    |L21.820|
000040  f04f34ff          MOV      r4,#0xffffffff        ;3387
000044  9407              STR      r4,[sp,#0x1c]         ;3388
000046  f990100b          LDRSB    r1,[r0,#0xb]          ;3388
00004a  2901              CMP      r1,#1                 ;3388
00004c  dc0c              BGT      |L21.104|
00004e  2201              MOVS     r2,#1                 ;3389
000050  2400              MOVS     r4,#0                 ;3389
000052  920b              STR      r2,[sp,#0x2c]         ;3389
000054  1e92              SUBS     r2,r2,#2              ;3389
000056  920a              STR      r2,[sp,#0x28]         ;3389
000058  9a06              LDR      r2,[sp,#0x18]         ;3390
00005a  f8b220cb          LDRH     r2,[r2,#0xcb]         ;3390
00005e  9205              STR      r2,[sp,#0x14]         ;3390
000060  9a06              LDR      r2,[sp,#0x18]         ;3391
000062  f8b220d3          LDRH     r2,[r2,#0xd3]         ;3391
000066  9203              STR      r2,[sp,#0xc]          ;3391
                  |L21.104|
000068  292b              CMP      r1,#0x2b              ;3394
00006a  db0c              BLT      |L21.134|
00006c  212b              MOVS     r1,#0x2b              ;3395
00006e  242c              MOVS     r4,#0x2c              ;3395
000070  910b              STR      r1,[sp,#0x2c]         ;3395
000072  212d              MOVS     r1,#0x2d              ;3395
000074  910a              STR      r1,[sp,#0x28]         ;3395
000076  9906              LDR      r1,[sp,#0x18]         ;3396
000078  f8b110cd          LDRH     r1,[r1,#0xcd]         ;3396
00007c  9105              STR      r1,[sp,#0x14]         ;3396
00007e  9906              LDR      r1,[sp,#0x18]         ;3397
000080  f8b110d5          LDRH     r1,[r1,#0xd5]         ;3397
000084  9103              STR      r1,[sp,#0xc]          ;3397
                  |L21.134|
000086  f990100a          LDRSB    r1,[r0,#0xa]          ;3400
00008a  2901              CMP      r1,#1                 ;3400
00008c  dc0d              BGT      |L21.170|
00008e  2200              MOVS     r2,#0                 ;3401
000090  9207              STR      r2,[sp,#0x1c]         ;3401
000092  2201              MOVS     r2,#1                 ;3401
000094  9209              STR      r2,[sp,#0x24]         ;3401
000096  1e92              SUBS     r2,r2,#2              ;3401
000098  9208              STR      r2,[sp,#0x20]         ;3401
00009a  9a06              LDR      r2,[sp,#0x18]         ;3402
00009c  f8b220c7          LDRH     r2,[r2,#0xc7]         ;3402
0000a0  9204              STR      r2,[sp,#0x10]         ;3402
0000a2  9a06              LDR      r2,[sp,#0x18]         ;3403
0000a4  f8b220cf          LDRH     r2,[r2,#0xcf]         ;3403
0000a8  9202              STR      r2,[sp,#8]            ;3403
                  |L21.170|
0000aa  294e              CMP      r1,#0x4e              ;3406
0000ac  db0d              BLT      |L21.202|
0000ae  214f              MOVS     r1,#0x4f              ;3407
0000b0  9107              STR      r1,[sp,#0x1c]         ;3407
0000b2  214e              MOVS     r1,#0x4e              ;3407
0000b4  9109              STR      r1,[sp,#0x24]         ;3407
0000b6  2150              MOVS     r1,#0x50              ;3407
0000b8  9108              STR      r1,[sp,#0x20]         ;3407
0000ba  9906              LDR      r1,[sp,#0x18]
0000bc  f8b110c9          LDRH     r1,[r1,#0xc9]
0000c0  9104              STR      r1,[sp,#0x10]
;;;3409   				scale_c  = thisModeConf->Coord.usRightEdgeExpand_Scale;
0000c2  9906              LDR      r1,[sp,#0x18]
0000c4  f8b110d1          LDRH     r1,[r1,#0xd1]
0000c8  9102              STR      r1,[sp,#8]
                  |L21.202|
;;;3410   			}
;;;3411   			
;;;3412   			if(search_r != -1)													//Top, bottom edge
0000ca  f1b43fff          CMP      r4,#0xffffffff
0000ce  d07d              BEQ      |L21.460|
;;;3413   			{
;;;3414   				_d =_d1 =_d2 = 0;
;;;3415   				
;;;3416   				if(!(offset_r==0 && scale_r==0))
0000d0  9a05              LDR      r2,[sp,#0x14]
0000d2  9903              LDR      r1,[sp,#0xc]
0000d4  4311              ORRS     r1,r1,r2
0000d6  d079              BEQ      |L21.460|
;;;3417   				{
;;;3418   					edge_sum = 0;
0000d8  e9dd2100          LDRD     r2,r1,[sp,#0]
;;;3419   					for(c = temp_label->tValidRect[l].cs; c <= temp_label->tValidRect[l].ce; c++)
0000dc  eb010182          ADD      r1,r1,r2,LSL #2
0000e0  f04f0800          MOV      r8,#0                 ;3418
0000e4  f9915274          LDRSB    r5,[r1,#0x274]
0000e8  f9911275          LDRSB    r1,[r1,#0x275]
0000ec  eba10905          SUB      r9,r1,r5
0000f0  f1090601          ADD      r6,r9,#1
0000f4  2e00              CMP      r6,#0
0000f6  dd21              BLE      |L21.316|
0000f8  eb0401c4          ADD      r1,r4,r4,LSL #3
0000fc  eb011244          ADD      r2,r1,r4,LSL #5
000100  4b9c              LDR      r3,|L21.884|
000102  f24e7147          MOV      r1,#0xe747
000106  eb030c42          ADD      r12,r3,r2,LSL #1
00010a  44ac              ADD      r12,r12,r5
00010c  eb030382          ADD      r3,r3,r2,LSL #2
000110  4461              ADD      r1,r1,r12
000112  eb030345          ADD      r3,r3,r5,LSL #1
000116  f64c127e          MOV      r2,#0xc97e
00011a  f8ddc000          LDR      r12,[sp,#0]           ;3378
00011e  441a              ADD      r2,r2,r3
000120  4633              MOV      r3,r6
000122  f10c0c01          ADD      r12,r12,#1            ;3378
;;;3420   					{
;;;3421   						if(HAL_READ_LABEL_IMAGE(search_r, c) == l+1){
000126  bf00              NOP      
                  |L21.296|
000128  f8117b01          LDRB     r7,[r1],#1
00012c  4567              CMP      r7,r12
;;;3422   							edge_sum += HAL_READ_DELTA_IMAGE(search_r, c);
00012e  bf04              ITT      EQ
000130  f9b27000          LDRSHEQ  r7,[r2,#0]
000134  44b8              ADDEQ    r8,r8,r7
000136  1c92              ADDS     r2,r2,#2
000138  1e5b              SUBS     r3,r3,#1
00013a  d1f5              BNE      |L21.296|
                  |L21.316|
;;;3423   						}
;;;3424   					}
;;;3425   					
;;;3426   					for(c = temp_label->tValidRect[l].cs; c <= temp_label->tValidRect[l].ce; c++)	//Column
00013c  950c              STR      r5,[sp,#0x30]
00013e  2e00              CMP      r6,#0
000140  dd62              BLE      |L21.520|
000142  eb0401c4          ADD      r1,r4,r4,LSL #3
000146  eb011244          ADD      r2,r1,r4,LSL #5
00014a  498a              LDR      r1,|L21.884|
00014c  f24e7347          MOV      r3,#0xe747
000150  eb010c42          ADD      r12,r1,r2,LSL #1
000154  44ac              ADD      r12,r12,r5
000156  eb0c0403          ADD      r4,r12,r3
00015a  eb010382          ADD      r3,r1,r2,LSL #2
00015e  eb030245          ADD      r2,r3,r5,LSL #1
000162  f64c137e          MOV      r3,#0xc97e
000166  18d7              ADDS     r7,r2,r3
000168  9a0b              LDR      r2,[sp,#0x2c]
00016a  f1090a01          ADD      r10,r9,#1
00016e  eb020cc2          ADD      r12,r2,r2,LSL #3
000172  eb0c1242          ADD      r2,r12,r2,LSL #5
000176  eb010282          ADD      r2,r1,r2,LSL #2
00017a  eb020145          ADD      r1,r2,r5,LSL #1
00017e  18ce              ADDS     r6,r1,r3
000180  9900              LDR      r1,[sp,#0]            ;3383
000182  f8dfc1ec          LDR      r12,|L21.880|
000186  2500              MOVS     r5,#0
000188  f1010b01          ADD      r11,r1,#1             ;3383
                  |L21.396|
;;;3427   					{
;;;3428   						rLabel_val = HAL_READ_LABEL_IMAGE(search_r, c);
;;;3429   						
;;;3430   						if(rLabel_val == l+1)
00018c  f8141b01          LDRB     r1,[r4],#1
000190  4559              CMP      r1,r11
000192  d133              BNE      |L21.508|
;;;3431   						{
;;;3432   							_d2 = 0;
;;;3433   							{
;;;3434   								_d = HAL_READ_DELTA_IMAGE(search_r, c);
;;;3435   								_d1 = HAL_READ_DELTA_IMAGE(search_r1, c);
000194  f9b61000          LDRSH    r1,[r6,#0]
000198  2200              MOVS     r2,#0                 ;3432
00019a  f9b73000          LDRSH    r3,[r7,#0]            ;3434
;;;3436   							}
;;;3437   							
;;;3438   							if(_d1 < 0)	_d1 = 0;
00019e  2900              CMP      r1,#0
0001a0  f2c080db          BLT.W    |L21.858|
                  |L21.420|
;;;3439   							if(max_d < _d + _d1)	max_d = _d + _d1;
0001a4  f8dce018          LDR      lr,[r12,#0x18]  ; max_d
0001a8  eb030901          ADD      r9,r3,r1
0001ac  45f1              CMP      r9,lr
0001ae  f30080d6          BGT.W    |L21.862|
                  |L21.434|
;;;3440   							
;;;3441   							if(_d > _d1)
0001b2  428b              CMP      r3,r1
0001b4  dd14              BLE      |L21.480|
;;;3442   							{
;;;3443   								tmp = max_d - (_d + _d1);
0001b6  f8dc2018          LDR      r2,[r12,#0x18]  ; max_d
0001ba  eba20209          SUB      r2,r2,r9
;;;3444   								if(tmp < 0)	tmp = 0;
;;;3445   								
;;;3446   								_d2 = tmp * _d * (_d - _d1) / (edge_sum * (_d + _d1));
0001be  2a00              CMP      r2,#0
0001c0  bfd8              IT       LE
0001c2  2200              MOVLE    r2,#0
0001c4  435a              MULS     r2,r3,r2
0001c6  1a59              SUBS     r1,r3,r1
0001c8  4351              MULS     r1,r2,r1
0001ca  e000              B        |L21.462|
                  |L21.460|
0001cc  e01c              B        |L21.520|
                  |L21.462|
0001ce  fb09f208          MUL      r2,r9,r8
0001d2  fb91f1f2          SDIV     r1,r1,r2
;;;3447   								_d2 = ((_d2 * scale_r)>>7) - offset_r;
0001d6  9a03              LDR      r2,[sp,#0xc]
0001d8  434a              MULS     r2,r1,r2
0001da  9905              LDR      r1,[sp,#0x14]
0001dc  ebc112e2          RSB      r2,r1,r2,ASR #7
                  |L21.480|
;;;3448   							}
;;;3449   							
;;;3450   							temp_label->tTable[l].tCoord.x	+= c * _d2;
0001e0  990c              LDR      r1,[sp,#0x30]
0001e2  68c3              LDR      r3,[r0,#0xc]
0001e4  4429              ADD      r1,r1,r5
0001e6  fb013102          MLA      r1,r1,r2,r3
0001ea  60c1              STR      r1,[r0,#0xc]
;;;3451   							temp_label->tTable[l].tCoord.y	+= apply_r * _d2;
0001ec  6903              LDR      r3,[r0,#0x10]
0001ee  990a              LDR      r1,[sp,#0x28]
0001f0  fb013102          MLA      r1,r1,r2,r3
0001f4  6101              STR      r1,[r0,#0x10]
;;;3452   							temp_label->tTable[l].ulExtStrength += _d2;
0001f6  6981              LDR      r1,[r0,#0x18]
0001f8  4411              ADD      r1,r1,r2
0001fa  6181              STR      r1,[r0,#0x18]
                  |L21.508|
0001fc  1c6d              ADDS     r5,r5,#1
0001fe  1cb6              ADDS     r6,r6,#2
000200  1cbf              ADDS     r7,r7,#2
000202  f1ba0a01          SUBS     r10,r10,#1
;;;3453   						}
;;;3454   					}
000206  d1c1              BNE      |L21.396|
                  |L21.520|
;;;3455   				}
;;;3456   			}
;;;3457   			
;;;3458   			if(search_c != -1)													//Left, right edge
000208  9907              LDR      r1,[sp,#0x1c]
00020a  f1b13fff          CMP      r1,#0xffffffff
00020e  d07d              BEQ      |L21.780|
;;;3459   			{
;;;3460   				_d =_d1 =_d2 = 0;
;;;3461   				
;;;3462   				if(!(offset_c==0 && scale_c==0))
000210  9a02              LDR      r2,[sp,#8]
000212  9904              LDR      r1,[sp,#0x10]
000214  4311              ORRS     r1,r1,r2
000216  d079              BEQ      |L21.780|
;;;3463   				{
;;;3464   					edge_sum = 0;
000218  e9dd2100          LDRD     r2,r1,[sp,#0]
;;;3465   					for(r = temp_label->tValidRect[l].rs; r <= temp_label->tValidRect[l].re; r++)
00021c  eb010182          ADD      r1,r1,r2,LSL #2
000220  f04f0800          MOV      r8,#0                 ;3464
000224  f9914272          LDRSB    r4,[r1,#0x272]
000228  f9911273          LDRSB    r1,[r1,#0x273]
00022c  eba10c04          SUB      r12,r1,r4
000230  f10c0501          ADD      r5,r12,#1
000234  2d00              CMP      r5,#0
000236  dd1e              BLE      |L21.630|
000238  eb0402c4          ADD      r2,r4,r4,LSL #3
00023c  4b4d              LDR      r3,|L21.884|
00023e  eb021244          ADD      r2,r2,r4,LSL #5
000242  eb030642          ADD      r6,r3,r2,LSL #1
000246  eb030382          ADD      r3,r3,r2,LSL #2
00024a  9a07              LDR      r2,[sp,#0x1c]
00024c  9907              LDR      r1,[sp,#0x1c]
00024e  eb030342          ADD      r3,r3,r2,LSL #1
000252  440e              ADD      r6,r6,r1
000254  f64c127e          MOV      r2,#0xc97e
000258  f24e7147          MOV      r1,#0xe747
00025c  441a              ADD      r2,r2,r3
00025e  4431              ADD      r1,r1,r6
000260  462b              MOV      r3,r5
                  |L21.610|
;;;3466   					{
;;;3467   						if(HAL_READ_LABEL_IMAGE(r, search_c) != 0){
000262  780e              LDRB     r6,[r1,#0]
000264  2e00              CMP      r6,#0
;;;3468   							edge_sum += HAL_READ_DELTA_IMAGE(r, search_c);
000266  bf1c              ITT      NE
000268  f9b26000          LDRSHNE  r6,[r2,#0]
00026c  44b0              ADDNE    r8,r8,r6
00026e  3152              ADDS     r1,r1,#0x52
000270  32a4              ADDS     r2,r2,#0xa4
000272  1e5b              SUBS     r3,r3,#1
000274  d1f5              BNE      |L21.610|
                  |L21.630|
;;;3469   						}
;;;3470   					}
;;;3471   					
;;;3472   					for(r = temp_label->tValidRect[l].rs; r <= temp_label->tValidRect[l].re; r++)	//Row
000276  940c              STR      r4,[sp,#0x30]
000278  2d00              CMP      r5,#0
00027a  dd5b              BLE      |L21.820|
00027c  eb0402c4          ADD      r2,r4,r4,LSL #3
000280  493c              LDR      r1,|L21.884|
000282  eb021244          ADD      r2,r2,r4,LSL #5
000286  eb010442          ADD      r4,r1,r2,LSL #1
00028a  9b07              LDR      r3,[sp,#0x1c]
00028c  eb010182          ADD      r1,r1,r2,LSL #2
000290  441c              ADD      r4,r4,r3
000292  f24e7347          MOV      r3,#0xe747
000296  9a07              LDR      r2,[sp,#0x1c]
000298  441c              ADD      r4,r4,r3
00029a  eb010342          ADD      r3,r1,r2,LSL #1
00029e  f64c127e          MOV      r2,#0xc97e
0002a2  189f              ADDS     r7,r3,r2
0002a4  9b09              LDR      r3,[sp,#0x24]
0002a6  f10c0a01          ADD      r10,r12,#1
0002aa  eb010143          ADD      r1,r1,r3,LSL #1
0002ae  188e              ADDS     r6,r1,r2
0002b0  9900              LDR      r1,[sp,#0]            ;3383
0002b2  f8dfc0bc          LDR      r12,|L21.880|
0002b6  2500              MOVS     r5,#0
0002b8  f1010b01          ADD      r11,r1,#1             ;3383
                  |L21.700|
;;;3473   					{
;;;3474   						rLabel_val = HAL_READ_LABEL_IMAGE(r, search_c);
;;;3475   						
;;;3476   						if(rLabel_val == l+1)
0002bc  7821              LDRB     r1,[r4,#0]
0002be  4559              CMP      r1,r11
0002c0  d131              BNE      |L21.806|
;;;3477   						{
;;;3478   							_d2 = 0;
;;;3479   							{
;;;3480   								_d = HAL_READ_DELTA_IMAGE(r, search_c);
;;;3481   								_d1 = HAL_READ_DELTA_IMAGE(r, search_c1);
0002c2  f9b61000          LDRSH    r1,[r6,#0]
0002c6  2200              MOVS     r2,#0                 ;3478
0002c8  f9b73000          LDRSH    r3,[r7,#0]            ;3480
;;;3482   							}
;;;3483   							
;;;3484   							if(_d1 < 0)	_d1 = 0;
0002cc  2900              CMP      r1,#0
0002ce  db49              BLT      |L21.868|
                  |L21.720|
;;;3485   							if(max_d < _d + _d1)	max_d = _d + _d1;
0002d0  f8dce018          LDR      lr,[r12,#0x18]  ; max_d
0002d4  eb030901          ADD      r9,r3,r1
0002d8  45f1              CMP      r9,lr
0002da  dc45              BGT      |L21.872|
                  |L21.732|
;;;3486   							
;;;3487   							if(_d > _d1)
0002dc  428b              CMP      r3,r1
0002de  dd12              BLE      |L21.774|
;;;3488   							{
;;;3489   								tmp = max_d - (_d + _d1);
0002e0  f8dc2018          LDR      r2,[r12,#0x18]  ; max_d
0002e4  eba20209          SUB      r2,r2,r9
;;;3490   								if(tmp < 0)	tmp = 0;
;;;3491   								
;;;3492   								_d2 = tmp * _d * (_d - _d1) / (edge_sum * (_d + _d1));
0002e8  2a00              CMP      r2,#0
0002ea  bfd8              IT       LE
0002ec  2200              MOVLE    r2,#0
0002ee  435a              MULS     r2,r3,r2
0002f0  1a59              SUBS     r1,r3,r1
0002f2  4351              MULS     r1,r2,r1
0002f4  fb09f208          MUL      r2,r9,r8
0002f8  fb91f1f2          SDIV     r1,r1,r2
;;;3493   								_d2 = ((_d2 * scale_c)>>7) - offset_c;
0002fc  9a02              LDR      r2,[sp,#8]
0002fe  434a              MULS     r2,r1,r2
000300  9904              LDR      r1,[sp,#0x10]
000302  ebc112e2          RSB      r2,r1,r2,ASR #7
                  |L21.774|
;;;3494   							}
;;;3495   
;;;3496   							temp_label->tTable[l].tCoord.x	+= apply_c * _d2;
000306  68c3              LDR      r3,[r0,#0xc]
000308  9908              LDR      r1,[sp,#0x20]
00030a  e000              B        |L21.782|
                  |L21.780|
00030c  e012              B        |L21.820|
                  |L21.782|
00030e  fb013102          MLA      r1,r1,r2,r3
000312  60c1              STR      r1,[r0,#0xc]
;;;3497   							temp_label->tTable[l].tCoord.y	+= r *_d2;
000314  990c              LDR      r1,[sp,#0x30]
000316  6903              LDR      r3,[r0,#0x10]
000318  4429              ADD      r1,r1,r5
00031a  fb013102          MLA      r1,r1,r2,r3
00031e  6101              STR      r1,[r0,#0x10]
;;;3498   							temp_label->tTable[l].ulExtStrength += _d2;
000320  6981              LDR      r1,[r0,#0x18]
000322  4411              ADD      r1,r1,r2
000324  6181              STR      r1,[r0,#0x18]
                  |L21.806|
000326  3452              ADDS     r4,r4,#0x52
000328  1c6d              ADDS     r5,r5,#1
00032a  36a4              ADDS     r6,r6,#0xa4
00032c  37a4              ADDS     r7,r7,#0xa4
00032e  f1ba0a01          SUBS     r10,r10,#1
;;;3499   						}
;;;3500   					}
000332  d1c3              BNE      |L21.700|
                  |L21.820|
000334  9800              LDR      r0,[sp,#0]
000336  1e40              SUBS     r0,r0,#1
000338  9000              STR      r0,[sp,#0]
00033a  f4bfae77          BCS      |L21.44|
                  |L21.830|
;;;3501   				}
;;;3502   			}
;;;3503   		}	
;;;3504   	}
;;;3505   	
;;;3506   	if(temp_label->ucValidNum == 0)
00033e  9801              LDR      r0,[sp,#4]
000340  f8900271          LDRB     r0,[r0,#0x271]
000344  2800              CMP      r0,#0
;;;3507   	{
;;;3508   		max_d = 100;
;;;3509   	}
;;;3510   }
000346  bf1c              ITT      NE
000348  b00d              ADDNE    sp,sp,#0x34
00034a  e8bd8ff0          POPNE    {r4-r11,pc}
00034e  2164              MOVS     r1,#0x64              ;3508
000350  4807              LDR      r0,|L21.880|
000352  6181              STR      r1,[r0,#0x18]         ;3508  ; max_d
000354  b00d              ADD      sp,sp,#0x34
000356  e8bd8ff0          POP      {r4-r11,pc}
                  |L21.858|
00035a  2100              MOVS     r1,#0                 ;3438
00035c  e722              B        |L21.420|
                  |L21.862|
00035e  f8cc9018          STR      r9,[r12,#0x18]        ;3439  ; max_d
000362  e726              B        |L21.434|
                  |L21.868|
000364  2100              MOVS     r1,#0                 ;3484
000366  e7b3              B        |L21.720|
                  |L21.872|
000368  f8cc9018          STR      r9,[r12,#0x18]        ;3485  ; max_d
00036c  e7b6              B        |L21.732|
;;;3511   
                          ENDP

00036e  0000              DCW      0x0000
                  |L21.880|
                          DCD      ||.data||
                  |L21.884|
                          DCD      FullSharedBuff

                          AREA ||i.algorithm_width_height_calculation||, CODE, READONLY, ALIGN=2

                  algorithm_width_height_calculation PROC
;;;2673   
;;;2674   void algorithm_width_height_calculation(int cl)
000000  4a1f              LDR      r2,|L22.128|
;;;2675   {
000002  b410              PUSH     {r4}
;;;2676   	tCoordInfo_t 	*temp_coord;
;;;2677   	tRect_t *temp_rect;
;;;2678   	int iWidth, iHeight;
;;;2679   	
;;;2680   	temp_coord = &thisInfo->tCoord;
000004  6911              LDR      r1,[r2,#0x10]  ; thisInfo
000006  f5017357          ADD      r3,r1,#0x35c
;;;2681   	temp_rect = &temp_coord->tPos.rect[cl];
00000a  eb030180          ADD      r1,r3,r0,LSL #2
;;;2682   	
;;;2683   	iWidth  = ((temp_rect->ce - temp_rect->cs + 1) * thisCommonConf->iXResolution + (COL_MAX>>1)) / COL_MAX;
00000e  f991c19d          LDRSB    r12,[r1,#0x19d]
000012  f991419c          LDRSB    r4,[r1,#0x19c]
000016  ebac0c04          SUB      r12,r12,r4
00001a  f10c0401          ADD      r4,r12,#1
00001e  f8d2c008          LDR      r12,[r2,#8]  ; thisCommonConf
000022  f8dc2000          LDR      r2,[r12,#0]
;;;2684   	iHeight = ((temp_rect->re - temp_rect->rs + 1) * thisCommonConf->iYResolution + (ROW_MAX>>1)) / ROW_MAX;
000026  f8dcc004          LDR      r12,[r12,#4]
00002a  4362              MULS     r2,r4,r2              ;2683
00002c  4c15              LDR      r4,|L22.132|
00002e  3228              ADDS     r2,r2,#0x28           ;2683
000030  fb844202          SMULL    r4,r2,r4,r2           ;2683
000034  1154              ASRS     r4,r2,#5              ;2683
000036  ebb472e2          SUBS     r2,r4,r2,ASR #31      ;2683
00003a  f991419b          LDRSB    r4,[r1,#0x19b]
00003e  f991119a          LDRSB    r1,[r1,#0x19a]
000042  eba40101          SUB      r1,r4,r1
000046  f1010101          ADD      r1,r1,#1
00004a  fb01f10c          MUL      r1,r1,r12
00004e  4c0e              LDR      r4,|L22.136|
000050  f04f0c00          MOV      r12,#0
000054  f1010116          ADD      r1,r1,#0x16
000058  fbc4c101          SMLAL    r12,r1,r4,r1
00005c  ea4f1c61          ASR      r12,r1,#5
000060  ebac71e1          SUB      r1,r12,r1,ASR #31
;;;2685   	temp_coord->tPos.vusW[cl] = (iWidth < 0 ? 0 : iWidth);
000064  bf48              IT       MI
000066  2200              MOVMI    r2,#0
000068  eb030040          ADD      r0,r3,r0,LSL #1
;;;2686   	temp_coord->tPos.vusH[cl] = (iHeight < 0 ? 0 : iHeight);
00006c  2900              CMP      r1,#0
00006e  f8a021d6          STRH     r2,[r0,#0x1d6]        ;2685
000072  bfb8              IT       LT
000074  2100              MOVLT    r1,#0
000076  f8a011ea          STRH     r1,[r0,#0x1ea]
;;;2687   	
;;;2688   	return;
;;;2689   }
00007a  bc10              POP      {r4}
00007c  4770              BX       lr
;;;2690   
                          ENDP

00007e  0000              DCW      0x0000
                  |L22.128|
                          DCD      ||.data||
                  |L22.132|
                          DCD      0x66666667
                  |L22.136|
                          DCD      0xb60b60b7

                          AREA ||i.alogorithm_coord_modify_pos||, CODE, READONLY, ALIGN=2

                  alogorithm_coord_modify_pos PROC
;;;2691   #define ExpectClipping_Finger_Margin	200
;;;2692   void alogorithm_coord_modify_pos(tXY_t* old_pos,tXY_t* pos)
000000  e92d07f0          PUSH     {r4-r10}
;;;2693   {
;;;2694   	int x, y; 
;;;2695   //	int ucXCompensationGain = 10;//24; // NOTE : not used
;;;2696   
;;;2697   	if( thisModeConf->Coord.bSwapXY )
000004  4d7b              LDR      r5,|L23.500|
;;;2698   	{
;;;2699   		x = pos->y;
000006  684c              LDR      r4,[r1,#4]
;;;2700   		y = pos->x;
000008  680b              LDR      r3,[r1,#0]
00000a  f8d5c00c          LDR      r12,[r5,#0xc]         ;2697  ; thisModeConf
00000e  f89c2113          LDRB     r2,[r12,#0x113]       ;2697
000012  2a00              CMP      r2,#0                 ;2697
000014  bf12              ITEE     NE                    ;2697
000016  4622              MOVNE    r2,r4                 ;2697
000018  461a              MOVEQ    r2,r3                 ;2697
00001a  4623              MOVEQ    r3,r4                 ;2697
;;;2701   	}
;;;2702   	else
;;;2703   	{
;;;2704   		x = pos->x;
;;;2705   		y = pos->y;
;;;2706   	}
;;;2707   
;;;2708   	if( thisModeConf->Coord.bFlipX )
00001c  f89c4114          LDRB     r4,[r12,#0x114]
000020  4e74              LDR      r6,|L23.500|
000022  2c00              CMP      r4,#0
;;;2709   		x = thisInfo->tCoord.iInternalXRes - x;
000024  6937              LDR      r7,[r6,#0x10]
000026  f8d76d4b          LDR      r6,[r7,#0xd4b]
00002a  bf18              IT       NE
00002c  1ab2              SUBNE    r2,r6,r2
;;;2710   
;;;2711   	/*
;;;2712   	 * Expand edge position.
;;;2713   	 *  -    expand.
;;;2714   	 *  -  full sized edge      3/2 point expand,
;;;2715   	 *  -    expand offset 1/2  unit distance expand .
;;;2716   	 */
;;;2717   //	if( 1)
;;;2718   	{
;;;2719   		if (!thisModeConf->Coord.bDoNotExpandPos)
00002e  f89c4115          LDRB     r4,[r12,#0x115]
000032  f8df81c0          LDR      r8,|L23.500|
000036  f8d88010          LDR      r8,[r8,#0x10]         ;2709
;;;2720   		{
;;;2721   			if (x < thisInfo->tCoord.iXExpandStart)
;;;2722   				x = thisInfo->tCoord.iXExpandStart + (((x - thisInfo->tCoord.iXExpandStart) * (int32_t)thisModeConf->Coord.ucLeftEdgeExpand) >> 6);
;;;2723   			else if (thisInfo->tCoord.iInternalXRes - x < thisInfo->tCoord.iXExpandStart)
;;;2724   				x = thisInfo->tCoord.iInternalXRes - (thisInfo->tCoord.iXExpandStart
;;;2725   									 + (((thisInfo->tCoord.iInternalXRes - x - thisInfo->tCoord.iXExpandStart) * (int32_t)thisModeConf->Coord.ucRightEdgeExpand) >> 6));
;;;2726   
;;;2727   			if (y < thisInfo->tCoord.iYExpandStart)
;;;2728   				y = thisInfo->tCoord.iYExpandStart + (((y - thisInfo->tCoord.iYExpandStart) * (int32_t)thisModeConf->Coord.ucTopEdgeExpand) >> 6);
;;;2729   			else if (thisInfo->tCoord.iInternalYRes - y < thisInfo->tCoord.iYExpandStart)
00003a  f8d88d4f          LDR      r8,[r8,#0xd4f]
00003e  bb1c              CBNZ     r4,|L23.136|
000040  f8d74d53          LDR      r4,[r7,#0xd53]        ;2721
000044  4294              CMP      r4,r2                 ;2721
000046  dd07              BLE      |L23.88|
000048  f89c90c3          LDRB     r9,[r12,#0xc3]        ;2722
00004c  1b12              SUBS     r2,r2,r4              ;2722
00004e  fb02f209          MUL      r2,r2,r9              ;2722
000052  eb0412a2          ADD      r2,r4,r2,ASR #6       ;2722
000056  e00c              B        |L23.114|
                  |L23.88|
000058  eba60902          SUB      r9,r6,r2              ;2723
00005c  45a1              CMP      r9,r4                 ;2723
00005e  da08              BGE      |L23.114|
000060  eba90204          SUB      r2,r9,r4              ;2724
000064  f89c90c4          LDRB     r9,[r12,#0xc4]        ;2724
000068  fb02f209          MUL      r2,r2,r9              ;2724
00006c  eb0412a2          ADD      r2,r4,r2,ASR #6       ;2724
000070  1ab2              SUBS     r2,r6,r2              ;2724
                  |L23.114|
000072  f8d74d57          LDR      r4,[r7,#0xd57]        ;2727
000076  429c              CMP      r4,r3                 ;2727
000078  dd07              BLE      |L23.138|
00007a  f89c90c5          LDRB     r9,[r12,#0xc5]        ;2728
00007e  1b1b              SUBS     r3,r3,r4              ;2728
000080  fb03f309          MUL      r3,r3,r9              ;2728
000084  eb0413a3          ADD      r3,r4,r3,ASR #6       ;2728
                  |L23.136|
000088  e00d              B        |L23.166|
                  |L23.138|
00008a  eba80903          SUB      r9,r8,r3
00008e  45a1              CMP      r9,r4
000090  da09              BGE      |L23.166|
;;;2730   				y = thisInfo->tCoord.iInternalYRes - (thisInfo->tCoord.iYExpandStart
000092  eba90304          SUB      r3,r9,r4
000096  f89c90c6          LDRB     r9,[r12,#0xc6]
00009a  fb03f309          MUL      r3,r3,r9
00009e  eb0413a3          ADD      r3,r4,r3,ASR #6
0000a2  eba80303          SUB      r3,r8,r3
                  |L23.166|
;;;2731   									 + (((thisInfo->tCoord.iInternalYRes - y - thisInfo->tCoord.iYExpandStart) * (int32_t)thisModeConf->Coord.ucBottomEdgeExpand) >> 6));
;;;2732   		}
;;;2733   	}
;;;2734   
;;;2735   	/*
;;;2736   	 * Modify resolution domain.
;;;2737   	 */
;;;2738   	x = ( (x + thisInfo->tCoord.iXOffset ) * (thisCommonConf->iXResolution+thisModeConf->Coord.sFingerGlobalCoordiXResolutionOffset) ) / (thisInfo->tCoord.iInternalXRes + 2*thisInfo->tCoord.iXOffset);
0000a6  68ac              LDR      r4,[r5,#8]  ; thisCommonConf
0000a8  f9bc90bb          LDRSH    r9,[r12,#0xbb]
0000ac  6825              LDR      r5,[r4,#0]
0000ae  eb050a09          ADD      r10,r5,r9
0000b2  f8d79d43          LDR      r9,[r7,#0xd43]
;;;2739   	y = ( (y + thisInfo->tCoord.iYOffset ) * (thisCommonConf->iYResolution+thisModeConf->Coord.sFingerGlobalCoordiYResolutionOffset) ) / (thisInfo->tCoord.iInternalYRes + 2*thisInfo->tCoord.iYOffset);
0000b6  f8d77d47          LDR      r7,[r7,#0xd47]
0000ba  444a              ADD      r2,r2,r9              ;2738
0000bc  eb060649          ADD      r6,r6,r9,LSL #1       ;2738
0000c0  fb0af202          MUL      r2,r10,r2             ;2738
0000c4  fb92f2f6          SDIV     r2,r2,r6              ;2738
0000c8  6866              LDR      r6,[r4,#4]
0000ca  f9bc90bd          LDRSH    r9,[r12,#0xbd]
0000ce  443b              ADD      r3,r3,r7
0000d0  44b1              ADD      r9,r9,r6
0000d2  fb09f303          MUL      r3,r9,r3
0000d6  eb080747          ADD      r7,r8,r7,LSL #1
0000da  fb93f3f7          SDIV     r3,r3,r7
;;;2740   	x += thisModeConf->Coord.sFingerGlobalCoordiOffsetX;
0000de  f9bc70bf          LDRSH    r7,[r12,#0xbf]
;;;2741   	y += thisModeConf->Coord.sFingerGlobalCoordiOffsetY;
;;;2742   	/*
;;;2743   	 * Clipping.
;;;2744   	 */
;;;2745   	int iXResolutionForClipping = thisCommonConf->iXResolution - 1;
;;;2746   	int iYResolutionForClipping = thisCommonConf->iYResolution - 1;
;;;2747   //	if(iXResolutionForClipping > 32767)iXResolutionForClipping = 32767;
;;;2748   //	if(iYResolutionForClipping > 32767)iYResolutionForClipping = 32767;
;;;2749   	if(thisModeConf->Coord.ucExpectClipping_Finger_On)
0000e2  1e76              SUBS     r6,r6,#1
0000e4  443a              ADD      r2,r2,r7              ;2740
0000e6  f9bc70c1          LDRSH    r7,[r12,#0xc1]        ;2741
0000ea  f89cc0b7          LDRB     r12,[r12,#0xb7]
0000ee  443b              ADD      r3,r3,r7              ;2741
0000f0  1e6f              SUBS     r7,r5,#1              ;2745
0000f2  f1bc0f00          CMP      r12,#0
0000f6  d067              BEQ      |L23.456|
;;;2750   	{
;;;2751   		pos->x = x,	pos->y = y;
0000f8  600a              STR      r2,[r1,#0]
0000fa  604b              STR      r3,[r1,#4]
;;;2752   		if (x < (int)thisCommonConf->ucXClipping){	//LEFT
0000fc  7e25              LDRB     r5,[r4,#0x18]
0000fe  4694              MOV      r12,r2                ;2751
000100  42aa              CMP      r2,r5
000102  da16              BGE      |L23.306|
000104  462a              MOV      r2,r5
;;;2753   			x = (int)(thisCommonConf->ucXClipping);
;;;2754   			if( old_pos != pos && pos->x < (thisCommonConf->ucXClipping) && old_pos->x > (thisCommonConf->ucXClipping) )
000106  4288              CMP      r0,r1
000108  bf18              IT       NE
00010a  45ac              CMPNE    r12,r5
00010c  bfbc              ITT      LT
00010e  f8d08000          LDRLT    r8,[r0,#0]
000112  4545              CMPLT    r5,r8
000114  da19              BGE      |L23.330|
                  |L23.278|
;;;2755   				y = ( (x - old_pos->x)*(pos->y - old_pos->y) + ((pos->x - old_pos->x)>>1) ) / (pos->x - old_pos->x) + old_pos->y;
000116  6845              LDR      r5,[r0,#4]
000118  eba20908          SUB      r9,r2,r8
00011c  1b5b              SUBS     r3,r3,r5
00011e  fb03f909          MUL      r9,r3,r9
000122  ebac0308          SUB      r3,r12,r8
000126  eb090c63          ADD      r12,r9,r3,ASR #1
00012a  fb9cf3f3          SDIV     r3,r12,r3
00012e  442b              ADD      r3,r3,r5
000130  e00b              B        |L23.330|
                  |L23.306|
;;;2756   			pos->x = x,	pos->y = y;
;;;2757   		}
;;;2758   		else if (x > ((int)((iXResolutionForClipping) - thisCommonConf->ucXClipping))){	//RIGHT
000132  1b7d              SUBS     r5,r7,r5
000134  42aa              CMP      r2,r5
000136  dd0a              BLE      |L23.334|
000138  462a              MOV      r2,r5
;;;2759   			x = (iXResolutionForClipping) - thisCommonConf->ucXClipping;
;;;2760   			if( old_pos != pos && pos->x > ((int)((iXResolutionForClipping) - (thisCommonConf->ucXClipping))) && old_pos->x < ((int)((iXResolutionForClipping) - (thisCommonConf->ucXClipping)))  )
00013a  4288              CMP      r0,r1
00013c  bf18              IT       NE
00013e  45ac              CMPNE    r12,r5
000140  bfc4              ITT      GT
000142  f8d08000          LDRGT    r8,[r0,#0]
000146  4542              CMPGT    r2,r8
000148  dce5              BGT      |L23.278|
                  |L23.330|
;;;2761   				y = ( (x - old_pos->x)*(pos->y - old_pos->y) + ((pos->x - old_pos->x)>>1) ) / (pos->x - old_pos->x) + old_pos->y;
;;;2762   			pos->x = x,	pos->y = y;
00014a  600a              STR      r2,[r1,#0]
00014c  604b              STR      r3,[r1,#4]
                  |L23.334|
;;;2763   		}
;;;2764   		if (y < (int)(thisCommonConf->ucYClipping)){	//UP
00014e  f894c019          LDRB     r12,[r4,#0x19]
000152  4563              CMP      r3,r12
000154  da1a              BGE      |L23.396|
000156  4663              MOV      r3,r12
;;;2765   			y = (int)thisCommonConf->ucYClipping;
;;;2766   			if( old_pos != pos && pos->y < (thisCommonConf->ucYClipping) && old_pos->y > (thisCommonConf->ucYClipping) )
000158  4288              CMP      r0,r1
00015a  bf1c              ITT      NE
00015c  f8d18004          LDRNE    r8,[r1,#4]
000160  45e0              CMPNE    r8,r12
000162  bfbc              ITT      LT
000164  6845              LDRLT    r5,[r0,#4]
000166  45ac              CMPLT    r12,r5
000168  da2c              BGE      |L23.452|
;;;2767   				x = ( (y - old_pos->y)*(pos->x - old_pos->x) + ((pos->y - old_pos->y)>>1) ) / (pos->y - old_pos->y) + old_pos->x;
00016a  f8d1c000          LDR      r12,[r1,#0]
00016e  6802              LDR      r2,[r0,#0]
000170  ebac0002          SUB      r0,r12,r2
000174  eba30c05          SUB      r12,r3,r5
000178  fb00fc0c          MUL      r12,r0,r12
00017c  eba80005          SUB      r0,r8,r5
000180  eb0c0c60          ADD      r12,r12,r0,ASR #1
000184  fb9cf0f0          SDIV     r0,r12,r0
000188  4402              ADD      r2,r2,r0
00018a  e01b              B        |L23.452|
                  |L23.396|
;;;2768   			pos->x = x,	pos->y = y;
;;;2769   		}
;;;2770   		else if (y > (int)((iYResolutionForClipping) - thisCommonConf->ucYClipping)){	//DOWN
00018c  eba60c0c          SUB      r12,r6,r12
000190  4563              CMP      r3,r12
000192  dd19              BLE      |L23.456|
000194  4663              MOV      r3,r12
;;;2771   			y = (int)((iYResolutionForClipping) - thisCommonConf->ucYClipping);
;;;2772   			if( old_pos != pos && pos->y > ((int)((iYResolutionForClipping) - (thisCommonConf->ucYClipping))) && old_pos->y < ((int)((iYResolutionForClipping) - (thisCommonConf->ucYClipping))) )
000196  4288              CMP      r0,r1
000198  bf1c              ITT      NE
00019a  f8d18004          LDRNE    r8,[r1,#4]
00019e  45e0              CMPNE    r8,r12
0001a0  bfc4              ITT      GT
0001a2  6845              LDRGT    r5,[r0,#4]
0001a4  42ab              CMPGT    r3,r5
0001a6  dd0d              BLE      |L23.452|
;;;2773   				x = ( (y - old_pos->y)*(pos->x - old_pos->x) + ((pos->y - old_pos->y)>>1) ) / (pos->y - old_pos->y) + old_pos->x;
0001a8  680a              LDR      r2,[r1,#0]
0001aa  6800              LDR      r0,[r0,#0]
0001ac  eba30c05          SUB      r12,r3,r5
0001b0  1a12              SUBS     r2,r2,r0
0001b2  fb02fc0c          MUL      r12,r2,r12
0001b6  eba80205          SUB      r2,r8,r5
0001ba  eb0c0c62          ADD      r12,r12,r2,ASR #1
0001be  fb9cf2f2          SDIV     r2,r12,r2
0001c2  4402              ADD      r2,r2,r0
                  |L23.452|
;;;2774   			pos->x = x,	pos->y = y;
0001c4  600a              STR      r2,[r1,#0]
0001c6  604b              STR      r3,[r1,#4]
                  |L23.456|
;;;2775   		}
;;;2776   	}
;;;2777   //	else
;;;2778   	{
;;;2779   		if (x < (int)thisCommonConf->ucXClipping)
0001c8  7e20              LDRB     r0,[r4,#0x18]
0001ca  4290              CMP      r0,r2
0001cc  dc02              BGT      |L23.468|
;;;2780   			x = (int)(thisCommonConf->ucXClipping);
;;;2781   		else if (x > ((int)((iXResolutionForClipping) - thisCommonConf->ucXClipping)))
0001ce  1a38              SUBS     r0,r7,r0
0001d0  4290              CMP      r0,r2
0001d2  da00              BGE      |L23.470|
                  |L23.468|
;;;2782   			x = (iXResolutionForClipping) - thisCommonConf->ucXClipping;
0001d4  4602              MOV      r2,r0
                  |L23.470|
;;;2783   
;;;2784   		if (y < (int)(thisCommonConf->ucYClipping))
0001d6  7e60              LDRB     r0,[r4,#0x19]
0001d8  4298              CMP      r0,r3
;;;2785   			y = (int)thisCommonConf->ucYClipping;
;;;2786   		else if (y > (int)((iYResolutionForClipping) - thisCommonConf->ucYClipping))
;;;2787   			y = (int)((iYResolutionForClipping) - thisCommonConf->ucYClipping);
0001da  bfd6              ITET     LE
0001dc  eba60c00          SUBLE    r12,r6,r0
0001e0  4603              MOVGT    r3,r0                 ;2785
0001e2  459c              CMPLE    r12,r3
0001e4  bfb8              IT       LT
0001e6  1a33              SUBLT    r3,r6,r0
;;;2788   	}
;;;2789   	
;;;2790   	pos->x = x;
0001e8  600a              STR      r2,[r1,#0]
;;;2791   	pos->y = y;
0001ea  604b              STR      r3,[r1,#4]
;;;2792   }
0001ec  e8bd07f0          POP      {r4-r10}
0001f0  4770              BX       lr
;;;2793   
                          ENDP

0001f2  0000              DCW      0x0000
                  |L23.500|
                          DCD      ||.data||

                          AREA ||i.meanInterpolate||, CODE, READONLY, ALIGN=2

                  meanInterpolate PROC
;;;1829   
;;;1830   tXY_t meanInterpolate(tXY_t *p, int start, int num)
000000  b4f0              PUSH     {r4-r7}
;;;1831   {
;;;1832   	int i;
;;;1833   	int sum_x, sum_y;
;;;1834   	tXY_t result;
;;;1835   
;;;1836   	sum_x = sum_y = 0;
000002  2400              MOVS     r4,#0
000004  4625              MOV      r5,r4
;;;1837   
;;;1838   	for( i=start; i<start+num; i++)
;;;1839   	{
;;;1840   		sum_x += p[i].x;
;;;1841   		sum_y += p[i].y;
;;;1842   	}
000006  2b00              CMP      r3,#0
000008  bfd8              IT       LE
00000a  f04f0c00          MOVLE    r12,#0
00000e  dd06              BLE      |L24.30|
000010  f0130c01          ANDS     r12,r3,#1
000014  d003              BEQ      |L24.30|
000016  eb0104c2          ADD      r4,r1,r2,LSL #3       ;1840
00001a  6825              LDR      r5,[r4,#0]            ;1840
00001c  6864              LDR      r4,[r4,#4]            ;1841
                  |L24.30|
00001e  4494              ADD      r12,r12,r2            ;1838
000020  18d6              ADDS     r6,r2,r3              ;1838
000022  4566              CMP      r6,r12                ;1838
000024  dd0e              BLE      |L24.68|
000026  bf00              NOP                            ;1840
                  |L24.40|
000028  eb0102cc          ADD      r2,r1,r12,LSL #3      ;1840
00002c  f10c0c02          ADD      r12,r12,#2            ;1841
000030  6817              LDR      r7,[r2,#0]            ;1840
000032  4566              CMP      r6,r12                ;1841
000034  443d              ADD      r5,r5,r7              ;1840
000036  6857              LDR      r7,[r2,#4]            ;1841
000038  443c              ADD      r4,r4,r7              ;1841
00003a  6897              LDR      r7,[r2,#8]            ;1840
00003c  68d2              LDR      r2,[r2,#0xc]          ;1841
00003e  443d              ADD      r5,r5,r7              ;1840
000040  4414              ADD      r4,r4,r2              ;1841
000042  dcf1              BGT      |L24.40|
                  |L24.68|
;;;1843   
;;;1844   	result.x = sum_x / num;
000044  fb95f1f3          SDIV     r1,r5,r3
;;;1845   	result.y = sum_y / num;
000048  fb94f2f3          SDIV     r2,r4,r3
;;;1846   
;;;1847   	return result;
00004c  6001              STR      r1,[r0,#0]
00004e  6042              STR      r2,[r0,#4]
;;;1848   }
000050  bcf0              POP      {r4-r7}
000052  4770              BX       lr
;;;1849   
                          ENDP


                          AREA ||.bss||, DATA, NOINIT, ALIGN=1

                  Gradient
                          %        44

                          AREA ||area_number.27||, DATA, NOINIT, ALIGN=0

                          EXPORTAS ||area_number.27||, ||.bss||
                  FirstTouchEnable
                          %        16
                  ProjectionEnable
                          %        16
                  DrumStep
                          %        16
                  TouchNumHisto
                          %        10
                  gReleaseCnt
                          %        10

                          AREA ||area_number.28||, DATA, NOINIT, ALIGN=0

                          EXPORTAS ||area_number.28||, ||.bss||
                  tPastPosHist
                          %        152

                          AREA ||.data||, DATA, ALIGN=2

                  FixTouchNum
000000  00                DCB      0x00
                  PrevMaxTouchNum
000001  00                DCB      0x00
                  fixed_touchnum
000002  0000              DCB      0x00,0x00
                  AddDistTh
000004  0000              DCW      0x0000
                  WrongSeparationCnt
000006  0000              DCW      0x0000
                  thisCommonConf
                          DCD      0x00000000
                  thisModeConf
                          DCD      0x00000000
                  thisInfo
                          DCD      0x00000000
                  ptAppInfo
                          DCD      0x00000000
                  max_d
                          DCD      0x00000064
                  maintain_touchnum_cnt
                          DCD      0x00000000

                          AREA ||area_number.31||, DATA, ALIGN=0

                          EXPORTAS ||area_number.31||, ||.data||
                  |symbol_number.220|
000000  00                DCB      0x00

;*** Start embedded assembler ***

#line 1 "..\\..\\App\\Algorithm\\Coord\\algorithm_coord.c"
	AREA ||.rev16_text||, CODE
	THUMB
	EXPORT |__asm___17_algorithm_coord_c_Gradient____REV16|
#line 388 "..\\..\\Hal\\system\\CMSIS\\cmsis_armcc.h"
|__asm___17_algorithm_coord_c_Gradient____REV16| PROC
#line 389

 rev16 r0, r0
 bx lr
	ENDP
	AREA ||.revsh_text||, CODE
	THUMB
	EXPORT |__asm___17_algorithm_coord_c_Gradient____REVSH|
#line 402
|__asm___17_algorithm_coord_c_Gradient____REVSH| PROC
#line 403

 revsh r0, r0
 bx lr
	ENDP
	AREA ||.rrx_text||, CODE
	THUMB
	EXPORT |__asm___17_algorithm_coord_c_Gradient____RRX|
#line 587
|__asm___17_algorithm_coord_c_Gradient____RRX| PROC
#line 588

 rrx r0, r0
 bx lr
	ENDP

;*** End   embedded assembler ***
