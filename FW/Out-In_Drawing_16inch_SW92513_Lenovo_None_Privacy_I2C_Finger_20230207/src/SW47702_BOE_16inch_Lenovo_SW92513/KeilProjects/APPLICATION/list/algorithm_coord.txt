; generated by Component: ARM Compiler 5.06 update 4 (build 422) Tool: ArmCC [4d3604]
; commandline ArmCC [--c99 --list --split_sections --debug -c --asm --interleave -o.\bin\algorithm_coord.o --asm_dir=.\list\ --list_dir=.\list\ --depend=.\bin\algorithm_coord.d --cpu=Cortex-M3 --apcs=interwork -O3 -Otime --diag_suppress=9931 -I..\..\App -I..\..\App\Algorithm -I..\..\App\Algorithm\Baseline -I..\..\App\Algorithm\Coord -I..\..\App\Algorithm\Label -I..\..\App\Algorithm\Noise -I..\..\Env -I..\..\Hal -I..\..\Hal\system -I..\..\Hal\system\CMSIS -I..\..\Hal\gpio -I..\..\Hal\i2c -I..\..\Hal\pwmdrv -I..\..\Hal\timer -I..\..\Hal\wdgt -I..\..\Hal\spi -I..\..\Hal\dspA -I..\..\Hal\dspB -I..\..\Hal\scrb -I..\..\Hal\usb -I..\..\Hal\usb\FWOTG210_F000 -I..\..\Hal\usb\FWOTG210_F000\OTG_peripheral -I..\..\Hal\usb\FWOTG210_F000\OTG_peripheral_Config -I..\..\Hal\gdma -I..\..\Hal\flitf -I..\..\Module -I..\..\Module\SRIC -I..\..\Protocol -I..\..\Tool_BinCvt\BinToolApp\src -I..\..\Boot -I..\..\Parameter -I..\..\Hal\dbgserial -I..\..\Hal\tlvds -I..\..\Tuning_process -I.\RTE\_MFTP_FPGA -IC:\Keil_v5\ARM\PACK\ARM\CMSIS\5.0.1\Device\ARM\ARMCM3\Include -IC:\Keil_v5\ARM\CMSIS\Include -D__UVISION_VERSION=523 -DARMCM3 -D_USE_APP_80K_ --wchar32 --omf_browse=.\bin\algorithm_coord.crf ..\..\App\Algorithm\Coord\algorithm_coord.c]
                          THUMB

                          AREA ||i.Ransac_Init||, CODE, READONLY, ALIGN=2

                  Ransac_Init PROC
;;;107    
;;;108    void Ransac_Init(int i){	//Heon
000000  ebc002c0          RSB      r2,r0,r0,LSL #3
;;;109    	Ransac[i].count = 0;
000004  eb021200          ADD      r2,r2,r0,LSL #4
000008  4807              LDR      r0,|L1.40|
00000a  2100              MOVS     r1,#0
00000c  eb0000c2          ADD      r0,r0,r2,LSL #3
;;;110    	Ransac[i].maxInlier = 0;
000010  6501              STR      r1,[r0,#0x50]
;;;111    	Ransac[i].sumInlier = 0;
000012  f8c0108c          STR      r1,[r0,#0x8c]
;;;112    	Ransac[i].ProjectionVector.x = 0, Ransac[i].ProjectionVector.y = 0;
000016  f8c01088          STR      r1,[r0,#0x88]
00001a  6541              STR      r1,[r0,#0x54]
;;;113    	Ransac[i].distSumMin = RANSAC_DISTSUM_MAX;
00001c  6581              STR      r1,[r0,#0x58]
00001e  f24c3150          MOV      r1,#0xc350
000022  f8c010a4          STR      r1,[r0,#0xa4]
;;;114    }
000026  4770              BX       lr
;;;115    void algorithm_Ransac(int i, tXY_t t)	//Heon
                          ENDP

                  |L1.40|
                          DCD      ||area_number.28||+0xc0

                          AREA ||i.algorithm_Ransac||, CODE, READONLY, ALIGN=2

                  algorithm_Ransac PROC
;;;114    }
;;;115    void algorithm_Ransac(int i, tXY_t t)	//Heon
000000  e92d4ff0          PUSH     {r4-r11,lr}
;;;116    {
000004  460d              MOV      r5,r1
;;;117    	if(algorithm_coord_calc_distance(t,Ransac[i].Pos[0]) > RANSAC_SAVEDIST){	// save with a certain distance
000006  ebc001c0          RSB      r1,r0,r0,LSL #3
00000a  eb011100          ADD      r1,r1,r0,LSL #4
00000e  4877              LDR      r0,|L2.492|
000010  b085              SUB      sp,sp,#0x14           ;116
000012  eb0004c1          ADD      r4,r0,r1,LSL #3
000016  4616              MOV      r6,r2                 ;116
000018  e9d41000          LDRD     r1,r0,[r4,#0]
00001c  1a69              SUBS     r1,r5,r1
00001e  4349              MULS     r1,r1,r1
000020  1a10              SUBS     r0,r2,r0
000022  fb001000          MLA      r0,r0,r0,r1
000026  f7fffffe          BL       algorithm_calc_sqrt
00002a  2819              CMP      r0,#0x19
;;;118    
;;;119    		if(Ransac[i].count < RANSAC_DATASET_MAX){	//number of used buffers for Ransac[i] , Max = RANSAC_DATASET_MAX
;;;120    			Ransac[i].count++;
;;;121    		}
;;;122    				
;;;123    		Ransac[i].distSumMin = RANSAC_DISTSUM_MAX;
;;;124    		for(int k=0; k < RANSAC_DATASET_MAX; k++){		// init distSum
;;;125    			Ransac[i].distSum[k] = 0;
;;;126    		}
;;;127    		for(int k = RANSAC_DATASET_MAX-1; k > 0; k--){		// buffer shift
;;;128    			Ransac[i].Pos[k] = Ransac[i].Pos[k-1];
;;;129    		}
;;;130    		Ransac[i].Pos[0] = t;	// input coordinates
;;;131    		
;;;132    		//data sampling
;;;133    		for(int j = 0; j < RANSAC_DATASET_MAX; j++){		//ex.(9,0),(8,1),(7,2),(6,3),(5,4)
;;;134    			if((Ransac[i].count-j-1) <= j){		//to avoid duplicate combinations
;;;135    				break;
;;;136    			}
;;;137    			Ransac[i].saveXY1 = Ransac[i].Pos[Ransac[i].count-j-1];
;;;138    			Ransac[i].saveXY2 = Ransac[i].Pos[j];
;;;139    			
;;;140    			Ransac[i].PrevVector.x = Ransac[i].saveXY2.x - Ransac[i].saveXY1.x;
;;;141    			Ransac[i].PrevVector.y = Ransac[i].saveXY2.y - Ransac[i].saveXY1.y;
;;;142    			
;;;143    			for(int k=0; k < Ransac[i].count; k++){	//Calculate the distance between the straight line and the remaining points
;;;144    				if(k!=(Ransac[i].count-j-1) && k!= j){		//Skip coordinates used for the straight line
;;;145    					Ransac[i].CurrVector.x = Ransac[i].Pos[k].x - Ransac[i].saveXY1.x;
;;;146    					Ransac[i].CurrVector.y = Ransac[i].Pos[k].y - Ransac[i].saveXY1.y;
;;;147    				
;;;148    					//ProjectionVector
;;;149    					Ransac[i].ProjectionVector.x = (int)(Ransac[i].PrevVector.x * (int64_t)(Ransac[i].PrevVector.x*Ransac[i].CurrVector.x + Ransac[i].PrevVector.y*Ransac[i].CurrVector.y) / (Ransac[i].PrevVector.x*Ransac[i].PrevVector.x+Ransac[i].PrevVector.y*Ransac[i].PrevVector.y));
;;;150    					Ransac[i].ProjectionVector.y = (int)(Ransac[i].PrevVector.y * (int64_t)(Ransac[i].PrevVector.x*Ransac[i].CurrVector.x + Ransac[i].PrevVector.y*Ransac[i].CurrVector.y) / (Ransac[i].PrevVector.x*Ransac[i].PrevVector.x+Ransac[i].PrevVector.y*Ransac[i].PrevVector.y));
;;;151    					
;;;152    					//Projection
;;;153    					Ransac[i].PredPos.x = Ransac[i].saveXY1.x + Ransac[i].ProjectionVector.x;
;;;154    					Ransac[i].PredPos.y = Ransac[i].saveXY1.y + Ransac[i].ProjectionVector.y;
;;;155    					
;;;156    					//distance between a point and a straight line
;;;157    					Ransac[i].distance = algorithm_coord_calc_distance(Ransac[i].Pos[k],Ransac[i].PredPos);
;;;158    					Ransac[i].distSum[j] += Ransac[i].distance;		//distance sum, Inlier의 갯수가 같을 때 사용
;;;159    					if(Ransac[i].distance <= RANSAC_THRESHOLD){
;;;160    						Ransac[i].sumInlier++;
;;;161    					}
;;;162    				}
;;;163    			}
;;;164    			if(Ransac[i].sumInlier > Ransac[i].maxInlier){	//Return coordinates of maximum inliers
;;;165    				Ransac[i].distSumMin = Ransac[i].distSum[j];
;;;166    				Ransac[i].maxInlier = Ransac[i].sumInlier;
;;;167    				Ransac[i].resultXY1 = Ransac[i].Pos[Ransac[i].count-j-1];
;;;168    				Ransac[i].resultXY2 = Ransac[i].Pos[j];
;;;169    
;;;170    			}else if(Ransac[i].sumInlier == Ransac[i].maxInlier){
;;;171    				if(Ransac[i].distSum[j] < Ransac[i].distSumMin){		//Returns the coordinates with the largest sum of distances
;;;172    					Ransac[i].distSumMin = Ransac[i].distSum[j];
;;;173    					Ransac[i].resultXY1 = Ransac[i].Pos[Ransac[i].count-j-1];
;;;174    					Ransac[i].resultXY2 = Ransac[i].Pos[j];
;;;175    				}
;;;176    			}
;;;177    			Ransac[i].sumInlier = 0;
;;;178    		}
;;;179    		//return most accurate vector to create a prediction vector
;;;180    		//Ransac[i].resultXY1, Ransac[i].resultXY2 
;;;181    		Ransac[i].maxInlier = 0;
;;;182    	}
;;;183    }
00002c  bfdc              ITT      LE
00002e  b005              ADDLE    sp,sp,#0x14
000030  e8bd8ff0          POPLE    {r4-r11,pc}
000034  6d20              LDR      r0,[r4,#0x50]         ;119
000036  280a              CMP      r0,#0xa               ;119
000038  bfbc              ITT      LT                    ;119
00003a  1c40              ADDLT    r0,r0,#1              ;119
00003c  6520              STRLT    r0,[r4,#0x50]         ;120
00003e  2200              MOVS     r2,#0                 ;124
000040  f8c42090          STR      r2,[r4,#0x90]         ;124
000044  f8c42094          STR      r2,[r4,#0x94]         ;124
000048  f8c42098          STR      r2,[r4,#0x98]         ;124
00004c  f8c4209c          STR      r2,[r4,#0x9c]         ;124
000050  f8c420a0          STR      r2,[r4,#0xa0]         ;124
000054  f8c420a4          STR      r2,[r4,#0xa4]         ;124
000058  f8c420a8          STR      r2,[r4,#0xa8]         ;124
00005c  f8c420ac          STR      r2,[r4,#0xac]         ;124
000060  f8c420b0          STR      r2,[r4,#0xb0]         ;124
000064  4610              MOV      r0,r2                 ;127
000066  2309              MOVS     r3,#9                 ;127
000068  f8c420b4          STR      r2,[r4,#0xb4]         ;127
                  |L2.108|
00006c  eb040cc0          ADD      r12,r4,r0,LSL #3      ;128
000070  1e40              SUBS     r0,r0,#1              ;128
000072  e9dc1710          LDRD     r1,r7,[r12,#0x40]     ;128
000076  e9cc1712          STRD     r1,r7,[r12,#0x48]     ;128
00007a  1e5b              SUBS     r3,r3,#1              ;128
00007c  d1f6              BNE      |L2.108|
00007e  e9c45600          STRD     r5,r6,[r4,#0]         ;129
000082  2500              MOVS     r5,#0                 ;133
                  |L2.132|
000084  6d20              LDR      r0,[r4,#0x50]         ;134
000086  1b41              SUBS     r1,r0,r5              ;134
000088  1e4a              SUBS     r2,r1,#1              ;134
00008a  42aa              CMP      r2,r5                 ;134
00008c  dd7e              BLE      |L2.396|
00008e  eb0401c1          ADD      r1,r4,r1,LSL #3       ;137
000092  2600              MOVS     r6,#0                 ;143
000094  e9513202          LDRD     r3,r2,[r1,#-8]        ;137
000098  e9c4321e          STRD     r3,r2,[r4,#0x78]      ;138
00009c  eb0401c5          ADD      r1,r4,r5,LSL #3       ;138
0000a0  9102              STR      r1,[sp,#8]            ;138
0000a2  e9d1c100          LDRD     r12,r1,[r1,#0]        ;138
0000a6  e9c4c120          STRD     r12,r1,[r4,#0x80]     ;138
0000aa  1a89              SUBS     r1,r1,r2              ;141
0000ac  ebac0303          SUB      r3,r12,r3             ;140
0000b0  e9c43117          STRD     r3,r1,[r4,#0x5c]      ;143
0000b4  2800              CMP      r0,#0                 ;143
0000b6  bfc8              IT       GT                    ;158
0000b8  eb040785          ADDGT    r7,r4,r5,LSL #2       ;158
0000bc  dd54              BLE      |L2.360|
                  |L2.190|
0000be  6d20              LDR      r0,[r4,#0x50]         ;144
0000c0  1b40              SUBS     r0,r0,r5              ;144
0000c2  1e40              SUBS     r0,r0,#1              ;144
0000c4  42b0              CMP      r0,r6                 ;144
0000c6  bf18              IT       NE                    ;144
0000c8  42ae              CMPNE    r6,r5                 ;144
0000ca  d049              BEQ      |L2.352|
0000cc  f8540036          LDR      r0,[r4,r6,LSL #3]     ;145
0000d0  6fa1              LDR      r1,[r4,#0x78]         ;145
0000d2  9104              STR      r1,[sp,#0x10]         ;145
0000d4  eba00101          SUB      r1,r0,r1              ;145
0000d8  eb0403c6          ADD      r3,r4,r6,LSL #3       ;146
0000dc  6661              STR      r1,[r4,#0x64]         ;146
0000de  9303              STR      r3,[sp,#0xc]          ;146
0000e0  6858              LDR      r0,[r3,#4]            ;146
0000e2  f8d4907c          LDR      r9,[r4,#0x7c]         ;146
0000e6  eba00209          SUB      r2,r0,r9              ;146
0000ea  66a2              STR      r2,[r4,#0x68]         ;149
0000ec  6de0              LDR      r0,[r4,#0x5c]         ;149
0000ee  f8d48060          LDR      r8,[r4,#0x60]         ;149
0000f2  fb00f300          MUL      r3,r0,r0              ;149
0000f6  fb00f101          MUL      r1,r0,r1              ;149
0000fa  fb081a02          MLA      r10,r8,r2,r1          ;149
0000fe  fb80010a          SMULL    r0,r1,r0,r10          ;149
000102  fb083308          MLA      r3,r8,r8,r3           ;149
000106  9301              STR      r3,[sp,#4]            ;149
000108  ea4f73e3          ASR      r3,r3,#31             ;149
00010c  9300              STR      r3,[sp,#0]            ;149
00010e  9a01              LDR      r2,[sp,#4]            ;149
000110  f7fffffe          BL       __aeabi_ldivmod
000114  6560              STR      r0,[r4,#0x54]         ;150
000116  4683              MOV      r11,r0                ;149
000118  fb88010a          SMULL    r0,r1,r8,r10          ;150
00011c  e9dd3200          LDRD     r3,r2,[sp,#0]         ;150
000120  f7fffffe          BL       __aeabi_ldivmod
000124  65a0              STR      r0,[r4,#0x58]         ;150
000126  9904              LDR      r1,[sp,#0x10]         ;153
000128  4448              ADD      r0,r0,r9              ;154
00012a  4459              ADD      r1,r1,r11             ;153
00012c  e9c4101b          STRD     r1,r0,[r4,#0x6c]      ;154
000130  9b03              LDR      r3,[sp,#0xc]          ;154
000132  e9d32300          LDRD     r2,r3,[r3,#0]         ;154
000136  1a51              SUBS     r1,r2,r1              ;154
000138  4349              MULS     r1,r1,r1              ;154
00013a  1a18              SUBS     r0,r3,r0              ;154
00013c  fb001000          MLA      r0,r0,r0,r1           ;154
000140  f7fffffe          BL       algorithm_calc_sqrt
000144  6760              STR      r0,[r4,#0x74]         ;158
000146  f8d71090          LDR      r1,[r7,#0x90]         ;158
00014a  4408              ADD      r0,r0,r1              ;158
00014c  f8c70090          STR      r0,[r7,#0x90]         ;159
000150  6f60              LDR      r0,[r4,#0x74]         ;159
000152  2832              CMP      r0,#0x32              ;159
000154  dc04              BGT      |L2.352|
000156  f8d40088          LDR      r0,[r4,#0x88]         ;160
00015a  1c40              ADDS     r0,r0,#1              ;160
00015c  f8c40088          STR      r0,[r4,#0x88]         ;160
                  |L2.352|
000160  6d20              LDR      r0,[r4,#0x50]         ;160
000162  1c76              ADDS     r6,r6,#1              ;160
000164  42b0              CMP      r0,r6                 ;160
000166  dcaa              BGT      |L2.190|
                  |L2.360|
000168  e9d40122          LDRD     r0,r1,[r4,#0x88]      ;160
00016c  4288              CMP      r0,r1                 ;164
00016e  dd18              BLE      |L2.418|
000170  eb040185          ADD      r1,r4,r5,LSL #2       ;165
000174  f8d11090          LDR      r1,[r1,#0x90]         ;165
000178  f8c410a4          STR      r1,[r4,#0xa4]         ;167
00017c  f8c4008c          STR      r0,[r4,#0x8c]         ;167
000180  6d20              LDR      r0,[r4,#0x50]         ;167
000182  eba00005          SUB      r0,r0,r5              ;167
000186  eb0401c0          ADD      r1,r4,r0,LSL #3       ;167
00018a  e000              B        |L2.398|
                  |L2.396|
00018c  e028              B        |L2.480|
                  |L2.398|
00018e  e9510102          LDRD     r0,r1,[r1,#-8]        ;167
000192  e9c4012a          STRD     r0,r1,[r4,#0xa8]      ;167
000196  9802              LDR      r0,[sp,#8]            ;167
000198  e9d01000          LDRD     r1,r0,[r0,#0]         ;167
00019c  e9c4102c          STRD     r1,r0,[r4,#0xb0]      ;167
0001a0  e017              B        |L2.466|
                  |L2.418|
0001a2  d116              BNE      |L2.466|
0001a4  eb040085          ADD      r0,r4,r5,LSL #2       ;171
0001a8  f8d410a4          LDR      r1,[r4,#0xa4]         ;171
0001ac  f8d00090          LDR      r0,[r0,#0x90]         ;171
0001b0  4281              CMP      r1,r0                 ;171
0001b2  dd0e              BLE      |L2.466|
0001b4  f8c400a4          STR      r0,[r4,#0xa4]         ;173
0001b8  6d20              LDR      r0,[r4,#0x50]         ;173
0001ba  1b40              SUBS     r0,r0,r5              ;173
0001bc  eb0401c0          ADD      r1,r4,r0,LSL #3       ;173
0001c0  e9510102          LDRD     r0,r1,[r1,#-8]        ;173
0001c4  e9c4012a          STRD     r0,r1,[r4,#0xa8]      ;173
0001c8  9802              LDR      r0,[sp,#8]            ;173
0001ca  e9d01000          LDRD     r1,r0,[r0,#0]         ;173
0001ce  e9c4102c          STRD     r1,r0,[r4,#0xb0]      ;173
                  |L2.466|
0001d2  2000              MOVS     r0,#0                 ;177
0001d4  1c6d              ADDS     r5,r5,#1              ;177
0001d6  f8c40088          STR      r0,[r4,#0x88]         ;177
0001da  2d0a              CMP      r5,#0xa               ;177
0001dc  f6ffaf52          BLT      |L2.132|
                  |L2.480|
0001e0  2000              MOVS     r0,#0                 ;181
0001e2  f8c4008c          STR      r0,[r4,#0x8c]         ;181
0001e6  b005              ADD      sp,sp,#0x14
0001e8  e8bd8ff0          POP      {r4-r11,pc}
;;;184    
                          ENDP

                  |L2.492|
                          DCD      ||area_number.28||+0xc0

                          AREA ||i.algorithm_coord_EdgeExpand_BigFinger||, CODE, READONLY, ALIGN=2

                  algorithm_coord_EdgeExpand_BigFinger PROC
;;;3509   #endif
;;;3510   void algorithm_coord_EdgeExpand_BigFinger(void)
000000  e92d4ff0          PUSH     {r4-r11,lr}
;;;3511   {
000004  b093              SUB      sp,sp,#0x4c
;;;3512   	int l, c, r, apply_r, apply_c, MaxSumTB = 0, MaxSumLR = 0;
;;;3513   	int32_t _d,_d1,_d2;
;;;3514   	uint32_t TmpExtStrength = 0;
;;;3515   	uint16_t TmpBigFingerEdgeExpandParam2_LR,TmpBigFingerEdgeExpandParam2_TB;
;;;3516   	tLabelInfo_t	*temp_label = &thisInfo->tLabel;	
000006  48ff              LDR      r0,|L3.1028|
000008  2700              MOVS     r7,#0                 ;3512
00000a  9710              STR      r7,[sp,#0x40]
;;;3517   #if BIG_FINGER_EDGE_ACC_TEST_ALGO_EN	
;;;3518   	int TB_d2 = 0, LR_d2=0;
;;;3519   #endif
;;;3520   	
;;;3521   	for(l=temp_label->ucNum;l--;)
00000c  f8d0900c          LDR      r9,[r0,#0xc]  ; thisInfo
000010  463e              MOV      r6,r7                 ;3512
000012  f8191f45          LDRB     r1,[r9,#0x45]!
000016  f1b10a01          SUBS     r10,r1,#1
00001a  f0c08261          BCC.W    |L3.1248|
;;;3522   	{
;;;3523   		if( temp_label->tTable[l].ulStrength )
;;;3524   		{
;;;3525   			if(bContiFlag[0] && temp_label->tTable[l].tMaxCell.r > 1)bContiFlag[0]=0;
;;;3526   			if(temp_label->tTable[l].tMaxCell.r <= 1 || bContiFlag[0]){
;;;3527   				sum_r = 0;
;;;3528   				for(c=temp_label->tTable[l].tRect.cs; c<=temp_label->tTable[l].tRect.ce; c++)
;;;3529   					sum_r += HAL_READ_DELTA_IMAGE(3, c);
;;;3530   				
;;;3531   				if(sum_r < 100)
;;;3532   				{
;;;3533   					apply_r = -1;
;;;3534   					MaxSumTB = thisModeConf->EdgeExpand.usTopEdgeExpand_MaxD;				
;;;3535   					bContiFlag[0] = 1;
;;;3536   				}
;;;3537   			}
;;;3538   
;;;3539   			if(temp_label->tTable[l].tMaxCell.r < ROW_MAX-2 && bContiFlag[1])bContiFlag[1]=0;
;;;3540   			if(temp_label->tTable[l].tMaxCell.r >= ROW_MAX-2 || bContiFlag[1]){
;;;3541   				sum_r = 0;
;;;3542   				for(c=temp_label->tTable[l].tRect.cs; c<=temp_label->tTable[l].tRect.ce; c++)
;;;3543   					sum_r += HAL_READ_DELTA_IMAGE(ROW_MAX-4, c);
;;;3544   				
;;;3545   				if(sum_r < 100)
;;;3546   				{
;;;3547   					apply_r = ROW_MAX;
;;;3548   					MaxSumTB = thisModeConf->EdgeExpand.usBottomEdgeExpand_MaxD;				
;;;3549   					bContiFlag[1] = 1;
;;;3550   				}
;;;3551   			}
;;;3552   			
;;;3553   			if(temp_label->tTable[l].tMaxCell.c > 1 && bContiFlag[2])bContiFlag[2]=0;
;;;3554   			if(temp_label->tTable[l].tMaxCell.c <= 1 || bContiFlag[2]){
;;;3555   				sum_c = 0;
;;;3556   				for(r=temp_label->tTable[l].tRect.rs; r<=temp_label->tTable[l].tRect.re; r++)
;;;3557   					sum_c += HAL_READ_DELTA_IMAGE(r, 3);
;;;3558   				
;;;3559   				if(sum_c < 100)
;;;3560   				{
;;;3561   					apply_c = -1;
;;;3562   					MaxSumLR = thisModeConf->EdgeExpand.usLeftEdgeExpand_MaxD;				
;;;3563   					bContiFlag[2] = 1;
;;;3564   				}
;;;3565   			}
;;;3566   			
;;;3567   			if(temp_label->tTable[l].tMaxCell.c < COL_MAX-2 && bContiFlag[3])bContiFlag[3]=0;
;;;3568   			if(temp_label->tTable[l].tMaxCell.c >= COL_MAX-2 || bContiFlag[3]){
;;;3569   				sum_c = 0;
;;;3570   				for(r=temp_label->tTable[l].tRect.rs; r<=temp_label->tTable[l].tRect.re; r++)
;;;3571   					sum_c += HAL_READ_DELTA_IMAGE(r, COL_MAX-4);
;;;3572   				
;;;3573   				if(sum_c < 100)
;;;3574   				{
;;;3575   					apply_c = COL_MAX;
;;;3576   					MaxSumLR = thisModeConf->EdgeExpand.usRightEdgeExpand_MaxD;				
;;;3577   					bContiFlag[3] = 1;
;;;3578   				}
;;;3579   			}
;;;3580   			
;;;3581   			if(MaxSumTB && !MaxSumLR)
;;;3582   			{
;;;3583   				if(temp_label->tTable[l].tMaxCell.c <= 2){MaxSumLR = thisModeConf->EdgeExpand.usLeftEdgeExpand_MaxD;apply_c=-1;}
;;;3584   				else if(temp_label->tTable[l].tMaxCell.c >= COL_MAX-3){MaxSumLR = thisModeConf->EdgeExpand.usRightEdgeExpand_MaxD;apply_c=COL_MAX;}
;;;3585   			}
;;;3586   			else if(!MaxSumTB && MaxSumLR)
;;;3587   			{
;;;3588   				if(temp_label->tTable[l].tMaxCell.r <= 2){MaxSumTB = thisModeConf->EdgeExpand.usTopEdgeExpand_MaxD;apply_r=-1;}
;;;3589   				else if(temp_label->tTable[l].tMaxCell.r >= ROW_MAX-3){MaxSumTB = thisModeConf->EdgeExpand.usBottomEdgeExpand_MaxD;apply_r=ROW_MAX;}				
;;;3590   			}
;;;3591   			
;;;3592   			if(MaxSumTB || MaxSumLR)
;;;3593   			{
;;;3594   				TmpExtStrength = temp_label->tTable[l].ulExtStrength;
;;;3595   				TmpBigFingerEdgeExpandParam2_TB = thisModeConf->EdgeExpand.usBigFingerEdgeExpandParam2;
;;;3596   				TmpBigFingerEdgeExpandParam2_LR = thisModeConf->EdgeExpand.usBigFingerEdgeExpandParam2;
;;;3597   				if(MaxSumTB && MaxSumLR)
;;;3598   				{
;;;3599   					if(apply_r == -1)
;;;3600   					{
;;;3601   						if(apply_c == -1)
;;;3602   						{
;;;3603   							sum_TB = HAL_READ_DELTA_IMAGE(0,3);
;;;3604   							sum_TB += HAL_READ_DELTA_IMAGE(0,4);
;;;3605   							sum_TB += HAL_READ_DELTA_IMAGE(1,3);
;;;3606   							sum_TB += HAL_READ_DELTA_IMAGE(1,4);
;;;3607   							sum_LR = HAL_READ_DELTA_IMAGE(3,0);
;;;3608   							sum_LR += HAL_READ_DELTA_IMAGE(3,1);
;;;3609   							sum_LR += HAL_READ_DELTA_IMAGE(4,0);
;;;3610   							sum_LR += HAL_READ_DELTA_IMAGE(4,1);
;;;3611   							
;;;3612   //							sum_Cr = 0;
;;;3613   //							Cr_size = 0;
;;;3614   //							for(c = 0; c<=3; c++)
;;;3615   //							{
;;;3616   //								_d = HAL_READ_DELTA_IMAGE(0,c);
;;;3617   //								sum_Cr += _d;
;;;3618   //								if(_d > 50+dbg_coord[26])Cr_size++;
;;;3619   //							}
;;;3620   //							for(r = 1; r<=3; r++)
;;;3621   //							{
;;;3622   //								_d = HAL_READ_DELTA_IMAGE(r,0);
;;;3623   //								sum_Cr += _d;
;;;3624   //								if(_d > 50+dbg_coord[26])Cr_size++;
;;;3625   //							}														
;;;3626   						}
;;;3627   						else
;;;3628   						{
;;;3629   							sum_TB = HAL_READ_DELTA_IMAGE(0,COL_MAX-5);
;;;3630   							sum_TB += HAL_READ_DELTA_IMAGE(0,COL_MAX-4);
;;;3631   							sum_TB += HAL_READ_DELTA_IMAGE(1,COL_MAX-5);
;;;3632   							sum_TB += HAL_READ_DELTA_IMAGE(1,COL_MAX-4);
;;;3633   							sum_LR = HAL_READ_DELTA_IMAGE(3,COL_MAX-2);
;;;3634   							sum_LR += HAL_READ_DELTA_IMAGE(3,COL_MAX-1);
;;;3635   							sum_LR += HAL_READ_DELTA_IMAGE(4,COL_MAX-2);
;;;3636   							sum_LR += HAL_READ_DELTA_IMAGE(4,COL_MAX-1);
;;;3637   							
;;;3638   //							sum_Cr = 0;
;;;3639   //							Cr_size = 0;
;;;3640   //							for(c = 1; c<=4; c++)
;;;3641   //							{
;;;3642   //								_d = HAL_READ_DELTA_IMAGE(0,COL_MAX-c);
;;;3643   //								sum_Cr += _d;
;;;3644   //								if(_d > 50+dbg_coord[26])Cr_size++;
;;;3645   //							}
;;;3646   //							for(r = 1; r<=3; r++)
;;;3647   //							{
;;;3648   //								_d = HAL_READ_DELTA_IMAGE(r,COL_MAX-1);
;;;3649   //								sum_Cr += _d;
;;;3650   //								if(_d > 50+dbg_coord[26])Cr_size++;
;;;3651   //							}
;;;3652   						}
;;;3653   					}
;;;3654   					else
;;;3655   					{
;;;3656   						if(apply_c == -1)
;;;3657   						{
;;;3658   							sum_TB = HAL_READ_DELTA_IMAGE(ROW_MAX-2,3);
;;;3659   							sum_TB += HAL_READ_DELTA_IMAGE(ROW_MAX-2,4);
;;;3660   							sum_TB += HAL_READ_DELTA_IMAGE(ROW_MAX-1,3);
;;;3661   							sum_TB += HAL_READ_DELTA_IMAGE(ROW_MAX-1,4);
;;;3662   							sum_LR = HAL_READ_DELTA_IMAGE(ROW_MAX-5,0);
;;;3663   							sum_LR += HAL_READ_DELTA_IMAGE(ROW_MAX-5,1);
;;;3664   							sum_LR += HAL_READ_DELTA_IMAGE(ROW_MAX-4,0);
;;;3665   							sum_LR += HAL_READ_DELTA_IMAGE(ROW_MAX-4,1);
;;;3666   							
;;;3667   //							sum_Cr = 0;
;;;3668   //							Cr_size = 0;
;;;3669   //							for(c = 0; c<=3; c++)
;;;3670   //							{
;;;3671   //								_d = HAL_READ_DELTA_IMAGE(ROW_MAX-1,c);
;;;3672   //								sum_Cr += _d;
;;;3673   //								if(_d > 50+dbg_coord[26])Cr_size++;
;;;3674   //							}
;;;3675   //							for(r = 2; r<=4; r++)
;;;3676   //							{
;;;3677   //								_d = HAL_READ_DELTA_IMAGE(ROW_MAX-r,0);
;;;3678   //								sum_Cr += _d;
;;;3679   //								if(_d > 50+dbg_coord[26])Cr_size++;
;;;3680   //							}
;;;3681   						}
;;;3682   						else
;;;3683   						{
;;;3684   							sum_TB = HAL_READ_DELTA_IMAGE(ROW_MAX-2,COL_MAX-5);
;;;3685   							sum_TB += HAL_READ_DELTA_IMAGE(ROW_MAX-2,COL_MAX-4);
;;;3686   							sum_TB += HAL_READ_DELTA_IMAGE(ROW_MAX-1,COL_MAX-5);
;;;3687   							sum_TB += HAL_READ_DELTA_IMAGE(ROW_MAX-1,COL_MAX-4);
;;;3688   							sum_LR = HAL_READ_DELTA_IMAGE(ROW_MAX-5,COL_MAX-2);
;;;3689   							sum_LR += HAL_READ_DELTA_IMAGE(ROW_MAX-5,COL_MAX-1);
;;;3690   							sum_LR += HAL_READ_DELTA_IMAGE(ROW_MAX-4,COL_MAX-2);
;;;3691   							sum_LR += HAL_READ_DELTA_IMAGE(ROW_MAX-4,COL_MAX-1);
;;;3692   							
;;;3693   //							sum_Cr = 0;
;;;3694   //							Cr_size = 0;
;;;3695   //							sum_Cr = 0;
;;;3696   //							Cr_size = 0;
;;;3697   //							for(c = 1; c<=4; c++)
;;;3698   //							{
;;;3699   //								_d = HAL_READ_DELTA_IMAGE(ROW_MAX-1,COL_MAX-c);
;;;3700   //								sum_Cr += _d;
;;;3701   //								if(_d > 50+dbg_coord[26])Cr_size++;
;;;3702   //							}
;;;3703   //							for(r = 2; r<=4; r++)
;;;3704   //							{
;;;3705   //								_d = HAL_READ_DELTA_IMAGE(ROW_MAX-r,COL_MAX-1);
;;;3706   //								sum_Cr += _d;
;;;3707   //								if(_d > 50+dbg_coord[26])Cr_size++;
;;;3708   //							}
;;;3709   						}
;;;3710   					}
;;;3711   
;;;3712   					//if(sum_Cr > 500+dbg_coord[27] && Cr_size >= 5+dbg_coord[28])
;;;3713   					{
;;;3714   						if(abs(sum_TB - sum_LR) < 60 || ((temp_label->tValidRect[l].re - temp_label->tValidRect[l].rs <= 2) && (temp_label->tValidRect[l].ce - temp_label->tValidRect[l].cs <= 2)))  
;;;3715   						{
;;;3716   							if(apply_r == -1)
;;;3717   							{
;;;3718   								if(apply_c == -1)
;;;3719   								{
;;;3720   									TmpBigFingerEdgeExpandParam2_LR = thisModeConf->EdgeExpand.usBigFingerEdgeExpandParam2-(62);
;;;3721   									TmpBigFingerEdgeExpandParam2_TB = thisModeConf->EdgeExpand.usBigFingerEdgeExpandParam2-(62);
;;;3722   								}
;;;3723   								else
;;;3724   								{
;;;3725   									TmpBigFingerEdgeExpandParam2_LR = thisModeConf->EdgeExpand.usBigFingerEdgeExpandParam2-(62);
;;;3726   									TmpBigFingerEdgeExpandParam2_TB = thisModeConf->EdgeExpand.usBigFingerEdgeExpandParam2-(62);	
;;;3727   								}								
;;;3728   							}
;;;3729   							else
;;;3730   							{
;;;3731   								if(apply_c == -1)
;;;3732   								{
;;;3733   									TmpBigFingerEdgeExpandParam2_LR = thisModeConf->EdgeExpand.usBigFingerEdgeExpandParam2-(62);
;;;3734   									TmpBigFingerEdgeExpandParam2_TB = thisModeConf->EdgeExpand.usBigFingerEdgeExpandParam2-(62);
;;;3735   								}
;;;3736   								else
;;;3737   								{
;;;3738   									TmpBigFingerEdgeExpandParam2_LR = thisModeConf->EdgeExpand.usBigFingerEdgeExpandParam2-(62);
;;;3739   									TmpBigFingerEdgeExpandParam2_TB = thisModeConf->EdgeExpand.usBigFingerEdgeExpandParam2-(62);	
;;;3740   								}
;;;3741   							}
;;;3742   						}
;;;3743   						else
;;;3744   						{
;;;3745   							if(sum_LR > sum_TB)
;;;3746   							{
;;;3747   								TmpBigFingerEdgeExpandParam2_LR = thisModeConf->EdgeExpand.usBigFingerEdgeExpandParam2-(30);
;;;3748   								TmpBigFingerEdgeExpandParam2_TB = thisModeConf->EdgeExpand.usBigFingerEdgeExpandParam2-(10);
;;;3749   							}
;;;3750   							else 
;;;3751   							{
;;;3752   								TmpBigFingerEdgeExpandParam2_TB = thisModeConf->EdgeExpand.usBigFingerEdgeExpandParam2-(30);
;;;3753   								TmpBigFingerEdgeExpandParam2_LR = thisModeConf->EdgeExpand.usBigFingerEdgeExpandParam2-(10);
;;;3754   							}	
;;;3755   						}
;;;3756   					}
;;;3757   //					else
;;;3758   //					{
;;;3759   //						MaxSumTB = MaxSumLR = 0;
;;;3760   //					}
;;;3761   				}
;;;3762   			}
;;;3763   			
;;;3764   			if(MaxSumTB > 0)
;;;3765   			{
;;;3766   				_d =_d1 =_d2 = 0;
;;;3767   				_d = thisModeConf->EdgeExpand.usBigFingerEdgeExpandParam1-temp_label->tTable[l].sMaxCellVal;
;;;3768   				_d = _d*_d;
;;;3769   				_d1 = (temp_label->usValidCellCnt[l]*TmpExtStrength*(temp_label->tTable[l].tRect.ce-temp_label->tTable[l].tRect.cs))/TmpBigFingerEdgeExpandParam2_TB;				
;;;3770   				_d1 = _d1*_d1;
;;;3771   				if(_d1 > 0)
;;;3772   				{
;;;3773   					_d = _d/_d1;
;;;3774   					_d1 = MAX(0,(int)(thisModeConf->EdgeExpand.usBigFingerEdgeExpandParam3-TmpExtStrength));
;;;3775   					_d2 = MaxSumTB  - _d;// + _d1;
;;;3776   				}
;;;3777   					
;;;3778   				if(_d2<0)_d2=0;
;;;3779   				temp_label->tTable[l].tCoord.x	+= (float)temp_label->tTable[l].tCoord.x / TmpExtStrength * _d2;
;;;3780   				temp_label->tTable[l].tCoord.y	+= apply_r *_d2;
;;;3781   				temp_label->tTable[l].ulExtStrength += _d2;				
;;;3782   
;;;3783   #if BIG_FINGER_EDGE_ACC_TEST_ALGO_EN				
;;;3784   				TB_d2 = _d2;
;;;3785   				if(_d2>100)
;;;3786   				{
;;;3787   					if(bReportDelayFlag && _d2>300)
;;;3788   					{
;;;3789   						bReportDelayFlag = 0;
;;;3790   						ucReportDelayCnt = 0;
;;;3791   					}
;;;3792   					
;;;3793   					if(l == 0 && temp_label->ucNum == 1 && algorithm_coord_IsEdgeArea(&thisInfo->tCoord.tFirstPos.tXY[0],128))						
;;;3794   					{
;;;3795   						if(apply_r == -1)
;;;3796   						{
;;;3797   							if(thisModeConf->EdgeExpand.usBigFingerEdgeTestClippingTop && !bBigFingerEdgeTestEn[0])	
;;;3798   							{
;;;3799   								bBigFingerEdgeTestFlag[0] = 1;
;;;3800   								bBigFingerEdgeTestEn[0] = 1;
;;;3801   							}
;;;3802   						}
;;;3803   						else
;;;3804   						{
;;;3805   							if(thisModeConf->EdgeExpand.usBigFingerEdgeTestClippingBottom && !bBigFingerEdgeTestEn[1])
;;;3806   							{								
;;;3807   								bBigFingerEdgeTestFlag[1] = 1;
;;;3808   								bBigFingerEdgeTestEn[1] = 1;
;;;3809   							}
;;;3810   						}
;;;3811   						
;;;3812   						if(thisModeConf->EdgeExpand.usBigFingerEdgeTest_MoveEventTHD_Y)
;;;3813   							ucBigFingerEdgeTest_MoveEventTHD_Change = 1;
;;;3814   						
;;;3815   						if(ucBigFingerEdgeTest_MoveEventTHD_Change == 1 && _d2>120)
;;;3816   							ucBigFingerEdgeTest_MoveEventTHD_Change = 2;
;;;3817   					}
;;;3818   				}
;;;3819   #endif
;;;3820   			}
;;;3821   			
;;;3822   			if(MaxSumLR > 0)
;;;3823   			{	
;;;3824   				_d =_d1 =_d2 = 0;
;;;3825   				_d = thisModeConf->EdgeExpand.usBigFingerEdgeExpandParam1-temp_label->tTable[l].sMaxCellVal;
;;;3826   				_d = _d*_d;
;;;3827   				_d1 = (temp_label->usValidCellCnt[l]*TmpExtStrength*(temp_label->tTable[l].tRect.re-temp_label->tTable[l].tRect.rs))/TmpBigFingerEdgeExpandParam2_LR;				
;;;3828   				_d1  = _d1*_d1;	
;;;3829   				if(_d1 > 0)
;;;3830   				{					
;;;3831   					_d = _d/_d1;
;;;3832   					_d1 = MAX(0,(int)(thisModeConf->EdgeExpand.usBigFingerEdgeExpandParam3-TmpExtStrength));
00001e  6885              LDR      r5,[r0,#8]  ; thisModeConf
000020  48f9              LDR      r0,|L3.1032|
000022  900c              STR      r0,[sp,#0x30]         ;3658
000024  f5a05000          SUB      r0,r0,#0x2000         ;3658
000028  f8cd002c          STR.W    r0,[sp,#0x2c]         ;3603
                  |L3.44|
00002c  ebca00ca          RSB      r0,r10,r10,LSL #3     ;3523
000030  eb00104a          ADD      r0,r0,r10,LSL #5      ;3523
000034  eb000409          ADD      r4,r0,r9              ;3523
000038  6960              LDR      r0,[r4,#0x14]         ;3523
00003a  2800              CMP      r0,#0                 ;3523
00003c  f000824b          BEQ.W    |L3.1238|
000040  f8dfe3c8          LDR      lr,|L3.1036|
000044  f89e0000          LDRB     r0,[lr,#0]            ;3525  ; bContiFlag
000048  b138              CBZ      r0,|L3.90|
00004a  f994000b          LDRSB    r0,[r4,#0xb]          ;3525
00004e  2801              CMP      r0,#1                 ;3525
000050  bfc4              ITT      GT                    ;3525
000052  2000              MOVGT    r0,#0                 ;3525
000054  f88e0000          STRBGT   r0,[lr,#0]            ;3525
000058  dd06              BLE      |L3.104|
                  |L3.90|
00005a  f994000b          LDRSB    r0,[r4,#0xb]          ;3526
00005e  2801              CMP      r0,#1                 ;3526
000060  dd02              BLE      |L3.104|
000062  f89e0000          LDRB     r0,[lr,#0]            ;3526  ; bContiFlag
000066  b3d0              CBZ      r0,|L3.222|
                  |L3.104|
000068  48e6              LDR      r0,|L3.1028|
00006a  2100              MOVS     r1,#0                 ;3527
00006c  6281              STR      r1,[r0,#0x28]         ;3528  ; sum_r
00006e  f9941004          LDRSB    r1,[r4,#4]            ;3528
000072  f9942005          LDRSB    r2,[r4,#5]            ;3528
000076  1a52              SUBS     r2,r2,r1              ;3528
000078  1c53              ADDS     r3,r2,#1              ;3528
00007a  2b00              CMP      r3,#0                 ;3528
00007c  dd27              BLE      |L3.206|
00007e  4be4              LDR      r3,|L3.1040|
;;;3833   					_d2 = MaxSumLR  - _d;// + _d1;
;;;3834   				}
;;;3835   				
;;;3836   				if(_d2<0)_d2=0;					
;;;3837   				temp_label->tTable[l].tCoord.x	+= apply_c * _d2;
;;;3838   				temp_label->tTable[l].tCoord.y	+= (float)temp_label->tTable[l].tCoord.y / TmpExtStrength *_d2;
;;;3839   				temp_label->tTable[l].ulExtStrength += _d2;
;;;3840   
;;;3841   #if BIG_FINGER_EDGE_ACC_TEST_ALGO_EN					
;;;3842   				LR_d2 = _d2;
;;;3843   				if(_d2>100)
;;;3844   				{
;;;3845   					if(bReportDelayFlag && _d2>300)
;;;3846   					{
;;;3847   						bReportDelayFlag = 0;
;;;3848   						ucReportDelayCnt = 0;
;;;3849   					}
;;;3850   					
;;;3851   					if(l == 0 && temp_label->ucNum == 1 && algorithm_coord_IsEdgeArea(&thisInfo->tCoord.tFirstPos.tXY[0],128))
;;;3852   					{							
;;;3853   						if(apply_c == -1)
;;;3854   						{
;;;3855   							if(thisModeConf->EdgeExpand.usBigFingerEdgeTestClippingLeft && !bBigFingerEdgeTestEn[2])	
;;;3856   							{
;;;3857   								bBigFingerEdgeTestFlag[2] = 1;
;;;3858   								bBigFingerEdgeTestEn[2] = 1;
;;;3859   							}
;;;3860   						}
;;;3861   						else
;;;3862   						{
;;;3863   							if(thisModeConf->EdgeExpand.usBigFingerEdgeTestClippingRight && !bBigFingerEdgeTestEn[3])
;;;3864   							{								
;;;3865   								bBigFingerEdgeTestFlag[3] = 1;
;;;3866   								bBigFingerEdgeTestEn[3] = 1;
;;;3867   							}
;;;3868   						}
;;;3869   						
;;;3870   						if(thisModeConf->EdgeExpand.usBigFingerEdgeTest_MoveEventTHD_X)
;;;3871   							ucBigFingerEdgeTest_MoveEventTHD_Change = 1;
;;;3872   						
;;;3873   						if(ucBigFingerEdgeTest_MoveEventTHD_Change == 1 && _d2>120)
;;;3874   							ucBigFingerEdgeTest_MoveEventTHD_Change = 2;											
;;;3875   					}
;;;3876   				}
;;;3877   #endif
;;;3878   			}
;;;3879   			
;;;3880   #if BIG_FINGER_EDGE_ACC_TEST_ALGO_EN			
;;;3881   			if(ucBigFingerEdgeTest_MoveEventTHD_Change==2 && LR_d2<100 && TB_d2<100)
;;;3882   				ucBigFingerEdgeTest_MoveEventTHD_Change = 3;
;;;3883   #endif
;;;3884   		}	
;;;3885   	}
;;;3886   	
;;;3887   	if(temp_label->ucValidNum == 0)
;;;3888   	{
;;;3889   		bContiFlag[0] = bContiFlag[1] = bContiFlag[2] = bContiFlag[3] = 0;
;;;3890   	}
;;;3891   }
000080  f0120f01          TST      r2,#1
000084  eb030141          ADD      r1,r3,r1,LSL #1       ;3528
000088  f64f03b6          MOV      r3,#0xf8b6            ;3528
00008c  4419              ADD      r1,r1,r3              ;3528
00008e  d102              BNE      |L3.150|
000090  f9312f02          LDRSH    r2,[r1,#2]!           ;3529
000094  6282              STR      r2,[r0,#0x28]         ;3529  ; sum_r
                  |L3.150|
000096  f994c005          LDRSB    r12,[r4,#5]           ;3528
00009a  f9942004          LDRSB    r2,[r4,#4]            ;3528
00009e  2300              MOVS     r3,#0
0000a0  ebac0202          SUB      r2,r12,r2             ;3528
0000a4  1c52              ADDS     r2,r2,#1              ;3528
0000a6  1052              ASRS     r2,r2,#1              ;3528
0000a8  d00c              BEQ      |L3.196|
0000aa  bf00              NOP                            ;3529
                  |L3.172|
0000ac  f9b1c002          LDRSH    r12,[r1,#2]           ;3529
0000b0  f8d0b028          LDR      r11,[r0,#0x28]        ;3529  ; sum_r
0000b4  1e52              SUBS     r2,r2,#1              ;3529
0000b6  44dc              ADD      r12,r12,r11           ;3529
0000b8  f8c0c028          STR      r12,[r0,#0x28]        ;3529  ; sum_r
0000bc  f931cf04          LDRSH    r12,[r1,#4]!          ;3529
0000c0  4463              ADD      r3,r3,r12             ;3529
0000c2  d1f3              BNE      |L3.172|
                  |L3.196|
0000c4  6a81              LDR      r1,[r0,#0x28]  ; sum_r
0000c6  4419              ADD      r1,r1,r3
0000c8  6281              STR      r1,[r0,#0x28]         ;3531  ; sum_r
0000ca  2964              CMP      r1,#0x64              ;3531
0000cc  da07              BGE      |L3.222|
                  |L3.206|
0000ce  f04f30ff          MOV      r0,#0xffffffff        ;3533
0000d2  9007              STR      r0,[sp,#0x1c]         ;3534
0000d4  f8b57116          LDRH     r7,[r5,#0x116]        ;3534
0000d8  2001              MOVS     r0,#1                 ;3535
0000da  f88e0000          STRB     r0,[lr,#0]            ;3535
                  |L3.222|
0000de  f994000b          LDRSB    r0,[r4,#0xb]          ;3539
0000e2  282e              CMP      r0,#0x2e              ;3539
0000e4  da0a              BGE      |L3.252|
0000e6  f89e0001          LDRB     r0,[lr,#1]            ;3539  ; bContiFlag
0000ea  b3e8              CBZ      r0,|L3.360|
0000ec  2000              MOVS     r0,#0                 ;3539
0000ee  f88e0001          STRB     r0,[lr,#1]            ;3539
0000f2  f994100b          LDRSB    r1,[r4,#0xb]          ;3540
0000f6  292e              CMP      r1,#0x2e              ;3540
0000f8  da00              BGE      |L3.252|
0000fa  b3a8              CBZ      r0,|L3.360|
                  |L3.252|
0000fc  48c1              LDR      r0,|L3.1028|
0000fe  2100              MOVS     r1,#0                 ;3541
000100  6281              STR      r1,[r0,#0x28]         ;3542  ; sum_r
000102  f9941004          LDRSB    r1,[r4,#4]            ;3542
000106  f9942005          LDRSB    r2,[r4,#5]            ;3542
00010a  1a52              SUBS     r2,r2,r1              ;3542
00010c  1c53              ADDS     r3,r2,#1              ;3542
00010e  2b00              CMP      r3,#0                 ;3542
000110  dd27              BLE      |L3.354|
000112  4bbf              LDR      r3,|L3.1040|
000114  f0120f01          TST      r2,#1
000118  eb030141          ADD      r1,r3,r1,LSL #1       ;3542
00011c  f5013189          ADD      r1,r1,#0x11200        ;3542
000120  f50171cf          ADD      r1,r1,#0x19e          ;3542
000124  d102              BNE      |L3.300|
000126  f9312f02          LDRSH    r2,[r1,#2]!           ;3543
00012a  6282              STR      r2,[r0,#0x28]         ;3543  ; sum_r
                  |L3.300|
00012c  f994c005          LDRSB    r12,[r4,#5]           ;3542
000130  f9942004          LDRSB    r2,[r4,#4]            ;3542
000134  2300              MOVS     r3,#0
000136  ebac0202          SUB      r2,r12,r2             ;3542
00013a  1c52              ADDS     r2,r2,#1              ;3542
00013c  1052              ASRS     r2,r2,#1              ;3542
00013e  d00b              BEQ      |L3.344|
                  |L3.320|
000140  f9b1c002          LDRSH    r12,[r1,#2]           ;3543
000144  f8d0b028          LDR      r11,[r0,#0x28]        ;3543  ; sum_r
000148  1e52              SUBS     r2,r2,#1              ;3543
00014a  44dc              ADD      r12,r12,r11           ;3543
00014c  f8c0c028          STR      r12,[r0,#0x28]        ;3543  ; sum_r
000150  f931cf04          LDRSH    r12,[r1,#4]!          ;3543
000154  4463              ADD      r3,r3,r12             ;3543
000156  d1f3              BNE      |L3.320|
                  |L3.344|
000158  6a81              LDR      r1,[r0,#0x28]  ; sum_r
00015a  4419              ADD      r1,r1,r3
00015c  6281              STR      r1,[r0,#0x28]         ;3545  ; sum_r
00015e  2964              CMP      r1,#0x64              ;3545
000160  da08              BGE      |L3.372|
                  |L3.354|
000162  2030              MOVS     r0,#0x30              ;3547
000164  9007              STR      r0,[sp,#0x1c]         ;3548
000166  e000              B        |L3.362|
                  |L3.360|
000168  e004              B        |L3.372|
                  |L3.362|
00016a  f8b57118          LDRH     r7,[r5,#0x118]        ;3548
00016e  2001              MOVS     r0,#1                 ;3549
000170  f88e0001          STRB     r0,[lr,#1]            ;3549
                  |L3.372|
000174  f994000a          LDRSB    r0,[r4,#0xa]          ;3553
000178  2801              CMP      r0,#1                 ;3553
00017a  dd0a              BLE      |L3.402|
00017c  f89e0002          LDRB     r0,[lr,#2]            ;3553  ; bContiFlag
000180  b3f0              CBZ      r0,|L3.512|
000182  2000              MOVS     r0,#0                 ;3553
000184  f88e0002          STRB     r0,[lr,#2]            ;3553
000188  f994100a          LDRSB    r1,[r4,#0xa]          ;3554
00018c  2901              CMP      r1,#1                 ;3554
00018e  dd00              BLE      |L3.402|
000190  b3b0              CBZ      r0,|L3.512|
                  |L3.402|
000192  499c              LDR      r1,|L3.1028|
000194  2000              MOVS     r0,#0                 ;3555
000196  62c8              STR      r0,[r1,#0x2c]         ;3556  ; sum_c
000198  f9940002          LDRSB    r0,[r4,#2]            ;3556
00019c  f9941003          LDRSB    r1,[r4,#3]            ;3556
0001a0  1a09              SUBS     r1,r1,r0              ;3556
0001a2  1c4a              ADDS     r2,r1,#1              ;3556
0001a4  2a00              CMP      r2,#0                 ;3556
0001a6  dd2f              BLE      |L3.520|
0001a8  ebc000c0          RSB      r0,r0,r0,LSL #3       ;3556
0001ac  eb000240          ADD      r2,r0,r0,LSL #1       ;3556
0001b0  4897              LDR      r0,|L3.1040|
0001b2  f0110f01          TST      r1,#1
0001b6  eb0002c2          ADD      r2,r0,r2,LSL #3       ;3556
0001ba  f24f601e          MOV      r0,#0xf61e            ;3556
0001be  4410              ADD      r0,r0,r2              ;3556
0001c0  d103              BNE      |L3.458|
0001c2  4990              LDR      r1,|L3.1028|
0001c4  f9302fa8          LDRSH    r2,[r0,#0xa8]!        ;3557
0001c8  62ca              STR      r2,[r1,#0x2c]         ;3557  ; sum_c
                  |L3.458|
0001ca  f9941003          LDRSB    r1,[r4,#3]            ;3556
0001ce  f9943002          LDRSB    r3,[r4,#2]            ;3556
0001d2  2200              MOVS     r2,#0
0001d4  1ac9              SUBS     r1,r1,r3              ;3556
0001d6  1c49              ADDS     r1,r1,#1              ;3556
0001d8  1049              ASRS     r1,r1,#1              ;3556
0001da  bf18              IT       NE                    ;3516
0001dc  4b89              LDRNE    r3,|L3.1028|
0001de  d00b              BEQ      |L3.504|
                  |L3.480|
0001e0  f930cfa8          LDRSH    r12,[r0,#0xa8]!       ;3557
0001e4  f8d3b02c          LDR      r11,[r3,#0x2c]        ;3557  ; sum_c
0001e8  1e49              SUBS     r1,r1,#1              ;3557
0001ea  44dc              ADD      r12,r12,r11           ;3557
0001ec  f8c3c02c          STR      r12,[r3,#0x2c]        ;3557  ; sum_c
0001f0  f930cfa8          LDRSH    r12,[r0,#0xa8]!       ;3557
0001f4  4462              ADD      r2,r2,r12             ;3557
0001f6  d1f3              BNE      |L3.480|
                  |L3.504|
0001f8  4882              LDR      r0,|L3.1028|
0001fa  6ac1              LDR      r1,[r0,#0x2c]  ; sum_c
0001fc  4411              ADD      r1,r1,r2
0001fe  e000              B        |L3.514|
                  |L3.512|
000200  e009              B        |L3.534|
                  |L3.514|
000202  62c1              STR      r1,[r0,#0x2c]         ;3559  ; sum_c
000204  2964              CMP      r1,#0x64              ;3559
000206  da06              BGE      |L3.534|
                  |L3.520|
000208  f8b56112          LDRH     r6,[r5,#0x112]        ;3562
00020c  2001              MOVS     r0,#1                 ;3563
00020e  f04f38ff          MOV      r8,#0xffffffff        ;3561
000212  f88e0002          STRB     r0,[lr,#2]            ;3563
                  |L3.534|
000216  f994000a          LDRSB    r0,[r4,#0xa]          ;3567
00021a  2852              CMP      r0,#0x52              ;3567
00021c  da0a              BGE      |L3.564|
00021e  f89e0003          LDRB     r0,[lr,#3]            ;3567  ; bContiFlag
000222  b3e8              CBZ      r0,|L3.672|
000224  2000              MOVS     r0,#0                 ;3567
000226  f88e0003          STRB     r0,[lr,#3]            ;3567
00022a  f994100a          LDRSB    r1,[r4,#0xa]          ;3568
00022e  2952              CMP      r1,#0x52              ;3568
000230  da00              BGE      |L3.564|
000232  b3a8              CBZ      r0,|L3.672|
                  |L3.564|
000234  4973              LDR      r1,|L3.1028|
000236  2000              MOVS     r0,#0                 ;3569
000238  62c8              STR      r0,[r1,#0x2c]         ;3570  ; sum_c
00023a  f9940002          LDRSB    r0,[r4,#2]            ;3570
00023e  f9941003          LDRSB    r1,[r4,#3]            ;3570
000242  1a09              SUBS     r1,r1,r0              ;3570
000244  1c4a              ADDS     r2,r1,#1              ;3570
000246  2a00              CMP      r2,#0                 ;3570
000248  dd30              BLE      |L3.684|
00024a  ebc000c0          RSB      r0,r0,r0,LSL #3       ;3570
00024e  eb000240          ADD      r2,r0,r0,LSL #1       ;3570
000252  486f              LDR      r0,|L3.1040|
000254  f0110f01          TST      r1,#1
000258  eb0002c2          ADD      r2,r0,r2,LSL #3       ;3570
00025c  f24f60b8          MOV      r0,#0xf6b8            ;3570
000260  4410              ADD      r0,r0,r2              ;3570
000262  d103              BNE      |L3.620|
000264  4967              LDR      r1,|L3.1028|
000266  f9302fa8          LDRSH    r2,[r0,#0xa8]!        ;3571
00026a  62ca              STR      r2,[r1,#0x2c]         ;3571  ; sum_c
                  |L3.620|
00026c  f9941003          LDRSB    r1,[r4,#3]            ;3570
000270  f9943002          LDRSB    r3,[r4,#2]            ;3570
000274  2200              MOVS     r2,#0
000276  1ac9              SUBS     r1,r1,r3              ;3570
000278  1c49              ADDS     r1,r1,#1              ;3570
00027a  1049              ASRS     r1,r1,#1              ;3570
00027c  bf18              IT       NE                    ;3516
00027e  4b61              LDRNE    r3,|L3.1028|
000280  d00c              BEQ      |L3.668|
000282  bf00              NOP                            ;3571
                  |L3.644|
000284  f930cfa8          LDRSH    r12,[r0,#0xa8]!       ;3571
000288  f8d3b02c          LDR      r11,[r3,#0x2c]        ;3571  ; sum_c
00028c  1e49              SUBS     r1,r1,#1              ;3571
00028e  44dc              ADD      r12,r12,r11           ;3571
000290  f8c3c02c          STR      r12,[r3,#0x2c]        ;3571  ; sum_c
000294  f930cfa8          LDRSH    r12,[r0,#0xa8]!       ;3571
000298  4462              ADD      r2,r2,r12             ;3571
00029a  d1f3              BNE      |L3.644|
                  |L3.668|
00029c  4859              LDR      r0,|L3.1028|
00029e  e000              B        |L3.674|
                  |L3.672|
0002a0  e00b              B        |L3.698|
                  |L3.674|
0002a2  6ac1              LDR      r1,[r0,#0x2c]  ; sum_c
0002a4  4411              ADD      r1,r1,r2
0002a6  62c1              STR      r1,[r0,#0x2c]         ;3573  ; sum_c
0002a8  2964              CMP      r1,#0x64              ;3573
0002aa  da06              BGE      |L3.698|
                  |L3.684|
0002ac  f8b56114          LDRH     r6,[r5,#0x114]        ;3576
0002b0  2001              MOVS     r0,#1                 ;3577
0002b2  f04f0854          MOV      r8,#0x54              ;3575
0002b6  f88e0003          STRB     r0,[lr,#3]            ;3577
                  |L3.698|
0002ba  b187              CBZ      r7,|L3.734|
0002bc  bb06              CBNZ     r6,|L3.768|
0002be  f994000a          LDRSB    r0,[r4,#0xa]          ;3583
0002c2  2802              CMP      r0,#2                 ;3583
0002c4  bfdc              ITT      LE                    ;3583
0002c6  f8b56112          LDRHLE   r6,[r5,#0x112]        ;3583
0002ca  f04f38ff          MOVLE    r8,#0xffffffff        ;3583
0002ce  dd17              BLE      |L3.768|
0002d0  2851              CMP      r0,#0x51              ;3584
0002d2  bfa4              ITT      GE                    ;3584
0002d4  f8b56114          LDRHGE   r6,[r5,#0x114]        ;3584
0002d8  f04f0854          MOVGE    r8,#0x54              ;3584
0002dc  e010              B        |L3.768|
                  |L3.734|
0002de  b17e              CBZ      r6,|L3.768|
0002e0  f994000b          LDRSB    r0,[r4,#0xb]          ;3588
0002e4  2802              CMP      r0,#2                 ;3588
0002e6  bfdc              ITT      LE                    ;3588
0002e8  f8b57116          LDRHLE   r7,[r5,#0x116]        ;3588
0002ec  f04f30ff          MOVLE    r0,#0xffffffff        ;3588
0002f0  dd05              BLE      |L3.766|
0002f2  282d              CMP      r0,#0x2d              ;3589
0002f4  bfa4              ITT      GE                    ;3589
0002f6  f8b57118          LDRHGE   r7,[r5,#0x118]        ;3589
0002fa  2030              MOVGE    r0,#0x30              ;3589
0002fc  db00              BLT      |L3.768|
                  |L3.766|
0002fe  9007              STR      r0,[sp,#0x1c]         ;3589
                  |L3.768|
000300  ea570006          ORRS     r0,r7,r6              ;3592
000304  d055              BEQ      |L3.946|
000306  69a0              LDR      r0,[r4,#0x18]         ;3594
000308  9010              STR      r0,[sp,#0x40]         ;3595
00030a  f8b5011c          LDRH     r0,[r5,#0x11c]        ;3595
00030e  9006              STR      r0,[sp,#0x18]         ;3596
000310  9011              STR      r0,[sp,#0x44]         ;3597
000312  2f00              CMP      r7,#0                 ;3597
000314  d075              BEQ      |L3.1026|
000316  b3e6              CBZ      r6,|L3.914|
000318  9907              LDR      r1,[sp,#0x1c]         ;3599
00031a  f1b13fff          CMP      r1,#0xffffffff        ;3599
00031e  f1080101          ADD      r1,r8,#1              ;3656
000322  d077              BEQ      |L3.1044|
000324  2900              CMP      r1,#0                 ;3656
000326  990c              LDR      r1,[sp,#0x30]         ;3656
000328  f0008132          BEQ.W    |L3.1424|
00032c  9b0c              LDR      r3,[sp,#0x30]         ;3685
00032e  f9b1158e          LDRSH    r1,[r1,#0x58e]        ;3684  ; FullSharedBuff
000332  4a34              LDR      r2,|L3.1028|
000334  f9b33590          LDRSH    r3,[r3,#0x590]        ;3685  ; FullSharedBuff
000338  4419              ADD      r1,r1,r3              ;3685
00033a  9b0c              LDR      r3,[sp,#0x30]         ;3686
00033c  f9b33636          LDRSH    r3,[r3,#0x636]        ;3686  ; FullSharedBuff
000340  4419              ADD      r1,r1,r3              ;3686
000342  9b0c              LDR      r3,[sp,#0x30]         ;3687
000344  f9b33638          LDRSH    r3,[r3,#0x638]        ;3687  ; FullSharedBuff
000348  4419              ADD      r1,r1,r3              ;3687
00034a  6311              STR      r1,[r2,#0x30]         ;3687  ; sum_TB
00034c  990c              LDR      r1,[sp,#0x30]         ;3688
00034e  9b0c              LDR      r3,[sp,#0x30]         ;3689
000350  f9b1139c          LDRSH    r1,[r1,#0x39c]        ;3688  ; FullSharedBuff
000354  f9b3339e          LDRSH    r3,[r3,#0x39e]        ;3689  ; FullSharedBuff
000358  4419              ADD      r1,r1,r3              ;3689
00035a  9b0c              LDR      r3,[sp,#0x30]         ;3690
00035c  f9b33444          LDRSH    r3,[r3,#0x444]        ;3690  ; FullSharedBuff
000360  4419              ADD      r1,r1,r3              ;3690
000362  9b0c              LDR      r3,[sp,#0x30]         ;3691
000364  f9b33446          LDRSH    r3,[r3,#0x446]        ;3691  ; FullSharedBuff
000368  4419              ADD      r1,r1,r3              ;3691
00036a  6351              STR      r1,[r2,#0x34]         ;3691  ; sum_LR
                  |L3.876|
00036c  4925              LDR      r1,|L3.1028|
00036e  e9d1320c          LDRD     r3,r2,[r1,#0x30]      ;3714
000372  1a99              SUBS     r1,r3,r2              ;3714
000374  bf48              IT       MI                    ;3714
000376  4249              RSBMI    r1,r1,#0              ;3714
000378  293c              CMP      r1,#0x3c              ;3714
00037a  db15              BLT      |L3.936|
00037c  eb09018a          ADD      r1,r9,r10,LSL #2      ;3714
000380  f991c273          LDRSB    r12,[r1,#0x273]       ;3714
000384  f991b272          LDRSB    r11,[r1,#0x272]       ;3714
000388  ebac0c0b          SUB      r12,r12,r11           ;3714
00038c  f1bc0f02          CMP      r12,#2                ;3714
000390  e000              B        |L3.916|
                  |L3.914|
000392  e00e              B        |L3.946|
                  |L3.916|
000394  f300811d          BGT.W    |L3.1490|
000398  f991c275          LDRSB    r12,[r1,#0x275]       ;3714
00039c  f9911274          LDRSB    r1,[r1,#0x274]        ;3714
0003a0  ebac0101          SUB      r1,r12,r1             ;3714
0003a4  2902              CMP      r1,#2                 ;3714
0003a6  dc7d              BGT      |L3.1188|
                  |L3.936|
0003a8  383e              SUBS     r0,r0,#0x3e           ;3714
0003aa  b281              UXTH     r1,r0                 ;3720
0003ac  b280              UXTH     r0,r0                 ;3721
0003ae  9111              STR      r1,[sp,#0x44]         ;3721
0003b0  9006              STR      r0,[sp,#0x18]         ;3721
                  |L3.946|
0003b2  2f00              CMP      r7,#0                 ;3764
0003b4  dd4b              BLE      |L3.1102|
0003b6  f8b5011a          LDRH     r0,[r5,#0x11a]        ;3767
0003ba  f9b41008          LDRSH    r1,[r4,#8]            ;3767
0003be  f9942005          LDRSB    r2,[r4,#5]            ;3769
0003c2  1a40              SUBS     r0,r0,r1              ;3767
0003c4  fb00f100          MUL      r1,r0,r0              ;3768
0003c8  f9940004          LDRSB    r0,[r4,#4]            ;3769
0003cc  f04f0b00          MOV      r11,#0                ;3766
0003d0  1a10              SUBS     r0,r2,r0              ;3769
0003d2  9a10              LDR      r2,[sp,#0x40]         ;3769
0003d4  4350              MULS     r0,r2,r0              ;3769
0003d6  eb09024a          ADD      r2,r9,r10,LSL #1      ;3769
0003da  f8b222f2          LDRH     r2,[r2,#0x2f2]        ;3769
0003de  4342              MULS     r2,r0,r2              ;3769
0003e0  9806              LDR      r0,[sp,#0x18]         ;3769
0003e2  fbb2f0f0          UDIV     r0,r2,r0              ;3769
0003e6  4340              MULS     r0,r0,r0              ;3770
0003e8  2800              CMP      r0,#0                 ;3771
0003ea  dd04              BLE      |L3.1014|
0003ec  fb91f0f0          SDIV     r0,r1,r0              ;3773
0003f0  ebb70b00          SUBS     r11,r7,r0             ;3775
0003f4  d47e              BMI      |L3.1268|
                  |L3.1014|
0003f6  4658              MOV      r0,r11                ;3779
0003f8  f7fffffe          BL       __aeabi_i2f
0003fc  900d              STR      r0,[sp,#0x34]         ;3779
0003fe  9810              LDR      r0,[sp,#0x40]         ;3779
000400  e009              B        |L3.1046|
                  |L3.1026|
000402  e024              B        |L3.1102|
                  |L3.1028|
                          DCD      ||.data||
                  |L3.1032|
                          DCD      FullSharedBuff+0x11000
                  |L3.1036|
                          DCD      ||.data||+0x20
                  |L3.1040|
                          DCD      FullSharedBuff
                  |L3.1044|
000414  e076              B        |L3.1284|
                  |L3.1046|
000416  f7fffffe          BL       __aeabi_ui2f
00041a  9009              STR      r0,[sp,#0x24]         ;3779
00041c  68e0              LDR      r0,[r4,#0xc]          ;3779
00041e  f7fffffe          BL       __aeabi_i2f
000422  9012              STR      r0,[sp,#0x48]         ;3779
000424  9909              LDR      r1,[sp,#0x24]         ;3779
000426  f7fffffe          BL       __aeabi_fdiv
00042a  990d              LDR      r1,[sp,#0x34]         ;3779
00042c  f7fffffe          BL       __aeabi_fmul
000430  4601              MOV      r1,r0                 ;3779
000432  9812              LDR      r0,[sp,#0x48]         ;3779
000434  f7fffffe          BL       __aeabi_fadd
000438  f7fffffe          BL       __aeabi_f2iz
00043c  60e0              STR      r0,[r4,#0xc]          ;3779
00043e  6921              LDR      r1,[r4,#0x10]         ;3780
000440  9807              LDR      r0,[sp,#0x1c]         ;3780
000442  fb00100b          MLA      r0,r0,r11,r1          ;3780
000446  6120              STR      r0,[r4,#0x10]         ;3780
000448  69a0              LDR      r0,[r4,#0x18]         ;3781
00044a  4458              ADD      r0,r0,r11             ;3781
00044c  61a0              STR      r0,[r4,#0x18]         ;3781
                  |L3.1102|
00044e  2e00              CMP      r6,#0                 ;3822
000450  dd41              BLE      |L3.1238|
000452  f8b5111a          LDRH     r1,[r5,#0x11a]        ;3825
000456  f9b40008          LDRSH    r0,[r4,#8]            ;3825
00045a  f9942002          LDRSB    r2,[r4,#2]            ;3827
00045e  1a08              SUBS     r0,r1,r0              ;3825
000460  fb00f100          MUL      r1,r0,r0              ;3826
000464  f9940003          LDRSB    r0,[r4,#3]            ;3827
000468  f04f0b00          MOV      r11,#0                ;3824
00046c  1a82              SUBS     r2,r0,r2              ;3827
00046e  9810              LDR      r0,[sp,#0x40]         ;3827
000470  4350              MULS     r0,r2,r0              ;3827
000472  eb09024a          ADD      r2,r9,r10,LSL #1      ;3827
000476  f8b222f2          LDRH     r2,[r2,#0x2f2]        ;3827
00047a  4342              MULS     r2,r0,r2              ;3827
00047c  9811              LDR      r0,[sp,#0x44]         ;3827
00047e  fbb2f0f0          UDIV     r0,r2,r0              ;3827
000482  4340              MULS     r0,r0,r0              ;3828
000484  2800              CMP      r0,#0                 ;3829
000486  dd04              BLE      |L3.1170|
000488  fb91f0f0          SDIV     r0,r1,r0              ;3831
00048c  ebb60b00          SUBS     r11,r6,r0             ;3833
000490  d47d              BMI      |L3.1422|
                  |L3.1170|
000492  68e0              LDR      r0,[r4,#0xc]          ;3837
000494  fb08000b          MLA      r0,r8,r11,r0          ;3837
000498  60e0              STR      r0,[r4,#0xc]          ;3837
00049a  4658              MOV      r0,r11                ;3838
00049c  f7fffffe          BL       __aeabi_i2f
0004a0  9000              STR      r0,[sp,#0]            ;3838
0004a2  e000              B        |L3.1190|
                  |L3.1188|
0004a4  e095              B        |L3.1490|
                  |L3.1190|
0004a6  9810              LDR      r0,[sp,#0x40]         ;3838
0004a8  f7fffffe          BL       __aeabi_ui2f
0004ac  900d              STR      r0,[sp,#0x34]         ;3838
0004ae  6920              LDR      r0,[r4,#0x10]         ;3838
0004b0  f7fffffe          BL       __aeabi_i2f
0004b4  9012              STR      r0,[sp,#0x48]         ;3838
0004b6  990d              LDR      r1,[sp,#0x34]         ;3838
0004b8  f7fffffe          BL       __aeabi_fdiv
0004bc  9900              LDR      r1,[sp,#0]            ;3838
0004be  f7fffffe          BL       __aeabi_fmul
0004c2  4601              MOV      r1,r0                 ;3838
0004c4  9812              LDR      r0,[sp,#0x48]         ;3838
0004c6  f7fffffe          BL       __aeabi_fadd
0004ca  f7fffffe          BL       __aeabi_f2iz
0004ce  6120              STR      r0,[r4,#0x10]         ;3838
0004d0  69a0              LDR      r0,[r4,#0x18]         ;3839
0004d2  4458              ADD      r0,r0,r11             ;3839
0004d4  61a0              STR      r0,[r4,#0x18]         ;3839
                  |L3.1238|
0004d6  f1ba0a01          SUBS     r10,r10,#1            ;3839
0004da  f4bfada7          BCS      |L3.44|
0004de  bf00              NOP                            ;3887
                  |L3.1248|
0004e0  f8990271          LDRB     r0,[r9,#0x271]        ;3887
0004e4  2800              CMP      r0,#0                 ;3887
0004e6  bf1c              ITT      NE
0004e8  b013              ADDNE    sp,sp,#0x4c
0004ea  e8bd8ff0          POPNE    {r4-r11,pc}
0004ee  2000              MOVS     r0,#0                 ;3889
0004f0  4942              LDR      r1,|L3.1532|
0004f2  e000              B        |L3.1270|
                  |L3.1268|
0004f4  e07b              B        |L3.1518|
                  |L3.1270|
0004f6  70c8              STRB     r0,[r1,#3]            ;3889
0004f8  7088              STRB     r0,[r1,#2]            ;3889
0004fa  7048              STRB     r0,[r1,#1]            ;3889
0004fc  7008              STRB     r0,[r1,#0]            ;3889
0004fe  b013              ADD      sp,sp,#0x4c
000500  e8bd8ff0          POP      {r4-r11,pc}
                  |L3.1284|
000504  2900              CMP      r1,#0                 ;3601
000506  990b              LDR      r1,[sp,#0x2c]         ;3601
000508  d020              BEQ      |L3.1356|
00050a  9b0b              LDR      r3,[sp,#0x2c]         ;3630
00050c  f9b1275e          LDRSH    r2,[r1,#0x75e]        ;3629  ; FullSharedBuff
000510  493b              LDR      r1,|L3.1536|
000512  f9b33760          LDRSH    r3,[r3,#0x760]        ;3630  ; FullSharedBuff
000516  441a              ADD      r2,r2,r3              ;3630
000518  9b0b              LDR      r3,[sp,#0x2c]         ;3631
00051a  f9b33806          LDRSH    r3,[r3,#0x806]        ;3631  ; FullSharedBuff
00051e  441a              ADD      r2,r2,r3              ;3631
000520  9b0b              LDR      r3,[sp,#0x2c]         ;3632
000522  f9b33808          LDRSH    r3,[r3,#0x808]        ;3632  ; FullSharedBuff
000526  441a              ADD      r2,r2,r3              ;3632
000528  630a              STR      r2,[r1,#0x30]         ;3632  ; sum_TB
00052a  9a0b              LDR      r2,[sp,#0x2c]         ;3633
00052c  9b0b              LDR      r3,[sp,#0x2c]         ;3634
00052e  f9b2295c          LDRSH    r2,[r2,#0x95c]        ;3633  ; FullSharedBuff
000532  f9b3395e          LDRSH    r3,[r3,#0x95e]        ;3634  ; FullSharedBuff
000536  441a              ADD      r2,r2,r3              ;3634
000538  9b0b              LDR      r3,[sp,#0x2c]         ;3635
00053a  f9b33a04          LDRSH    r3,[r3,#0xa04]        ;3635  ; FullSharedBuff
00053e  441a              ADD      r2,r2,r3              ;3635
000540  9b0b              LDR      r3,[sp,#0x2c]         ;3636
000542  f9b33a06          LDRSH    r3,[r3,#0xa06]        ;3636  ; FullSharedBuff
000546  441a              ADD      r2,r2,r3              ;3636
000548  634a              STR      r2,[r1,#0x34]         ;3636  ; sum_LR
00054a  e70f              B        |L3.876|
                  |L3.1356|
00054c  9b0b              LDR      r3,[sp,#0x2c]         ;3604
00054e  f9b116c6          LDRSH    r1,[r1,#0x6c6]        ;3603  ; FullSharedBuff
000552  4a2b              LDR      r2,|L3.1536|
000554  f9b336c8          LDRSH    r3,[r3,#0x6c8]        ;3604  ; FullSharedBuff
000558  4419              ADD      r1,r1,r3              ;3604
00055a  9b0b              LDR      r3,[sp,#0x2c]         ;3605
00055c  f9b3376e          LDRSH    r3,[r3,#0x76e]        ;3605  ; FullSharedBuff
000560  4419              ADD      r1,r1,r3              ;3605
000562  9b0b              LDR      r3,[sp,#0x2c]         ;3606
000564  f9b33770          LDRSH    r3,[r3,#0x770]        ;3606  ; FullSharedBuff
000568  4419              ADD      r1,r1,r3              ;3606
00056a  6311              STR      r1,[r2,#0x30]         ;3606  ; sum_TB
00056c  990b              LDR      r1,[sp,#0x2c]         ;3607
00056e  9b0b              LDR      r3,[sp,#0x2c]         ;3608
000570  f9b118b8          LDRSH    r1,[r1,#0x8b8]        ;3607  ; FullSharedBuff
000574  f9b338ba          LDRSH    r3,[r3,#0x8ba]        ;3608  ; FullSharedBuff
000578  440b              ADD      r3,r3,r1              ;3608
00057a  990b              LDR      r1,[sp,#0x2c]         ;3609
00057c  f9b11960          LDRSH    r1,[r1,#0x960]        ;3609  ; FullSharedBuff
000580  4419              ADD      r1,r1,r3              ;3609
000582  9b0b              LDR      r3,[sp,#0x2c]         ;3610
000584  f9b33962          LDRSH    r3,[r3,#0x962]        ;3610  ; FullSharedBuff
000588  4419              ADD      r1,r1,r3              ;3610
00058a  6351              STR      r1,[r2,#0x34]         ;3610  ; sum_LR
00058c  e6ee              B        |L3.876|
                  |L3.1422|
00058e  e031              B        |L3.1524|
                  |L3.1424|
000590  9b0c              LDR      r3,[sp,#0x30]         ;3659
000592  f9b124f6          LDRSH    r2,[r1,#0x4f6]        ;3658  ; FullSharedBuff
000596  491a              LDR      r1,|L3.1536|
000598  f9b334f8          LDRSH    r3,[r3,#0x4f8]        ;3659  ; FullSharedBuff
00059c  441a              ADD      r2,r2,r3              ;3659
00059e  9b0c              LDR      r3,[sp,#0x30]         ;3660
0005a0  f9b3359e          LDRSH    r3,[r3,#0x59e]        ;3660  ; FullSharedBuff
0005a4  441a              ADD      r2,r2,r3              ;3660
0005a6  9b0c              LDR      r3,[sp,#0x30]         ;3661
0005a8  f9b335a0          LDRSH    r3,[r3,#0x5a0]        ;3661  ; FullSharedBuff
0005ac  441a              ADD      r2,r2,r3              ;3661
0005ae  630a              STR      r2,[r1,#0x30]         ;3661  ; sum_TB
0005b0  9a0c              LDR      r2,[sp,#0x30]         ;3662
0005b2  9b0c              LDR      r3,[sp,#0x30]         ;3663
0005b4  f9b222f8          LDRSH    r2,[r2,#0x2f8]        ;3662  ; FullSharedBuff
0005b8  f9b332fa          LDRSH    r3,[r3,#0x2fa]        ;3663  ; FullSharedBuff
0005bc  441a              ADD      r2,r2,r3              ;3663
0005be  9b0c              LDR      r3,[sp,#0x30]         ;3664
0005c0  f9b333a0          LDRSH    r3,[r3,#0x3a0]        ;3664  ; FullSharedBuff
0005c4  441a              ADD      r2,r2,r3              ;3664
0005c6  9b0c              LDR      r3,[sp,#0x30]         ;3665
0005c8  f9b333a2          LDRSH    r3,[r3,#0x3a2]        ;3665  ; FullSharedBuff
0005cc  441a              ADD      r2,r2,r3              ;3665
0005ce  634a              STR      r2,[r1,#0x34]         ;3665  ; sum_LR
0005d0  e6cc              B        |L3.876|
                  |L3.1490|
0005d2  f1a0011e          SUB      r1,r0,#0x1e           ;3752
0005d6  429a              CMP      r2,r3                 ;3745
0005d8  b289              UXTH     r1,r1                 ;3752
0005da  bfcc              ITE      GT                    ;3747
0005dc  9111              STRGT    r1,[sp,#0x44]         ;3747
0005de  9106              STRLE    r1,[sp,#0x18]         ;3752
0005e0  f1a0000a          SUB      r0,r0,#0xa            ;3752
0005e4  b280              UXTH     r0,r0                 ;3753
0005e6  bfcc              ITE      GT                    ;3748
0005e8  9006              STRGT    r0,[sp,#0x18]         ;3748
0005ea  9011              STRLE    r0,[sp,#0x44]         ;3753
0005ec  e6e1              B        |L3.946|
                  |L3.1518|
0005ee  f04f0b00          MOV      r11,#0                ;3778
0005f2  e700              B        |L3.1014|
                  |L3.1524|
0005f4  f04f0b00          MOV      r11,#0                ;3836
0005f8  e74b              B        |L3.1170|
;;;3892   #endif
                          ENDP

0005fa  0000              DCW      0x0000
                  |L3.1532|
                          DCD      ||.data||+0x20
                  |L3.1536|
                          DCD      ||.data||

                          AREA ||i.algorithm_coord_IsEdgeArea||, CODE, READONLY, ALIGN=2

                  algorithm_coord_IsEdgeArea PROC
;;;948    }
;;;949    int8_t algorithm_coord_IsEdgeArea(tXY_t * pos, int offset)
000000  4b15              LDR      r3,|L4.88|
;;;950    {
000002  b430              PUSH     {r4,r5}
;;;951    	int8_t cRet = 0;
;;;952    
;;;953    	if( (pos->x < thisInfo->tCoord.iXEdgeStart + offset) || ((thisInfo->tCoord.iInternalXRes - pos->x) < thisInfo->tCoord.iXEdgeStart + offset) )
000004  68db              LDR      r3,[r3,#0xc]  ; thisInfo
000006  4602              MOV      r2,r0                 ;950
000008  f5035380          ADD      r3,r3,#0x1000
00000c  6814              LDR      r4,[r2,#0]
00000e  f8d3c095          LDR      r12,[r3,#0x95]
;;;954    	{
;;;955    		if( ( pos->y < thisInfo->tCoord.iYEdgeStart + offset ) || ((thisInfo->tCoord.iInternalYRes - pos->y) < thisInfo->tCoord.iYEdgeStart + offset) )
000012  f8d35099          LDR      r5,[r3,#0x99]
000016  448c              ADD      r12,r12,r1            ;953
000018  2000              MOVS     r0,#0                 ;951
00001a  6852              LDR      r2,[r2,#4]
00001c  4429              ADD      r1,r1,r5
00001e  4564              CMP      r4,r12                ;953
000020  db04              BLT      |L4.44|
000022  f8d35085          LDR      r5,[r3,#0x85]         ;953
000026  1b2c              SUBS     r4,r5,r4              ;953
000028  4564              CMP      r4,r12                ;953
00002a  da0c              BGE      |L4.70|
                  |L4.44|
00002c  428a              CMP      r2,r1
00002e  db04              BLT      |L4.58|
000030  f8d30089          LDR      r0,[r3,#0x89]
000034  1a80              SUBS     r0,r0,r2
000036  4288              CMP      r0,r1
000038  da02              BGE      |L4.64|
                  |L4.58|
;;;956    		{
;;;957    			cRet = 2;
;;;958    		}
;;;959    		else
;;;960    		{
;;;961    			cRet = 1;
;;;962    		}
;;;963    	}
;;;964    	else if( (pos->y < thisInfo->tCoord.iYEdgeStart + offset) || ((thisInfo->tCoord.iInternalYRes - pos->y) < thisInfo->tCoord.iYEdgeStart + offset) )
;;;965    	{
;;;966    		cRet = 1;
;;;967    	}
;;;968    
;;;969    	return cRet;
;;;970    }
00003a  bc30              POP      {r4,r5}
00003c  2002              MOVS     r0,#2                 ;957
00003e  4770              BX       lr
                  |L4.64|
000040  bc30              POP      {r4,r5}
000042  2001              MOVS     r0,#1                 ;961
000044  4770              BX       lr
                  |L4.70|
000046  428a              CMP      r2,r1                 ;964
000048  dbfa              BLT      |L4.64|
00004a  f8d33089          LDR      r3,[r3,#0x89]         ;964
00004e  1a9a              SUBS     r2,r3,r2              ;964
000050  4291              CMP      r1,r2                 ;964
000052  dcf5              BGT      |L4.64|
000054  bc30              POP      {r4,r5}
000056  4770              BX       lr
;;;971    
                          ENDP

                  |L4.88|
                          DCD      ||.data||

                          AREA ||i.algorithm_coord_IsEdgeArea_Cell||, CODE, READONLY, ALIGN=1

                  algorithm_coord_IsEdgeArea_Cell PROC
;;;971    
;;;972    uint8_t algorithm_coord_IsEdgeArea_Cell(int8_t r, int8_t c, int8_t offset)
000000  4684              MOV      r12,r0
;;;973    {
000002  b410              PUSH     {r4}
;;;974    	uint8_t bRet = 0;
000004  2000              MOVS     r0,#0
;;;975    
;;;976    	if( (r <= 0 + offset) || (r >= ROW_MAX-1-offset) )
;;;977    	{
;;;978    		if((c <= 0 + offset) || (c >= COL_MAX-1-offset))bRet = 2;
000006  f1c20353          RSB      r3,r2,#0x53
00000a  4594              CMP      r12,r2                ;976
00000c  bfc4              ITT      GT                    ;976
00000e  f1c2042f          RSBGT    r4,r2,#0x2f           ;976
000012  4564              CMPGT    r4,r12                ;976
000014  dc08              BGT      |L5.40|
000016  4291              CMP      r1,r2
000018  bfcf              ITEEE    GT
00001a  428b              CMPGT    r3,r1
00001c  2002              MOVLE    r0,#2
;;;979    		else bRet = 1;
;;;980    	}
;;;981    	else if((c <= 0 + offset) || (c >= COL_MAX-1-offset))bRet = 1;
;;;982    	
;;;983    	return bRet;
;;;984    }
00001e  bc10              POPLE    {r4}
000020  4770              BXLE     lr
                  |L5.34|
000022  2001              MOVS     r0,#1                 ;979
000024  bc10              POP      {r4}
000026  4770              BX       lr
                  |L5.40|
000028  4291              CMP      r1,r2                 ;981
00002a  bfc8              IT       GT                    ;981
00002c  428b              CMPGT    r3,r1                 ;981
00002e  ddf8              BLE      |L5.34|
000030  bc10              POP      {r4}
000032  4770              BX       lr
;;;985    
                          ENDP


                          AREA ||i.algorithm_coord_OutInDrawing||, CODE, READONLY, ALIGN=2

                  algorithm_coord_OutInDrawing PROC
;;;2337   
;;;2338   void algorithm_coord_OutInDrawing(void)
000000  e92d4ff0          PUSH     {r4-r11,lr}
;;;2339   {
;;;2340   	int i;
;;;2341   	tXY_t	temp_pos, temp_pos2;
;;;2342   	int bound_th = thisModeConf->CoordEdge.usOutInDrawEdgeTh;
000004  4af5              LDR      r2,|L6.988|
000006  b097              SUB      sp,sp,#0x5c           ;2339
;;;2343   	int dis_th = thisModeConf->CoordEdge.ucOutInDrawDisTh;
;;;2344   	int PostProcess[MAX_TOUCH_] = {0, };
000008  f04f0e00          MOV      lr,#0
00000c  f8d28008          LDR      r8,[r2,#8]            ;2342  ; thisModeConf
;;;2345   	
;;;2346   	tCoordInfo_t 	*temp_coord;
;;;2347   	temp_coord = &thisInfo->tCoord;
;;;2348   	//Heon
;;;2349   	//thisInfo->bIsOutIn = NO;
;;;2350   	for( i=MAX_TOUCH_; i--; )
;;;2351   	{
;;;2352   //		temp_coord->bOutInFlag[i] = NO;
;;;2353   //		temp_coord->bOutInFlag2[i] = NO;
;;;2354   		if( temp_coord->tPos.vusS[i] > 0 && temp_coord->tPastPos[0].vusS[i] == 0 )
;;;2355   		{
;;;2356   			if( (temp_coord->tFirstPos.tXY[i].x < thisModeConf->CoordEdge.usOutInDrawEdgeTh) || ((thisInfo->tCoord.iInternalXRes - temp_coord->tFirstPos.tXY[i].x) < thisModeConf->CoordEdge.usOutInDrawEdgeTh)
;;;2357   			|| (temp_coord->tFirstPos.tXY[i].y < thisModeConf->CoordEdge.usOutInDrawEdgeTh) || ((thisInfo->tCoord.iInternalYRes - temp_coord->tFirstPos.tXY[i].y) < thisModeConf->CoordEdge.usOutInDrawEdgeTh) )
;;;2358   			{
;;;2359   				if(temp_coord->tFirstPos.tXY[i].x == temp_coord->tOrgPos.tXY[i].x && temp_coord->tFirstPos.tXY[i].y == temp_coord->tOrgPos.tXY[i].y)
;;;2360   				{
;;;2361   					temp_coord->tPos.vusS[i] = 0;
;;;2362   					break;
;;;2363   				}
;;;2364   			}
;;;2365   			
;;;2366   			if(temp_coord->tFirstPos.tXY[i].x < bound_th)
;;;2367   			{
;;;2368   				temp_pos2.x = temp_coord->tOrgPos.tXY[i].x-temp_coord->tFirstPos.tXY[i].x;
;;;2369   				if(temp_pos2.x > dis_th)
;;;2370   				{	
;;;2371   					PostProcess[i] = 1;
;;;2372   					temp_pos2.y = temp_coord->tOrgPos.tXY[i].y - temp_coord->tFirstPos.tXY[i].y;
;;;2373   					temp_pos.x = temp_coord->tFirstPos.tXY[i].x;
;;;2374   					temp_pos.y = (temp_pos.x*temp_pos2.y)/temp_pos2.x;
;;;2375   					temp_coord->tPos.tXY[i].x = -UNIT_DIST;
;;;2376   					temp_coord->tPos.tXY[i].y = temp_coord->tFirstPos.tXY[i].y - temp_pos.y;
;;;2377   					//temp_coord->tPos.tXY[i] = temp_coord->tOrgPos.tXY[i];
;;;2378   					
;;;2379   					//Heon
;;;2380   					if(temp_pos2.x > OUTIN_INTERPOLATION_DIST){
;;;2381   						testcode = 1;
;;;2382   						temp_coord->tOutInPos.tXY[i] = temp_coord->tOrgPos.tXY[i];
;;;2383   						test[i] = temp_coord->tOutInPos.tXY[i];
;;;2384   						temp_coord->bOutInFlag[i] = YES;
;;;2385   						thisInfo->bIsOutIn = YES;
;;;2386   						test_FirstPos = temp_coord->tFirstPos.tXY[i];
;;;2387   						test_OrgPos = temp_coord->tOrgPos.tXY[i];
;;;2388   						//중점
;;;2389   //						temp_coord->tOutInPos.tXY[i].x = (temp_coord->tOrgPos.tXY[i].x + temp_coord->tPos.tXY[i].x)/2;
;;;2390   //						temp_coord->tOutInPos.tXY[i].y = (temp_coord->tOrgPos.tXY[i].y + temp_coord->tPos.tXY[i].y)/2;
;;;2391   					}
;;;2392   					//
;;;2393   				}
;;;2394   			}
;;;2395   			else if(temp_coord->tFirstPos.tXY[i].x > thisInfo->tCoord.iInternalXRes - bound_th)
;;;2396   			{
;;;2397   				temp_pos2.x = temp_coord->tFirstPos.tXY[i].x-temp_coord->tOrgPos.tXY[i].x;
;;;2398   				if(temp_pos2.x > dis_th)
;;;2399   				{
;;;2400   					PostProcess[i] = 1;
;;;2401   					temp_pos2.y = temp_coord->tOrgPos.tXY[i].y - temp_coord->tFirstPos.tXY[i].y;
;;;2402   					temp_pos.x = thisInfo->tCoord.iInternalXRes - temp_coord->tFirstPos.tXY[i].x;
;;;2403   					temp_pos.y = (temp_pos.x*temp_pos2.y)/temp_pos2.x;
;;;2404   					temp_coord->tPos.tXY[i].x = thisInfo->tCoord.iInternalXRes + UNIT_DIST;
;;;2405   					temp_coord->tPos.tXY[i].y = temp_coord->tFirstPos.tXY[i].y - temp_pos.y;
;;;2406   					//temp_coord->tPos.tXY[i] = temp_coord->tOrgPos.tXY[i];
;;;2407   					
;;;2408   					//
;;;2409   					if(temp_pos2.x > OUTIN_INTERPOLATION_DIST){
;;;2410   						testcode = 2;
;;;2411   						temp_coord->tOutInPos.tXY[i] = temp_coord->tOrgPos.tXY[i];
;;;2412   						test[i] = temp_coord->tOutInPos.tXY[i];
;;;2413   						temp_coord->bOutInFlag[i] = YES;
;;;2414   						thisInfo->bIsOutIn = YES;
;;;2415   						test_FirstPos = temp_coord->tFirstPos.tXY[i];
;;;2416   						test_OrgPos = temp_coord->tOrgPos.tXY[i];
;;;2417   						//중점
;;;2418   //						temp_coord->tOutInPos.tXY[i].x = (temp_coord->tOrgPos.tXY[i].x + temp_coord->tPos.tXY[i].x)/2;
;;;2419   //						temp_coord->tOutInPos.tXY[i].y = (temp_coord->tOrgPos.tXY[i].y + temp_coord->tPos.tXY[i].y)/2;
;;;2420   					}
;;;2421   					//
;;;2422   				}
;;;2423   			}	
;;;2424   			
;;;2425   			if(temp_coord->tFirstPos.tXY[i].y > thisInfo->tCoord.iInternalYRes - bound_th)
;;;2426   			{
;;;2427   				if(PostProcess[i] == 0 || ((temp_coord->tPos.tXY[i].x == -UNIT_DIST || temp_coord->tPos.tXY[i].x == (thisInfo->tCoord.iInternalXRes + UNIT_DIST)) && temp_coord->tPos.tXY[i].y > (thisInfo->tCoord.iInternalYRes + UNIT_DIST)))
;;;2428   				{
;;;2429   					temp_pos2.x = temp_coord->tOrgPos.tXY[i].x-temp_coord->tFirstPos.tXY[i].x;
;;;2430   					temp_pos2.y = temp_coord->tFirstPos.tXY[i].y-temp_coord->tOrgPos.tXY[i].y;
;;;2431   					if(temp_pos2.y > dis_th)
;;;2432   					{
;;;2433   						PostProcess[i] = 1;
;;;2434   						temp_pos.y = thisInfo->tCoord.iInternalYRes - temp_coord->tFirstPos.tXY[i].y;
;;;2435   						temp_pos.x = (temp_pos2.x*temp_pos.y)/temp_pos2.y;
;;;2436   						temp_coord->tPos.tXY[i].x = temp_coord->tFirstPos.tXY[i].x - temp_pos.x;
;;;2437   						temp_coord->tPos.tXY[i].y = thisInfo->tCoord.iInternalYRes + UNIT_DIST;
;;;2438   						//temp_coord->tPos.tXY[i] = temp_coord->tOrgPos.tXY[i];
;;;2439   						
;;;2440   						//
;;;2441   						if(temp_pos2.y > OUTIN_INTERPOLATION_DIST){
;;;2442   							testcode = 3;
;;;2443   							temp_coord->tOutInPos.tXY[i] = temp_coord->tOrgPos.tXY[i];
;;;2444   							test[i] = temp_coord->tOutInPos.tXY[i];
;;;2445   							temp_coord->bOutInFlag[i] = YES;
;;;2446   							thisInfo->bIsOutIn = YES;
;;;2447   							test_FirstPos = temp_coord->tFirstPos.tXY[i];
;;;2448   							test_OrgPos = temp_coord->tOrgPos.tXY[i];
;;;2449   							//중점
;;;2450   //							temp_coord->tOutInPos.tXY[i].x = (temp_coord->tOrgPos.tXY[i].x + temp_coord->tPos.tXY[i].x)/2;
;;;2451   //							temp_coord->tOutInPos.tXY[i].y = (temp_coord->tOrgPos.tXY[i].y + temp_coord->tPos.tXY[i].y)/2;
;;;2452   						}
;;;2453   						//
;;;2454   					}
;;;2455   				}
;;;2456   			}	
;;;2457   
;;;2458   			else if(temp_coord->tFirstPos.tXY[i].y < bound_th)
;;;2459   			{
;;;2460   				if(PostProcess[i] == 0 || ((temp_coord->tPos.tXY[i].x == -UNIT_DIST || temp_coord->tPos.tXY[i].x == (thisInfo->tCoord.iInternalXRes + UNIT_DIST)) && temp_coord->tPos.tXY[i].y < -UNIT_DIST))
;;;2461   				{
;;;2462   					PostProcess[i] = 1;
;;;2463   					temp_pos2.x = temp_coord->tOrgPos.tXY[i].x - temp_coord->tFirstPos.tXY[i].x;
;;;2464   					temp_pos2.y = temp_coord->tOrgPos.tXY[i].y - temp_coord->tFirstPos.tXY[i].y;
;;;2465   					if(temp_pos2.y > dis_th)
;;;2466   					{
;;;2467   						temp_pos.y = temp_coord->tFirstPos.tXY[i].y;
;;;2468   						temp_pos.x = (temp_pos2.x*temp_pos.y)/temp_pos2.y;
;;;2469   						temp_coord->tPos.tXY[i].x = temp_coord->tFirstPos.tXY[i].x - temp_pos.x;
;;;2470   						temp_coord->tPos.tXY[i].y = -UNIT_DIST;
;;;2471   						//temp_coord->tPos.tXY[i] = temp_coord->tOrgPos.tXY[i];
;;;2472   						
;;;2473   						//
;;;2474   						if(temp_pos2.y > OUTIN_INTERPOLATION_DIST){
;;;2475   							testcode = 4;
;;;2476   							temp_coord->tOutInPos.tXY[i] = temp_coord->tOrgPos.tXY[i];
;;;2477   							test[i] = temp_coord->tOutInPos.tXY[i];
;;;2478   							temp_coord->bOutInFlag[i] = YES;
;;;2479   							thisInfo->bIsOutIn = YES;
;;;2480   							test_FirstPos = temp_coord->tFirstPos.tXY[i];
;;;2481   							test_OrgPos = temp_coord->tOrgPos.tXY[i];
;;;2482   							//중점
;;;2483   //							temp_coord->tOutInPos.tXY[i].x = (temp_coord->tOrgPos.tXY[i].x + temp_coord->tPos.tXY[i].x)/2;
;;;2484   //							temp_coord->tOutInPos.tXY[i].y = (temp_coord->tOrgPos.tXY[i].y + temp_coord->tPos.tXY[i].y)/2;
;;;2485   						}
;;;2486   						//
;;;2487   					}
;;;2488   				}
;;;2489   			}
;;;2490   			
;;;2491   			if(PostProcess[i] == 1)
;;;2492   			{
;;;2493   				temp_coord->tFirstPos.tXY[i] = temp_coord->tOrgPos.tXY[i];
;;;2494   			}
;;;2495   		}
;;;2496   	}
;;;2497   }
000010  2109              MOVS     r1,#9
000012  ac04              ADD      r4,sp,#0x10           ;2344
000014  f8b860e6          LDRH     r6,[r8,#0xe6]         ;2342
000018  f89870e8          LDRB     r7,[r8,#0xe8]         ;2343
00001c  f8cde010          STR      lr,[sp,#0x10]         ;2344
000020  f8cde014          STR      lr,[sp,#0x14]         ;2344
000024  f8cde018          STR      lr,[sp,#0x18]         ;2344
000028  f8cde01c          STR      lr,[sp,#0x1c]         ;2344
00002c  f8cde020          STR      lr,[sp,#0x20]         ;2344
000030  f8cde024          STR      lr,[sp,#0x24]         ;2344
000034  f8cde028          STR      lr,[sp,#0x28]         ;2344
000038  f8cde02c          STR      lr,[sp,#0x2c]         ;2344
00003c  f8cde030          STR      lr,[sp,#0x30]         ;2344
000040  f8cde034          STR      lr,[sp,#0x34]         ;2347
000044  68d0              LDR      r0,[r2,#0xc]          ;2347  ; thisInfo
000046  f2003c69          ADD      r12,r0,#0x369         ;2347
00004a  f5005380          ADD      r3,r0,#0x1000         ;2356
00004e  bf00              NOP                            ;2354
                  |L6.80|
000050  eb0c0041          ADD      r0,r12,r1,LSL #1      ;2354
000054  f8b05186          LDRH     r5,[r0,#0x186]        ;2354
000058  2d00              CMP      r5,#0                 ;2354
00005a  f00081b8          BEQ.W    |L6.974|
00005e  f8b00392          LDRH     r0,[r0,#0x392]        ;2354
000062  2800              CMP      r0,#0                 ;2354
000064  f04081b3          BNE.W    |L6.974|
000068  eb0c00c1          ADD      r0,r12,r1,LSL #3      ;2356
00006c  f8b890e6          LDRH     r9,[r8,#0xe6]         ;2356
000070  f8d0524f          LDR      r5,[r0,#0x24f]        ;2356
000074  454d              CMP      r5,r9                 ;2356
000076  db0f              BLT      |L6.152|
000078  f8d3a085          LDR      r10,[r3,#0x85]        ;2356
00007c  ebaa0a05          SUB      r10,r10,r5            ;2356
000080  45ca              CMP      r10,r9                ;2356
000082  bfa4              ITT      GE                    ;2357
000084  f8d0a253          LDRGE    r10,[r0,#0x253]       ;2357
000088  45ca              CMPGE    r10,r9                ;2357
00008a  db05              BLT      |L6.152|
00008c  f8d3b089          LDR      r11,[r3,#0x89]        ;2357
000090  ebab0a0a          SUB      r10,r11,r10           ;2357
000094  45d1              CMP      r9,r10                ;2357
000096  dd10              BLE      |L6.186|
                  |L6.152|
000098  f8d0959f          LDR      r9,[r0,#0x59f]        ;2359
00009c  454d              CMP      r5,r9                 ;2359
00009e  d10c              BNE      |L6.186|
0000a0  f8d09253          LDR      r9,[r0,#0x253]        ;2359
0000a4  f8d0a5a3          LDR      r10,[r0,#0x5a3]       ;2359
0000a8  45d1              CMP      r9,r10                ;2359
0000aa  d106              BNE      |L6.186|
0000ac  eb0c0041          ADD      r0,r12,r1,LSL #1      ;2361
0000b0  f8a0e186          STRH     lr,[r0,#0x186]        ;2361
0000b4  b017              ADD      sp,sp,#0x5c
0000b6  e8bd8ff0          POP      {r4-r11,pc}
                  |L6.186|
0000ba  42b5              CMP      r5,r6                 ;2366
0000bc  da4d              BGE      |L6.346|
0000be  f8d0959f          LDR      r9,[r0,#0x59f]        ;2368
0000c2  eba90905          SUB      r9,r9,r5              ;2368
0000c6  f8cd9000          STR      r9,[sp,#0]            ;2369
0000ca  45b9              CMP      r9,r7                 ;2369
0000cc  dd44              BLE      |L6.344|
0000ce  f04f0901          MOV      r9,#1                 ;2371
0000d2  f8449021          STR      r9,[r4,r1,LSL #2]     ;2371
0000d6  f8d0b5a3          LDR      r11,[r0,#0x5a3]       ;2372
0000da  f8d0a253          LDR      r10,[r0,#0x253]       ;2372
0000de  ebab0b0a          SUB      r11,r11,r10           ;2372
0000e2  fb05fb0b          MUL      r11,r5,r11            ;2374
0000e6  9d00              LDR      r5,[sp,#0]            ;2374
0000e8  fb9bf5f5          SDIV     r5,r11,r5             ;2374
0000ec  f06f0bff          MVN      r11,#0xff             ;2375
0000f0  f8c0b136          STR      r11,[r0,#0x136]       ;2375
0000f4  ebaa0505          SUB      r5,r10,r5             ;2376
0000f8  f8c0513a          STR      r5,[r0,#0x13a]        ;2376
0000fc  9d00              LDR      r5,[sp,#0]            ;2380
0000fe  f5b57f2f          CMP      r5,#0x2bc             ;2380
000102  dd7f              BLE      |L6.516|
000104  2501              MOVS     r5,#1                 ;2381
000106  6155              STR      r5,[r2,#0x14]         ;2382  ; testcode
000108  f8d0559f          LDR      r5,[r0,#0x59f]        ;2382
00010c  f8c05a57          STR      r5,[r0,#0xa57]        ;2382
000110  f8d095a3          LDR      r9,[r0,#0x5a3]        ;2382
000114  f8c09a5b          STR      r9,[r0,#0xa5b]        ;2382
000118  f8df92c4          LDR      r9,|L6.992|
00011c  f5006b80          ADD      r11,r0,#0x400         ;2382
000120  eb0909c1          ADD      r9,r9,r1,LSL #3       ;2383
000124  f8c95000          STR      r5,[r9,#0]            ;2383
000128  f8d05a5b          LDR      r5,[r0,#0xa5b]        ;2383
00012c  f8c95004          STR      r5,[r9,#4]            ;2383
000130  eb0c0901          ADD      r9,r12,r1             ;2384
000134  2501              MOVS     r5,#1                 ;2384
000136  f8895c88          STRB     r5,[r9,#0xc88]        ;2384
00013a  f883532b          STRB     r5,[r3,#0x32b]        ;2385
00013e  f8d0524f          LDR      r5,[r0,#0x24f]        ;2386
000142  6395              STR      r5,[r2,#0x38]         ;2386  ; test_FirstPos
000144  f8d05253          LDR      r5,[r0,#0x253]        ;2386
000148  63d5              STR      r5,[r2,#0x3c]         ;2387  ; test_FirstPos
00014a  f8db919f          LDR      r9,[r11,#0x19f]       ;2387
00014e  f8c29040          STR      r9,[r2,#0x40]         ;2387  ; test_OrgPos
000152  f8db51a3          LDR      r5,[r11,#0x1a3]       ;2387
000156  6455              STR      r5,[r2,#0x44]         ;2387  ; test_OrgPos
                  |L6.344|
000158  e054              B        |L6.516|
                  |L6.346|
00015a  f8d3b085          LDR      r11,[r3,#0x85]        ;2395
00015e  ebab0906          SUB      r9,r11,r6             ;2395
000162  454d              CMP      r5,r9                 ;2395
000164  dd4e              BLE      |L6.516|
000166  f8d0959f          LDR      r9,[r0,#0x59f]        ;2397
00016a  eba50909          SUB      r9,r5,r9              ;2397
00016e  f8cd9000          STR      r9,[sp,#0]            ;2398
000172  45b9              CMP      r9,r7                 ;2398
000174  dd46              BLE      |L6.516|
000176  f04f0901          MOV      r9,#1                 ;2400
00017a  f8449021          STR      r9,[r4,r1,LSL #2]     ;2400
00017e  f8d0a5a3          LDR      r10,[r0,#0x5a3]       ;2401
000182  f8d09253          LDR      r9,[r0,#0x253]        ;2401
000186  ebab0505          SUB      r5,r11,r5             ;2402
00018a  ebaa0a09          SUB      r10,r10,r9            ;2401
00018e  fb05fa0a          MUL      r10,r5,r10            ;2403
000192  9d00              LDR      r5,[sp,#0]            ;2403
000194  fb9af5f5          SDIV     r5,r10,r5             ;2403
000198  f50b7a80          ADD      r10,r11,#0x100        ;2404
00019c  f8c0a136          STR      r10,[r0,#0x136]       ;2404
0001a0  eba90505          SUB      r5,r9,r5              ;2405
0001a4  f8c0513a          STR      r5,[r0,#0x13a]        ;2405
0001a8  9d00              LDR      r5,[sp,#0]            ;2409
0001aa  f5b57f2f          CMP      r5,#0x2bc             ;2409
0001ae  dd29              BLE      |L6.516|
0001b0  2502              MOVS     r5,#2                 ;2410
0001b2  6155              STR      r5,[r2,#0x14]         ;2411  ; testcode
0001b4  f8d0559f          LDR      r5,[r0,#0x59f]        ;2411
0001b8  f8c05a57          STR      r5,[r0,#0xa57]        ;2411
0001bc  f8d095a3          LDR      r9,[r0,#0x5a3]        ;2411
0001c0  f8c09a5b          STR      r9,[r0,#0xa5b]        ;2411
0001c4  f8df9218          LDR      r9,|L6.992|
0001c8  f5006b80          ADD      r11,r0,#0x400         ;2411
0001cc  eb0909c1          ADD      r9,r9,r1,LSL #3       ;2412
0001d0  f8c95000          STR      r5,[r9,#0]            ;2412
0001d4  f8d05a5b          LDR      r5,[r0,#0xa5b]        ;2412
0001d8  f8c95004          STR      r5,[r9,#4]            ;2412
0001dc  eb0c0901          ADD      r9,r12,r1             ;2413
0001e0  2501              MOVS     r5,#1                 ;2413
0001e2  f8895c88          STRB     r5,[r9,#0xc88]        ;2413
0001e6  f883532b          STRB     r5,[r3,#0x32b]        ;2414
0001ea  f8d0524f          LDR      r5,[r0,#0x24f]        ;2415
0001ee  6395              STR      r5,[r2,#0x38]         ;2415  ; test_FirstPos
0001f0  f8d05253          LDR      r5,[r0,#0x253]        ;2415
0001f4  63d5              STR      r5,[r2,#0x3c]         ;2416  ; test_FirstPos
0001f6  f8db919f          LDR      r9,[r11,#0x19f]       ;2416
0001fa  f8c29040          STR      r9,[r2,#0x40]         ;2416  ; test_OrgPos
0001fe  f8db51a3          LDR      r5,[r11,#0x1a3]       ;2416
000202  6455              STR      r5,[r2,#0x44]         ;2416  ; test_OrgPos
                  |L6.516|
000204  f8d39089          LDR      r9,[r3,#0x89]         ;2425
000208  f8d05253          LDR      r5,[r0,#0x253]        ;2425
00020c  eba90a06          SUB      r10,r9,r6             ;2425
000210  4555              CMP      r5,r10                ;2425
000212  dd6b              BLE      |L6.748|
000214  f854a021          LDR      r10,[r4,r1,LSL #2]    ;2427
000218  f1ba0f00          CMP      r10,#0                ;2427
00021c  d010              BEQ      |L6.576|
00021e  f8d0a136          LDR      r10,[r0,#0x136]       ;2427
000222  f51a7f80          CMN      r10,#0x100            ;2427
000226  d005              BEQ      |L6.564|
000228  f8d3b085          LDR      r11,[r3,#0x85]        ;2427
00022c  f50b7b80          ADD      r11,r11,#0x100        ;2427
000230  45da              CMP      r10,r11               ;2427
000232  d17d              BNE      |L6.816|
                  |L6.564|
000234  f8d0a13a          LDR      r10,[r0,#0x13a]       ;2427
000238  f5097b80          ADD      r11,r9,#0x100         ;2427
00023c  45da              CMP      r10,r11               ;2427
00023e  dd77              BLE      |L6.816|
                  |L6.576|
000240  f8d0b59f          LDR      r11,[r0,#0x59f]       ;2429
000244  f8d0a24f          LDR      r10,[r0,#0x24f]       ;2429
000248  f8cda048          STR      r10,[sp,#0x48]        ;2430
00024c  ebab0b0a          SUB      r11,r11,r10           ;2429
000250  f8d0a5a3          LDR      r10,[r0,#0x5a3]       ;2430
000254  eba50a0a          SUB      r10,r5,r10            ;2430
000258  f8cda04c          STR      r10,[sp,#0x4c]        ;2431
00025c  45ba              CMP      r10,r7                ;2431
00025e  dd67              BLE      |L6.816|
000260  f04f0a01          MOV      r10,#1                ;2433
000264  eba90505          SUB      r5,r9,r5              ;2434
000268  f844a021          STR      r10,[r4,r1,LSL #2]    ;2433
00026c  fb0bf905          MUL      r9,r11,r5             ;2435
000270  9d13              LDR      r5,[sp,#0x4c]         ;2435
000272  fb99f5f5          SDIV     r5,r9,r5              ;2435
000276  f8dd9048          LDR      r9,[sp,#0x48]         ;2436
00027a  eba90505          SUB      r5,r9,r5              ;2436
00027e  f8c05136          STR      r5,[r0,#0x136]        ;2436
000282  f8d35089          LDR      r5,[r3,#0x89]         ;2437
000286  f5057580          ADD      r5,r5,#0x100          ;2437
00028a  f8c0513a          STR      r5,[r0,#0x13a]        ;2437
00028e  9d13              LDR      r5,[sp,#0x4c]         ;2441
000290  f5b57f2f          CMP      r5,#0x2bc             ;2441
000294  dd7e              BLE      |L6.916|
000296  2503              MOVS     r5,#3                 ;2442
000298  6155              STR      r5,[r2,#0x14]         ;2443  ; testcode
00029a  f8d0559f          LDR      r5,[r0,#0x59f]        ;2443
00029e  f8c05a57          STR      r5,[r0,#0xa57]        ;2443
0002a2  f8d0a5a3          LDR      r10,[r0,#0x5a3]       ;2443
0002a6  f8c0aa5b          STR      r10,[r0,#0xa5b]       ;2443
0002aa  f8dfa134          LDR      r10,|L6.992|
0002ae  eb0c0901          ADD      r9,r12,r1             ;2445
0002b2  eb0a0ac1          ADD      r10,r10,r1,LSL #3     ;2444
0002b6  f5006b80          ADD      r11,r0,#0x400         ;2443
0002ba  f8ca5000          STR      r5,[r10,#0]           ;2444
0002be  f8d05a5b          LDR      r5,[r0,#0xa5b]        ;2444
0002c2  f8ca5004          STR      r5,[r10,#4]           ;2444
0002c6  2501              MOVS     r5,#1                 ;2445
0002c8  f8895c88          STRB     r5,[r9,#0xc88]        ;2445
0002cc  f883532b          STRB     r5,[r3,#0x32b]        ;2446
0002d0  f8d0524f          LDR      r5,[r0,#0x24f]        ;2447
0002d4  6395              STR      r5,[r2,#0x38]         ;2447  ; test_FirstPos
0002d6  f8d05253          LDR      r5,[r0,#0x253]        ;2447
0002da  63d5              STR      r5,[r2,#0x3c]         ;2448  ; test_FirstPos
0002dc  f8db919f          LDR      r9,[r11,#0x19f]       ;2448
0002e0  f8c29040          STR      r9,[r2,#0x40]         ;2448  ; test_OrgPos
0002e4  f8db51a3          LDR      r5,[r11,#0x1a3]       ;2448
0002e8  6455              STR      r5,[r2,#0x44]         ;2448  ; test_OrgPos
0002ea  e068              B        |L6.958|
                  |L6.748|
0002ec  42ae              CMP      r6,r5                 ;2458
0002ee  dd62              BLE      |L6.950|
0002f0  f8549021          LDR      r9,[r4,r1,LSL #2]     ;2460
0002f4  f1b90f00          CMP      r9,#0                 ;2460
0002f8  d00f              BEQ      |L6.794|
0002fa  f8d09136          LDR      r9,[r0,#0x136]        ;2460
0002fe  f5197f80          CMN      r9,#0x100             ;2460
000302  d005              BEQ      |L6.784|
000304  f8d3a085          LDR      r10,[r3,#0x85]        ;2460
000308  f50a7a80          ADD      r10,r10,#0x100        ;2460
00030c  45d1              CMP      r9,r10                ;2460
00030e  d152              BNE      |L6.950|
                  |L6.784|
000310  f8d0913a          LDR      r9,[r0,#0x13a]        ;2460
000314  f5197f80          CMN      r9,#0x100             ;2460
000318  da4d              BGE      |L6.950|
                  |L6.794|
00031a  f04f0901          MOV      r9,#1                 ;2462
00031e  f8449021          STR      r9,[r4,r1,LSL #2]     ;2462
000322  f8d0959f          LDR      r9,[r0,#0x59f]        ;2463
000326  f8d0b24f          LDR      r11,[r0,#0x24f]       ;2463
00032a  eba90a0b          SUB      r10,r9,r11            ;2463
00032e  e000              B        |L6.818|
                  |L6.816|
000330  e041              B        |L6.950|
                  |L6.818|
000332  f8d095a3          LDR      r9,[r0,#0x5a3]        ;2464
000336  eba90905          SUB      r9,r9,r5              ;2464
00033a  45b9              CMP      r9,r7                 ;2465
00033c  dd3f              BLE      |L6.958|
00033e  fb0af505          MUL      r5,r10,r5             ;2468
000342  fb95f5f9          SDIV     r5,r5,r9              ;2468
000346  ebab0505          SUB      r5,r11,r5             ;2469
00034a  f8c05136          STR      r5,[r0,#0x136]        ;2469
00034e  f06f05ff          MVN      r5,#0xff              ;2470
000352  f8c0513a          STR      r5,[r0,#0x13a]        ;2470
000356  f5b97f2f          CMP      r9,#0x2bc             ;2474
00035a  dd30              BLE      |L6.958|
00035c  2504              MOVS     r5,#4                 ;2475
00035e  6155              STR      r5,[r2,#0x14]         ;2476  ; testcode
000360  f8d0559f          LDR      r5,[r0,#0x59f]        ;2476
000364  f8c05a57          STR      r5,[r0,#0xa57]        ;2476
000368  f8d0a5a3          LDR      r10,[r0,#0x5a3]       ;2476
00036c  f8c0aa5b          STR      r10,[r0,#0xa5b]       ;2476
000370  f8dfa06c          LDR      r10,|L6.992|
000374  eb0c0901          ADD      r9,r12,r1             ;2478
000378  eb0a0ac1          ADD      r10,r10,r1,LSL #3     ;2477
00037c  f5006b80          ADD      r11,r0,#0x400         ;2476
000380  f8ca5000          STR      r5,[r10,#0]           ;2477
000384  f8d05a5b          LDR      r5,[r0,#0xa5b]        ;2477
000388  f8ca5004          STR      r5,[r10,#4]           ;2477
00038c  2501              MOVS     r5,#1                 ;2478
00038e  f8895c88          STRB     r5,[r9,#0xc88]        ;2478
000392  e000              B        |L6.918|
                  |L6.916|
000394  e013              B        |L6.958|
                  |L6.918|
000396  f883532b          STRB     r5,[r3,#0x32b]        ;2479
00039a  f8d0524f          LDR      r5,[r0,#0x24f]        ;2480
00039e  6395              STR      r5,[r2,#0x38]         ;2480  ; test_FirstPos
0003a0  f8d05253          LDR      r5,[r0,#0x253]        ;2480
0003a4  63d5              STR      r5,[r2,#0x3c]         ;2481  ; test_FirstPos
0003a6  f8db919f          LDR      r9,[r11,#0x19f]       ;2481
0003aa  f8c29040          STR      r9,[r2,#0x40]         ;2481  ; test_OrgPos
0003ae  f8db51a3          LDR      r5,[r11,#0x1a3]       ;2481
0003b2  6455              STR      r5,[r2,#0x44]         ;2481  ; test_OrgPos
0003b4  e003              B        |L6.958|
                  |L6.950|
0003b6  f8545021          LDR      r5,[r4,r1,LSL #2]     ;2491
0003ba  2d01              CMP      r5,#1                 ;2491
0003bc  d107              BNE      |L6.974|
                  |L6.958|
0003be  f8d0559f          LDR      r5,[r0,#0x59f]        ;2493
0003c2  f8c0524f          STR      r5,[r0,#0x24f]        ;2493
0003c6  f8d055a3          LDR      r5,[r0,#0x5a3]        ;2493
0003ca  f8c05253          STR      r5,[r0,#0x253]        ;2493
                  |L6.974|
0003ce  1e49              SUBS     r1,r1,#1              ;2493
0003d0  f4bfae3e          BCS      |L6.80|
0003d4  b017              ADD      sp,sp,#0x5c
0003d6  e8bd8ff0          POP      {r4-r11,pc}
;;;2498   void algorithm_coord_PostProcess(int mode)
                          ENDP

0003da  0000              DCW      0x0000
                  |L6.988|
                          DCD      ||.data||
                  |L6.992|
                          DCD      ||area_number.28||+0x20

                          AREA ||i.algorithm_coord_PostProcess||, CODE, READONLY, ALIGN=2

                  algorithm_coord_PostProcess PROC
;;;2497   }
;;;2498   void algorithm_coord_PostProcess(int mode)
000000  e92d4ff0          PUSH     {r4-r11,lr}
;;;2499   {
;;;2500   	int i;
;;;2501   	tXY_t	temp_pos;
;;;2502   
;;;2503   	tCoordInfo_t 	*temp_coord;
;;;2504   
;;;2505   	temp_coord = &thisInfo->tCoord;
000004  4ffe              LDR      r7,|L7.1024|
000006  b093              SUB      sp,sp,#0x4c           ;2499
;;;2506   
;;;2507   	for( i=MAX_TOUCH_; i--; )
;;;2508   	{
;;;2509   		if( temp_coord->tPos.vusS[i] > 0 && temp_coord->tPastPos[0].vusS[i] == 0 )
;;;2510   		{
;;;2511   			if( temp_coord->cScreenDebCnt[i] > 2 )
;;;2512   			{
;;;2513   				if( algorithm_coord_IsEdgeArea(&temp_coord->tFirstPos.tXY[i], 0) > 0 )
;;;2514   				{
;;;2515   					int dist;
;;;2516   
;;;2517   					dist = algorithm_coord_calc_distance(temp_coord->tFirstPos.tXY[i], temp_coord->tOrgPos.tXY[i]);
;;;2518   
;;;2519   					if( dist > _BV(6) )
;;;2520   					{
;;;2521   						temp_coord->ucPostProcessRun[i] = 1;
;;;2522   						temp_pos = temp_coord->tPos.tXY[i];
;;;2523   						temp_coord->tPos.tXY[i] = temp_coord->tFirstPos.tXY[i];
;;;2524   						temp_coord->tFirstPos.tXY[i] = temp_pos;
;;;2525   					}
;;;2526   				}
;;;2527   			}
;;;2528   		}
;;;2529   
;;;2530   		if(thisModeConf->CoordEdge.usPostProcessEdgeTH > 0)
;;;2531   		{
;;;2532   			if(temp_coord->tOrgPos.vusS[i] == 0 && temp_coord->tOrgPastPos[1].vusS[i] > 0 && temp_coord->tOrgPastPos[0].vusS[i] > 0 && temp_coord->tOrgPastPos[2].vusS[i] > 0) 
;;;2533   			{
;;;2534   				int ExpandTH = thisModeConf->CoordEdge.usPostProcessEdgeTH;
;;;2535   				uint8_t x_edge_f = 0;
;;;2536   				uint8_t y_edge_f = 0;
;;;2537   				
;;;2538   				if(temp_coord->tOrgPastPos[0].tXY[i].x < ExpandTH)x_edge_f = 1;
;;;2539   				else if(thisInfo->tCoord.iInternalXRes - temp_coord->tOrgPastPos[0].tXY[i].x < ExpandTH)x_edge_f = 2;
;;;2540   				
;;;2541   				if(temp_coord->tOrgPastPos[0].tXY[i].y < ExpandTH)y_edge_f = 1;
;;;2542   				else if(thisInfo->tCoord.iInternalYRes - temp_coord->tOrgPastPos[0].tXY[i].y < ExpandTH)y_edge_f = 2;
;;;2543   				
;;;2544   				if(x_edge_f || y_edge_f)
;;;2545   				{
;;;2546   					int dist_y[3] = {0,};			
;;;2547   					int dist_x[3] = {0,};      
;;;2548   				
;;;2549   					dist_y[0] = temp_coord->tPastPos[0].tXY[i].y - temp_coord->tPastPos[1].tXY[i].y;			
;;;2550   					dist_x[0] = temp_coord->tPastPos[0].tXY[i].x - temp_coord->tPastPos[1].tXY[i].x;				
;;;2551   
;;;2552   					dist_y[1] = temp_coord->tPastPos[0].tXY[i].y - temp_coord->tPastPos[2].tXY[i].y;
;;;2553   					dist_x[1] = temp_coord->tPastPos[0].tXY[i].x - temp_coord->tPastPos[2].tXY[i].x;		
;;;2554   				
;;;2555   					dist_y[2] = temp_coord->tPastPos[1].tXY[i].y - temp_coord->tPastPos[2].tXY[i].y;
;;;2556   					dist_x[2] = temp_coord->tPastPos[1].tXY[i].x - temp_coord->tPastPos[2].tXY[i].x;	
;;;2557   					
;;;2558   					if( (dist_x[0] < -thisModeConf->CoordEdge.ucPostProcessDisTH && dist_x[1] < -thisModeConf->CoordEdge.ucPostProcessDisTH && dist_x[2] < -thisModeConf->CoordEdge.ucPostProcessDisTH && x_edge_f == 1)
;;;2559   					|| (dist_x[0] > thisModeConf->CoordEdge.ucPostProcessDisTH   && dist_x[1] > thisModeConf->CoordEdge.ucPostProcessDisTH && dist_x[2] > thisModeConf->CoordEdge.ucPostProcessDisTH &&x_edge_f == 2)
;;;2560   					|| (dist_y[0] < -thisModeConf->CoordEdge.ucPostProcessDisTH  && dist_y[1] < -thisModeConf->CoordEdge.ucPostProcessDisTH && dist_y[2] < -thisModeConf->CoordEdge.ucPostProcessDisTH && y_edge_f == 1)
;;;2561   					|| (dist_y[0] > thisModeConf->CoordEdge.ucPostProcessDisTH   && dist_y[2] > thisModeConf->CoordEdge.ucPostProcessDisTH && dist_y[2] > thisModeConf->CoordEdge.ucPostProcessDisTH && y_edge_f == 2) )
;;;2562   					{
;;;2563   						temp_coord->tPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x + dist_x[0]/thisModeConf->CoordEdge.ucPostProcessExpendDiv;
;;;2564   						temp_coord->tPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y + dist_y[0]/thisModeConf->CoordEdge.ucPostProcessExpendDiv;
;;;2565   						
;;;2566   						uint8_t max_idx = 0;
;;;2567   						if(x_edge_f == 1 && temp_coord->tPos.tXY[i].x > -thisModeConf->CoordEdge.cPostProcessEndMargin)
;;;2568   						{
;;;2569   							temp_coord->tPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x + MIN(dist_x[0],MIN(dist_x[1], dist_x[2]));
;;;2570   							
;;;2571   							if(abs(dist_y[0]) >= abs(dist_y[1]) && abs(dist_y[0]) >= abs(dist_y[2]))max_idx = 0;
;;;2572   							else if(abs(dist_y[1]) >= abs(dist_y[0]) && abs(dist_y[1]) >= abs(dist_y[2]))max_idx = 1;
;;;2573   							else if(abs(dist_y[2]) >= abs(dist_y[0]) && abs(dist_y[2]) >= abs(dist_y[1]))max_idx = 2;
;;;2574   							
;;;2575   							temp_coord->tPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y + dist_y[max_idx];
;;;2576   						}
;;;2577   						else if(x_edge_f == 2 && temp_coord->tPos.tXY[i].x < thisInfo->tCoord.iInternalXRes + thisModeConf->CoordEdge.cPostProcessEndMargin)
;;;2578   						{
;;;2579   							temp_coord->tPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x + MAX(dist_x[0],MAX(dist_x[1], dist_x[2]));
;;;2580   																	
;;;2581   							if(abs(dist_y[0]) >= abs(dist_y[1]) && abs(dist_y[0]) >= abs(dist_y[2]))max_idx = 0;
;;;2582   							else if(abs(dist_y[1]) >= abs(dist_y[0]) && abs(dist_y[1]) >= abs(dist_y[2]))max_idx = 1;
;;;2583   							else if(abs(dist_y[2]) >= abs(dist_y[0]) && abs(dist_y[2]) >= abs(dist_y[1]))max_idx = 2;
;;;2584   							
;;;2585   							temp_coord->tPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y + dist_y[max_idx];
;;;2586   						}
;;;2587   						
;;;2588   						max_idx = 0;
;;;2589   						if(y_edge_f == 1 && temp_coord->tPos.tXY[i].y > -thisModeConf->CoordEdge.cPostProcessEndMargin)
;;;2590   						{
;;;2591   							temp_coord->tPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y + MIN(dist_y[0],MIN(dist_y[1], dist_y[2]));
;;;2592   																	
;;;2593   							if(abs(dist_x[0]) >= abs(dist_x[1]) && abs(dist_x[0]) >= abs(dist_x[2]))max_idx = 0;
;;;2594   							else if(abs(dist_x[1]) >= abs(dist_x[0]) && abs(dist_x[1]) >= abs(dist_x[2]))max_idx = 1;
;;;2595   							else if(abs(dist_x[2]) >= abs(dist_x[0]) && abs(dist_x[2]) >= abs(dist_x[1]))max_idx = 2;
;;;2596   							
;;;2597   							temp_coord->tPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x + dist_x[max_idx];
;;;2598   						}
;;;2599   						else if(y_edge_f == 2 && temp_coord->tPos.tXY[i].y < thisInfo->tCoord.iInternalYRes + thisModeConf->CoordEdge.cPostProcessEndMargin)
;;;2600   						{
;;;2601   							temp_coord->tPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y + MAX(dist_y[0],MAX(dist_y[1], dist_y[2]));
;;;2602   							
;;;2603   							if(abs(dist_x[0]) >= abs(dist_x[1]) && abs(dist_x[0]) >= abs(dist_x[2]))max_idx = 0;
;;;2604   							else if(abs(dist_x[1]) >= abs(dist_x[0]) && abs(dist_x[1]) >= abs(dist_x[2]))max_idx = 1;
;;;2605   							else if(abs(dist_x[2]) >= abs(dist_x[0]) && abs(dist_x[2]) >= abs(dist_x[1]))max_idx = 2;
;;;2606   							
;;;2607   							temp_coord->tPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x + dist_x[max_idx];
;;;2608   						}
;;;2609   							
;;;2610   						temp_coord->tPos.vusS[i]  =  temp_coord->tOrgPastPos[0].vusS[i];
;;;2611   						temp_coord->tPos.vusR[i]  =  temp_coord->tOrgPastPos[0].vusR[i];						
;;;2612   					}
;;;2613   				}
;;;2614   			}
;;;2615   		}
;;;2616   	}
;;;2617   }
000008  2509              MOVS     r5,#9
00000a  68f8              LDR      r0,[r7,#0xc]          ;2505  ; thisInfo
00000c  f04f0901          MOV      r9,#1                 ;2521
000010  f2003669          ADD      r6,r0,#0x369          ;2505
000014  ea4f080d          MOV.W    r8,sp                 ;2546
                  |L7.24|
000018  eb060445          ADD      r4,r6,r5,LSL #1       ;2509
00001c  f8b40186          LDRH     r0,[r4,#0x186]        ;2509
000020  b3a8              CBZ      r0,|L7.142|
000022  f8b40392          LDRH     r0,[r4,#0x392]        ;2509
000026  bb90              CBNZ     r0,|L7.142|
000028  eb060b05          ADD      r11,r6,r5             ;2511
00002c  f99b0cb4          LDRSB    r0,[r11,#0xcb4]       ;2511
000030  2802              CMP      r0,#2                 ;2511
000032  dd2c              BLE      |L7.142|
000034  eb060ac5          ADD      r10,r6,r5,LSL #3      ;2513
000038  f20a204f          ADD      r0,r10,#0x24f         ;2513
00003c  2100              MOVS     r1,#0                 ;2513
00003e  f7fffffe          BL       algorithm_coord_IsEdgeArea
000042  2800              CMP      r0,#0                 ;2513
000044  dd23              BLE      |L7.142|
000046  f8da324f          LDR      r3,[r10,#0x24f]       ;2517
00004a  f8da059f          LDR      r0,[r10,#0x59f]       ;2517
00004e  f8da1253          LDR      r1,[r10,#0x253]       ;2517
000052  f8da25a3          LDR      r2,[r10,#0x5a3]       ;2517
000056  1a18              SUBS     r0,r3,r0              ;2517
000058  fb00f300          MUL      r3,r0,r0              ;2517
00005c  1a88              SUBS     r0,r1,r2              ;2517
00005e  fb003000          MLA      r0,r0,r0,r3           ;2517
000062  f7fffffe          BL       algorithm_calc_sqrt
000066  2840              CMP      r0,#0x40              ;2519
000068  dd11              BLE      |L7.142|
00006a  f88b9cc8          STRB     r9,[r11,#0xcc8]       ;2521
00006e  f8da1136          LDR      r1,[r10,#0x136]       ;2522
000072  f8da013a          LDR      r0,[r10,#0x13a]       ;2522
000076  f8da224f          LDR      r2,[r10,#0x24f]       ;2523
00007a  f8ca2136          STR      r2,[r10,#0x136]       ;2523
00007e  f8da2253          LDR      r2,[r10,#0x253]       ;2523
000082  f8ca213a          STR      r2,[r10,#0x13a]       ;2523
000086  f8ca124f          STR      r1,[r10,#0x24f]       ;2524
00008a  f8ca0253          STR      r0,[r10,#0x253]       ;2524
                  |L7.142|
00008e  68b9              LDR      r1,[r7,#8]            ;2530  ; thisModeConf
000090  f8b1a0e0          LDRH     r10,[r1,#0xe0]        ;2530
000094  f1ba0f00          CMP      r10,#0                ;2530
000098  f000826b          BEQ.W    |L7.1394|
00009c  f8b405ef          LDRH     r0,[r4,#0x5ef]        ;2532
0000a0  2800              CMP      r0,#0                 ;2532
0000a2  f0408266          BNE.W    |L7.1394|
0000a6  f8b40781          LDRH     r0,[r4,#0x781]        ;2532
0000aa  2800              CMP      r0,#0                 ;2532
0000ac  bf1f              ITTTT    NE                    ;2532
0000ae  f8b40708          LDRHNE   r0,[r4,#0x708]        ;2532
0000b2  2800              CMPNE    r0,#0                 ;2532
0000b4  f8b407fa          LDRHNE   r0,[r4,#0x7fa]        ;2532
0000b8  2800              CMPNE    r0,#0                 ;2532
0000ba  f000825a          BEQ.W    |L7.1394|
0000be  eb0600c5          ADD      r0,r6,r5,LSL #3       ;2538
0000c2  f04f0300          MOV      r3,#0                 ;2535
0000c6  f8d0c6b8          LDR      r12,[r0,#0x6b8]       ;2538
0000ca  461a              MOV      r2,r3                 ;2536
0000cc  f8cdc048          STR      r12,[sp,#0x48]        ;2538
0000d0  45d4              CMP      r12,r10               ;2538
0000d2  bfb8              IT       LT                    ;2538
0000d4  2301              MOVLT    r3,#1                 ;2538
0000d6  db0c              BLT      |L7.242|
0000d8  f8d7c00c          LDR      r12,[r7,#0xc]         ;2539  ; thisInfo
0000dc  f50c5c80          ADD      r12,r12,#0x1000       ;2539
0000e0  f8dcb085          LDR      r11,[r12,#0x85]       ;2539
0000e4  f8ddc048          LDR      r12,[sp,#0x48]        ;2539
0000e8  ebab0c0c          SUB      r12,r11,r12           ;2539
0000ec  45d4              CMP      r12,r10               ;2539
0000ee  bfb8              IT       LT                    ;2539
0000f0  2302              MOVLT    r3,#2                 ;2539
                  |L7.242|
0000f2  f8d0c6bc          LDR      r12,[r0,#0x6bc]       ;2541
0000f6  45d4              CMP      r12,r10               ;2541
0000f8  bfb8              IT       LT                    ;2541
0000fa  2201              MOVLT    r2,#1                 ;2541
0000fc  db0a              BLT      |L7.276|
0000fe  f8d7b00c          LDR      r11,[r7,#0xc]         ;2542  ; thisInfo
000102  f50b5b80          ADD      r11,r11,#0x1000       ;2542
000106  f8dbb089          LDR      r11,[r11,#0x89]       ;2542
00010a  ebab0b0c          SUB      r11,r11,r12           ;2542
00010e  45d3              CMP      r11,r10               ;2542
000110  bfb8              IT       LT                    ;2542
000112  2202              MOVLT    r2,#2                 ;2542
                  |L7.276|
000114  ea530a02          ORRS     r10,r3,r2             ;2544
000118  f000822b          BEQ.W    |L7.1394|
00011c  f8d0a346          LDR      r10,[r0,#0x346]       ;2549
000120  f8d0e3bf          LDR      lr,[r0,#0x3bf]        ;2549
000124  f8cde02c          STR      lr,[sp,#0x2c]         ;2550
000128  ebaa0b0e          SUB      r11,r10,lr            ;2549
00012c  f8cdb000          STR      r11,[sp,#0]           ;2550
000130  f8d0e342          LDR      lr,[r0,#0x342]        ;2550
000134  f8d0b3bb          LDR      r11,[r0,#0x3bb]       ;2550
000138  f8cdb024          STR      r11,[sp,#0x24]        ;2550
00013c  ebae0b0b          SUB      r11,lr,r11            ;2550
000140  f8cdb00c          STR      r11,[sp,#0xc]         ;2552
000144  f8d0b438          LDR      r11,[r0,#0x438]       ;2552
000148  ebaa0a0b          SUB      r10,r10,r11           ;2552
00014c  f8cda004          STR      r10,[sp,#4]           ;2553
000150  f8d0a434          LDR      r10,[r0,#0x434]       ;2553
000154  f8cda018          STR      r10,[sp,#0x18]        ;2553
000158  ebae0a0a          SUB      r10,lr,r10            ;2553
00015c  f8dde02c          LDR      lr,[sp,#0x2c]         ;2555
000160  f8cda010          STR      r10,[sp,#0x10]        ;2553
000164  ebae0a0b          SUB      r10,lr,r11            ;2555
000168  f8cda008          STR      r10,[sp,#8]           ;2555
00016c  f8ddb024          LDR      r11,[sp,#0x24]        ;2556
000170  f8dda018          LDR      r10,[sp,#0x18]        ;2556
000174  ebab0a0a          SUB      r10,r11,r10           ;2556
000178  f8cda014          STR      r10,[sp,#0x14]        ;2558
00017c  f891a0e2          LDRB     r10,[r1,#0xe2]        ;2558
000180  f8ddb00c          LDR      r11,[sp,#0xc]         ;2558
000184  f1ca0e00          RSB      lr,r10,#0             ;2558
000188  45de              CMP      lr,r11                ;2558
00018a  bfc1              ITTTT    GT                    ;2558
00018c  f8ddb010          LDRGT    r11,[sp,#0x10]        ;2558
000190  45de              CMPGT    lr,r11                ;2558
000192  f8ddb014          LDRGT    r11,[sp,#0x14]        ;2558
000196  45de              CMPGT    lr,r11                ;2558
000198  dd01              BLE      |L7.414|
00019a  2b01              CMP      r3,#1                 ;2558
00019c  d025              BEQ      |L7.490|
                  |L7.414|
00019e  f8ddb00c          LDR      r11,[sp,#0xc]         ;2559
0001a2  45d3              CMP      r11,r10               ;2559
0001a4  bfc1              ITTTT    GT                    ;2559
0001a6  f8ddb010          LDRGT    r11,[sp,#0x10]        ;2559
0001aa  45d3              CMPGT    r11,r10               ;2559
0001ac  f8ddb014          LDRGT    r11,[sp,#0x14]        ;2559
0001b0  45d3              CMPGT    r11,r10               ;2559
0001b2  dd01              BLE      |L7.440|
0001b4  2b02              CMP      r3,#2                 ;2559
0001b6  d018              BEQ      |L7.490|
                  |L7.440|
0001b8  f8ddb000          LDR      r11,[sp,#0]           ;2560
0001bc  45f3              CMP      r11,lr                ;2560
0001be  bfbf              ITTTT    LT                    ;2560
0001c0  f8ddb004          LDRLT    r11,[sp,#4]           ;2560
0001c4  45f3              CMPLT    r11,lr                ;2560
0001c6  f8ddb008          LDRLT    r11,[sp,#8]           ;2560
0001ca  45f3              CMPLT    r11,lr                ;2560
0001cc  da01              BGE      |L7.466|
0001ce  2a01              CMP      r2,#1                 ;2560
0001d0  d00b              BEQ      |L7.490|
                  |L7.466|
0001d2  f8ddb000          LDR      r11,[sp,#0]           ;2561
0001d6  45d3              CMP      r11,r10               ;2561
0001d8  bfc4              ITT      GT                    ;2561
0001da  f8ddb008          LDRGT    r11,[sp,#8]           ;2561
0001de  45d3              CMPGT    r11,r10               ;2561
0001e0  f34081c7          BLE.W    |L7.1394|
0001e4  2a02              CMP      r2,#2                 ;2561
0001e6  f04081c4          BNE.W    |L7.1394|
                  |L7.490|
0001ea  f891b0e3          LDRB     r11,[r1,#0xe3]        ;2563
0001ee  f8dda00c          LDR      r10,[sp,#0xc]         ;2563
0001f2  2b01              CMP      r3,#1                 ;2567
0001f4  fb9afbfb          SDIV     r11,r10,r11           ;2563
0001f8  f8dda048          LDR      r10,[sp,#0x48]        ;2563
0001fc  44da              ADD      r10,r10,r11           ;2563
0001fe  f8c0a136          STR      r10,[r0,#0x136]       ;2563
000202  f891e0e3          LDRB     lr,[r1,#0xe3]         ;2564
000206  f8ddb000          LDR      r11,[sp,#0]           ;2564
00020a  fb9bfbfe          SDIV     r11,r11,lr            ;2564
00020e  44e3              ADD      r11,r11,r12           ;2564
000210  f8c0b13a          STR      r11,[r0,#0x13a]       ;2564
000214  f04f0b00          MOV      r11,#0                ;2566
000218  d002              BEQ      |L7.544|
00021a  2b02              CMP      r3,#2                 ;2577
00021c  d076              BEQ      |L7.780|
00021e  e06c              B        |L7.762|
                  |L7.544|
000220  f99130e4          LDRSB    r3,[r1,#0xe4]         ;2567
000224  425b              RSBS     r3,r3,#0              ;2567
000226  459a              CMP      r10,r3                ;2567
000228  dd67              BLE      |L7.762|
00022a  e9dd3a04          LDRD     r3,r10,[sp,#0x10]     ;2567
00022e  459a              CMP      r10,r3                ;2569
000230  bfd8              IT       LE                    ;2569
000232  4653              MOVLE    r3,r10                ;2569
000234  f8dda00c          LDR      r10,[sp,#0xc]         ;2569
000238  4553              CMP      r3,r10                ;2569
00023a  dc03              BGT      |L7.580|
00023c  e9dd3a04          LDRD     r3,r10,[sp,#0x10]     ;2569
000240  459a              CMP      r10,r3                ;2569
000242  dc00              BGT      |L7.582|
                  |L7.580|
000244  4653              MOV      r3,r10                ;2569
                  |L7.582|
000246  f8dda048          LDR      r10,[sp,#0x48]        ;2569
00024a  4453              ADD      r3,r3,r10             ;2569
00024c  f8c03136          STR      r3,[r0,#0x136]        ;2569
000250  e9dda300          LDRD     r10,r3,[sp,#0]        ;2569
000254  f1ba0f00          CMP      r10,#0                ;2571
000258  bfb8              IT       LT                    ;2571
00025a  f1ca0a00          RSBLT    r10,r10,#0            ;2571
00025e  2b00              CMP      r3,#0                 ;2571
000260  bfb8              IT       LT                    ;2571
000262  425b              RSBLT    r3,r3,#0              ;2571
000264  4553              CMP      r3,r10                ;2571
000266  dc0c              BGT      |L7.642|
000268  9b00              LDR      r3,[sp,#0]            ;2571
00026a  f8dda008          LDR      r10,[sp,#8]           ;2571
00026e  2b00              CMP      r3,#0                 ;2571
000270  bfb8              IT       LT                    ;2571
000272  425b              RSBLT    r3,r3,#0              ;2571
000274  f1ba0f00          CMP      r10,#0                ;2571
000278  bfb8              IT       LT                    ;2571
00027a  f1ca0a00          RSBLT    r10,r10,#0            ;2571
00027e  4553              CMP      r3,r10                ;2571
000280  da36              BGE      |L7.752|
                  |L7.642|
000282  e9dda300          LDRD     r10,r3,[sp,#0]        ;2571
000286  2b00              CMP      r3,#0                 ;2572
000288  bfb8              IT       LT                    ;2572
00028a  425b              RSBLT    r3,r3,#0              ;2572
00028c  f1ba0f00          CMP      r10,#0                ;2572
000290  bfb8              IT       LT                    ;2572
000292  f1ca0a00          RSBLT    r10,r10,#0            ;2572
000296  459a              CMP      r10,r3                ;2572
000298  dc0f              BGT      |L7.698|
00029a  e9dd3a01          LDRD     r3,r10,[sp,#4]        ;2572
00029e  2b00              CMP      r3,#0                 ;2572
0002a0  bfb8              IT       LT                    ;2572
0002a2  425b              RSBLT    r3,r3,#0              ;2572
0002a4  f1ba0f00          CMP      r10,#0                ;2572
0002a8  bfb8              IT       LT                    ;2572
0002aa  f1ca0a00          RSBLT    r10,r10,#0            ;2572
0002ae  4553              CMP      r3,r10                ;2572
0002b0  db03              BLT      |L7.698|
0002b2  bf00              NOP                            ;2572
                  |L7.692|
0002b4  f04f0b01          MOV      r11,#1                ;2572
0002b8  e01a              B        |L7.752|
                  |L7.698|
0002ba  f8dda008          LDR      r10,[sp,#8]           ;2573
0002be  9b00              LDR      r3,[sp,#0]            ;2573
0002c0  f1ba0f00          CMP      r10,#0                ;2573
0002c4  bfb8              IT       LT                    ;2573
0002c6  f1ca0a00          RSBLT    r10,r10,#0            ;2573
0002ca  2b00              CMP      r3,#0                 ;2573
0002cc  bfb8              IT       LT                    ;2573
0002ce  425b              RSBLT    r3,r3,#0              ;2573
0002d0  4553              CMP      r3,r10                ;2573
0002d2  dc0d              BGT      |L7.752|
0002d4  e9dd3a01          LDRD     r3,r10,[sp,#4]        ;2573
0002d8  f1ba0f00          CMP      r10,#0                ;2573
0002dc  bfb8              IT       LT                    ;2573
0002de  f1ca0a00          RSBLT    r10,r10,#0            ;2573
0002e2  2b00              CMP      r3,#0                 ;2573
0002e4  bfb8              IT       LT                    ;2573
0002e6  425b              RSBLT    r3,r3,#0              ;2573
0002e8  459a              CMP      r10,r3                ;2573
0002ea  db01              BLT      |L7.752|
                  |L7.748|
0002ec  f04f0b02          MOV      r11,#2                ;2573
                  |L7.752|
0002f0  f858302b          LDR      r3,[r8,r11,LSL #2]    ;2585
0002f4  4463              ADD      r3,r3,r12             ;2585
0002f6  f8c0313a          STR      r3,[r0,#0x13a]        ;2585
                  |L7.762|
0002fa  2300              MOVS     r3,#0                 ;2588
0002fc  2a01              CMP      r2,#1                 ;2589
0002fe  d06d              BEQ      |L7.988|
000300  2a02              CMP      r2,#2                 ;2599
000302  f00080cc          BEQ.W    |L7.1182|
000306  f000b92c          B.W      |L7.1378|
00030a  e7ff              B        |L7.780|
                  |L7.780|
00030c  68fb              LDR      r3,[r7,#0xc]          ;2577  ; thisInfo
00030e  f991e0e4          LDRSB    lr,[r1,#0xe4]         ;2577
000312  f5035380          ADD      r3,r3,#0x1000         ;2577
000316  f8d33085          LDR      r3,[r3,#0x85]         ;2577
00031a  4473              ADD      r3,r3,lr              ;2577
00031c  4553              CMP      r3,r10                ;2577
00031e  ddec              BLE      |L7.762|
000320  e9dd3a04          LDRD     r3,r10,[sp,#0x10]     ;2577
000324  4553              CMP      r3,r10                ;2579
000326  bfd8              IT       LE                    ;2579
000328  4653              MOVLE    r3,r10                ;2579
00032a  f8dda00c          LDR      r10,[sp,#0xc]         ;2579
00032e  4553              CMP      r3,r10                ;2579
000330  db03              BLT      |L7.826|
000332  e9dd3a04          LDRD     r3,r10,[sp,#0x10]     ;2579
000336  459a              CMP      r10,r3                ;2579
000338  db00              BLT      |L7.828|
                  |L7.826|
00033a  4653              MOV      r3,r10                ;2579
                  |L7.828|
00033c  f8dda048          LDR      r10,[sp,#0x48]        ;2579
000340  4453              ADD      r3,r3,r10             ;2579
000342  f8c03136          STR      r3,[r0,#0x136]        ;2579
000346  e9dda300          LDRD     r10,r3,[sp,#0]        ;2579
00034a  f1ba0f00          CMP      r10,#0                ;2581
00034e  bfb8              IT       LT                    ;2581
000350  f1ca0a00          RSBLT    r10,r10,#0            ;2581
000354  2b00              CMP      r3,#0                 ;2581
000356  bfb8              IT       LT                    ;2581
000358  425b              RSBLT    r3,r3,#0              ;2581
00035a  4553              CMP      r3,r10                ;2581
00035c  dc0c              BGT      |L7.888|
00035e  9b00              LDR      r3,[sp,#0]            ;2581
000360  f8dda008          LDR      r10,[sp,#8]           ;2581
000364  2b00              CMP      r3,#0                 ;2581
000366  bfb8              IT       LT                    ;2581
000368  425b              RSBLT    r3,r3,#0              ;2581
00036a  f1ba0f00          CMP      r10,#0                ;2581
00036e  bfb8              IT       LT                    ;2581
000370  f1ca0a00          RSBLT    r10,r10,#0            ;2581
000374  4553              CMP      r3,r10                ;2581
000376  dabb              BGE      |L7.752|
                  |L7.888|
000378  e9dd3a00          LDRD     r3,r10,[sp,#0]        ;2581
00037c  f1ba0f00          CMP      r10,#0                ;2582
000380  bfb8              IT       LT                    ;2582
000382  f1ca0a00          RSBLT    r10,r10,#0            ;2582
000386  2b00              CMP      r3,#0                 ;2582
000388  bfb8              IT       LT                    ;2582
00038a  425b              RSBLT    r3,r3,#0              ;2582
00038c  4553              CMP      r3,r10                ;2582
00038e  dc0b              BGT      |L7.936|
000390  e9dda301          LDRD     r10,r3,[sp,#4]        ;2582
000394  f1ba0f00          CMP      r10,#0                ;2582
000398  bfb8              IT       LT                    ;2582
00039a  f1ca0a00          RSBLT    r10,r10,#0            ;2582
00039e  2b00              CMP      r3,#0                 ;2582
0003a0  bfb8              IT       LT                    ;2582
0003a2  425b              RSBLT    r3,r3,#0              ;2582
0003a4  459a              CMP      r10,r3                ;2582
0003a6  da85              BGE      |L7.692|
                  |L7.936|
0003a8  f8dda008          LDR      r10,[sp,#8]           ;2583
0003ac  9b00              LDR      r3,[sp,#0]            ;2583
0003ae  f1ba0f00          CMP      r10,#0                ;2583
0003b2  bfb8              IT       LT                    ;2583
0003b4  f1ca0a00          RSBLT    r10,r10,#0            ;2583
0003b8  2b00              CMP      r3,#0                 ;2583
0003ba  bfb8              IT       LT                    ;2583
0003bc  425b              RSBLT    r3,r3,#0              ;2583
0003be  4553              CMP      r3,r10                ;2583
0003c0  dc96              BGT      |L7.752|
0003c2  e9dd3a01          LDRD     r3,r10,[sp,#4]        ;2583
0003c6  f1ba0f00          CMP      r10,#0                ;2583
0003ca  bfb8              IT       LT                    ;2583
0003cc  f1ca0a00          RSBLT    r10,r10,#0            ;2583
0003d0  2b00              CMP      r3,#0                 ;2583
0003d2  bfb8              IT       LT                    ;2583
0003d4  425b              RSBLT    r3,r3,#0              ;2583
0003d6  459a              CMP      r10,r3                ;2583
0003d8  db8a              BLT      |L7.752|
0003da  e787              B        |L7.748|
                  |L7.988|
0003dc  f99110e4          LDRSB    r1,[r1,#0xe4]         ;2589
0003e0  f8d0213a          LDR      r2,[r0,#0x13a]        ;2589
0003e4  4249              RSBS     r1,r1,#0              ;2589
0003e6  428a              CMP      r2,r1                 ;2589
0003e8  f34080bb          BLE.W    |L7.1378|
0003ec  e9dd1201          LDRD     r1,r2,[sp,#4]         ;2589
0003f0  428a              CMP      r2,r1                 ;2591
0003f2  bfd8              IT       LE                    ;2591
0003f4  4611              MOVLE    r1,r2                 ;2591
0003f6  9a00              LDR      r2,[sp,#0]            ;2591
0003f8  4291              CMP      r1,r2                 ;2591
0003fa  dc07              BGT      |L7.1036|
0003fc  e002              B        |L7.1028|
0003fe  0000              DCW      0x0000
                  |L7.1024|
                          DCD      ||.data||
                  |L7.1028|
000404  e9dd1201          LDRD     r1,r2,[sp,#4]         ;2591
000408  428a              CMP      r2,r1                 ;2591
00040a  dc00              BGT      |L7.1038|
                  |L7.1036|
00040c  4611              MOV      r1,r2                 ;2591
                  |L7.1038|
00040e  4461              ADD      r1,r1,r12             ;2591
000410  f8c0113a          STR      r1,[r0,#0x13a]        ;2591
000414  e9dd1203          LDRD     r1,r2,[sp,#0xc]       ;2591
000418  2900              CMP      r1,#0                 ;2593
00041a  bfb8              IT       LT                    ;2593
00041c  4249              RSBLT    r1,r1,#0              ;2593
00041e  2a00              CMP      r2,#0                 ;2593
000420  bfb8              IT       LT                    ;2593
000422  4252              RSBLT    r2,r2,#0              ;2593
000424  428a              CMP      r2,r1                 ;2593
000426  dc09              BGT      |L7.1084|
000428  9903              LDR      r1,[sp,#0xc]          ;2593
00042a  9a05              LDR      r2,[sp,#0x14]         ;2593
00042c  2900              CMP      r1,#0                 ;2593
00042e  bfb8              IT       LT                    ;2593
000430  4249              RSBLT    r1,r1,#0              ;2593
000432  2a00              CMP      r2,#0                 ;2593
000434  bfb8              IT       LT                    ;2593
000436  4252              RSBLT    r2,r2,#0              ;2593
000438  4291              CMP      r1,r2                 ;2593
00043a  da2a              BGE      |L7.1170|
                  |L7.1084|
00043c  e9dd2103          LDRD     r2,r1,[sp,#0xc]       ;2593
000440  2900              CMP      r1,#0                 ;2594
000442  bfb8              IT       LT                    ;2594
000444  4249              RSBLT    r1,r1,#0              ;2594
000446  2a00              CMP      r2,#0                 ;2594
000448  bfb8              IT       LT                    ;2594
00044a  4252              RSBLT    r2,r2,#0              ;2594
00044c  428a              CMP      r2,r1                 ;2594
00044e  dc0b              BGT      |L7.1128|
000450  e9dd2104          LDRD     r2,r1,[sp,#0x10]      ;2594
000454  2a00              CMP      r2,#0                 ;2594
000456  bfb8              IT       LT                    ;2594
000458  4252              RSBLT    r2,r2,#0              ;2594
00045a  2900              CMP      r1,#0                 ;2594
00045c  bfb8              IT       LT                    ;2594
00045e  4249              RSBLT    r1,r1,#0              ;2594
000460  428a              CMP      r2,r1                 ;2594
000462  bfa8              IT       GE                    ;2594
000464  2301              MOVGE    r3,#1                 ;2594
000466  da14              BGE      |L7.1170|
                  |L7.1128|
000468  9a05              LDR      r2,[sp,#0x14]         ;2595
00046a  9903              LDR      r1,[sp,#0xc]          ;2595
00046c  2a00              CMP      r2,#0                 ;2595
00046e  bfb8              IT       LT                    ;2595
000470  4252              RSBLT    r2,r2,#0              ;2595
000472  2900              CMP      r1,#0                 ;2595
000474  bfb8              IT       LT                    ;2595
000476  4249              RSBLT    r1,r1,#0              ;2595
000478  4291              CMP      r1,r2                 ;2595
00047a  dc0a              BGT      |L7.1170|
00047c  e9dd1204          LDRD     r1,r2,[sp,#0x10]      ;2595
000480  2a00              CMP      r2,#0                 ;2595
000482  bfb8              IT       LT                    ;2595
000484  4252              RSBLT    r2,r2,#0              ;2595
000486  2900              CMP      r1,#0                 ;2595
000488  bfb8              IT       LT                    ;2595
00048a  4249              RSBLT    r1,r1,#0              ;2595
00048c  428a              CMP      r2,r1                 ;2595
00048e  bfa8              IT       GE                    ;2595
000490  2302              MOVGE    r3,#2                 ;2595
                  |L7.1170|
000492  a903              ADD      r1,sp,#0xc            ;2597
000494  9a12              LDR      r2,[sp,#0x48]         ;2597
000496  f8511023          LDR      r1,[r1,r3,LSL #2]     ;2597
00049a  4411              ADD      r1,r1,r2              ;2597
00049c  e05f              B        |L7.1374|
                  |L7.1182|
00049e  68fa              LDR      r2,[r7,#0xc]          ;2599  ; thisInfo
0004a0  f99110e4          LDRSB    r1,[r1,#0xe4]         ;2599
0004a4  f5025280          ADD      r2,r2,#0x1000         ;2599
0004a8  f8d22089          LDR      r2,[r2,#0x89]         ;2599
0004ac  4411              ADD      r1,r1,r2              ;2599
0004ae  f8d0213a          LDR      r2,[r0,#0x13a]        ;2599
0004b2  4291              CMP      r1,r2                 ;2599
0004b4  dd55              BLE      |L7.1378|
0004b6  e9dd1201          LDRD     r1,r2,[sp,#4]         ;2599
0004ba  4291              CMP      r1,r2                 ;2601
0004bc  bfd8              IT       LE                    ;2601
0004be  4611              MOVLE    r1,r2                 ;2601
0004c0  9a00              LDR      r2,[sp,#0]            ;2601
0004c2  4291              CMP      r1,r2                 ;2601
0004c4  db03              BLT      |L7.1230|
0004c6  e9dd1201          LDRD     r1,r2,[sp,#4]         ;2601
0004ca  428a              CMP      r2,r1                 ;2601
0004cc  db00              BLT      |L7.1232|
                  |L7.1230|
0004ce  4611              MOV      r1,r2                 ;2601
                  |L7.1232|
0004d0  4461              ADD      r1,r1,r12             ;2601
0004d2  f8c0113a          STR      r1,[r0,#0x13a]        ;2601
0004d6  e9dd1203          LDRD     r1,r2,[sp,#0xc]       ;2601
0004da  2900              CMP      r1,#0                 ;2603
0004dc  bfb8              IT       LT                    ;2603
0004de  4249              RSBLT    r1,r1,#0              ;2603
0004e0  2a00              CMP      r2,#0                 ;2603
0004e2  bfb8              IT       LT                    ;2603
0004e4  4252              RSBLT    r2,r2,#0              ;2603
0004e6  428a              CMP      r2,r1                 ;2603
0004e8  dc09              BGT      |L7.1278|
0004ea  9903              LDR      r1,[sp,#0xc]          ;2603
0004ec  9a05              LDR      r2,[sp,#0x14]         ;2603
0004ee  2900              CMP      r1,#0                 ;2603
0004f0  bfb8              IT       LT                    ;2603
0004f2  4249              RSBLT    r1,r1,#0              ;2603
0004f4  2a00              CMP      r2,#0                 ;2603
0004f6  bfb8              IT       LT                    ;2603
0004f8  4252              RSBLT    r2,r2,#0              ;2603
0004fa  4291              CMP      r1,r2                 ;2603
0004fc  da2a              BGE      |L7.1364|
                  |L7.1278|
0004fe  e9dd2103          LDRD     r2,r1,[sp,#0xc]       ;2603
000502  2900              CMP      r1,#0                 ;2604
000504  bfb8              IT       LT                    ;2604
000506  4249              RSBLT    r1,r1,#0              ;2604
000508  2a00              CMP      r2,#0                 ;2604
00050a  bfb8              IT       LT                    ;2604
00050c  4252              RSBLT    r2,r2,#0              ;2604
00050e  428a              CMP      r2,r1                 ;2604
000510  dc0b              BGT      |L7.1322|
000512  e9dd1204          LDRD     r1,r2,[sp,#0x10]      ;2604
000516  2900              CMP      r1,#0                 ;2604
000518  bfb8              IT       LT                    ;2604
00051a  4249              RSBLT    r1,r1,#0              ;2604
00051c  2a00              CMP      r2,#0                 ;2604
00051e  bfb8              IT       LT                    ;2604
000520  4252              RSBLT    r2,r2,#0              ;2604
000522  4291              CMP      r1,r2                 ;2604
000524  bfa8              IT       GE                    ;2604
000526  2301              MOVGE    r3,#1                 ;2604
000528  da14              BGE      |L7.1364|
                  |L7.1322|
00052a  9905              LDR      r1,[sp,#0x14]         ;2605
00052c  9a03              LDR      r2,[sp,#0xc]          ;2605
00052e  2900              CMP      r1,#0                 ;2605
000530  bfb8              IT       LT                    ;2605
000532  4249              RSBLT    r1,r1,#0              ;2605
000534  2a00              CMP      r2,#0                 ;2605
000536  bfb8              IT       LT                    ;2605
000538  4252              RSBLT    r2,r2,#0              ;2605
00053a  428a              CMP      r2,r1                 ;2605
00053c  dc0a              BGT      |L7.1364|
00053e  e9dd1204          LDRD     r1,r2,[sp,#0x10]      ;2605
000542  2a00              CMP      r2,#0                 ;2605
000544  bfb8              IT       LT                    ;2605
000546  4252              RSBLT    r2,r2,#0              ;2605
000548  2900              CMP      r1,#0                 ;2605
00054a  bfb8              IT       LT                    ;2605
00054c  4249              RSBLT    r1,r1,#0              ;2605
00054e  428a              CMP      r2,r1                 ;2605
000550  bfa8              IT       GE                    ;2605
000552  2302              MOVGE    r3,#2                 ;2605
                  |L7.1364|
000554  aa03              ADD      r2,sp,#0xc            ;2607
000556  9912              LDR      r1,[sp,#0x48]         ;2607
000558  f8522023          LDR      r2,[r2,r3,LSL #2]     ;2607
00055c  4411              ADD      r1,r1,r2              ;2607
                  |L7.1374|
00055e  f8c01136          STR      r1,[r0,#0x136]        ;2607
                  |L7.1378|
000562  f8b40708          LDRH     r0,[r4,#0x708]        ;2610
000566  f8a40186          STRH     r0,[r4,#0x186]        ;2610
00056a  f8b4071c          LDRH     r0,[r4,#0x71c]        ;2611
00056e  f8a4019a          STRH     r0,[r4,#0x19a]        ;2611
                  |L7.1394|
000572  1e6d              SUBS     r5,r5,#1              ;2611
000574  f4bfad50          BCS      |L7.24|
000578  b013              ADD      sp,sp,#0x4c
00057a  e8bd8ff0          POP      {r4-r11,pc}
;;;2618   
                          ENDP


                          AREA ||i.algorithm_coord_PostProcess_1||, CODE, READONLY, ALIGN=2

                  algorithm_coord_PostProcess_1 PROC
;;;2618   
;;;2619   void algorithm_coord_PostProcess_1(void)
000000  e92d4ff0          PUSH     {r4-r11,lr}
;;;2620   {
;;;2621   	int i;
;;;2622   	tXY_t	temp_pos;
;;;2623   
;;;2624   	tCoordInfo_t 	*temp_coord;
;;;2625   
;;;2626   	temp_coord = &thisInfo->tCoord;
000004  4cfe              LDR      r4,|L8.1024|
000006  b097              SUB      sp,sp,#0x5c           ;2620
;;;2627   
;;;2628   	for( i=MAX_TOUCH_; i--; )
;;;2629   	{
;;;2630   		if(!thisModeConf->CoordEdge.bPostProcessInterpolationMode)
;;;2631   		{
;;;2632   			if( temp_coord->tPos.vusS[i] > 0 && temp_coord->tPastPos[0].vusS[i] == 0 )
;;;2633   			{
;;;2634   				if( temp_coord->cScreenDebCnt[i] > 2 )
;;;2635   				{
;;;2636   					if( algorithm_coord_IsEdgeArea(&temp_coord->tFirstPos.tXY[i], 0) > 0 )
;;;2637   					{
;;;2638   						int dist;
;;;2639   
;;;2640   						dist = algorithm_coord_calc_distance(temp_coord->tFirstPos.tXY[i], temp_coord->tOrgPos.tXY[i]);
;;;2641   
;;;2642   						if( dist > _BV(6) )
;;;2643   						{
;;;2644   							temp_coord->ucPostProcessRun[i] = 1;
;;;2645   							temp_pos = temp_coord->tPos.tXY[i];
;;;2646   							temp_coord->tPos.tXY[i] = temp_coord->tFirstPos.tXY[i];
;;;2647   							temp_coord->tFirstPos.tXY[i] = temp_pos;
;;;2648   						}
;;;2649   					}
;;;2650   				}
;;;2651   			}
;;;2652   		}
;;;2653   
;;;2654   		if(thisModeConf->CoordEdge.usPostProcessEdgeTH > 0)
;;;2655   		{
;;;2656   			if( ((temp_coord->tOrgPos.vusS[i] == 0 && temp_coord->tPastPos[2].vusS[i] > 0 && temp_coord->tPastPos[0].vusS[i] > 0 && temp_coord->tPastPos[4].vusS[i] > 0) && thisModeConf->CoordEdge.bPostProcessInterpolationMode)
;;;2657   			|| ((temp_coord->tOrgPos.vusS[i] == 0 && temp_coord->tPastPos[1].vusS[i] > 0 && temp_coord->tPastPos[0].vusS[i] > 0 && temp_coord->tPastPos[2].vusS[i] > 0) && !thisModeConf->CoordEdge.bPostProcessInterpolationMode) )
;;;2658   			{
;;;2659   				tXY_t pos;
;;;2660   				pos = temp_coord->tPastPos[0].tXY[i];				
;;;2661   				pos.x = ( (pos.x + thisInfo->tCoord.iXOffset ) * (thisCommonConf->iXResolution+thisModeConf->Coord.sFingerGlobalCoordiXResolutionOffset) ) / (thisInfo->tCoord.iInternalXRes + 2*thisInfo->tCoord.iXOffset);
;;;2662   				pos.y = ( (pos.y + thisInfo->tCoord.iYOffset ) * (thisCommonConf->iYResolution+thisModeConf->Coord.sFingerGlobalCoordiYResolutionOffset) ) / (thisInfo->tCoord.iInternalYRes + 2*thisInfo->tCoord.iYOffset);
;;;2663   				pos.x += thisModeConf->Coord.sFingerGlobalCoordiOffsetX;
;;;2664   				pos.y += thisModeConf->Coord.sFingerGlobalCoordiOffsetY;	
;;;2665   				
;;;2666   				if( (pos.x < 5 || pos.x > 32762 || pos.y < 5 || pos.y > 32762) && thisModeConf->CoordEdge.cPostProcessEndMargin == 0)
;;;2667   				{
;;;2668   				}
;;;2669   				else
;;;2670   				{				
;;;2671   					int ExpandTH = thisModeConf->CoordEdge.usPostProcessEdgeTH;
;;;2672   					uint8_t x_edge_f = 0;
;;;2673   					uint8_t y_edge_f = 0;
;;;2674   					
;;;2675   					if(temp_coord->tOrgPastPos[0].tXY[i].x < ExpandTH)x_edge_f = 1;
;;;2676   					else if(thisInfo->tCoord.iInternalXRes - temp_coord->tOrgPastPos[0].tXY[i].x < ExpandTH)x_edge_f = 2;
;;;2677   					
;;;2678   					if(temp_coord->tOrgPastPos[0].tXY[i].y < ExpandTH)y_edge_f = 1;
;;;2679   					else if(thisInfo->tCoord.iInternalYRes - temp_coord->tOrgPastPos[0].tXY[i].y < ExpandTH)y_edge_f = 2;
;;;2680   					
;;;2681   					if(x_edge_f || y_edge_f)
;;;2682   					{
;;;2683   						int dist_y[3] = {0,};			
;;;2684   						int dist_x[3] = {0,};      
;;;2685   						
;;;2686   						tXY_t temp_dist1 = temp_coord->tPastPos[0].tXY[i], temp_dist2, temp_dist3;
;;;2687   						if(thisModeConf->CoordEdge.bPostProcessInterpolationMode)
;;;2688   						{
;;;2689   							temp_dist2 = temp_coord->tPastPos[2].tXY[i];
;;;2690   							temp_dist3 = temp_coord->tPastPos[4].tXY[i];
;;;2691   						}
;;;2692   						else
;;;2693   						{
;;;2694   							temp_dist2 = temp_coord->tPastPos[1].tXY[i];
;;;2695   							temp_dist3 = temp_coord->tPastPos[2].tXY[i];
;;;2696   						}
;;;2697   					
;;;2698   						dist_y[0] = temp_dist1.y - temp_dist2.y;
;;;2699   						dist_x[0] = temp_dist1.x - temp_dist2.x;
;;;2700   
;;;2701   						dist_y[1] = temp_dist1.y - temp_dist3.y;
;;;2702   						dist_x[1] = temp_dist1.x - temp_dist3.x;
;;;2703   					
;;;2704   						dist_y[2] = temp_dist2.y - temp_dist3.y;
;;;2705   						dist_x[2] = temp_dist2.x - temp_dist3.x;
;;;2706   						
;;;2707   						if( (dist_x[0] < -thisModeConf->CoordEdge.ucPostProcessDisTH && dist_x[1] < -thisModeConf->CoordEdge.ucPostProcessDisTH && dist_x[2] < -thisModeConf->CoordEdge.ucPostProcessDisTH && x_edge_f == 1)
;;;2708   						|| (dist_x[0] > thisModeConf->CoordEdge.ucPostProcessDisTH   && dist_x[1] > thisModeConf->CoordEdge.ucPostProcessDisTH && dist_x[2] > thisModeConf->CoordEdge.ucPostProcessDisTH &&x_edge_f == 2)
;;;2709   						|| (dist_y[0] < -thisModeConf->CoordEdge.ucPostProcessDisTH  && dist_y[1] < -thisModeConf->CoordEdge.ucPostProcessDisTH && dist_y[2] < -thisModeConf->CoordEdge.ucPostProcessDisTH && y_edge_f == 1)
;;;2710   						|| (dist_y[0] > thisModeConf->CoordEdge.ucPostProcessDisTH   && dist_y[2] > thisModeConf->CoordEdge.ucPostProcessDisTH && dist_y[2] > thisModeConf->CoordEdge.ucPostProcessDisTH && y_edge_f == 2) )
;;;2711   						{
;;;2712   							temp_coord->tPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x + dist_x[0]/thisModeConf->CoordEdge.ucPostProcessExpendDiv;
;;;2713   							temp_coord->tPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y + dist_y[0]/thisModeConf->CoordEdge.ucPostProcessExpendDiv;
;;;2714   							
;;;2715   							uint8_t max_idx = 0;
;;;2716   							if(x_edge_f == 1 && temp_coord->tPos.tXY[i].x > -thisModeConf->CoordEdge.cPostProcessEndMargin)
;;;2717   							{
;;;2718   								temp_coord->tPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x + MIN(dist_x[0],MIN(dist_x[1], dist_x[2]));
;;;2719   							}
;;;2720   							else if(x_edge_f == 2 && temp_coord->tPos.tXY[i].x < thisInfo->tCoord.iInternalXRes + thisModeConf->CoordEdge.cPostProcessEndMargin)
;;;2721   							{
;;;2722   								temp_coord->tPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x + MAX(dist_x[0],MAX(dist_x[1], dist_x[2]));																		
;;;2723   							}
;;;2724   							
;;;2725   							if((x_edge_f == 1 || x_edge_f == 2) && y_edge_f == 0)
;;;2726   							{
;;;2727   								if(abs(dist_y[0]) >= abs(dist_y[1]) && abs(dist_y[0]) >= abs(dist_y[2]))max_idx = 0;
;;;2728   								else if(abs(dist_y[1]) >= abs(dist_y[0]) && abs(dist_y[1]) >= abs(dist_y[2]))max_idx = 1;
;;;2729   								else if(abs(dist_y[2]) >= abs(dist_y[0]) && abs(dist_y[2]) >= abs(dist_y[1]))max_idx = 2;
;;;2730   								
;;;2731   								temp_coord->tPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y + dist_y[max_idx];								
;;;2732   							}
;;;2733   							
;;;2734   							max_idx = 0;
;;;2735   							if(y_edge_f == 1 && temp_coord->tPos.tXY[i].y > -thisModeConf->CoordEdge.cPostProcessEndMargin)
;;;2736   							{
;;;2737   								temp_coord->tPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y + MIN(dist_y[0],MIN(dist_y[1], dist_y[2]));
;;;2738   							}
;;;2739   							else if(y_edge_f == 2 && temp_coord->tPos.tXY[i].y < thisInfo->tCoord.iInternalYRes + thisModeConf->CoordEdge.cPostProcessEndMargin)
;;;2740   							{
;;;2741   								temp_coord->tPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y + MAX(dist_y[0],MAX(dist_y[1], dist_y[2]));
;;;2742   							}
;;;2743   
;;;2744   							if((y_edge_f == 1 || y_edge_f == 2) && x_edge_f == 0)
;;;2745   							{		
;;;2746   								if(abs(dist_x[0]) >= abs(dist_x[1]) && abs(dist_x[0]) >= abs(dist_x[2]))max_idx = 0;
;;;2747   								else if(abs(dist_x[1]) >= abs(dist_x[0]) && abs(dist_x[1]) >= abs(dist_x[2]))max_idx = 1;
;;;2748   								else if(abs(dist_x[2]) >= abs(dist_x[0]) && abs(dist_x[2]) >= abs(dist_x[1]))max_idx = 2;
;;;2749   								
;;;2750   								temp_coord->tPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x + dist_x[max_idx];								
;;;2751   							}
;;;2752   								
;;;2753   							temp_coord->tPos.vusS[i]  =  temp_coord->tOrgPastPos[0].vusS[i];
;;;2754   							temp_coord->tPos.vusR[i]  =  temp_coord->tOrgPastPos[0].vusR[i];	
;;;2755   							
;;;2756   						}   
;;;2757   					}
;;;2758   				}
;;;2759   			}
;;;2760   		}
;;;2761   	}
;;;2762   }
000008  2509              MOVS     r5,#9
00000a  68e0              LDR      r0,[r4,#0xc]          ;2626  ; thisInfo
00000c  f04f0b01          MOV      r11,#1                ;2644
000010  f2003669          ADD      r6,r0,#0x369          ;2626
000014  f6477af6          MOV      r10,#0x7ff6           ;2666
000018  f04f0800          MOV      r8,#0                 ;2666
                  |L8.28|
00001c  68a0              LDR      r0,[r4,#8]            ;2630  ; thisModeConf
00001e  f89000e5          LDRB     r0,[r0,#0xe5]         ;2630
000022  bbc8              CBNZ     r0,|L8.152|
000024  eb060045          ADD      r0,r6,r5,LSL #1       ;2632
000028  f8b01186          LDRH     r1,[r0,#0x186]        ;2632
00002c  b3a1              CBZ      r1,|L8.152|
00002e  f8b00392          LDRH     r0,[r0,#0x392]        ;2632
000032  bb88              CBNZ     r0,|L8.152|
000034  eb060905          ADD      r9,r6,r5              ;2634
000038  f9990cb4          LDRSB    r0,[r9,#0xcb4]        ;2634
00003c  2802              CMP      r0,#2                 ;2634
00003e  dd2b              BLE      |L8.152|
000040  eb0607c5          ADD      r7,r6,r5,LSL #3       ;2636
000044  f207204f          ADD      r0,r7,#0x24f          ;2636
000048  2100              MOVS     r1,#0                 ;2636
00004a  f7fffffe          BL       algorithm_coord_IsEdgeArea
00004e  2800              CMP      r0,#0                 ;2636
000050  dd22              BLE      |L8.152|
000052  f8d7024f          LDR      r0,[r7,#0x24f]        ;2640
000056  f8d7159f          LDR      r1,[r7,#0x59f]        ;2640
00005a  f8d73253          LDR      r3,[r7,#0x253]        ;2640
00005e  f8d725a3          LDR      r2,[r7,#0x5a3]        ;2640
000062  1a40              SUBS     r0,r0,r1              ;2640
000064  4340              MULS     r0,r0,r0              ;2640
000066  1a99              SUBS     r1,r3,r2              ;2640
000068  fb010001          MLA      r0,r1,r1,r0           ;2640
00006c  f7fffffe          BL       algorithm_calc_sqrt
000070  2840              CMP      r0,#0x40              ;2642
000072  dd11              BLE      |L8.152|
000074  f889bcc8          STRB     r11,[r9,#0xcc8]       ;2644
000078  f8d71136          LDR      r1,[r7,#0x136]        ;2645
00007c  f8d7013a          LDR      r0,[r7,#0x13a]        ;2645
000080  f8d7224f          LDR      r2,[r7,#0x24f]        ;2646
000084  f8c72136          STR      r2,[r7,#0x136]        ;2646
000088  f8d72253          LDR      r2,[r7,#0x253]        ;2646
00008c  f8c7213a          STR      r2,[r7,#0x13a]        ;2646
000090  f8c7124f          STR      r1,[r7,#0x24f]        ;2647
000094  f8c70253          STR      r0,[r7,#0x253]        ;2647
                  |L8.152|
000098  68a0              LDR      r0,[r4,#8]            ;2654  ; thisModeConf
00009a  f8b020e0          LDRH     r2,[r0,#0xe0]         ;2654
00009e  2a00              CMP      r2,#0                 ;2654
0000a0  f0008272          BEQ.W    |L8.1416|
0000a4  eb060145          ADD      r1,r6,r5,LSL #1       ;2656
0000a8  f8b135ef          LDRH     r3,[r1,#0x5ef]        ;2656
0000ac  2b00              CMP      r3,#0                 ;2656
0000ae  f040826b          BNE.W    |L8.1416|
0000b2  f8b13484          LDRH     r3,[r1,#0x484]        ;2656
0000b6  2b00              CMP      r3,#0                 ;2656
0000b8  bf1c              ITT      NE                    ;2656
0000ba  f8b1c392          LDRHNE   r12,[r1,#0x392]       ;2656
0000be  f1bc0f00          CMPNE    r12,#0                ;2656
0000c2  d009              BEQ      |L8.216|
0000c4  f8b1c576          LDRH     r12,[r1,#0x576]       ;2656
0000c8  f1bc0f00          CMP      r12,#0                ;2656
0000cc  bf1c              ITT      NE                    ;2656
0000ce  f890c0e5          LDRBNE   r12,[r0,#0xe5]        ;2656
0000d2  f1bc0f00          CMPNE    r12,#0                ;2656
0000d6  d110              BNE      |L8.250|
                  |L8.216|
0000d8  f8b1c40b          LDRH     r12,[r1,#0x40b]       ;2657
0000dc  f1bc0f00          CMP      r12,#0                ;2657
0000e0  bf1e              ITTT     NE                    ;2657
0000e2  f8b1c392          LDRHNE   r12,[r1,#0x392]       ;2657
0000e6  f1bc0f00          CMPNE    r12,#0                ;2657
0000ea  2b00              CMPNE    r3,#0                 ;2657
0000ec  f000824c          BEQ.W    |L8.1416|
0000f0  f89030e5          LDRB     r3,[r0,#0xe5]         ;2657
0000f4  2b00              CMP      r3,#0                 ;2657
0000f6  f0408247          BNE.W    |L8.1416|
                  |L8.250|
0000fa  eb0603c5          ADD      r3,r6,r5,LSL #3       ;2660
0000fe  f8d37342          LDR      r7,[r3,#0x342]        ;2660
000102  9709              STR      r7,[sp,#0x24]         ;2660
000104  f8d39346          LDR      r9,[r3,#0x346]        ;2660
000108  f8cd9020          STR      r9,[sp,#0x20]         ;2660
00010c  f8cd901c          STR      r9,[sp,#0x1c]         ;2661
000110  f8d4c00c          LDR      r12,[r4,#0xc]         ;2661  ; thisInfo
000114  f50c5c80          ADD      r12,r12,#0x1000       ;2661
000118  f8cdc03c          STR      r12,[sp,#0x3c]        ;2661
00011c  f8dc907d          LDR      r9,[r12,#0x7d]        ;2661
000120  46e6              MOV      lr,r12                ;2661
000122  f8cd9008          STR      r9,[sp,#8]            ;2661
000126  f8d4c004          LDR      r12,[r4,#4]           ;2661  ; thisCommonConf
00012a  f8cdc014          STR      r12,[sp,#0x14]        ;2661
00012e  444f              ADD      r7,r7,r9              ;2661
000130  f8dcc000          LDR      r12,[r12,#0]          ;2661
000134  f9b09099          LDRSH    r9,[r0,#0x99]         ;2661
000138  44cc              ADD      r12,r12,r9            ;2661
00013a  fb07f70c          MUL      r7,r7,r12             ;2661
00013e  f8dec085          LDR      r12,[lr,#0x85]        ;2661
000142  f8dd9008          LDR      r9,[sp,#8]            ;2661
000146  f8cdc00c          STR      r12,[sp,#0xc]         ;2661
00014a  eb0c0c49          ADD      r12,r12,r9,LSL #1     ;2661
00014e  fb97f9fc          SDIV     r9,r7,r12             ;2661
000152  f8cd9008          STR      r9,[sp,#8]            ;2662
000156  f8dd901c          LDR      r9,[sp,#0x1c]         ;2662
00015a  f8dec081          LDR      r12,[lr,#0x81]        ;2662
00015e  f8cdc018          STR      r12,[sp,#0x18]        ;2662
000162  eb09070c          ADD      r7,r9,r12             ;2662
000166  f8ddc014          LDR      r12,[sp,#0x14]        ;2662
00016a  f9b0909b          LDRSH    r9,[r0,#0x9b]         ;2662
00016e  f8dcc004          LDR      r12,[r12,#4]          ;2662
000172  44cc              ADD      r12,r12,r9            ;2662
000174  fb07f90c          MUL      r9,r7,r12             ;2662
000178  f8de7089          LDR      r7,[lr,#0x89]         ;2662
00017c  f8ddc018          LDR      r12,[sp,#0x18]        ;2662
000180  f9b0e09d          LDRSH    lr,[r0,#0x9d]         ;2663
000184  eb070c4c          ADD      r12,r7,r12,LSL #1     ;2662
000188  fb99fcfc          SDIV     r12,r9,r12            ;2662
00018c  f8dd9008          LDR      r9,[sp,#8]            ;2663
000190  44f1              ADD      r9,r9,lr              ;2663
000192  f9b0e09f          LDRSH    lr,[r0,#0x9f]         ;2664
000196  f1a90905          SUB      r9,r9,#5              ;2664
00019a  44f4              ADD      r12,r12,lr            ;2664
00019c  45d1              CMP      r9,r10                ;2666
00019e  d206              BCS      |L8.430|
0001a0  f1bc0f05          CMP      r12,#5                ;2666
0001a4  db03              BLT      |L8.430|
0001a6  f64779fa          MOV      r9,#0x7ffa            ;2666
0001aa  45cc              CMP      r12,r9                ;2666
0001ac  dd05              BLE      |L8.442|
                  |L8.430|
0001ae  f890c0e4          LDRB     r12,[r0,#0xe4]        ;2666
0001b2  f1bc0f00          CMP      r12,#0                ;2666
0001b6  f00081e7          BEQ.W    |L8.1416|
                  |L8.442|
0001ba  f04f0c00          MOV      r12,#0                ;2672
0001be  f8cdc048          STR      r12,[sp,#0x48]        ;2673
0001c2  f8cdc044          STR      r12,[sp,#0x44]        ;2675
0001c6  f8d3c6b8          LDR      r12,[r3,#0x6b8]       ;2675
0001ca  f8cdc040          STR      r12,[sp,#0x40]        ;2675
0001ce  4594              CMP      r12,r2                ;2675
0001d0  bfb8              IT       LT                    ;2675
0001d2  f04f0c01          MOVLT    r12,#1                ;2675
0001d6  db0a              BLT      |L8.494|
0001d8  f8ddc00c          LDR      r12,[sp,#0xc]         ;2676
0001dc  f8dd9040          LDR      r9,[sp,#0x40]         ;2676
0001e0  ebac0c09          SUB      r12,r12,r9            ;2676
0001e4  4562              CMP      r2,r12                ;2676
0001e6  bfc8              IT       GT                    ;2676
0001e8  f04f0c02          MOVGT    r12,#2                ;2676
0001ec  dd01              BLE      |L8.498|
                  |L8.494|
0001ee  f8cdc048          STR      r12,[sp,#0x48]        ;2676
                  |L8.498|
0001f2  f8d3c6bc          LDR      r12,[r3,#0x6bc]       ;2678
0001f6  f8cdc04c          STR      r12,[sp,#0x4c]        ;2678
0001fa  4594              CMP      r12,r2                ;2678
0001fc  bfb8              IT       LT                    ;2678
0001fe  2201              MOVLT    r2,#1                 ;2678
000200  db05              BLT      |L8.526|
000202  eba70c0c          SUB      r12,r7,r12            ;2679
000206  4562              CMP      r2,r12                ;2679
000208  bfc8              IT       GT                    ;2679
00020a  2202              MOVGT    r2,#2                 ;2679
00020c  dd00              BLE      |L8.528|
                  |L8.526|
00020e  9211              STR      r2,[sp,#0x44]         ;2679
                  |L8.528|
000210  e9ddc211          LDRD     r12,r2,[sp,#0x44]     ;2679
000214  ea52020c          ORRS     r2,r2,r12             ;2681
000218  f00081b6          BEQ.W    |L8.1416|
00021c  f8cd8010          STR      r8,[sp,#0x10]         ;2684
000220  f8cd8008          STR      r8,[sp,#8]            ;2683
000224  9a09              LDR      r2,[sp,#0x24]         ;2686
000226  f8cd8004          STR      r8,[sp,#4]            ;2683
00022a  f8cd800c          STR      r8,[sp,#0xc]          ;2684
00022e  920c              STR      r2,[sp,#0x30]         ;2686
000230  f8cd8018          STR      r8,[sp,#0x18]         ;2684
000234  9a08              LDR      r2,[sp,#0x20]         ;2686
000236  f8cd8014          STR      r8,[sp,#0x14]         ;2684
00023a  920b              STR      r2,[sp,#0x2c]         ;2687
00023c  f89020e5          LDRB     r2,[r0,#0xe5]         ;2687
000240  b142              CBZ      r2,|L8.596|
000242  f8d3e434          LDR      lr,[r3,#0x434]        ;2689
000246  f8d37438          LDR      r7,[r3,#0x438]        ;2689
00024a  f8d32526          LDR      r2,[r3,#0x526]        ;2690
00024e  f8d3c52a          LDR      r12,[r3,#0x52a]       ;2690
000252  e007              B        |L8.612|
                  |L8.596|
000254  f8d3e3bb          LDR      lr,[r3,#0x3bb]        ;2694
000258  f8d373bf          LDR      r7,[r3,#0x3bf]        ;2694
00025c  f8d32434          LDR      r2,[r3,#0x434]        ;2695
000260  f8d3c438          LDR      r12,[r3,#0x438]       ;2695
                  |L8.612|
000264  f8dd902c          LDR      r9,[sp,#0x2c]         ;2698
000268  eba90907          SUB      r9,r9,r7              ;2698
00026c  f8cd9004          STR      r9,[sp,#4]            ;2699
000270  f8dd9030          LDR      r9,[sp,#0x30]         ;2699
000274  eba9090e          SUB      r9,r9,lr              ;2699
000278  f8cd9010          STR      r9,[sp,#0x10]         ;2701
00027c  f8dd902c          LDR      r9,[sp,#0x2c]         ;2701
000280  eba9090c          SUB      r9,r9,r12             ;2701
000284  f8cd9008          STR      r9,[sp,#8]            ;2702
000288  f8dd9030          LDR      r9,[sp,#0x30]         ;2702
00028c  eba70c0c          SUB      r12,r7,r12            ;2704
000290  eba90902          SUB      r9,r9,r2              ;2702
000294  ebae0202          SUB      r2,lr,r2              ;2705
000298  f8cdc00c          STR      r12,[sp,#0xc]         ;2705
00029c  e9cd9205          STRD     r9,r2,[sp,#0x14]      ;2705
0002a0  f890c0e2          LDRB     r12,[r0,#0xe2]        ;2707
0002a4  9f04              LDR      r7,[sp,#0x10]         ;2707
0002a6  f1cc0200          RSB      r2,r12,#0             ;2707
0002aa  4297              CMP      r7,r2                 ;2707
0002ac  bfbe              ITTT     LT                    ;2707
0002ae  4591              CMPLT    r9,r2                 ;2707
0002b0  9f06              LDRLT    r7,[sp,#0x18]         ;2707
0002b2  4297              CMPLT    r7,r2                 ;2707
0002b4  da02              BGE      |L8.700|
0002b6  9f12              LDR      r7,[sp,#0x48]         ;2707
0002b8  2f01              CMP      r7,#1                 ;2707
0002ba  d01f              BEQ      |L8.764|
                  |L8.700|
0002bc  9f04              LDR      r7,[sp,#0x10]         ;2708
0002be  4567              CMP      r7,r12                ;2708
0002c0  bfc2              ITTT     GT                    ;2708
0002c2  45e1              CMPGT    r9,r12                ;2708
0002c4  9f06              LDRGT    r7,[sp,#0x18]         ;2708
0002c6  4567              CMPGT    r7,r12                ;2708
0002c8  dd02              BLE      |L8.720|
0002ca  9f12              LDR      r7,[sp,#0x48]         ;2708
0002cc  2f02              CMP      r7,#2                 ;2708
0002ce  d015              BEQ      |L8.764|
                  |L8.720|
0002d0  9f01              LDR      r7,[sp,#4]            ;2709
0002d2  4297              CMP      r7,r2                 ;2709
0002d4  bfbf              ITTTT    LT                    ;2709
0002d6  9f02              LDRLT    r7,[sp,#8]            ;2709
0002d8  4297              CMPLT    r7,r2                 ;2709
0002da  9f03              LDRLT    r7,[sp,#0xc]          ;2709
0002dc  4297              CMPLT    r7,r2                 ;2709
0002de  da02              BGE      |L8.742|
0002e0  9a11              LDR      r2,[sp,#0x44]         ;2709
0002e2  2a01              CMP      r2,#1                 ;2709
0002e4  d00a              BEQ      |L8.764|
                  |L8.742|
0002e6  9a01              LDR      r2,[sp,#4]            ;2710
0002e8  4562              CMP      r2,r12                ;2710
0002ea  bfc4              ITT      GT                    ;2710
0002ec  9a03              LDRGT    r2,[sp,#0xc]          ;2710
0002ee  4562              CMPGT    r2,r12                ;2710
0002f0  f340814a          BLE.W    |L8.1416|
0002f4  9a11              LDR      r2,[sp,#0x44]         ;2710
0002f6  2a02              CMP      r2,#2                 ;2710
0002f8  f0408146          BNE.W    |L8.1416|
                  |L8.764|
0002fc  f890c0e3          LDRB     r12,[r0,#0xe3]        ;2712
000300  9a04              LDR      r2,[sp,#0x10]         ;2712
000302  fb92fcfc          SDIV     r12,r2,r12            ;2712
000306  9a10              LDR      r2,[sp,#0x40]         ;2712
000308  4494              ADD      r12,r12,r2            ;2712
00030a  f8c3c136          STR      r12,[r3,#0x136]       ;2712
00030e  f89070e3          LDRB     r7,[r0,#0xe3]         ;2713
000312  9a01              LDR      r2,[sp,#4]            ;2713
000314  fb92f7f7          SDIV     r7,r2,r7              ;2713
000318  9a13              LDR      r2,[sp,#0x4c]         ;2713
00031a  4417              ADD      r7,r7,r2              ;2713
00031c  f8c3713a          STR      r7,[r3,#0x13a]        ;2713
000320  f8dd9048          LDR      r9,[sp,#0x48]         ;2716
000324  2200              MOVS     r2,#0                 ;2715
000326  f1b90f01          CMP      r9,#1                 ;2716
00032a  d003              BEQ      |L8.820|
00032c  f1b90f02          CMP      r9,#2                 ;2720
000330  d015              BEQ      |L8.862|
000332  e034              B        |L8.926|
                  |L8.820|
000334  f99090e4          LDRSB    r9,[r0,#0xe4]         ;2716
000338  f1c90900          RSB      r9,r9,#0              ;2716
00033c  45cc              CMP      r12,r9                ;2716
00033e  dd29              BLE      |L8.916|
000340  e9ddc905          LDRD     r12,r9,[sp,#0x14]     ;2716
000344  45e1              CMP      r9,r12                ;2718
000346  bfd8              IT       LE                    ;2718
000348  46cc              MOVLE    r12,r9                ;2718
00034a  f8dd9010          LDR      r9,[sp,#0x10]         ;2718
00034e  45cc              CMP      r12,r9                ;2718
000350  dc03              BGT      |L8.858|
000352  e9ddc905          LDRD     r12,r9,[sp,#0x14]     ;2718
000356  45e1              CMP      r9,r12                ;2718
000358  dc17              BGT      |L8.906|
                  |L8.858|
00035a  46cc              MOV      r12,r9                ;2718
00035c  e015              B        |L8.906|
                  |L8.862|
00035e  f8dd903c          LDR      r9,[sp,#0x3c]         ;2720
000362  f990e0e4          LDRSB    lr,[r0,#0xe4]         ;2720
000366  f8d99085          LDR      r9,[r9,#0x85]         ;2720
00036a  44f1              ADD      r9,r9,lr              ;2720
00036c  45e1              CMP      r9,r12                ;2720
00036e  dd11              BLE      |L8.916|
000370  e9ddc905          LDRD     r12,r9,[sp,#0x14]     ;2720
000374  45cc              CMP      r12,r9                ;2722
000376  bfd8              IT       LE                    ;2722
000378  46cc              MOVLE    r12,r9                ;2722
00037a  f8dd9010          LDR      r9,[sp,#0x10]         ;2722
00037e  45cc              CMP      r12,r9                ;2722
000380  dbeb              BLT      |L8.858|
000382  e9ddc905          LDRD     r12,r9,[sp,#0x14]     ;2722
000386  45e1              CMP      r9,r12                ;2722
000388  dae7              BGE      |L8.858|
                  |L8.906|
00038a  f8dd9040          LDR      r9,[sp,#0x40]         ;2722
00038e  44cc              ADD      r12,r12,r9            ;2722
000390  f8c3c136          STR      r12,[r3,#0x136]       ;2722
                  |L8.916|
000394  f8ddc044          LDR      r12,[sp,#0x44]        ;2725
000398  f1bc0f00          CMP      r12,#0                ;2725
00039c  d009              BEQ      |L8.946|
                  |L8.926|
00039e  f8ddc044          LDR      r12,[sp,#0x44]        ;2735
0003a2  f1bc0f01          CMP      r12,#1                ;2735
0003a6  d05e              BEQ      |L8.1126|
0003a8  f1bc0f02          CMP      r12,#2                ;2739
0003ac  d070              BEQ      |L8.1168|
0003ae  f000b8e3          B.W      |L8.1400|
                  |L8.946|
0003b2  e9ddc001          LDRD     r12,r0,[sp,#4]        ;2739
0003b6  f1bc0f00          CMP      r12,#0                ;2727
0003ba  bfb8              IT       LT                    ;2727
0003bc  f1cc0c00          RSBLT    r12,r12,#0            ;2727
0003c0  2800              CMP      r0,#0                 ;2727
0003c2  bfb8              IT       LT                    ;2727
0003c4  4240              RSBLT    r0,r0,#0              ;2727
0003c6  4560              CMP      r0,r12                ;2727
0003c8  dc0c              BGT      |L8.996|
0003ca  f8ddc004          LDR      r12,[sp,#4]           ;2727
0003ce  9803              LDR      r0,[sp,#0xc]          ;2727
0003d0  f1bc0f00          CMP      r12,#0                ;2727
0003d4  bfb8              IT       LT                    ;2727
0003d6  f1cc0c00          RSBLT    r12,r12,#0            ;2727
0003da  2800              CMP      r0,#0                 ;2727
0003dc  bfb8              IT       LT                    ;2727
0003de  4240              RSBLT    r0,r0,#0              ;2727
0003e0  4584              CMP      r12,r0                ;2727
0003e2  da37              BGE      |L8.1108|
                  |L8.996|
0003e4  e9dd0c01          LDRD     r0,r12,[sp,#4]        ;2727
0003e8  f1bc0f00          CMP      r12,#0                ;2728
0003ec  bfb8              IT       LT                    ;2728
0003ee  f1cc0c00          RSBLT    r12,r12,#0            ;2728
0003f2  2800              CMP      r0,#0                 ;2728
0003f4  bfb8              IT       LT                    ;2728
0003f6  4240              RSBLT    r0,r0,#0              ;2728
0003f8  4560              CMP      r0,r12                ;2728
0003fa  dc11              BGT      |L8.1056|
0003fc  e002              B        |L8.1028|
0003fe  0000              DCW      0x0000
                  |L8.1024|
                          DCD      ||.data||
                  |L8.1028|
000404  e9ddc002          LDRD     r12,r0,[sp,#8]        ;2728
000408  f1bc0f00          CMP      r12,#0                ;2728
00040c  bfb8              IT       LT                    ;2728
00040e  f1cc0c00          RSBLT    r12,r12,#0            ;2728
000412  2800              CMP      r0,#0                 ;2728
000414  bfb8              IT       LT                    ;2728
000416  4240              RSBLT    r0,r0,#0              ;2728
000418  4584              CMP      r12,r0                ;2728
00041a  bfa8              IT       GE                    ;2728
00041c  2201              MOVGE    r2,#1                 ;2728
00041e  da19              BGE      |L8.1108|
                  |L8.1056|
000420  f8ddc00c          LDR      r12,[sp,#0xc]         ;2729
000424  9801              LDR      r0,[sp,#4]            ;2729
000426  f1bc0f00          CMP      r12,#0                ;2729
00042a  bfb8              IT       LT                    ;2729
00042c  f1cc0c00          RSBLT    r12,r12,#0            ;2729
000430  2800              CMP      r0,#0                 ;2729
000432  bfb8              IT       LT                    ;2729
000434  4240              RSBLT    r0,r0,#0              ;2729
000436  4560              CMP      r0,r12                ;2729
000438  dc0c              BGT      |L8.1108|
00043a  e9dd0c02          LDRD     r0,r12,[sp,#8]        ;2729
00043e  f1bc0f00          CMP      r12,#0                ;2729
000442  bfb8              IT       LT                    ;2729
000444  f1cc0c00          RSBLT    r12,r12,#0            ;2729
000448  2800              CMP      r0,#0                 ;2729
00044a  bfb8              IT       LT                    ;2729
00044c  4240              RSBLT    r0,r0,#0              ;2729
00044e  4584              CMP      r12,r0                ;2729
000450  bfa8              IT       GE                    ;2729
000452  2202              MOVGE    r2,#2                 ;2729
                  |L8.1108|
000454  a801              ADD      r0,sp,#4              ;2731
000456  f8ddc04c          LDR      r12,[sp,#0x4c]        ;2731
00045a  f8500022          LDR      r0,[r0,r2,LSL #2]     ;2731
00045e  4460              ADD      r0,r0,r12             ;2731
000460  f8c3013a          STR      r0,[r3,#0x13a]        ;2731
000464  e088              B        |L8.1400|
                  |L8.1126|
000466  f99000e4          LDRSB    r0,[r0,#0xe4]         ;2735
00046a  4240              RSBS     r0,r0,#0              ;2735
00046c  4287              CMP      r7,r0                 ;2735
00046e  dd2a              BLE      |L8.1222|
000470  e9dd0c02          LDRD     r0,r12,[sp,#8]        ;2735
000474  4584              CMP      r12,r0                ;2737
000476  bfd8              IT       LE                    ;2737
000478  4660              MOVLE    r0,r12                ;2737
00047a  f8ddc004          LDR      r12,[sp,#4]           ;2737
00047e  4560              CMP      r0,r12                ;2737
000480  dc03              BGT      |L8.1162|
000482  e9dd0c02          LDRD     r0,r12,[sp,#8]        ;2737
000486  4584              CMP      r12,r0                ;2737
000488  dc18              BGT      |L8.1212|
                  |L8.1162|
00048a  4660              MOV      r0,r12                ;2737
00048c  e016              B        |L8.1212|
00048e  e7ff              B        |L8.1168|
                  |L8.1168|
000490  f8ddc03c          LDR      r12,[sp,#0x3c]        ;2739
000494  f99000e4          LDRSB    r0,[r0,#0xe4]         ;2739
000498  f8dcc089          LDR      r12,[r12,#0x89]       ;2739
00049c  4460              ADD      r0,r0,r12             ;2739
00049e  42b8              CMP      r0,r7                 ;2739
0004a0  dd11              BLE      |L8.1222|
0004a2  e9dd0c02          LDRD     r0,r12,[sp,#8]        ;2739
0004a6  4560              CMP      r0,r12                ;2741
0004a8  bfd8              IT       LE                    ;2741
0004aa  4660              MOVLE    r0,r12                ;2741
0004ac  f8ddc004          LDR      r12,[sp,#4]           ;2741
0004b0  4560              CMP      r0,r12                ;2741
0004b2  dbea              BLT      |L8.1162|
0004b4  e9dd0c02          LDRD     r0,r12,[sp,#8]        ;2741
0004b8  4584              CMP      r12,r0                ;2741
0004ba  dae6              BGE      |L8.1162|
                  |L8.1212|
0004bc  f8ddc04c          LDR      r12,[sp,#0x4c]        ;2741
0004c0  4460              ADD      r0,r0,r12             ;2741
0004c2  f8c3013a          STR      r0,[r3,#0x13a]        ;2741
                  |L8.1222|
0004c6  9812              LDR      r0,[sp,#0x48]         ;2744
0004c8  bbe0              CBNZ     r0,|L8.1348|
0004ca  e9ddc004          LDRD     r12,r0,[sp,#0x10]     ;2744
0004ce  f1bc0f00          CMP      r12,#0                ;2746
0004d2  bfb8              IT       LT                    ;2746
0004d4  f1cc0c00          RSBLT    r12,r12,#0            ;2746
0004d8  2800              CMP      r0,#0                 ;2746
0004da  bfb8              IT       LT                    ;2746
0004dc  4240              RSBLT    r0,r0,#0              ;2746
0004de  4560              CMP      r0,r12                ;2746
0004e0  dc0c              BGT      |L8.1276|
0004e2  9804              LDR      r0,[sp,#0x10]         ;2746
0004e4  f8ddc018          LDR      r12,[sp,#0x18]        ;2746
0004e8  2800              CMP      r0,#0                 ;2746
0004ea  bfb8              IT       LT                    ;2746
0004ec  4240              RSBLT    r0,r0,#0              ;2746
0004ee  f1bc0f00          CMP      r12,#0                ;2746
0004f2  bfb8              IT       LT                    ;2746
0004f4  f1cc0c00          RSBLT    r12,r12,#0            ;2746
0004f8  4560              CMP      r0,r12                ;2746
0004fa  da35              BGE      |L8.1384|
                  |L8.1276|
0004fc  e9dd0c04          LDRD     r0,r12,[sp,#0x10]     ;2746
000500  f1bc0f00          CMP      r12,#0                ;2747
000504  bfb8              IT       LT                    ;2747
000506  f1cc0c00          RSBLT    r12,r12,#0            ;2747
00050a  2800              CMP      r0,#0                 ;2747
00050c  bfb8              IT       LT                    ;2747
00050e  4240              RSBLT    r0,r0,#0              ;2747
000510  4560              CMP      r0,r12                ;2747
000512  dc0d              BGT      |L8.1328|
000514  e9ddc005          LDRD     r12,r0,[sp,#0x14]     ;2747
000518  f1bc0f00          CMP      r12,#0                ;2747
00051c  bfb8              IT       LT                    ;2747
00051e  f1cc0c00          RSBLT    r12,r12,#0            ;2747
000522  2800              CMP      r0,#0                 ;2747
000524  bfb8              IT       LT                    ;2747
000526  4240              RSBLT    r0,r0,#0              ;2747
000528  4584              CMP      r12,r0                ;2747
00052a  bfa8              IT       GE                    ;2747
00052c  2201              MOVGE    r2,#1                 ;2747
00052e  da1b              BGE      |L8.1384|
                  |L8.1328|
000530  f8ddc018          LDR      r12,[sp,#0x18]        ;2748
000534  9804              LDR      r0,[sp,#0x10]         ;2748
000536  f1bc0f00          CMP      r12,#0                ;2748
00053a  bfb8              IT       LT                    ;2748
00053c  f1cc0c00          RSBLT    r12,r12,#0            ;2748
000540  2800              CMP      r0,#0                 ;2748
000542  e000              B        |L8.1350|
                  |L8.1348|
000544  e018              B        |L8.1400|
                  |L8.1350|
000546  bfb8              IT       LT                    ;2748
000548  4240              RSBLT    r0,r0,#0              ;2748
00054a  4560              CMP      r0,r12                ;2748
00054c  dc0c              BGT      |L8.1384|
00054e  e9ddc005          LDRD     r12,r0,[sp,#0x14]     ;2748
000552  2800              CMP      r0,#0                 ;2748
000554  bfb8              IT       LT                    ;2748
000556  4240              RSBLT    r0,r0,#0              ;2748
000558  f1bc0f00          CMP      r12,#0                ;2748
00055c  bfb8              IT       LT                    ;2748
00055e  f1cc0c00          RSBLT    r12,r12,#0            ;2748
000562  4560              CMP      r0,r12                ;2748
000564  bfa8              IT       GE                    ;2748
000566  2202              MOVGE    r2,#2                 ;2748
                  |L8.1384|
000568  a804              ADD      r0,sp,#0x10           ;2750
00056a  f8ddc040          LDR      r12,[sp,#0x40]        ;2750
00056e  f8500022          LDR      r0,[r0,r2,LSL #2]     ;2750
000572  4460              ADD      r0,r0,r12             ;2750
000574  f8c30136          STR      r0,[r3,#0x136]        ;2750
                  |L8.1400|
000578  f8b10708          LDRH     r0,[r1,#0x708]        ;2753
00057c  f8a10186          STRH     r0,[r1,#0x186]        ;2753
000580  f8b1071c          LDRH     r0,[r1,#0x71c]        ;2754
000584  f8a1019a          STRH     r0,[r1,#0x19a]        ;2754
                  |L8.1416|
000588  1e6d              SUBS     r5,r5,#1              ;2754
00058a  f4bfad47          BCS      |L8.28|
00058e  b017              ADD      sp,sp,#0x5c
000590  e8bd8ff0          POP      {r4-r11,pc}
;;;2763   
                          ENDP


                          AREA ||i.algorithm_coord_UpdatePosHistoryInfo||, CODE, READONLY, ALIGN=2

                  algorithm_coord_UpdatePosHistoryInfo PROC
;;;2896   
;;;2897   void algorithm_coord_UpdatePosHistoryInfo(void)
000000  484f              LDR      r0,|L9.320|
;;;2898   {
000002  b410              PUSH     {r4}
;;;2899   	int i;
;;;2900   
;;;2901   	tCoordInfo_t 	*temp_coord;
;;;2902   
;;;2903   	temp_coord = &thisInfo->tCoord;
000004  68c0              LDR      r0,[r0,#0xc]  ; thisInfo
;;;2904   
;;;2905   #if (INTERPOLATION_VER1_En == YES || INTERPOLATION_VER2_En == YES || INTERPOLATION_VER3_En == YES)	
;;;2906   	if(temp_coord->bInterpolation_On)
;;;2907   	{
;;;2908   		temp_coord->tPastPos[4].sFinger_ 	    = temp_coord->tPastPos[3].sFinger_;
;;;2909   		temp_coord->tPastPos[3].sFinger_ 	    = temp_coord->tPastPos[2].sFinger_;
;;;2910   		
;;;2911   		temp_coord->tOrgPastPos[4].sFinger_ 	= temp_coord->tOrgPastPos[3].sFinger_;
;;;2912   		temp_coord->tOrgPastPos[3].sFinger_ 	= temp_coord->tOrgPastPos[2].sFinger_;
;;;2913   	}
;;;2914   #endif
;;;2915   
;;;2916   	temp_coord->tPastPos[2].sFinger_ 	    = temp_coord->tPastPos[1].sFinger_;
;;;2917   	temp_coord->tPastPos[1].sFinger_ 	    = temp_coord->tPastPos[0].sFinger_;
;;;2918   	temp_coord->tPastPos[0].sFinger_ 	    = temp_coord->tPos.sFinger_;
;;;2919   
;;;2920   	temp_coord->tOrgPastPos[2].sFinger_ 	= temp_coord->tOrgPastPos[1].sFinger_;
;;;2921   	temp_coord->tOrgPastPos[1].sFinger_ 	= temp_coord->tOrgPastPos[0].sFinger_;
;;;2922   	temp_coord->tOrgPastPos[0].sFinger_ 	= temp_coord->tOrgPos.sFinger_;
;;;2923   
;;;2924   	for( i=MAX_TOUCH_; i--; )
;;;2925   	{
;;;2926   		#if RANSAC_ALGO_EN
;;;2927   		if(temp_coord->tPos.vusR[i])
;;;2928   		{
;;;2929   			algorithm_Ransac(i, temp_coord->tPos.tXY[i]);	//Heon
;;;2930   		}
;;;2931   		#endif
;;;2932   		
;;;2933   #if (INTERPOLATION_VER1_En == YES || INTERPOLATION_VER2_En == YES || INTERPOLATION_VER3_En == YES)
;;;2934   		if(temp_coord->bInterpolation_On)
;;;2935   		{
;;;2936   			temp_coord->tPastPos[4].tXY[i]         = temp_coord->tPastPos[3].tXY[i];
;;;2937   			temp_coord->tPastPos[4].vusR[i]        = temp_coord->tPastPos[3].vusR[i];
;;;2938   			temp_coord->tPastPos[4].vusS[i]        = temp_coord->tPastPos[3].vusS[i];
;;;2939   			
;;;2940   			temp_coord->tPastPos[3].tXY[i]         = temp_coord->tPastPos[2].tXY[i];
;;;2941   			temp_coord->tPastPos[3].vusR[i]        = temp_coord->tPastPos[2].vusR[i];
;;;2942   			temp_coord->tPastPos[3].vusS[i]        = temp_coord->tPastPos[2].vusS[i];
;;;2943   			
;;;2944   			temp_coord->tOrgPastPos[4].tXY[i]      = temp_coord->tOrgPastPos[3].tXY[i];
;;;2945   			temp_coord->tOrgPastPos[4].vusR[i]     = temp_coord->tOrgPastPos[3].vusR[i];
;;;2946   			temp_coord->tOrgPastPos[4].vusS[i]     = temp_coord->tOrgPastPos[3].vusS[i];
;;;2947   			
;;;2948   			temp_coord->tOrgPastPos[3].tXY[i]      = temp_coord->tOrgPastPos[2].tXY[i];
;;;2949   			temp_coord->tOrgPastPos[3].vusR[i]     = temp_coord->tOrgPastPos[2].vusR[i];
;;;2950   			temp_coord->tOrgPastPos[3].vusS[i]     = temp_coord->tOrgPastPos[2].vusS[i];
;;;2951   		}
;;;2952   #endif
;;;2953   		temp_coord->tPastPos[2].tXY[i]         = temp_coord->tPastPos[1].tXY[i];
;;;2954   		temp_coord->tPastPos[2].vusR[i]        = temp_coord->tPastPos[1].vusR[i];
;;;2955   		temp_coord->tPastPos[2].vusS[i]        = temp_coord->tPastPos[1].vusS[i];
;;;2956   		
;;;2957   		temp_coord->tPastPos[1].tXY[i]         = temp_coord->tPastPos[0].tXY[i];
;;;2958   		temp_coord->tPastPos[1].vusR[i]        = temp_coord->tPastPos[0].vusR[i];
;;;2959   		temp_coord->tPastPos[1].vusS[i]        = temp_coord->tPastPos[0].vusS[i];
;;;2960   
;;;2961   		if(temp_coord->ucPostProcessRun[i] == 1)
;;;2962   		{
;;;2963   			temp_coord->tPastPos[0].tXY[i] 	    = temp_coord->tFirstPos.tXY[i];
;;;2964   			temp_coord->tPastPos[0].vusR[i] 	    = temp_coord->tPos.vusR[i];
;;;2965   			temp_coord->tPastPos[0].vusS[i] 	    = temp_coord->tPos.vusS[i];
;;;2966   		}
;;;2967   		else
;;;2968   		{
;;;2969   			temp_coord->tPastPos[0].tXY[i] 	    = temp_coord->tPos.tXY[i];
;;;2970   			temp_coord->tPastPos[0].vusR[i] 	    = temp_coord->tPos.vusR[i];
;;;2971   			temp_coord->tPastPos[0].vusS[i] 	    = temp_coord->tPos.vusS[i];
;;;2972   		}
;;;2973   		
;;;2974   		temp_coord->tOrgPastPos[2].tXY[i]      = temp_coord->tOrgPastPos[1].tXY[i];
;;;2975   		temp_coord->tOrgPastPos[2].vusR[i]     = temp_coord->tOrgPastPos[1].vusR[i];
;;;2976   		temp_coord->tOrgPastPos[2].vusS[i]     = temp_coord->tOrgPastPos[1].vusS[i];
;;;2977   
;;;2978   		temp_coord->tOrgPastPos[1].tXY[i]      = temp_coord->tOrgPastPos[0].tXY[i];
;;;2979   		temp_coord->tOrgPastPos[1].vusR[i]     = temp_coord->tOrgPastPos[0].vusR[i];
;;;2980   		temp_coord->tOrgPastPos[1].vusS[i]     = temp_coord->tOrgPastPos[0].vusS[i];
;;;2981   
;;;2982   		temp_coord->tOrgPastPos[0].tXY[i] 	    = temp_coord->tOrgPos.tXY[i];
;;;2983   		temp_coord->tOrgPastPos[0].vusR[i] 	= temp_coord->tOrgPos.vusR[i];
;;;2984   		temp_coord->tOrgPastPos[0].vusS[i] 	= temp_coord->tOrgPos.vusS[i];
;;;2985   		
;;;2986   	}
;;;2987   }
000006  2309              MOVS     r3,#9
000008  f2003169          ADD      r1,r0,#0x369          ;2903
00000c  f8900723          LDRB     r0,[r0,#0x723]        ;2916
000010  f8810433          STRB     r0,[r1,#0x433]        ;2916
000014  f8910341          LDRB     r0,[r1,#0x341]        ;2917
000018  f88103ba          STRB     r0,[r1,#0x3ba]        ;2917
00001c  f8910135          LDRB     r0,[r1,#0x135]        ;2918
000020  f8810341          STRB     r0,[r1,#0x341]        ;2918
000024  f8910730          LDRB     r0,[r1,#0x730]        ;2920
000028  f88107a9          STRB     r0,[r1,#0x7a9]        ;2920
00002c  f89106b7          LDRB     r0,[r1,#0x6b7]        ;2921
000030  f8810730          STRB     r0,[r1,#0x730]        ;2921
000034  f891059e          LDRB     r0,[r1,#0x59e]        ;2922
000038  f88106b7          STRB     r0,[r1,#0x6b7]        ;2922
                  |L9.60|
00003c  eb0102c3          ADD      r2,r1,r3,LSL #3       ;2953
000040  f5026c80          ADD      r12,r2,#0x400         ;2953
000044  f8d203bb          LDR      r0,[r2,#0x3bb]        ;2953
000048  f8c20434          STR      r0,[r2,#0x434]        ;2953
00004c  f8d203bf          LDR      r0,[r2,#0x3bf]        ;2953
000050  f8c20438          STR      r0,[r2,#0x438]        ;2953
000054  eb010043          ADD      r0,r1,r3,LSL #1       ;2954
000058  f8b0441f          LDRH     r4,[r0,#0x41f]        ;2954
00005c  f8a04498          STRH     r4,[r0,#0x498]        ;2954
000060  f8b0440b          LDRH     r4,[r0,#0x40b]        ;2955
000064  f8a04484          STRH     r4,[r0,#0x484]        ;2955
000068  f8d24342          LDR      r4,[r2,#0x342]        ;2957
00006c  f8c243bb          STR      r4,[r2,#0x3bb]        ;2957
000070  f8d24346          LDR      r4,[r2,#0x346]        ;2957
000074  f8c243bf          STR      r4,[r2,#0x3bf]        ;2957
000078  f8b043a6          LDRH     r4,[r0,#0x3a6]        ;2958
00007c  f8a0441f          STRH     r4,[r0,#0x41f]        ;2958
000080  f8b04392          LDRH     r4,[r0,#0x392]        ;2959
000084  f8a0440b          STRH     r4,[r0,#0x40b]        ;2959
000088  18cc              ADDS     r4,r1,r3              ;2961
00008a  f8944cc8          LDRB     r4,[r4,#0xcc8]        ;2961
00008e  2c01              CMP      r4,#1                 ;2961
000090  d044              BEQ      |L9.284|
000092  f8d24136          LDR      r4,[r2,#0x136]        ;2969
000096  f8c24342          STR      r4,[r2,#0x342]        ;2969
00009a  f8d2413a          LDR      r4,[r2,#0x13a]        ;2969
00009e  f8c24346          STR      r4,[r2,#0x346]        ;2969
0000a2  f8b0419a          LDRH     r4,[r0,#0x19a]        ;2970
0000a6  f8a043a6          STRH     r4,[r0,#0x3a6]        ;2970
0000aa  f8b04186          LDRH     r4,[r0,#0x186]        ;2971
0000ae  f8a04392          STRH     r4,[r0,#0x392]        ;2971
0000b2  bf00              NOP                            ;2974
                  |L9.180|
0000b4  f8dc4331          LDR      r4,[r12,#0x331]       ;2974
0000b8  f8c247aa          STR      r4,[r2,#0x7aa]        ;2974
0000bc  f8dc4335          LDR      r4,[r12,#0x335]       ;2974
0000c0  f8c247ae          STR      r4,[r2,#0x7ae]        ;2974
0000c4  f8b02795          LDRH     r2,[r0,#0x795]        ;2975
0000c8  f8a0280e          STRH     r2,[r0,#0x80e]        ;2975
0000cc  f8b02781          LDRH     r2,[r0,#0x781]        ;2976
0000d0  f8a027fa          STRH     r2,[r0,#0x7fa]        ;2976
0000d4  f8dc22b8          LDR      r2,[r12,#0x2b8]       ;2978
0000d8  f8cc2331          STR      r2,[r12,#0x331]       ;2978
0000dc  f8dc22bc          LDR      r2,[r12,#0x2bc]       ;2978
0000e0  f8cc2335          STR      r2,[r12,#0x335]       ;2978
0000e4  f8b0271c          LDRH     r2,[r0,#0x71c]        ;2979
0000e8  f8a02795          STRH     r2,[r0,#0x795]        ;2979
0000ec  f8b02708          LDRH     r2,[r0,#0x708]        ;2980
0000f0  f8a02781          STRH     r2,[r0,#0x781]        ;2980
0000f4  f8dc219f          LDR      r2,[r12,#0x19f]       ;2982
0000f8  f8cc22b8          STR      r2,[r12,#0x2b8]       ;2982
0000fc  f8dc21a3          LDR      r2,[r12,#0x1a3]       ;2982
000100  f8cc22bc          STR      r2,[r12,#0x2bc]       ;2982
000104  f8b02603          LDRH     r2,[r0,#0x603]        ;2983
000108  f8a0271c          STRH     r2,[r0,#0x71c]        ;2983
00010c  f8b025ef          LDRH     r2,[r0,#0x5ef]        ;2984
000110  f8a02708          STRH     r2,[r0,#0x708]        ;2984
000114  1e5b              SUBS     r3,r3,#1              ;2984
000116  d291              BCS      |L9.60|
000118  bc10              POP      {r4}
00011a  4770              BX       lr
                  |L9.284|
00011c  f8d2424f          LDR      r4,[r2,#0x24f]        ;2963
000120  f8c24342          STR      r4,[r2,#0x342]        ;2963
000124  f8d24253          LDR      r4,[r2,#0x253]        ;2963
000128  f8c24346          STR      r4,[r2,#0x346]        ;2963
00012c  f8b0419a          LDRH     r4,[r0,#0x19a]        ;2964
000130  f8a043a6          STRH     r4,[r0,#0x3a6]        ;2964
000134  f8b04186          LDRH     r4,[r0,#0x186]        ;2965
000138  f8a04392          STRH     r4,[r0,#0x392]        ;2965
00013c  e7ba              B        |L9.180|
;;;2988   
                          ENDP

00013e  0000              DCW      0x0000
                  |L9.320|
                          DCD      ||.data||

                          AREA ||i.algorithm_coord_UpdatePosHistoryInfo_OutInDrawing||, CODE, READONLY, ALIGN=2

                  algorithm_coord_UpdatePosHistoryInfo_OutInDrawing PROC
;;;2989   //Heon
;;;2990   void algorithm_coord_UpdatePosHistoryInfo_OutInDrawing(void)
000000  b4f0              PUSH     {r4-r7}
;;;2991   {
;;;2992   	int i;
;;;2993   
;;;2994   	tCoordInfo_t 	*temp_coord;
;;;2995   
;;;2996   	temp_coord = &thisInfo->tCoord;
000002  4e47              LDR      r6,|L10.288|
;;;2997   
;;;2998   	for( i=MAX_TOUCH_; i--; )
;;;2999   	{
;;;3000   		if(thisInfo->tCoord.bOutInFlag[i] == YES){
;;;3001   			historycheck++;
;;;3002   			#if RANSAC_ALGO_EN
;;;3003   			if(temp_coord->tPos.vusR[i])
;;;3004   			{
;;;3005   				algorithm_Ransac(i, temp_coord->tPos.tXY[i]);	//Heon
;;;3006   			}
;;;3007   			#endif
;;;3008   			
;;;3009   	#if (INTERPOLATION_VER1_En == YES || INTERPOLATION_VER2_En == YES || INTERPOLATION_VER3_En == YES)
;;;3010   			if(temp_coord->bInterpolation_On)
;;;3011   			{
;;;3012   				temp_coord->tPastPos[4].tXY[i]         = temp_coord->tPastPos[3].tXY[i];
;;;3013   				temp_coord->tPastPos[4].vusR[i]        = temp_coord->tPastPos[3].vusR[i];
;;;3014   				temp_coord->tPastPos[4].vusS[i]        = temp_coord->tPastPos[3].vusS[i];
;;;3015   				
;;;3016   				temp_coord->tPastPos[3].tXY[i]         = temp_coord->tPastPos[2].tXY[i];
;;;3017   				temp_coord->tPastPos[3].vusR[i]        = temp_coord->tPastPos[2].vusR[i];
;;;3018   				temp_coord->tPastPos[3].vusS[i]        = temp_coord->tPastPos[2].vusS[i];
;;;3019   				
;;;3020   				temp_coord->tOrgPastPos[4].tXY[i]      = temp_coord->tOrgPastPos[3].tXY[i];
;;;3021   				temp_coord->tOrgPastPos[4].vusR[i]     = temp_coord->tOrgPastPos[3].vusR[i];
;;;3022   				temp_coord->tOrgPastPos[4].vusS[i]     = temp_coord->tOrgPastPos[3].vusS[i];
;;;3023   				
;;;3024   				temp_coord->tOrgPastPos[3].tXY[i]      = temp_coord->tOrgPastPos[2].tXY[i];
;;;3025   				temp_coord->tOrgPastPos[3].vusR[i]     = temp_coord->tOrgPastPos[2].vusR[i];
;;;3026   				temp_coord->tOrgPastPos[3].vusS[i]     = temp_coord->tOrgPastPos[2].vusS[i];
;;;3027   			}
;;;3028   	#endif
;;;3029   			temp_coord->tPastPos[2].tXY[i]         = temp_coord->tPastPos[1].tXY[i];
;;;3030   			temp_coord->tPastPos[2].vusR[i]        = temp_coord->tPastPos[1].vusR[i];
;;;3031   			temp_coord->tPastPos[2].vusS[i]        = temp_coord->tPastPos[1].vusS[i];
;;;3032   			
;;;3033   			temp_coord->tPastPos[1].tXY[i]         = temp_coord->tPastPos[0].tXY[i];
;;;3034   			temp_coord->tPastPos[1].vusR[i]        = temp_coord->tPastPos[0].vusR[i];
;;;3035   			temp_coord->tPastPos[1].vusS[i]        = temp_coord->tPastPos[0].vusS[i];
;;;3036   
;;;3037   			if(temp_coord->ucPostProcessRun[i] == 1)
;;;3038   			{
;;;3039   				temp_coord->tPastPos[0].tXY[i] 	    = temp_coord->tFirstPos.tXY[i];
;;;3040   				temp_coord->tPastPos[0].vusR[i] 	    = temp_coord->tPos.vusR[i];
;;;3041   				temp_coord->tPastPos[0].vusS[i] 	    = temp_coord->tPos.vusS[i];
;;;3042   			}
;;;3043   			else
;;;3044   			{
;;;3045   				temp_coord->tPastPos[0].tXY[i] 	    = temp_coord->tPos.tXY[i];
;;;3046   				temp_coord->tPastPos[0].vusR[i] 	    = temp_coord->tPos.vusR[i];
;;;3047   				temp_coord->tPastPos[0].vusS[i] 	    = temp_coord->tPos.vusS[i];
;;;3048   			}
;;;3049   			
;;;3050   			temp_coord->tOrgPastPos[2].tXY[i]      = temp_coord->tOrgPastPos[1].tXY[i];
;;;3051   			temp_coord->tOrgPastPos[2].vusR[i]     = temp_coord->tOrgPastPos[1].vusR[i];
;;;3052   			temp_coord->tOrgPastPos[2].vusS[i]     = temp_coord->tOrgPastPos[1].vusS[i];
;;;3053   
;;;3054   			temp_coord->tOrgPastPos[1].tXY[i]      = temp_coord->tOrgPastPos[0].tXY[i];
;;;3055   			temp_coord->tOrgPastPos[1].vusR[i]     = temp_coord->tOrgPastPos[0].vusR[i];
;;;3056   			temp_coord->tOrgPastPos[1].vusS[i]     = temp_coord->tOrgPastPos[0].vusS[i];
;;;3057   
;;;3058   			temp_coord->tOrgPastPos[0].tXY[i] 	    = temp_coord->tOrgPos.tXY[i];
;;;3059   			temp_coord->tOrgPastPos[0].vusR[i] 	= temp_coord->tOrgPos.vusR[i];
;;;3060   			temp_coord->tOrgPastPos[0].vusS[i] 	= temp_coord->tOrgPos.vusS[i];
;;;3061   		}
;;;3062   	}
;;;3063   }
000004  2209              MOVS     r2,#9
000006  68f5              LDR      r5,[r6,#0xc]          ;2996  ; thisInfo
000008  69b4              LDR      r4,[r6,#0x18]         ;3001  ; historycheck
00000a  f2053c69          ADD      r12,r5,#0x369         ;2996
                  |L10.14|
00000e  18a8              ADDS     r0,r5,r2              ;3000
000010  f8900ff1          LDRB     r0,[r0,#0xff1]        ;3000
000014  2801              CMP      r0,#1                 ;3000
000016  d16d              BNE      |L10.244|
000018  eb0c01c2          ADD      r1,r12,r2,LSL #3      ;3029
00001c  1c64              ADDS     r4,r4,#1              ;3037
00001e  f8d103bb          LDR      r0,[r1,#0x3bb]        ;3029
000022  f8c10434          STR      r0,[r1,#0x434]        ;3029
000026  f8d103bf          LDR      r0,[r1,#0x3bf]        ;3029
00002a  f8c10438          STR      r0,[r1,#0x438]        ;3029
00002e  eb0c0042          ADD      r0,r12,r2,LSL #1      ;3030
000032  f5016380          ADD      r3,r1,#0x400          ;3029
000036  f8b0741f          LDRH     r7,[r0,#0x41f]        ;3030
00003a  f8a07498          STRH     r7,[r0,#0x498]        ;3030
00003e  f8b0740b          LDRH     r7,[r0,#0x40b]        ;3031
000042  f8a07484          STRH     r7,[r0,#0x484]        ;3031
000046  f8d17342          LDR      r7,[r1,#0x342]        ;3033
00004a  f8c173bb          STR      r7,[r1,#0x3bb]        ;3033
00004e  f8d17346          LDR      r7,[r1,#0x346]        ;3033
000052  f8c173bf          STR      r7,[r1,#0x3bf]        ;3033
000056  f8b073a6          LDRH     r7,[r0,#0x3a6]        ;3034
00005a  f8a0741f          STRH     r7,[r0,#0x41f]        ;3034
00005e  f8b07392          LDRH     r7,[r0,#0x392]        ;3035
000062  f8a0740b          STRH     r7,[r0,#0x40b]        ;3035
000066  eb0c0702          ADD      r7,r12,r2             ;3037
00006a  f8977cc8          LDRB     r7,[r7,#0xcc8]        ;3037
00006e  2f01              CMP      r7,#1                 ;3037
000070  d045              BEQ      |L10.254|
000072  f8d17136          LDR      r7,[r1,#0x136]        ;3045
000076  f8c17342          STR      r7,[r1,#0x342]        ;3045
00007a  f8d1713a          LDR      r7,[r1,#0x13a]        ;3045
00007e  f8c17346          STR      r7,[r1,#0x346]        ;3045
000082  f8b0719a          LDRH     r7,[r0,#0x19a]        ;3046
000086  f8a073a6          STRH     r7,[r0,#0x3a6]        ;3046
00008a  f8b07186          LDRH     r7,[r0,#0x186]        ;3047
00008e  f8a07392          STRH     r7,[r0,#0x392]        ;3047
000092  bf00              NOP                            ;3050
                  |L10.148|
000094  f8d37331          LDR      r7,[r3,#0x331]        ;3050
000098  f8c177aa          STR      r7,[r1,#0x7aa]        ;3050
00009c  f8d37335          LDR      r7,[r3,#0x335]        ;3050
0000a0  f8c177ae          STR      r7,[r1,#0x7ae]        ;3050
0000a4  f8b01795          LDRH     r1,[r0,#0x795]        ;3051
0000a8  f8a0180e          STRH     r1,[r0,#0x80e]        ;3051
0000ac  f8b01781          LDRH     r1,[r0,#0x781]        ;3052
0000b0  f8a017fa          STRH     r1,[r0,#0x7fa]        ;3052
0000b4  f8d312b8          LDR      r1,[r3,#0x2b8]        ;3054
0000b8  f8c31331          STR      r1,[r3,#0x331]        ;3054
0000bc  f8d312bc          LDR      r1,[r3,#0x2bc]        ;3054
0000c0  f8c31335          STR      r1,[r3,#0x335]        ;3054
0000c4  f8b0171c          LDRH     r1,[r0,#0x71c]        ;3055
0000c8  f8a01795          STRH     r1,[r0,#0x795]        ;3055
0000cc  f8b01708          LDRH     r1,[r0,#0x708]        ;3056
0000d0  f8a01781          STRH     r1,[r0,#0x781]        ;3056
0000d4  f8d3119f          LDR      r1,[r3,#0x19f]        ;3058
0000d8  f8c312b8          STR      r1,[r3,#0x2b8]        ;3058
0000dc  f8d311a3          LDR      r1,[r3,#0x1a3]        ;3058
0000e0  f8c312bc          STR      r1,[r3,#0x2bc]        ;3058
0000e4  f8b01603          LDRH     r1,[r0,#0x603]        ;3059
0000e8  f8a0171c          STRH     r1,[r0,#0x71c]        ;3059
0000ec  f8b015ef          LDRH     r1,[r0,#0x5ef]        ;3060
0000f0  f8a01708          STRH     r1,[r0,#0x708]        ;3060
                  |L10.244|
0000f4  1e52              SUBS     r2,r2,#1              ;3060
0000f6  d28a              BCS      |L10.14|
0000f8  61b4              STR      r4,[r6,#0x18]         ;3001  ; historycheck
0000fa  bcf0              POP      {r4-r7}
0000fc  4770              BX       lr
                  |L10.254|
0000fe  f8d1724f          LDR      r7,[r1,#0x24f]        ;3039
000102  f8c17342          STR      r7,[r1,#0x342]        ;3039
000106  f8d17253          LDR      r7,[r1,#0x253]        ;3039
00010a  f8c17346          STR      r7,[r1,#0x346]        ;3039
00010e  f8b0719a          LDRH     r7,[r0,#0x19a]        ;3040
000112  f8a073a6          STRH     r7,[r0,#0x3a6]        ;3040
000116  f8b07186          LDRH     r7,[r0,#0x186]        ;3041
00011a  f8a07392          STRH     r7,[r0,#0x392]        ;3041
00011e  e7b9              B        |L10.148|
;;;3064   
                          ENDP

                  |L10.288|
                          DCD      ||.data||

                          AREA ||i.algorithm_coord_calc_comp_distance||, CODE, READONLY, ALIGN=1

                  algorithm_coord_calc_comp_distance PROC
;;;3076   
;;;3077   int32_t algorithm_coord_calc_comp_distance(tXY_t pos1, tXY_t pos2, tXY_t comp)
000000  b430              PUSH     {r4,r5}
;;;3078   {
;;;3079   	int32_t dist;
;;;3080   
;;;3081   	dist = (pos1.x - pos2.x - comp.x)*(pos1.x - pos2.x - comp.x) + (pos1.y - pos2.y - comp.y)*(pos1.y - pos2.y - comp.y);
000002  1a80              SUBS     r0,r0,r2
000004  e9dd4c02          LDRD     r4,r12,[sp,#8]        ;3078
000008  1b00              SUBS     r0,r0,r4
00000a  fb00f200          MUL      r2,r0,r0
00000e  1ac8              SUBS     r0,r1,r3
000010  eba0000c          SUB      r0,r0,r12
000014  fb002000          MLA      r0,r0,r0,r2
;;;3082   
;;;3083       dist = algorithm_calc_sqrt(dist);
000018  bc30              POP      {r4,r5}
00001a  f7ffbffe          B.W      algorithm_calc_sqrt
;;;3084   
;;;3085   	return dist;
;;;3086   }
;;;3087   
                          ENDP


                          AREA ||i.algorithm_coord_calc_distance||, CODE, READONLY, ALIGN=1

                  algorithm_coord_calc_distance PROC
;;;3065   
;;;3066   int32_t algorithm_coord_calc_distance(tXY_t pos1, tXY_t pos2)
000000  1a80              SUBS     r0,r0,r2
;;;3067   {
;;;3068   	int32_t dist;
;;;3069   
;;;3070   	dist = (pos1.x - pos2.x)*(pos1.x - pos2.x) + (pos1.y - pos2.y)*(pos1.y - pos2.y);
000002  fb00f200          MUL      r2,r0,r0
000006  1ac8              SUBS     r0,r1,r3
000008  fb002000          MLA      r0,r0,r0,r2
;;;3071   
;;;3072       dist = algorithm_calc_sqrt(dist);
00000c  f7ffbffe          B.W      algorithm_calc_sqrt
;;;3073   
;;;3074   	return dist;
;;;3075   }
;;;3076   
                          ENDP


                          AREA ||i.algorithm_coord_calc_pos||, CODE, READONLY, ALIGN=2

                  algorithm_coord_calc_pos PROC
;;;355    uint8_t PrevMaxTouchNum = 0;
;;;356    void algorithm_coord_calc_pos(int mode)
000000  b4f0              PUSH     {r4-r7}
;;;357    {
;;;358    	int l;
;;;359    
;;;360    	tLabelInfo_t	*temp_label;
;;;361    	tCoordInfo_t 	*temp_coord;
;;;362    
;;;363    	{
;;;364    		temp_coord = &thisInfo->tCoord;
000002  4845              LDR      r0,|L13.280|
000004  68c2              LDR      r2,[r0,#0xc]  ; thisInfo
000006  f2023069          ADD      r0,r2,#0x369
;;;365    		temp_label = &thisInfo->tLabel;
;;;366    	}
;;;367    
;;;368    	for(l=temp_label->ucNum;l--;)
00000a  f8121f45          LDRB     r1,[r2,#0x45]!
00000e  1e4c              SUBS     r4,r1,#1
;;;369    	{
;;;370    		if( temp_label->tTable[l].ulStrength )
;;;371    		{
;;;372    			temp_coord->tTempPos.tXY[temp_coord->tTempPos.sFinger_].x  = (temp_label->tTable[l].tCoord.x << POS_BOOST_SHIFT_)/(signed)temp_label->tTable[l].ulExtStrength;
;;;373    			temp_coord->tTempPos.tXY[temp_coord->tTempPos.sFinger_].y  = (temp_label->tTable[l].tCoord.y << POS_BOOST_SHIFT_)/(signed)temp_label->tTable[l].ulExtStrength;
;;;374    		
;;;375    			//MaxDelta Compensation
;;;376    			{
;;;377    				int16_t coef_x=0,coef_y=0;
;;;378    				
;;;379    				coef_x = (temp_coord->tTempPos.tXY[temp_coord->tTempPos.sFinger_].x%UNIT_DIST);
;;;380    				coef_y = (temp_coord->tTempPos.tXY[temp_coord->tTempPos.sFinger_].y%UNIT_DIST);
;;;381    				if(coef_x > (UNIT_DIST>>1) )
;;;382    					coef_x = UNIT_DIST - coef_x;
;;;383    				if(coef_y > (UNIT_DIST>>1) )
;;;384    					coef_y = UNIT_DIST - coef_y;
;;;385    				
;;;386    				temp_coord->RealMaxDelta[temp_coord->tTempPos.sFinger_] = (uint16_t)(temp_label->tTable[l].sMaxCellVal 
;;;387    																			+ (((int)(temp_label->tTable[l].sMaxCellVal) * (coef_x+coef_y) )>>(POS_BOOST_SHIFT_+1)) );
;;;388    			}
;;;389    			
;;;390    			temp_coord->tTempPos.vusR[temp_coord->tTempPos.sFinger_]   = temp_label->tTable[l].usCellNum;
;;;391    			temp_coord->tTempPos.vusS[temp_coord->tTempPos.sFinger_]   = temp_label->tTable[l].ulStrength;
;;;392    			temp_coord->tTempPos.rect[temp_coord->tTempPos.sFinger_]   = temp_label->tTable[l].tRect;
;;;393    			temp_coord->tTempPos.MaxDelta[temp_coord->tTempPos.sFinger_] = temp_label->tTable[l].sMaxCellVal;
;;;394    #if (PENnPalm_PalmAreaMaintain_EN == YES || PalmCandidateTouchCut_EN == YES)
;;;395    			temp_coord->tTempPos.MaxPos[temp_coord->tTempPos.sFinger_].c = temp_label->tTable[l].tMaxCell.c;
;;;396    			temp_coord->tTempPos.MaxPos[temp_coord->tTempPos.sFinger_].r = temp_label->tTable[l].tMaxCell.r;
;;;397    #endif /* (PENnPalm_PalmAreaMaintain_EN == YES) */
;;;398    
;;;399    			temp_coord->cRemap[temp_coord->tTempPos.sFinger_] = temp_coord->tTempPos.sFinger_;
000010  bf2e              ITEE     CS
000012  f60046d2          ADDCS    r6,r0,#0xcd2
;;;400    
;;;401    			temp_coord->tTempPos.sFinger_++;
;;;402    		}
;;;403    	}
;;;404    	
;;;405    #if (PalmDrawingOn_En == YES)
;;;406    	if(thisModeConf->Palm.ucPalmDrawingOn && thisInfo->bIsPalm){
;;;407    		int pl;
;;;408    		int r,c;
;;;409    		for(pl=0;pl<PalmRegionNum;pl++)
;;;410    		{
;;;411    			if(PalmRectEnable[pl])
;;;412    			{
;;;413    				int X=0,Y=0,delta = 0, MaxDelta = 0;
;;;414    				int32_t StrengthSum = 0;
;;;415    				for(r=PalmRect[pl].rs;r<=PalmRect[pl].re;r++)
;;;416    				for(c=PalmRect[pl].cs;c<=PalmRect[pl].ce;c++)
;;;417    				{
;;;418    					delta = (HAL_READ_DELTA_IMAGE(r,c)>>3);
;;;419    					if(delta > 1)
;;;420    					{
;;;421    						X += delta * c;
;;;422    						Y += delta * r;
;;;423    						StrengthSum += delta;
;;;424    						if(MaxDelta < delta)	MaxDelta = delta;
;;;425    					}
;;;426    				}
;;;427    				X = (X << POS_BOOST_SHIFT_)/StrengthSum;
;;;428    				Y = (Y << POS_BOOST_SHIFT_)/StrengthSum;
;;;429    		
;;;430    				temp_coord->tTempPos.tXY[temp_coord->tTempPos.sFinger_].x = X;//((X + (((PalmRect[pl].cs + PalmRect[pl].ce)<<POS_BOOST_SHIFT_)>>1))>>1);
;;;431    				temp_coord->tTempPos.tXY[temp_coord->tTempPos.sFinger_].y = Y;//((Y + (((PalmRect[pl].rs + PalmRect[pl].re)<<POS_BOOST_SHIFT_)>>1))>>1);
;;;432    				
;;;433    				temp_coord->tTempPos.vusR[temp_coord->tTempPos.sFinger_]   = thisInfo->tDelta.iPosCnt;
;;;434    				temp_coord->tTempPos.vusS[temp_coord->tTempPos.sFinger_]   = StrengthSum;//thisInfo->tDelta.iPosSum;
;;;435    				temp_coord->tTempPos.rect[temp_coord->tTempPos.sFinger_]   = PalmRect[pl];
;;;436    				temp_coord->tTempPos.MaxDelta[temp_coord->tTempPos.sFinger_] = MaxDelta;//thisInfo->tDelta.iMaxStrength;
;;;437    				
;;;438    				//TEST_CODE
;;;439    //				HAL_WRITE_DELTA_IMAGE(0,temp_coord->tTempPos.sFinger_,temp_coord->tTempPos.rect[temp_coord->tTempPos.sFinger_].cs);
;;;440    //				HAL_WRITE_DELTA_IMAGE(1,temp_coord->tTempPos.sFinger_,temp_coord->tTempPos.rect[temp_coord->tTempPos.sFinger_].ce);
;;;441    //				HAL_WRITE_DELTA_IMAGE(2,temp_coord->tTempPos.sFinger_,temp_coord->tTempPos.rect[temp_coord->tTempPos.sFinger_].rs);
;;;442    //				HAL_WRITE_DELTA_IMAGE(3,temp_coord->tTempPos.sFinger_,temp_coord->tTempPos.rect[temp_coord->tTempPos.sFinger_].re);
;;;443    
;;;444    				temp_coord->cRemap[temp_coord->tTempPos.sFinger_] = temp_coord->tTempPos.sFinger_;
;;;445    				
;;;446    				temp_coord->tTempPos.sFinger_++;
;;;447    			}
;;;448    		}
;;;449    		return;
;;;450    	}
;;;451    #endif
;;;452    	
;;;453    #if WinCertAssistance_En	
;;;454    	int i,cl,match_cl,match_pl;
;;;455    //	int _d;
;;;456    //	uint32_t ulStrength = 0;
;;;457    //	uint8_t PrevFinger_ = 0;
;;;458    	int MaxDist = 0, dist = 0, MinDist = 0;
;;;459    	uint8_t MaxTouchNum = 0;
;;;460    	
;;;461    	if(thisModeConf->Coord.ucWinCertAssistance)
;;;462    	{
;;;463    		if(temp_coord->tTempPos.sFinger_ > 1)
;;;464    		{
;;;465    			int cl,pl;
;;;466    			for(cl=0;cl<temp_coord->tTempPos.sFinger_;cl++){
;;;467    				for(pl=0;pl<temp_coord->tTempPos.sFinger_;pl++){
;;;468    					if(cl == pl)	continue;
;;;469    					if(abs(temp_coord->tTempPos.tXY[cl].x - temp_coord->tTempPos.tXY[pl].x)+abs(temp_coord->tTempPos.tXY[cl].y - temp_coord->tTempPos.tXY[pl].y) < (3<<POS_BOOST_SHIFT_) ){
;;;470    						temp_label->LabelSplitCnt++;
;;;471    						break;
;;;472    					}
;;;473    					
;;;474    				}
;;;475    			}
;;;476    		}
;;;477    
;;;478    		if(temp_label->LabelSplitCnt)
;;;479    			temp_label->LabelSplitFrmCnt++;
;;;480    		else if(temp_label->LabelSplitFrmCnt)
;;;481    			temp_label->LabelSplitFrmCnt--;
;;;482    		
;;;483    	}
;;;484    	
;;;485    	if(thisModeConf->Coord.ucWinCertAssistance == 1)
;;;486    	{
;;;487    		if(temp_coord->tTempPos.sFinger_ == 0 || temp_coord->tTempPos.sFinger_ > 5){
;;;488    			WrongSeparationCnt = 0;
;;;489    			memset(TouchNumHisto,0,sizeof(TouchNumHisto));
;;;490    			FixTouchNum = 0;
;;;491    		}
;;;492    		else{
;;;493    			int i,MaxNumCnt = 0;
;;;494    			//Counting touchnum
;;;495    			if(FixTouchNum == 0){
;;;496    				for(i=0;i<POSBUF_;i++)
;;;497    				{
;;;498    					if(i == temp_coord->tTempPos.sFinger_-1){
;;;499    							TouchNumHisto[i]++;
;;;500    					}
;;;501    					else if(TouchNumHisto[i]>0)
;;;502    						TouchNumHisto[i]--;
;;;503    
;;;504    					if(TouchNumHisto[i] >thisModeConf->Coord.ucTouchCountMax){
;;;505    						TouchNumHisto[i] = thisModeConf->Coord.ucTouchCountMax;
;;;506    						FixTouchNum = i+1;
;;;507    					}
;;;508    					if(TouchNumHisto[i] > MaxNumCnt)
;;;509    					{
;;;510    						MaxNumCnt = TouchNumHisto[i];
;;;511    						MaxTouchNum = i+1;
;;;512    					}
;;;513    				}
;;;514    			}
;;;515    			else{
;;;516    				MaxTouchNum = FixTouchNum;
;;;517    			}
;;;518    		}
;;;519    		
;;;520    		if(temp_coord->tTempPos.sFinger_ > 1)
;;;521    		{
;;;522    			int cl,pl;
;;;523    			uint8_t connected = 0;
;;;524    			MinDist = (thisModeConf->CoordTracking.usCenterMatchDistanceThd<<POS_BOOST_SHIFT_);
;;;525    			for(cl=0;cl<temp_coord->tTempPos.sFinger_;cl++){
;;;526    				connected = NO;
;;;527    				for(pl=0;pl<temp_coord->tTempPos.sFinger_;pl++){
;;;528    					if(cl == pl)	continue;
;;;529    					if(MinDist > algorithm_coord_calc_distance(temp_coord->tTempPos.tXY[cl],temp_coord->tTempPos.tXY[pl])){
;;;530    						connected = YES;
;;;531    						break;
;;;532    					}
;;;533    				}
;;;534    				if(connected == NO)
;;;535    				{
;;;536    					WrongSeparationCnt = 0;
;;;537    					memset(TouchNumHisto,0,sizeof(TouchNumHisto));
;;;538    					FixTouchNum = 0;
;;;539    					break;
;;;540    				}
;;;541    			}
;;;542    		}
;;;543    		
;;;544    		if(FixTouchNum && temp_coord->tTempPos.sFinger_ > 0 && FixTouchNum != temp_coord->tTempPos.sFinger_)
;;;545    		{
;;;546    			tXY_t Vector;
;;;547    //			uint8_t VectorCnt = 0;
;;;548    			
;;;549    			if(WrongSeparationCnt++ < thisModeConf->Coord.ucMaxExtendFrameNum)
;;;550    			{
;;;551    				//search vector
;;;552    				Vector.x = 0, Vector.y = 0;
;;;553    				match_cl = -1, match_pl = -1;
;;;554    				MinDist = (7<<POS_BOOST_SHIFT_);
;;;555    				for(cl=0;cl<temp_coord->tTempPos.sFinger_;cl++){
;;;556    					if(temp_coord->tTempPos.vusR[cl]!=0){
;;;557    		//				if(algorithm_nearby_rect_point(BigLabelRect[i], temp_coord->tTempPos.tXY[cl], 3))	//Margin 3
;;;558    						{
;;;559    	//						MinDist = (10<<POS_BOOST_SHIFT_);
;;;560    	//						match_pl = -1;
;;;561    							for(pl=0;pl<MAX_TOUCH_;pl++){
;;;562    								if(temp_coord->tOrgPastPos[0].vusR[pl]!=0){
;;;563    									
;;;564    									tXY_t Pred;
;;;565    									if(temp_coord->tPastPos[2].vusR[pl]>0){
;;;566    			//							Pred.x = (temp_coord->tPastPos[0].tXY[pl].x<<1) - temp_coord->tPastPos[2].tXY[pl].x;
;;;567    			//							Pred.y = (temp_coord->tPastPos[0].tXY[pl].y<<1) - temp_coord->tPastPos[2].tXY[pl].y;
;;;568    										Pred.x = temp_coord->tOrgPastPos[0].tXY[pl].x + (temp_coord->tPastPos[0].tXY[pl].x - temp_coord->tPastPos[2].tXY[pl].x);
;;;569    										Pred.y = temp_coord->tOrgPastPos[0].tXY[pl].y + (temp_coord->tPastPos[0].tXY[pl].y - temp_coord->tPastPos[2].tXY[pl].y);
;;;570    									}
;;;571    									else{
;;;572    										Pred = temp_coord->tOrgPastPos[0].tXY[pl];
;;;573    									}
;;;574    									dist = algorithm_coord_calc_distance(Pred,temp_coord->tTempPos.tXY[cl]);
;;;575    									if(dist < MinDist)
;;;576    									{
;;;577    										MinDist = dist;
;;;578    										match_pl = pl;
;;;579    										match_cl = cl;
;;;580    									}
;;;581    								}
;;;582    							}
;;;583    						}
;;;584    					}
;;;585    				}
;;;586    				if(match_pl != -1 && match_cl != -1)
;;;587    				{
;;;588    //					Vector.x += temp_coord->tTempPos.tXY[match_cl].x - temp_coord->tOrgPastPos[0].tXY[match_pl].x;
;;;589    //					Vector.y += temp_coord->tTempPos.tXY[match_cl].y - temp_coord->tOrgPastPos[0].tXY[match_pl].y;
;;;590    					
;;;591    					Vector.x = 0, Vector.y = 0;
;;;592    					if(temp_coord->tPastPos[0].vusR[match_pl]>0 && temp_coord->tPastPos[2].vusR[match_pl]>0){
;;;593    						Vector.x = ((temp_coord->tPastPos[0].tXY[match_pl].x - temp_coord->tPastPos[2].tXY[match_pl].x)>>1);
;;;594    						Vector.y = ((temp_coord->tPastPos[0].tXY[match_pl].y - temp_coord->tPastPos[2].tXY[match_pl].y)>>1);
;;;595    					}
;;;596    					
;;;597    					for(i=0;i<POSBUF_;i++){
;;;598    						temp_coord->tTempPos.vusR[i]   = 0;
;;;599    						temp_coord->tTempPos.vusS[i]   = 0;
;;;600    					}
;;;601    					temp_coord->tTempPos.sFinger_ = 0;
;;;602    					for(pl=0;pl<MAX_TOUCH_;pl++){
;;;603    						if(temp_coord->tOrgPastPos[0].vusR[pl]!=0 ){	//&& temp_coord->DrawingFlag[pl] == YES){
;;;604    							
;;;605    							temp_coord->tTempPos.tXY[temp_coord->tTempPos.sFinger_] = temp_coord->tOrgPastPos[0].tXY[pl];
;;;606    							temp_coord->tTempPos.tXY[temp_coord->tTempPos.sFinger_].x += Vector.x;
;;;607    							temp_coord->tTempPos.tXY[temp_coord->tTempPos.sFinger_].y += Vector.y;
;;;608    
;;;609    							temp_coord->tTempPos.vusR[temp_coord->tTempPos.sFinger_]   = temp_coord->tOrgPastPos[0].vusR[pl];
;;;610    							temp_coord->tTempPos.vusS[temp_coord->tTempPos.sFinger_]   = temp_coord->tOrgPastPos[0].vusS[pl];
;;;611    			//				temp_coord->tTempPos.rect[temp_coord->tTempPos.sFinger_]   = 
;;;612    							temp_coord->RealMaxDelta[temp_coord->tTempPos.sFinger_] = 0; 
;;;613    							temp_coord->cRemap[temp_coord->tTempPos.sFinger_] = temp_coord->tTempPos.sFinger_;
;;;614    							temp_coord->tTempPos.sFinger_++;
;;;615    						}
;;;616    					}
;;;617    				}
;;;618    				
;;;619    			}
;;;620    			else{
;;;621    				WrongSeparationCnt = 0;
;;;622    				memset(TouchNumHisto,0,sizeof(TouchNumHisto));
;;;623    		//		PrevMaxTouchNum = 0;
;;;624    				FixTouchNum = 0;
;;;625    			}
;;;626    		}
;;;627    		else{
;;;628    			WrongSeparationCnt = 0;
;;;629    		}
;;;630    		
;;;631    //		if(temp_coord->tTempPos.sFinger_ > 1)
;;;632    //		{
;;;633    //			int cl,pl;
;;;634    //			for(cl=0;cl<temp_coord->tTempPos.sFinger_;cl++){
;;;635    //				for(pl=0;pl<temp_coord->tTempPos.sFinger_;pl++){
;;;636    //					if(cl == pl)	continue;
;;;637    //					if(abs(temp_coord->tTempPos.tXY[cl].x - temp_coord->tTempPos.tXY[pl].x)+abs(temp_coord->tTempPos.tXY[cl].y - temp_coord->tTempPos.tXY[pl].y) < (3<<POS_BOOST_SHIFT_) ){
;;;638    //						temp_label->LabelSplitCnt++;
;;;639    //						break;
;;;640    //					}
;;;641    //					
;;;642    //				}
;;;643    //			}
;;;644    //		}
;;;645    
;;;646    //		if(temp_label->LabelSplitCnt)
;;;647    //			temp_label->LabelSplitFrmCnt++;
;;;648    //		else if(temp_label->LabelSplitFrmCnt)
;;;649    //			temp_label->LabelSplitFrmCnt--;
;;;650    	}
;;;651    	else if(thisModeConf->Coord.ucWinCertAssistance == 2)
;;;652    	{
;;;653    		if(temp_coord->tTempPos.sFinger_ == 0){
;;;654    			WrongSeparationCnt = 0;
;;;655    			memset(TouchNumHisto,0,sizeof(TouchNumHisto));
;;;656    			PrevMaxTouchNum = 0;
;;;657    	//		temp_label->LabelNearbyFrmCnt = 0;
;;;658    		}
;;;659    		else{
;;;660    			int i,MaxNumCnt = 0;
;;;661    			//Counting touchnum
;;;662    			for(i=0;i<POSBUF_;i++)
;;;663    			{
;;;664    				if(i == temp_coord->tTempPos.sFinger_-1)
;;;665    					TouchNumHisto[i]++;
;;;666    				else if(TouchNumHisto[i]>0)
;;;667    					TouchNumHisto[i]--;
;;;668    				if(TouchNumHisto[i] >thisModeConf->Coord.ucTouchCountMax){
;;;669    					TouchNumHisto[i] = thisModeConf->Coord.ucTouchCountMax;
;;;670    				}
;;;671    				if(TouchNumHisto[i] > MaxNumCnt)
;;;672    				{
;;;673    					MaxNumCnt = TouchNumHisto[i];
;;;674    					MaxTouchNum = i+1;
;;;675    				}
;;;676    			}
;;;677    		}
;;;678    		
;;;679    //		temp_label->LabelNearbyCnt = 0;
;;;680    		if(temp_coord->tTempPos.sFinger_ > 1)
;;;681    		{
;;;682    			int cl,pl;
;;;683    //			uint8_t SplitFlag = 0;
;;;684    			for(cl=0;cl<temp_coord->tTempPos.sFinger_;cl++){
;;;685    				for(pl=0;pl<temp_coord->tTempPos.sFinger_;pl++){
;;;686    					if(cl == pl)	continue;
;;;687    	//				dist = abs(temp_coord->tTempPos.tXY[cl].x - temp_coord->tTempPos.tXY[pl].x)+abs(temp_coord->tTempPos.tXY[cl].y - temp_coord->tTempPos.tXY[pl].y);
;;;688    					dist = algorithm_coord_calc_distance(temp_coord->tTempPos.tXY[cl], temp_coord->tTempPos.tXY[pl]);
;;;689    					if(dist < (4<<POS_BOOST_SHIFT_) ){
;;;690    //						SplitFlag = YES;
;;;691    					}
;;;692    					if(MaxDist < dist)
;;;693    						MaxDist = dist;
;;;694    				}
;;;695    			}
;;;696    //			if(SplitFlag)	temp_label->LabelNearbyCnt++;
;;;697    		}
;;;698    		
;;;699    		if( temp_coord->tPastPos[0].sFinger_ > 1 && temp_coord->tTempPos.sFinger_ && MaxDist < (6<<POS_BOOST_SHIFT_) && temp_label->LabelSplitFrmCnt)
;;;700    		{
;;;701    			if(MaxTouchNum == PrevMaxTouchNum && TouchNumHisto[MaxTouchNum-1] > (thisModeConf->Coord.ucTouchCountMax>>1)){
;;;702    				if(temp_coord->tPastPos[0].sFinger_ !=  temp_coord->tTempPos.sFinger_)
;;;703    				{
;;;704    					tXY_t Vector[2];
;;;705    					uint16_t cnt[2];
;;;706    					
;;;707    					if(temp_label->LabelSplitCnt)
;;;708    					{
;;;709    						Vector[1].x = 0, Vector[1].y = 0, cnt[1] = 0;
;;;710    						for(i=0;i<temp_coord->tPastPos[0].sFinger_;i++){
;;;711    							if(temp_coord->tPastPos[0].vusR[i]!=0){
;;;712    								Vector[1].x += temp_coord->tOrgPastPos[0].tXY[i].x;
;;;713    								Vector[1].y += temp_coord->tOrgPastPos[0].tXY[i].y;
;;;714    								cnt[1]++;
;;;715    							}
;;;716    						}
;;;717    						if(cnt[1]){
;;;718    							Vector[1].x /= cnt[1];
;;;719    							Vector[1].y /= cnt[1];
;;;720    						}
;;;721    						
;;;722    						Vector[0].x = 0, Vector[0].y = 0, cnt[0] = 0;
;;;723    						for(i=0;i<temp_coord->tTempPos.sFinger_;i++){
;;;724    							Vector[0].x += temp_coord->tTempPos.tXY[i].x;
;;;725    							Vector[0].y += temp_coord->tTempPos.tXY[i].y;
;;;726    							cnt[0]++;
;;;727    						}
;;;728    						if(cnt[0]){
;;;729    							Vector[0].x /= cnt[0];
;;;730    							Vector[0].y /= cnt[0];
;;;731    						}
;;;732    						if(cnt[0] && cnt[1])
;;;733    						{
;;;734    							Vector[0].x -= Vector[1].x;
;;;735    							Vector[0].y -= Vector[1].y;
;;;736    						}
;;;737    						else{
;;;738    							Vector[0].x = 0;
;;;739    							Vector[0].y = 0;
;;;740    						}
;;;741    					}
;;;742    					else{
;;;743    						Vector[0].x = 0;
;;;744    						Vector[0].y = 0;
;;;745    					}
;;;746    					
;;;747    					
;;;748    					if(WrongSeparationCnt++ < thisModeConf->Coord.ucMaxExtendFrameNum)
;;;749    					{
;;;750    						for(i=0;i<POSBUF_;i++){
;;;751    							temp_coord->tTempPos.vusR[i]   = 0;
;;;752    							temp_coord->tTempPos.vusS[i]   = 0;
;;;753    						}
;;;754    						for(i=0;i<temp_coord->tPastPos[0].sFinger_;i++){
;;;755    							if(temp_coord->tPastPos[0].vusR[i]!=0){
;;;756    				//				temp_coord->tTempPos.tXY[i] = temp_coord->tOrgPastPos[0].tXY[i];
;;;757    	//							temp_coord->tTempPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x;
;;;758    	//							temp_coord->tTempPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y;
;;;759    	//							temp_coord->tTempPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x + (temp_coord->tTempPos.tXY[0].x - temp_coord->tOrgPastPos[0].tXY[i].x);
;;;760    	//							temp_coord->tTempPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y + (temp_coord->tTempPos.tXY[0].y - temp_coord->tOrgPastPos[0].tXY[i].y);
;;;761    								temp_coord->tTempPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x + Vector[0].x;
;;;762    								temp_coord->tTempPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y + Vector[0].y;
;;;763    
;;;764    								
;;;765    				//				temp_coord->tTempPos.tXY[i].x = (temp_coord->tOrgPastPos[0].tXY[i].x<<1) - temp_coord->tOrgPastPos[1].tXY[i].x;
;;;766    				//				temp_coord->tTempPos.tXY[i].y = (temp_coord->tOrgPastPos[0].tXY[i].y<<1) - temp_coord->tOrgPastPos[1].tXY[i].y;
;;;767    								
;;;768    								temp_coord->tTempPos.vusR[i]   = 1;//temp_coord->tPastPos[0].vusR[0];
;;;769    								temp_coord->tTempPos.vusS[i]   = 1;//temp_coord->tPastPos[0].vusS[0];
;;;770    								temp_coord->cRemap[i] = i;
;;;771    							}
;;;772    						}
;;;773    						temp_coord->tTempPos.sFinger_ = temp_coord->tPastPos[0].sFinger_;
;;;774    					}
;;;775    					else
;;;776    						WrongSeparationCnt = 0;
;;;777    				}
;;;778    				else
;;;779    				{
;;;780    					if(WrongSeparationCnt)	WrongSeparationCnt--;
;;;781    					
;;;782    				}
;;;783    			}
;;;784    		}
;;;785    		PrevMaxTouchNum = MaxTouchNum;
;;;786    		
;;;787    	}
;;;788    #endif
;;;789    }
000016  bcf0              POPCC    {r4-r7}
000018  4770              BXCC     lr
00001a  bf00              NOP                            ;370
                  |L13.28|
00001c  ebc401c4          RSB      r1,r4,r4,LSL #3       ;370
000020  eb011144          ADD      r1,r1,r4,LSL #5       ;370
000024  4411              ADD      r1,r1,r2              ;370
000026  694b              LDR      r3,[r1,#0x14]         ;370
000028  2b00              CMP      r3,#0                 ;370
00002a  d071              BEQ      |L13.272|
00002c  68cb              LDR      r3,[r1,#0xc]          ;372
00002e  f8d1c018          LDR      r12,[r1,#0x18]        ;372
000032  021b              LSLS     r3,r3,#8              ;372
000034  fb93fcfc          SDIV     r12,r3,r12            ;372
000038  7803              LDRB     r3,[r0,#0]            ;372
00003a  eb0003c3          ADD      r3,r0,r3,LSL #3       ;372
00003e  f8c3c001          STR      r12,[r3,#1]           ;372
000042  690b              LDR      r3,[r1,#0x10]         ;373
000044  f8d1c018          LDR      r12,[r1,#0x18]        ;373
000048  021b              LSLS     r3,r3,#8              ;373
00004a  fb93f3fc          SDIV     r3,r3,r12             ;373
00004e  f890c000          LDRB     r12,[r0,#0]           ;373
000052  eb000ccc          ADD      r12,r0,r12,LSL #3     ;373
000056  f8cc3005          STR      r3,[r12,#5]           ;373
00005a  7807              LDRB     r7,[r0,#0]            ;379
00005c  eb000cc7          ADD      r12,r0,r7,LSL #3      ;379
000060  f8dcc001          LDR      r12,[r12,#1]          ;379
000064  ea4f75ec          ASR      r5,r12,#31            ;379
000068  eb0c6515          ADD      r5,r12,r5,LSR #24     ;379
00006c  f02505ff          BIC      r5,r5,#0xff           ;379
000070  ebac0c05          SUB      r12,r12,r5            ;379
000074  17dd              ASRS     r5,r3,#31             ;380
000076  eb036515          ADD      r5,r3,r5,LSR #24      ;380
00007a  f02505ff          BIC      r5,r5,#0xff           ;380
00007e  1b5b              SUBS     r3,r3,r5              ;380
000080  fa0ffc8c          SXTH     r12,r12               ;379
000084  b21b              SXTH     r3,r3                 ;380
000086  f1bc0f80          CMP      r12,#0x80             ;381
00008a  bfc4              ITT      GT                    ;382
00008c  f5cc7c80          RSBGT    r12,r12,#0x100        ;382
000090  fa0ffc8c          SXTHGT   r12,r12               ;382
000094  2b80              CMP      r3,#0x80              ;383
000096  bfc4              ITT      GT                    ;384
000098  f5c37380          RSBGT    r3,r3,#0x100          ;384
00009c  b21b              SXTHGT   r3,r3                 ;384
00009e  f9b15008          LDRSH    r5,[r1,#8]            ;386
0000a2  4463              ADD      r3,r3,r12             ;386
0000a4  436b              MULS     r3,r5,r3              ;386
0000a6  eb000c47          ADD      r12,r0,r7,LSL #1      ;386
0000aa  eb052363          ADD      r3,r5,r3,ASR #9       ;386
0000ae  f8ac3dac          STRH     r3,[r12,#0xdac]       ;386
0000b2  f890c000          LDRB     r12,[r0,#0]           ;390
0000b6  88cb              LDRH     r3,[r1,#6]            ;390
0000b8  eb000c4c          ADD      r12,r0,r12,LSL #1     ;390
0000bc  f8ac30a1          STRH     r3,[r12,#0xa1]        ;390
0000c0  f890c000          LDRB     r12,[r0,#0]           ;391
0000c4  8a8b              LDRH     r3,[r1,#0x14]         ;391
0000c6  eb000c4c          ADD      r12,r0,r12,LSL #1     ;391
0000ca  f8ac3081          STRH     r3,[r12,#0x81]        ;391
0000ce  7803              LDRB     r3,[r0,#0]            ;392
0000d0  f8d1c002          LDR      r12,[r1,#2]           ;392
0000d4  eb000383          ADD      r3,r0,r3,LSL #2       ;392
0000d8  f8c3c0c1          STR      r12,[r3,#0xc1]        ;392
0000dc  f890c000          LDRB     r12,[r0,#0]           ;393
0000e0  890b              LDRH     r3,[r1,#8]            ;393
0000e2  eb000c4c          ADD      r12,r0,r12,LSL #1     ;393
0000e6  f8ac3101          STRH     r3,[r12,#0x101]       ;393
0000ea  f890c000          LDRB     r12,[r0,#0]           ;395
0000ee  7a8b              LDRB     r3,[r1,#0xa]          ;395
0000f0  eb000c4c          ADD      r12,r0,r12,LSL #1     ;395
0000f4  f88c3121          STRB     r3,[r12,#0x121]       ;395
0000f8  7803              LDRB     r3,[r0,#0]            ;396
0000fa  7ac9              LDRB     r1,[r1,#0xb]          ;396
0000fc  eb000343          ADD      r3,r0,r3,LSL #1       ;396
000100  f8831122          STRB     r1,[r3,#0x122]        ;396
000104  7801              LDRB     r1,[r0,#0]            ;399
000106  b2cb              UXTB     r3,r1                 ;399
000108  5599              STRB     r1,[r3,r6]            ;399
00010a  7801              LDRB     r1,[r0,#0]            ;401
00010c  1c49              ADDS     r1,r1,#1              ;401
00010e  7001              STRB     r1,[r0,#0]            ;401
                  |L13.272|
000110  1e64              SUBS     r4,r4,#1              ;401
000112  d283              BCS      |L13.28|
000114  bcf0              POP      {r4-r7}
000116  4770              BX       lr
;;;790    void algorithm_coord_drawing_assistance(int mode)
                          ENDP

                  |L13.280|
                          DCD      ||.data||

                          AREA ||i.algorithm_coord_compensation||, CODE, READONLY, ALIGN=2

                  algorithm_coord_compensation PROC
;;;3322   
;;;3323   void algorithm_coord_compensation(int mode)
000000  2800              CMP      r0,#0
;;;3324   {
;;;3325   	if(mode == FULL_MODE)
;;;3326   		return;
;;;3327   
;;;3328   	int coefA,coefB;
;;;3329   
;;;3330   	if(mode == LOCAL_MODE)
;;;3331   	{
;;;3332   		coefA = thisModeConf->PenCoord.ucCompenCoefA;
;;;3333   		coefB = thisModeConf->PenCoord.ucCompenCoefB;
;;;3334   	}
;;;3335   	else if(mode == LOCAL_RING_MODE)
;;;3336   	{
;;;3337   		coefA = thisModeConf->PenTilt.ucRingCompenCoefA;
;;;3338   		coefB = thisModeConf->PenTilt.ucRingCompenCoefB;
;;;3339   	}
;;;3340   	else if(mode == LOCAL_HOVER_MODE)
;;;3341   	{
;;;3342   		coefA = thisModeConf->PenCoord.ucHoverCompenCoefA;
;;;3343   		coefB = thisModeConf->PenCoord.ucHoverCompenCoefB;	
;;;3344   	}	
;;;3345   	
;;;3346   	if(coefA > 0)
;;;3347   	{
;;;3348   		if( thisInfo->tCoord_local_dsp.tPos.vusR > 0 )
;;;3349   		{
;;;3350   			tXY_t TmpPos;
;;;3351   			TmpPos.x = thisInfo->tCoord_local_dsp.tPos.tXY.x + (UNIT_DIST>>1);
;;;3352   			TmpPos.y = thisInfo->tCoord_local_dsp.tPos.tXY.y + (UNIT_DIST>>1);
;;;3353   //			int x = thisInfo->tCoord_local_dsp.tPos.tXY.x + (UNIT_DIST>>1);
;;;3354   //			int y = thisInfo->tCoord_local_dsp.tPos.tXY.y + (UNIT_DIST>>1);
;;;3355   			
;;;3356   			// Compensation		
;;;3357   			int XResol = UNIT_DIST;
;;;3358   			int YResol = UNIT_DIST;
;;;3359   
;;;3360   			bool_t Op_Flag = 0;
;;;3361   			if(thisModeConf->PenCoord.bCompenEdgeOn)Op_Flag = 1;
;;;3362   			else 
;;;3363   			{
;;;3364   				if(!algorithm_coord_IsEdgeArea(&TmpPos,0))Op_Flag = 1;
;;;3365   //				if(TmpPos.x > (1<<POS_BOOST_SHIFT_) && TmpPos.x < ((COL_MAX-1)<<POS_BOOST_SHIFT_))Op_Flag = 1;
;;;3366   			}
;;;3367   			
;;;3368   			if(Op_Flag == 1)
;;;3369   			{
;;;3370   				int OneCellPos = TmpPos.x - (((int)TmpPos.x/(XResol))*(XResol));
;;;3371   				uint8_t Mm = (XResol)/FPITCH_X;
;;;3372   				int OneCellMm = OneCellPos * (1/FPITCH_X);
;;;3373   				if(OneCellPos < (XResol)*0.25) TmpPos.x -= (OneCellMm)*coefA/coefB;
;;;3374   				else if((XResol)*0.25 <= OneCellPos && OneCellPos < (XResol)*0.75) TmpPos.x += (OneCellMm - Mm/2)*coefA/coefB;
;;;3375   				else TmpPos.x += (-OneCellMm+Mm)*coefA/coefB;
;;;3376   //			}
;;;3377   
;;;3378   //			Op_Flag = 0;
;;;3379   //			if(thisModeConf->PenCoord.bCompenEdgeOn)Op_Flag = 1;
;;;3380   //			else 
;;;3381   //			{
;;;3382   //				if(TmpPos.y > (1<<POS_BOOST_SHIFT_) && TmpPos.y < ((ROW_MAX -1)<<POS_BOOST_SHIFT_))Op_Flag = 1;
;;;3383   //			}
;;;3384   			
;;;3385   //			if(Op_Flag == 1)
;;;3386   //			{
;;;3387   				OneCellPos = TmpPos.y - (((int)TmpPos.y/(YResol))*(YResol));
;;;3388   				Mm = (YResol)/FPITCH_Y;  
;;;3389   				OneCellMm = OneCellPos * (1/FPITCH_Y);
;;;3390   				
;;;3391   				if(OneCellPos < (YResol)*0.25)TmpPos.y -= (OneCellMm)*coefA/coefB;
;;;3392   				else if((YResol)*0.25 <= OneCellPos && OneCellPos < (YResol)*0.75)TmpPos.y += (OneCellMm - Mm/2)*coefA/coefB;
;;;3393   				else TmpPos.y += (-OneCellMm+Mm)*coefA/coefB;
;;;3394   			}
;;;3395   			
;;;3396   			thisInfo->tCoord_local_dsp.tPos.tXY.x = TmpPos.x - (UNIT_DIST>>1);
;;;3397   			thisInfo->tCoord_local_dsp.tPos.tXY.y = TmpPos.y - (UNIT_DIST>>1);
;;;3398   			thisInfo->tCoord_local_dsp.tOrgPos.tXY.x = thisInfo->tCoord_local_dsp.tPos.tXY.x;
;;;3399   			thisInfo->tCoord_local_dsp.tOrgPos.tXY.y = thisInfo->tCoord_local_dsp.tPos.tXY.y;
;;;3400   		}
;;;3401   	}
;;;3402   }
000002  bf08              IT       EQ
000004  4770              BXEQ     lr
000006  e92d4ff0          PUSH     {r4-r11,lr}           ;3324
00000a  f8df81d0          LDR      r8,|L14.476|
00000e  b085              SUB      sp,sp,#0x14           ;3324
000010  2801              CMP      r0,#1                 ;3330
000012  f8d81008          LDR      r1,[r8,#8]            ;3330
000016  bf04              ITT      EQ                    ;3332
000018  f8914123          LDRBEQ   r4,[r1,#0x123]        ;3332
00001c  f8915124          LDRBEQ   r5,[r1,#0x124]        ;3333
000020  d00c              BEQ      |L14.60|
000022  2805              CMP      r0,#5                 ;3335
000024  bf04              ITT      EQ                    ;3337
000026  f8914152          LDRBEQ   r4,[r1,#0x152]        ;3337
00002a  f8915153          LDRBEQ   r5,[r1,#0x153]        ;3338
00002e  d005              BEQ      |L14.60|
000030  2803              CMP      r0,#3                 ;3340
000032  bf04              ITT      EQ                    ;3342
000034  f8914125          LDRBEQ   r4,[r1,#0x125]        ;3342
000038  f8915126          LDRBEQ   r5,[r1,#0x126]        ;3343
                  |L14.60|
00003c  2c00              CMP      r4,#0                 ;3346
00003e  bfdc              ITT      LE
000040  b005              ADDLE    sp,sp,#0x14
000042  e8bd8ff0          POPLE    {r4-r11,pc}
000046  f8d8000c          LDR      r0,[r8,#0xc]          ;3348  ; thisInfo
00004a  f5005080          ADD      r0,r0,#0x1000         ;3348
00004e  f8b021ee          LDRH     r2,[r0,#0x1ee]        ;3348
000052  2a00              CMP      r2,#0                 ;3348
000054  bf04              ITT      EQ
000056  b005              ADDEQ    sp,sp,#0x14
000058  e8bd8ff0          POPEQ    {r4-r11,pc}
00005c  f8d021e4          LDR      r2,[r0,#0x1e4]        ;3351
000060  f44f7680          MOV      r6,#0x100             ;3357
000064  3280              ADDS     r2,r2,#0x80           ;3351
000066  9200              STR      r2,[sp,#0]            ;3352
000068  f8d001e8          LDR      r0,[r0,#0x1e8]        ;3352
00006c  4f5c              LDR      r7,|L14.480|
00006e  3080              ADDS     r0,r0,#0x80           ;3352
000070  9001              STR      r0,[sp,#4]            ;3361
000072  f8910127          LDRB     r0,[r1,#0x127]        ;3361
000076  46b2              MOV      r10,r6                ;3358
000078  b928              CBNZ     r0,|L14.134|
00007a  2100              MOVS     r1,#0                 ;3364
00007c  4668              MOV      r0,sp                 ;3364
00007e  f7fffffe          BL       algorithm_coord_IsEdgeArea
000082  2800              CMP      r0,#0                 ;3364
000084  d177              BNE      |L14.374|
                  |L14.134|
000086  9800              LDR      r0,[sp,#0]            ;3370
000088  9900              LDR      r1,[sp,#0]            ;3370
00008a  fb90f0f6          SDIV     r0,r0,r6              ;3370
00008e  fb001616          MLS      r6,r0,r6,r1           ;3370
000092  f8df9150          LDR      r9,|L14.484|
000096  4954              LDR      r1,|L14.488|
000098  4648              MOV      r0,r9                 ;3371
00009a  f7fffffe          BL       __aeabi_d2uiz
00009e  f0000bff          AND      r11,r0,#0xff          ;3371
0000a2  4630              MOV      r0,r6                 ;3372
0000a4  f7fffffe          BL       __aeabi_i2d
0000a8  9102              STR      r1,[sp,#8]            ;3372
0000aa  4606              MOV      r6,r0                 ;3372
0000ac  464a              MOV      r2,r9                 ;3372
0000ae  4b4f              LDR      r3,|L14.492|
0000b0  9103              STR      r1,[sp,#0xc]          ;3372
0000b2  f7fffffe          BL       __aeabi_dmul
0000b6  f7fffffe          BL       __aeabi_d2iz
0000ba  4681              MOV      r9,r0                 ;3372
0000bc  f06f0201          MVN      r2,#1                 ;3373
0000c0  2000              MOVS     r0,#0                 ;3373
0000c2  4639              MOV      r1,r7                 ;3373
0000c4  f7fffffe          BL       __ARM_scalbn
0000c8  4607              MOV      r7,r0                 ;3373
0000ca  460b              MOV      r3,r1                 ;3373
0000cc  9104              STR      r1,[sp,#0x10]         ;3373
0000ce  463a              MOV      r2,r7                 ;3373
0000d0  4630              MOV      r0,r6                 ;3373
0000d2  9903              LDR      r1,[sp,#0xc]          ;3373
0000d4  f7fffffe          BL       __aeabi_cdcmple
0000d8  d206              BCS      |L14.232|
0000da  fb09f004          MUL      r0,r9,r4              ;3373
0000de  fb90f0f5          SDIV     r0,r0,r5              ;3373
0000e2  9900              LDR      r1,[sp,#0]            ;3373
0000e4  1a08              SUBS     r0,r1,r0              ;3373
0000e6  e014              B        |L14.274|
                  |L14.232|
0000e8  4632              MOV      r2,r6                 ;3374
0000ea  4638              MOV      r0,r7                 ;3374
0000ec  9b02              LDR      r3,[sp,#8]            ;3374
0000ee  9904              LDR      r1,[sp,#0x10]         ;3374
0000f0  f7fffffe          BL       __aeabi_cdcmple
0000f4  d80f              BHI      |L14.278|
0000f6  4630              MOV      r0,r6                 ;3374
0000f8  2200              MOVS     r2,#0                 ;3374
0000fa  4b3d              LDR      r3,|L14.496|
0000fc  9902              LDR      r1,[sp,#8]            ;3374
0000fe  f7fffffe          BL       __aeabi_cdcmple
000102  d208              BCS      |L14.278|
000104  eba9005b          SUB      r0,r9,r11,LSR #1      ;3374
000108  4360              MULS     r0,r4,r0              ;3374
00010a  fb90f0f5          SDIV     r0,r0,r5              ;3374
00010e  9900              LDR      r1,[sp,#0]            ;3374
000110  4408              ADD      r0,r0,r1              ;3374
                  |L14.274|
000112  9000              STR      r0,[sp,#0]            ;3374
000114  e007              B        |L14.294|
                  |L14.278|
000116  ebab0009          SUB      r0,r11,r9             ;3375
00011a  4360              MULS     r0,r4,r0              ;3375
00011c  fb90f0f5          SDIV     r0,r0,r5              ;3375
000120  9900              LDR      r1,[sp,#0]            ;3375
000122  4408              ADD      r0,r0,r1              ;3375
000124  9000              STR      r0,[sp,#0]            ;3375
                  |L14.294|
000126  9801              LDR      r0,[sp,#4]            ;3387
000128  9901              LDR      r1,[sp,#4]            ;3387
00012a  fb90f0fa          SDIV     r0,r0,r10             ;3387
00012e  fb00161a          MLS      r6,r0,r10,r1          ;3387
000132  f8df90c0          LDR      r9,|L14.500|
000136  4930              LDR      r1,|L14.504|
000138  4648              MOV      r0,r9                 ;3388
00013a  f7fffffe          BL       __aeabi_d2uiz
00013e  f0000aff          AND      r10,r0,#0xff          ;3388
000142  4630              MOV      r0,r6                 ;3389
000144  f7fffffe          BL       __aeabi_i2d
000148  4606              MOV      r6,r0                 ;3389
00014a  468b              MOV      r11,r1                ;3389
00014c  464a              MOV      r2,r9                 ;3389
00014e  4b2b              LDR      r3,|L14.508|
000150  f7fffffe          BL       __aeabi_dmul
000154  f7fffffe          BL       __aeabi_d2iz
000158  4681              MOV      r9,r0                 ;3389
00015a  463a              MOV      r2,r7                 ;3391
00015c  4630              MOV      r0,r6                 ;3391
00015e  4659              MOV      r1,r11                ;3391
000160  9b04              LDR      r3,[sp,#0x10]         ;3391
000162  f7fffffe          BL       __aeabi_cdcmple
000166  d207              BCS      |L14.376|
000168  fb09f004          MUL      r0,r9,r4              ;3391
00016c  fb90f0f5          SDIV     r0,r0,r5              ;3391
000170  9901              LDR      r1,[sp,#4]            ;3391
000172  1a08              SUBS     r0,r1,r0              ;3391
000174  e015              B        |L14.418|
                  |L14.374|
000176  e01e              B        |L14.438|
                  |L14.376|
000178  4632              MOV      r2,r6                 ;3392
00017a  465b              MOV      r3,r11                ;3392
00017c  4638              MOV      r0,r7                 ;3392
00017e  9904              LDR      r1,[sp,#0x10]         ;3392
000180  f7fffffe          BL       __aeabi_cdcmple
000184  d80f              BHI      |L14.422|
000186  4630              MOV      r0,r6                 ;3392
000188  4659              MOV      r1,r11                ;3392
00018a  2200              MOVS     r2,#0                 ;3392
00018c  4b18              LDR      r3,|L14.496|
00018e  f7fffffe          BL       __aeabi_cdcmple
000192  d208              BCS      |L14.422|
000194  eba9005a          SUB      r0,r9,r10,LSR #1      ;3392
000198  4360              MULS     r0,r4,r0              ;3392
00019a  fb90f0f5          SDIV     r0,r0,r5              ;3392
00019e  9901              LDR      r1,[sp,#4]            ;3392
0001a0  4408              ADD      r0,r0,r1              ;3392
                  |L14.418|
0001a2  9001              STR      r0,[sp,#4]            ;3391
0001a4  e007              B        |L14.438|
                  |L14.422|
0001a6  ebaa0009          SUB      r0,r10,r9             ;3393
0001aa  4360              MULS     r0,r4,r0              ;3393
0001ac  fb90f0f5          SDIV     r0,r0,r5              ;3393
0001b0  9901              LDR      r1,[sp,#4]            ;3393
0001b2  4408              ADD      r0,r0,r1              ;3393
0001b4  9001              STR      r0,[sp,#4]            ;3393
                  |L14.438|
0001b6  9800              LDR      r0,[sp,#0]            ;3396
0001b8  f1a00180          SUB      r1,r0,#0x80           ;3396
0001bc  f8d8000c          LDR      r0,[r8,#0xc]          ;3396  ; thisInfo
0001c0  f5005080          ADD      r0,r0,#0x1000         ;3396
0001c4  f8c011e4          STR      r1,[r0,#0x1e4]        ;3397
0001c8  9a01              LDR      r2,[sp,#4]            ;3397
0001ca  3a80              SUBS     r2,r2,#0x80           ;3397
0001cc  f8c021e8          STR      r2,[r0,#0x1e8]        ;3397
0001d0  e9c01289          STRD     r1,r2,[r0,#0x224]     ;3397
0001d4  b005              ADD      sp,sp,#0x14
0001d6  e8bd8ff0          POP      {r4-r11,pc}
;;;3403   #if (INTERPOLATION_VER1_En == YES || INTERPOLATION_VER2_En == YES || INTERPOLATION_VER3_En == YES)
                          ENDP

0001da  0000              DCW      0x0000
                  |L14.476|
                          DCD      ||.data||
                  |L14.480|
                          DCD      0x40700000
                  |L14.484|
                          DCD      0xf3831f39
                  |L14.488|
                          DCD      0x404f3831
                  |L14.492|
                          DCD      0x3fcf3831
                  |L14.496|
                          DCD      0x40680000
                  |L14.500|
                          DCD      0xdc14868e
                  |L14.504|
                          DCD      0x404c81fe
                  |L14.508|
                          DCD      0x3fcc81fe

                          AREA ||i.algorithm_coord_drawing_assistance||, CODE, READONLY, ALIGN=2

                  algorithm_coord_drawing_assistance PROC
;;;789    }
;;;790    void algorithm_coord_drawing_assistance(int mode)
000000  e92d4ff0          PUSH     {r4-r11,lr}
;;;791    {
;;;792    	int l,i,j;
;;;793    //	int r,c,_d;
;;;794    //	uint32_t ulStrength = 0;
;;;795    	tXY_t CoordAry[5], CoordTmp;//, PredCoord[5],ProjectionVector;
;;;796    	uint8_t ColMinLabelIdx=0,  ColMaxLabelIdx=0,  RowMinLabelIdx=0,  RowMaxLabelIdx=0;
000004  2000              MOVS     r0,#0
000006  b09b              SUB      sp,sp,#0x6c           ;791
;;;797    	int ColMin=INT32_MAX, ColMax=0, RowMin=INT32_MAX, RowMax=0, Width=0, Height=0;
000008  4681              MOV      r9,r0
00000a  900b              STR      r0,[sp,#0x2c]         ;796
00000c  9011              STR      r0,[sp,#0x44]         ;796
00000e  9010              STR      r0,[sp,#0x40]         ;796
000010  4683              MOV      r11,r0
;;;798    	int idx,JitterSum=0;
000012  4607              MOV      r7,r0
;;;799    
;;;800    //	tLabelInfo_t	*temp_label;
;;;801    	tCoordInfo_t 	*temp_coord;
;;;802    
;;;803    	{
;;;804    		temp_coord = &thisInfo->tCoord;
000014  900f              STR      r0,[sp,#0x3c]
000016  48f2              LDR      r0,|L15.992|
000018  f06f4a00          MVN      r10,#0x80000000       ;797
00001c  46d0              MOV      r8,r10                ;797
00001e  68c6              LDR      r6,[r0,#0xc]  ; thisInfo
000020  f2063469          ADD      r4,r6,#0x369
;;;805    //		temp_label = &thisInfo->tLabel;
;;;806    	}
;;;807    	
;;;808    	if(temp_coord->tTempPos.sFinger_ == 0){
000024  f8960369          LDRB     r0,[r6,#0x369]
;;;809    		thisInfo->WinCertMode = 0;
000028  f5065580          ADD      r5,r6,#0x1000
00002c  900d              STR      r0,[sp,#0x34]         ;791
00002e  b150              CBZ      r0,|L15.70|
;;;810    		thisInfo->DrawingDirection = 0;
;;;811    		thisInfo->WinCertTrackingDist = 0;
;;;812    		thisInfo->TouchNumCnt = 0;
;;;813    	}
;;;814    	else if(temp_coord->tTempPos.sFinger_ == temp_coord->tOrgPastPos[0].sFinger_)
000030  f89416b7          LDRB     r1,[r4,#0x6b7]
000034  4288              CMP      r0,r1
;;;815    		thisInfo->TouchNumCnt++;
000036  bf06              ITTE     EQ
000038  f8b504f8          LDRHEQ   r0,[r5,#0x4f8]
00003c  1c40              ADDEQ    r0,r0,#1
;;;816    	else
;;;817    		thisInfo->TouchNumCnt = 0;
00003e  2000              MOVNE    r0,#0
000040  f8a504f8          STRH     r0,[r5,#0x4f8]        ;815
000044  e008              B        |L15.88|
                  |L15.70|
000046  2000              MOVS     r0,#0                 ;809
000048  f88504f4          STRB     r0,[r5,#0x4f4]        ;809
00004c  f88504f5          STRB     r0,[r5,#0x4f5]        ;810
000050  f8a504f6          STRH     r0,[r5,#0x4f6]        ;811
000054  f8a504f8          STRH     r0,[r5,#0x4f8]        ;812
                  |L15.88|
000058  980d              LDR      r0,[sp,#0x34]         ;812
00005a  900c              STR      r0,[sp,#0x30]         ;804
;;;818    	
;;;819    	//detect win cert state
;;;820    //	if( temp_coord->tTempPos.sFinger_ == 5 && thisInfo->WinCertMode == 0 &&
;;;821    //	   (thisInfo->tDelta.tValidRect.re - thisInfo->tDelta.tValidRect.rs + 1) < (thisModeConf->CoordTracking.usCenterMatchDistanceThd << 1) && (thisInfo->tDelta.tValidRect.ce - thisInfo->tDelta.tValidRect.cs + 1) < (thisModeConf->CoordTracking.usCenterMatchDistanceThd << 1) )
;;;822    	if(temp_coord->tTempPos.sFinger_ > 1 && temp_coord->tTempPos.sFinger_ <= 5 && thisInfo->WinCertMode == 0)
00005c  1e81              SUBS     r1,r0,#2
00005e  48e0              LDR      r0,|L15.992|
000060  2903              CMP      r1,#3
;;;823    	{	
;;;824    		memcpy(CoordAry, temp_coord->tTempPos.tXY, sizeof(CoordAry));
;;;825    		for(l = temp_coord->tTempPos.sFinger_; l--;)
;;;826    		{
;;;827    			if(temp_coord->tTempPos.tXY[l].x < ColMin)	ColMin = temp_coord->tTempPos.tXY[l].x, ColMinLabelIdx = l;
;;;828    			if(temp_coord->tTempPos.tXY[l].x > ColMax)	ColMax = temp_coord->tTempPos.tXY[l].x, ColMaxLabelIdx = l;
;;;829    			if(temp_coord->tTempPos.tXY[l].y < RowMin)	RowMin = temp_coord->tTempPos.tXY[l].y, RowMinLabelIdx = l;
;;;830    			if(temp_coord->tTempPos.tXY[l].y > RowMax)	RowMax = temp_coord->tTempPos.tXY[l].y, RowMaxLabelIdx = l;
;;;831    			
;;;832    		}
;;;833    		Width = abs(temp_coord->tTempPos.tXY[ColMaxLabelIdx].x - temp_coord->tTempPos.tXY[ColMinLabelIdx].x);
;;;834    		Height = abs(temp_coord->tTempPos.tXY[RowMaxLabelIdx].y - temp_coord->tTempPos.tXY[RowMinLabelIdx].y);
;;;835    		
;;;836    		if(Width > Height){
;;;837    			CoordTmp = CoordAry[ColMinLabelIdx];
;;;838    			CoordAry[ColMinLabelIdx] = CoordAry[0];
;;;839    			CoordAry[0] = CoordTmp;
;;;840    			
;;;841    			CoordTmp = CoordAry[ColMaxLabelIdx];
;;;842    			CoordAry[ColMaxLabelIdx] = CoordAry[1];
;;;843    			CoordAry[1] = CoordTmp;
;;;844    			
;;;845    			for(idx=1; idx<temp_coord->tTempPos.sFinger_;idx++){
;;;846    				if(CoordAry[idx].x == CoordAry[0].x)
;;;847    					JitterSum += CoordAry[idx].y - CoordAry[0].y;
;;;848    				else
;;;849    					JitterSum += abs(Height - (abs(CoordAry[idx].y - CoordAry[0].y) * Width / abs(CoordAry[idx].x - CoordAry[0].x)));
;;;850    			}
;;;851    //			TotalRect = algorithm_merge_rect(temp_coord->tTempPos.rect[ColMinLabelIdx], temp_coord->tTempPos.rect[ColMaxLabelIdx]);
;;;852    		}
;;;853    		else{
;;;854    			CoordTmp = CoordAry[RowMinLabelIdx];
;;;855    			CoordAry[RowMinLabelIdx] = CoordAry[0];
;;;856    			CoordAry[0] = CoordTmp;
;;;857    			
;;;858    			CoordTmp = CoordAry[RowMaxLabelIdx];
;;;859    			CoordAry[RowMaxLabelIdx] = CoordAry[1];
;;;860    			CoordAry[1] = CoordTmp;
;;;861    			
;;;862    			for(idx=1; idx<temp_coord->tTempPos.sFinger_;idx++){
;;;863    				if(CoordAry[idx].y == CoordAry[0].y)
;;;864    					JitterSum += abs(CoordAry[idx].x - CoordAry[0].x);
;;;865    				else
;;;866    					JitterSum += abs(Width - (abs(CoordAry[idx].x - CoordAry[0].x) * Height / abs(CoordAry[idx].y - CoordAry[0].y)));
;;;867    			}
;;;868    //			TotalRect = algorithm_merge_rect(temp_coord->tTempPos.rect[RowMinLabelIdx], temp_coord->tTempPos.rect[RowMaxLabelIdx]);
;;;869    		}
;;;870    		
;;;871    		if(JitterSum < 500)
;;;872    		{
;;;873    			if( temp_coord->tTempPos.sFinger_ == 5 && thisInfo->WinCertMode == 0 &&
000062  6880              LDR      r0,[r0,#8]
000064  9016              STR      r0,[sp,#0x58]         ;822
000066  bf9c              ITT      LS                    ;822
000068  f89504f4          LDRBLS   r0,[r5,#0x4f4]        ;822
00006c  2800              CMPLS    r0,#0                 ;822
00006e  f040810b          BNE.W    |L15.648|
000072  f04f0228          MOV      r2,#0x28              ;824
000076  f1040101          ADD      r1,r4,#1              ;824
00007a  4668              MOV      r0,sp                 ;824
00007c  f7fffffe          BL       __aeabi_memcpy
000080  980c              LDR      r0,[sp,#0x30]         ;824
000082  990d              LDR      r1,[sp,#0x34]         ;825
000084  1e40              SUBS     r0,r0,#1              ;824
000086  b1d9              CBZ      r1,|L15.192|
                  |L15.136|
000088  eb0402c0          ADD      r2,r4,r0,LSL #3       ;827
00008c  f8d21001          LDR      r1,[r2,#1]            ;827
000090  4551              CMP      r1,r10                ;827
000092  da02              BGE      |L15.154|
000094  b2c3              UXTB     r3,r0                 ;827
000096  468a              MOV      r10,r1                ;827
000098  9311              STR      r3,[sp,#0x44]         ;827
                  |L15.154|
00009a  4549              CMP      r1,r9                 ;828
00009c  dd02              BLE      |L15.164|
00009e  4689              MOV      r9,r1                 ;828
0000a0  b2c1              UXTB     r1,r0                 ;828
0000a2  910b              STR      r1,[sp,#0x2c]         ;828
                  |L15.164|
0000a4  f8d21005          LDR      r1,[r2,#5]            ;829
0000a8  4541              CMP      r1,r8                 ;829
0000aa  da02              BGE      |L15.178|
0000ac  b2c2              UXTB     r2,r0                 ;829
0000ae  4688              MOV      r8,r1                 ;829
0000b0  9210              STR      r2,[sp,#0x40]         ;829
                  |L15.178|
0000b2  4559              CMP      r1,r11                ;830
0000b4  dd02              BLE      |L15.188|
0000b6  468b              MOV      r11,r1                ;830
0000b8  b2c1              UXTB     r1,r0                 ;830
0000ba  910f              STR      r1,[sp,#0x3c]         ;830
                  |L15.188|
0000bc  1e40              SUBS     r0,r0,#1              ;830
0000be  d2e3              BCS      |L15.136|
                  |L15.192|
0000c0  980b              LDR      r0,[sp,#0x2c]         ;833
0000c2  eb0400c0          ADD      r0,r4,r0,LSL #3       ;833
0000c6  f8d01001          LDR      r1,[r0,#1]            ;833
0000ca  9811              LDR      r0,[sp,#0x44]         ;833
0000cc  eb0400c0          ADD      r0,r4,r0,LSL #3       ;833
0000d0  f8d00001          LDR      r0,[r0,#1]            ;833
0000d4  1a0a              SUBS     r2,r1,r0              ;833
0000d6  bf48              IT       MI                    ;833
0000d8  4252              RSBMI    r2,r2,#0              ;833
0000da  980f              LDR      r0,[sp,#0x3c]         ;834
0000dc  eb0400c0          ADD      r0,r4,r0,LSL #3       ;834
0000e0  f8d01005          LDR      r1,[r0,#5]            ;834
0000e4  9810              LDR      r0,[sp,#0x40]         ;834
0000e6  eb0400c0          ADD      r0,r4,r0,LSL #3       ;834
0000ea  f8d00005          LDR      r0,[r0,#5]            ;834
0000ee  1a09              SUBS     r1,r1,r0              ;834
0000f0  bf48              IT       MI                    ;834
0000f2  4249              RSBMI    r1,r1,#0              ;834
0000f4  46ec              MOV      r12,sp                ;795
0000f6  428a              CMP      r2,r1                 ;836
0000f8  dd48              BLE      |L15.396|
0000fa  9811              LDR      r0,[sp,#0x44]         ;837
0000fc  e9dd9a00          LDRD     r9,r10,[sp,#0]        ;837
000100  eb0c03c0          ADD      r3,r12,r0,LSL #3      ;837
000104  e9d30800          LDRD     r0,r8,[r3,#0]         ;837
000108  e9c39a00          STRD     r9,r10,[r3,#0]        ;837
00010c  e9cd0800          STRD     r0,r8,[sp,#0]         ;837
000110  980b              LDR      r0,[sp,#0x2c]         ;841
000112  e9dd9a02          LDRD     r9,r10,[sp,#8]        ;841
000116  eb0c00c0          ADD      r0,r12,r0,LSL #3      ;841
00011a  e9d03800          LDRD     r3,r8,[r0,#0]         ;841
00011e  e9c09a00          STRD     r9,r10,[r0,#0]        ;841
000122  e9cd3802          STRD     r3,r8,[sp,#8]         ;845
000126  7823              LDRB     r3,[r4,#0]            ;845
000128  2001              MOVS     r0,#1                 ;845
00012a  2b01              CMP      r3,#1                 ;845
00012c  dd61              BLE      |L15.498|
00012e  bf00              NOP                            ;846
                  |L15.304|
000130  f85c9030          LDR      r9,[r12,r0,LSL #3]    ;846
000134  f8dd8000          LDR      r8,[sp,#0]            ;846
000138  45c1              CMP      r9,r8                 ;846
00013a  eb0c08c0          ADD      r8,r12,r0,LSL #3      ;849
00013e  f8d88004          LDR      r8,[r8,#4]            ;849
000142  d108              BNE      |L15.342|
000144  f8dd9004          LDR      r9,[sp,#4]            ;847
000148  eba80809          SUB      r8,r8,r9              ;847
00014c  4447              ADD      r7,r7,r8              ;847
                  |L15.334|
00014e  1c40              ADDS     r0,r0,#1              ;847
000150  4283              CMP      r3,r0                 ;849
000152  dced              BGT      |L15.304|
000154  e04a              B        |L15.492|
                  |L15.342|
000156  f8dda004          LDR      r10,[sp,#4]           ;849
00015a  ebb8080a          SUBS     r8,r8,r10             ;849
00015e  f8dda000          LDR      r10,[sp,#0]           ;849
000162  eba9090a          SUB      r9,r9,r10             ;849
000166  bf48              IT       MI                    ;849
000168  f1c80800          RSBMI    r8,r8,#0              ;849
00016c  fb08f802          MUL      r8,r8,r2              ;849
000170  f1b90f00          CMP      r9,#0                 ;849
000174  bfb8              IT       LT                    ;849
000176  f1c90900          RSBLT    r9,r9,#0              ;849
00017a  fb98f8f9          SDIV     r8,r8,r9              ;849
00017e  ebb10808          SUBS     r8,r1,r8              ;849
000182  bf48              IT       MI                    ;849
000184  f1c80800          RSBMI    r8,r8,#0              ;849
000188  4447              ADD      r7,r7,r8              ;849
00018a  e7e0              B        |L15.334|
                  |L15.396|
00018c  9810              LDR      r0,[sp,#0x40]         ;854
00018e  e9dd9a00          LDRD     r9,r10,[sp,#0]        ;854
000192  eb0c00c0          ADD      r0,r12,r0,LSL #3      ;854
000196  e9d03800          LDRD     r3,r8,[r0,#0]         ;854
00019a  e9c09a00          STRD     r9,r10,[r0,#0]        ;854
00019e  e9cd3800          STRD     r3,r8,[sp,#0]         ;854
0001a2  980f              LDR      r0,[sp,#0x3c]         ;858
0001a4  e9dd9a02          LDRD     r9,r10,[sp,#8]        ;858
0001a8  eb0c00c0          ADD      r0,r12,r0,LSL #3      ;858
0001ac  e9d03800          LDRD     r3,r8,[r0,#0]         ;858
0001b0  e9c09a00          STRD     r9,r10,[r0,#0]        ;858
0001b4  e9cd3802          STRD     r3,r8,[sp,#8]         ;862
0001b8  7823              LDRB     r3,[r4,#0]            ;862
0001ba  2001              MOVS     r0,#1                 ;862
0001bc  2b01              CMP      r3,#1                 ;862
0001be  dd18              BLE      |L15.498|
                  |L15.448|
0001c0  eb0c08c0          ADD      r8,r12,r0,LSL #3      ;863
0001c4  f8dd9004          LDR      r9,[sp,#4]            ;863
0001c8  f8d88004          LDR      r8,[r8,#4]            ;863
0001cc  45c8              CMP      r8,r9                 ;863
0001ce  d119              BNE      |L15.516|
0001d0  f85c8030          LDR      r8,[r12,r0,LSL #3]    ;864
0001d4  f8dd9000          LDR      r9,[sp,#0]            ;864
0001d8  ebb80809          SUBS     r8,r8,r9              ;864
0001dc  d502              BPL      |L15.484|
0001de  bf00              NOP                            ;864
                  |L15.480|
0001e0  f1c80800          RSB      r8,r8,#0              ;864
                  |L15.484|
0001e4  1c40              ADDS     r0,r0,#1              ;866
0001e6  4447              ADD      r7,r7,r8              ;866
0001e8  4283              CMP      r3,r0                 ;866
0001ea  dce9              BGT      |L15.448|
                  |L15.492|
0001ec  f5b77ffa          CMP      r7,#0x1f4             ;871
0001f0  da4a              BGE      |L15.648|
                  |L15.498|
0001f2  b2d8              UXTB     r0,r3
0001f4  2301              MOVS     r3,#1                 ;845
0001f6  2805              CMP      r0,#5
0001f8  bf04              ITT      EQ
0001fa  f89504f4          LDRBEQ   r0,[r5,#0x4f4]
0001fe  2800              CMPEQ    r0,#0
000200  d135              BNE      |L15.622|
000202  e019              B        |L15.568|
                  |L15.516|
000204  f85c9030          LDR      r9,[r12,r0,LSL #3]    ;866
000208  f8dda000          LDR      r10,[sp,#0]           ;866
00020c  ebb9090a          SUBS     r9,r9,r10             ;866
000210  f8dda004          LDR      r10,[sp,#4]           ;866
000214  eba8080a          SUB      r8,r8,r10             ;866
000218  bf48              IT       MI                    ;866
00021a  f1c90900          RSBMI    r9,r9,#0              ;866
00021e  fb09f901          MUL      r9,r9,r1              ;866
000222  f1b80f00          CMP      r8,#0                 ;866
000226  bfb8              IT       LT                    ;866
000228  f1c80800          RSBLT    r8,r8,#0              ;866
00022c  fb99f8f8          SDIV     r8,r9,r8              ;866
000230  ebb20808          SUBS     r8,r2,r8              ;866
000234  d5d6              BPL      |L15.484|
000236  e7d3              B        |L15.480|
                  |L15.568|
000238  f996000e          LDRSB    r0,[r6,#0xe]
00023c  f996c00d          LDRSB    r12,[r6,#0xd]
000240  eba0000c          SUB      r0,r0,r12
000244  f1000c01          ADD      r12,r0,#1
000248  9816              LDR      r0,[sp,#0x58]
00024a  f8d000c9          LDR      r0,[r0,#0xc9]
00024e  ebbc0f40          CMP      r12,r0,LSL #1
000252  d20c              BCS      |L15.622|
000254  f996c010          LDRSB    r12,[r6,#0x10]
000258  f996700f          LDRSB    r7,[r6,#0xf]
00025c  ebac0c07          SUB      r12,r12,r7
000260  f10c0c01          ADD      r12,r12,#1
000264  ebbc0f40          CMP      r12,r0,LSL #1
;;;874    				(thisInfo->tDelta.tValidRect.re - thisInfo->tDelta.tValidRect.rs + 1) < (thisModeConf->CoordTracking.usCenterMatchDistanceThd << 1) && 
;;;875    				(thisInfo->tDelta.tValidRect.ce - thisInfo->tDelta.tValidRect.cs + 1) < (thisModeConf->CoordTracking.usCenterMatchDistanceThd << 1) )
;;;876    					thisInfo->WinCertMode = YES;
000268  bf38              IT       CC
00026a  f88534f4          STRBCC   r3,[r5,#0x4f4]
                  |L15.622|
;;;877    
;;;878    			if(Width > (Height<<4))				//Horizontal
00026e  ebb21f01          CMP      r2,r1,LSL #4
;;;879    				thisInfo->DrawingDirection = 1;
000272  bfc8              IT       GT
000274  f88534f5          STRBGT   r3,[r5,#0x4f5]
000278  dc06              BGT      |L15.648|
;;;880    			else if(Height > (Width<<4))		//Vertical
00027a  ebb11f02          CMP      r1,r2,LSL #4
;;;881    				thisInfo->DrawingDirection = 2;
00027e  bfcc              ITE      GT
000280  2002              MOVGT    r0,#2
;;;882    			else
;;;883    				thisInfo->DrawingDirection = 3;		//Diagonal
000282  2003              MOVLE    r0,#3
000284  f88504f5          STRB     r0,[r5,#0x4f5]        ;881
                  |L15.648|
;;;884    		}
;;;885    	}
;;;886    	
;;;887    	if( (thisInfo->tDelta.tValidRect.re - thisInfo->tDelta.tValidRect.rs + 1) >= (thisModeConf->CoordTracking.usCenterMatchDistanceThd +5) ||
000288  f996000e          LDRSB    r0,[r6,#0xe]
00028c  f996100d          LDRSB    r1,[r6,#0xd]
000290  1a40              SUBS     r0,r0,r1
000292  1c41              ADDS     r1,r0,#1
000294  9816              LDR      r0,[sp,#0x58]
000296  f8d000c9          LDR      r0,[r0,#0xc9]
00029a  1d40              ADDS     r0,r0,#5
00029c  4281              CMP      r1,r0
00029e  d207              BCS      |L15.688|
0002a0  f9961010          LDRSB    r1,[r6,#0x10]
0002a4  f996200f          LDRSB    r2,[r6,#0xf]
0002a8  1a89              SUBS     r1,r1,r2
0002aa  1c49              ADDS     r1,r1,#1
0002ac  4281              CMP      r1,r0
0002ae  d307              BCC      |L15.704|
                  |L15.688|
;;;888    		(thisInfo->tDelta.tValidRect.ce - thisInfo->tDelta.tValidRect.cs + 1) >= (thisModeConf->CoordTracking.usCenterMatchDistanceThd +5) )
;;;889    	{
;;;890    		thisInfo->WinCertMode = 0;
0002b0  2000              MOVS     r0,#0
0002b2  f88504f4          STRB     r0,[r5,#0x4f4]
;;;891    		thisInfo->DrawingDirection = 0;
0002b6  f88504f5          STRB     r0,[r5,#0x4f5]
;;;892    	}
;;;893    	
;;;894    	if(thisInfo->WinCertMode && temp_coord->tTempPos.sFinger_)
;;;895    	{
;;;896    		if(temp_coord->tTempPos.sFinger_ != 5)
;;;897    		{
;;;898    			tXY_t Center[2];
;;;899    			int dist_min = INT32_MAX,tmp;
;;;900    			//int min_cl, min_pl;
;;;901    			
;;;902    			Center[0].x = 0, Center[0].y = 0;
;;;903    			for(i=0;i<temp_coord->tTempPos.sFinger_;i++){
;;;904    				Center[0].x += temp_coord->tTempPos.tXY[i].x;
;;;905    				Center[0].y += temp_coord->tTempPos.tXY[i].y;
;;;906    			}
;;;907    			Center[0].x /= temp_coord->tTempPos.sFinger_;
;;;908    			Center[0].y /= temp_coord->tTempPos.sFinger_;
;;;909    			
;;;910    			Center[1].x = 0, Center[1].y = 0;
;;;911    			for(i=0;i<5;i++){
;;;912    				Center[1].x +=  temp_coord->tOrgPastPos[0].tXY[i].x;
;;;913    				Center[1].y +=  temp_coord->tOrgPastPos[0].tXY[i].y;
;;;914    			}
;;;915    			Center[1].x /= 5;
;;;916    			Center[1].y /= 5;
;;;917    			
;;;918    			for(i=0;i<temp_coord->tTempPos.sFinger_;i++){
;;;919    				for(j=0;j<5;j++){
;;;920    					tmp = algorithm_coord_calc_distance(temp_coord->tTempPos.tXY[i],temp_coord->tOrgPastPos[0].tXY[j]);
;;;921    					if(tmp < dist_min){
;;;922    						dist_min = tmp;
;;;923    //						min_cl = i;
;;;924    //						min_pl = j;
;;;925    					}
;;;926    					
;;;927    				}
;;;928    			}
;;;929    					
;;;930    			for(i=0;i<POSBUF_;i++){
;;;931    				temp_coord->tTempPos.vusR[i]   = 0;
;;;932    				temp_coord->tTempPos.vusS[i]   = 0;
;;;933    			}
;;;934    			for(i=0;i<temp_coord->tOrgPastPos[0].sFinger_;i++){
;;;935    				if(temp_coord->tOrgPastPos[0].vusR[i]>0){
;;;936    					temp_coord->tTempPos.tXY[i] = temp_coord->tOrgPastPos[0].tXY[i];
;;;937    	//					temp_coord->tTempPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x + ((temp_coord->tTempPos.tXY[i].x - temp_coord->tOrgPastPos[0].tXY[j].x)>>2);
;;;938    	//					temp_coord->tTempPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y + ((temp_coord->tTempPos.tXY[i].y - temp_coord->tOrgPastPos[0].tXY[j].y)>>2);
;;;939    					
;;;940    					temp_coord->tTempPos.vusR[i]   = temp_coord->tOrgPastPos[0].vusR[i];
;;;941    					temp_coord->tTempPos.vusS[i]   = temp_coord->tOrgPastPos[0].vusS[i];
;;;942    					temp_coord->cRemap[i] = i;
;;;943    					temp_coord->tTempPos.sFinger_ = temp_coord->tOrgPastPos[0].sFinger_;
;;;944    				}
;;;945    			}
;;;946    		}
;;;947    	}	
;;;948    }
0002ba  b01b              ADD      sp,sp,#0x6c
0002bc  e8bd8ff0          POP      {r4-r11,pc}
                  |L15.704|
0002c0  f89504f4          LDRB     r0,[r5,#0x4f4]        ;894
0002c4  2800              CMP      r0,#0                 ;894
0002c6  bf1d              ITTTE    NE                    ;894
0002c8  7822              LDRBNE   r2,[r4,#0]            ;894
0002ca  2a00              CMPNE    r2,#0                 ;894
0002cc  2a05              CMPNE    r2,#5                 ;896
0002ce  b01b              ADDEQ    sp,sp,#0x6c
0002d0  bf08              IT       EQ
0002d2  e8bd8ff0          POPEQ    {r4-r11,pc}
0002d6  f06f4600          MVN      r6,#0x80000000        ;899
0002da  f04f0900          MOV      r9,#0                 ;902
0002de  4648              MOV      r0,r9                 ;902
0002e0  464b              MOV      r3,r9                 ;902
0002e2  f0120101          ANDS     r1,r2,#1              ;906
0002e6  bf1c              ITT      NE                    ;904
0002e8  f8d40001          LDRNE    r0,[r4,#1]            ;904
0002ec  f8d43005          LDRNE    r3,[r4,#5]            ;905
0002f0  428a              CMP      r2,r1                 ;903
0002f2  dd11              BLE      |L15.792|
                  |L15.756|
0002f4  eb040cc1          ADD      r12,r4,r1,LSL #3      ;904
0002f8  4605              MOV      r5,r0                 ;904
0002fa  f8dc0001          LDR      r0,[r12,#1]           ;904
0002fe  1c89              ADDS     r1,r1,#2              ;905
000300  4428              ADD      r0,r0,r5              ;904
000302  f8dc5005          LDR      r5,[r12,#5]           ;905
000306  428a              CMP      r2,r1                 ;905
000308  442b              ADD      r3,r3,r5              ;905
00030a  f8dc5009          LDR      r5,[r12,#9]           ;904
00030e  f8dcc00d          LDR      r12,[r12,#0xd]        ;905
000312  4428              ADD      r0,r0,r5              ;904
000314  4463              ADD      r3,r3,r12             ;905
000316  dced              BGT      |L15.756|
                  |L15.792|
000318  fb90f0f2          SDIV     r0,r0,r2              ;907
00031c  fb93f0f2          SDIV     r0,r3,r2              ;908
000320  2700              MOVS     r7,#0                 ;918
000322  2a00              CMP      r2,#0                 ;918
000324  dd1e              BLE      |L15.868|
                  |L15.806|
000326  2500              MOVS     r5,#0                 ;919
000328  eb0408c7          ADD      r8,r4,r7,LSL #3       ;904
                  |L15.812|
00032c  eb0401c5          ADD      r1,r4,r5,LSL #3       ;920
000330  f8d82001          LDR      r2,[r8,#1]            ;920
000334  f8d136b8          LDR      r3,[r1,#0x6b8]        ;920
000338  f8d80005          LDR      r0,[r8,#5]            ;920
00033c  f8d116bc          LDR      r1,[r1,#0x6bc]        ;920
000340  1ad2              SUBS     r2,r2,r3              ;920
000342  4352              MULS     r2,r2,r2              ;920
000344  1a40              SUBS     r0,r0,r1              ;920
000346  fb002000          MLA      r0,r0,r0,r2           ;920
00034a  f7fffffe          BL       algorithm_calc_sqrt
00034e  42b0              CMP      r0,r6                 ;922
000350  bfc8              IT       GT                    ;922
000352  4630              MOVGT    r0,r6                 ;922
000354  4606              MOV      r6,r0                 ;922
000356  1c6d              ADDS     r5,r5,#1              ;922
000358  2d05              CMP      r5,#5                 ;922
00035a  dbe7              BLT      |L15.812|
00035c  7820              LDRB     r0,[r4,#0]            ;922
00035e  1c7f              ADDS     r7,r7,#1              ;922
000360  4287              CMP      r7,r0                 ;922
000362  dbe0              BLT      |L15.806|
                  |L15.868|
000364  f05f0100          MOVS.W   r1,#0                 ;930
                  |L15.872|
000368  eb040041          ADD      r0,r4,r1,LSL #1       ;931
00036c  1c89              ADDS     r1,r1,#2              ;932
00036e  f8a090a1          STRH     r9,[r0,#0xa1]         ;931
000372  f8a09081          STRH     r9,[r0,#0x81]         ;932
000376  f8a090a3          STRH     r9,[r0,#0xa3]         ;931
00037a  f8a09083          STRH     r9,[r0,#0x83]         ;932
00037e  290a              CMP      r1,#0xa               ;932
000380  dbf2              BLT      |L15.872|
000382  f89416b7          LDRB     r1,[r4,#0x6b7]        ;934
000386  2000              MOVS     r0,#0                 ;934
000388  2900              CMP      r1,#0                 ;934
00038a  bfdc              ITT      LE
00038c  b01b              ADDLE    sp,sp,#0x6c
00038e  e8bd8ff0          POPLE    {r4-r11,pc}
000392  bf00              NOP                            ;935
                  |L15.916|
000394  eb040140          ADD      r1,r4,r0,LSL #1       ;935
000398  f8b1271c          LDRH     r2,[r1,#0x71c]        ;935
00039c  b1ba              CBZ      r2,|L15.974|
00039e  eb0402c0          ADD      r2,r4,r0,LSL #3       ;936
0003a2  f8d236b8          LDR      r3,[r2,#0x6b8]        ;936
0003a6  f8c23001          STR      r3,[r2,#1]            ;936
0003aa  f8d236bc          LDR      r3,[r2,#0x6bc]        ;936
0003ae  f8c23005          STR      r3,[r2,#5]            ;936
0003b2  f8b1271c          LDRH     r2,[r1,#0x71c]        ;940
0003b6  f8a120a1          STRH     r2,[r1,#0xa1]         ;940
0003ba  f8b12708          LDRH     r2,[r1,#0x708]        ;941
0003be  f8a12081          STRH     r2,[r1,#0x81]         ;941
0003c2  1821              ADDS     r1,r4,r0              ;942
0003c4  f8810cd2          STRB     r0,[r1,#0xcd2]        ;942
0003c8  f89416b7          LDRB     r1,[r4,#0x6b7]        ;943
0003cc  7021              STRB     r1,[r4,#0]            ;943
                  |L15.974|
0003ce  f89416b7          LDRB     r1,[r4,#0x6b7]        ;943
0003d2  1c40              ADDS     r0,r0,#1              ;943
0003d4  4281              CMP      r1,r0                 ;943
0003d6  dcdd              BGT      |L15.916|
0003d8  b01b              ADD      sp,sp,#0x6c
0003da  e8bd8ff0          POP      {r4-r11,pc}
;;;949    int8_t algorithm_coord_IsEdgeArea(tXY_t * pos, int offset)
                          ENDP

0003de  0000              DCW      0x0000
                  |L15.992|
                          DCD      ||.data||

                          AREA ||i.algorithm_coord_init||, CODE, READONLY, ALIGN=2

                  algorithm_coord_init PROC
;;;186    
;;;187    void algorithm_coord_init(void)
000000  b510              PUSH     {r4,lr}
;;;188    {
;;;189    	int l;
;;;190    
;;;191    	thisCommonConf = algorithm_GetCommonConfig();
000002  f7fffffe          BL       algorithm_GetCommonConfig
000006  4c55              LDR      r4,|L16.348|
;;;192    	thisModeConf   = algorithm_GetModeConfig();
000008  6060              STR      r0,[r4,#4]  ; thisCommonConf
00000a  f7fffffe          BL       algorithm_GetModeConfig
;;;193    	thisInfo       = algorithm_GetInfo();
00000e  60a0              STR      r0,[r4,#8]  ; thisModeConf
000010  f7fffffe          BL       algorithm_GetInfo
;;;194    #if USED_NOISE_HOPPING_FREQ
;;;195    	ptAppInfo      = app_GetInfo();
000014  60e0              STR      r0,[r4,#0xc]  ; thisInfo
000016  f7fffffe          BL       app_GetInfo
;;;196    #endif
;;;197    //	_ptModuleCommonConf = module_GetCommonConfig();
;;;198    //	algorithm_coord_init_param();
;;;199    
;;;200    	thisInfo->tCoord.tPastPos[0].sFinger_    = 0;
00001a  6120              STR      r0,[r4,#0x10]  ; ptAppInfo
00001c  68e3              LDR      r3,[r4,#0xc]  ; thisInfo
00001e  2000              MOVS     r0,#0
;;;201    	thisInfo->tCoord.tOrgPastPos[0].sFinger_ = 0;
;;;202    
;;;203    	for(l=MAX_TOUCH_; l--; )
;;;204    	{
;;;205    		thisInfo->tCoord.tPastPos[0].tXY[l].x    = 0;
;;;206    		thisInfo->tCoord.tPastPos[0].tXY[l].y    = 0;
;;;207    		thisInfo->tCoord.tPastPos[0].vusR[l]     = 0;
;;;208    		thisInfo->tCoord.tPastPos[0].vusS[l]     = 0;
;;;209    
;;;210    		thisInfo->tCoord.tPastPos[1].tXY[l].x    = 0;
;;;211    		thisInfo->tCoord.tPastPos[1].tXY[l].y    = 0;
;;;212    		thisInfo->tCoord.tPastPos[1].vusR[l]     = 0;
;;;213    		thisInfo->tCoord.tPastPos[1].vusS[l]     = 0;
;;;214    		
;;;215    		thisInfo->tCoord.tPastPos[2].tXY[l].x    = 0;
;;;216    		thisInfo->tCoord.tPastPos[2].tXY[l].y    = 0;
;;;217    		thisInfo->tCoord.tPastPos[2].vusR[l]     = 0;
;;;218    		thisInfo->tCoord.tPastPos[2].vusS[l]     = 0;
;;;219    
;;;220    		thisInfo->tCoord.tPastPos[3].tXY[l].x    = 0;
;;;221    		thisInfo->tCoord.tPastPos[3].tXY[l].y    = 0;
;;;222    		thisInfo->tCoord.tPastPos[3].vusR[l]     = 0;
;;;223    		thisInfo->tCoord.tPastPos[3].vusS[l]     = 0;
;;;224    		
;;;225    		thisInfo->tCoord.tPastPos[4].tXY[l].x    = 0;
;;;226    		thisInfo->tCoord.tPastPos[4].tXY[l].y    = 0;
;;;227    		thisInfo->tCoord.tPastPos[4].vusR[l]     = 0;
;;;228    		thisInfo->tCoord.tPastPos[4].vusS[l]     = 0;
;;;229    		
;;;230    		thisInfo->tCoord.tOrgPastPos[0].tXY[l].x = 0;
;;;231    		thisInfo->tCoord.tOrgPastPos[0].tXY[l].y = 0;
;;;232    		thisInfo->tCoord.tOrgPastPos[0].vusR[l]  = 0;
;;;233    		thisInfo->tCoord.tOrgPastPos[0].vusS[l]  = 0;
;;;234    
;;;235    		thisInfo->tCoord.tOrgPastPos[1].tXY[l].x = 0;
;;;236    		thisInfo->tCoord.tOrgPastPos[1].tXY[l].y = 0;
;;;237    		thisInfo->tCoord.tOrgPastPos[1].vusR[l]  = 0;
;;;238    		thisInfo->tCoord.tOrgPastPos[1].vusS[l]  = 0;
;;;239    		
;;;240    		thisInfo->tCoord.tOrgPastPos[2].tXY[l].x = 0;
;;;241    		thisInfo->tCoord.tOrgPastPos[2].tXY[l].y = 0;
;;;242    		thisInfo->tCoord.tOrgPastPos[2].vusR[l]  = 0;
;;;243    		thisInfo->tCoord.tOrgPastPos[2].vusS[l]  = 0;
;;;244    
;;;245    		thisInfo->tCoord.tOrgPastPos[3].tXY[l].x = 0;
;;;246    		thisInfo->tCoord.tOrgPastPos[3].tXY[l].y = 0;
;;;247    		thisInfo->tCoord.tOrgPastPos[3].vusR[l]  = 0;
;;;248    		thisInfo->tCoord.tOrgPastPos[3].vusS[l]  = 0;
;;;249    		
;;;250    		thisInfo->tCoord.tOrgPastPos[4].tXY[l].x = 0;
;;;251    		thisInfo->tCoord.tOrgPastPos[4].tXY[l].y = 0;
;;;252    		thisInfo->tCoord.tOrgPastPos[4].vusR[l]  = 0;
;;;253    		thisInfo->tCoord.tOrgPastPos[4].vusS[l]  = 0;
;;;254    		
;;;255    		thisInfo->tCoord.ucIdMappedCnt[l] = 0;
;;;256    		thisInfo->tCoord.cScreenDebCnt[l] = 0;
;;;257    		
;;;258    		thisInfo->tCoord.cIsbefor[l] = 0;
;;;259    	}
;;;260    
;;;261        thisInfo->tCoord.iXOffset = ( UNIT_DIST * (2*thisCommonConf->iXEdgeNum - thisCommonConf->iXEdgeDen) ) / (2*thisCommonConf->iXEdgeDen);
;;;262        thisInfo->tCoord.iYOffset = ( UNIT_DIST * (2*thisCommonConf->iYEdgeNum - thisCommonConf->iYEdgeDen) ) / (2*thisCommonConf->iYEdgeDen);
;;;263    
;;;264        thisInfo->tCoord.iXExpandStart = 1*UNIT_DIST;// + thisModeConf->EdgeExpand.sXExpandStartOffset;
;;;265        thisInfo->tCoord.iYExpandStart = 1*UNIT_DIST;// + thisModeConf->EdgeExpand.sYExpandStartOffset;
;;;266    
;;;267        thisInfo->tCoord.iXEdgeStart = 1*UNIT_DIST;
;;;268    	thisInfo->tCoord.iYEdgeStart = 1*UNIT_DIST;
;;;269    
;;;270        if( thisModeConf->Coord.bSwapXY )
;;;271    	{
;;;272        	thisInfo->tCoord.iInternalXRes = (ROW_MAX - 1) << POS_BOOST_SHIFT_;
;;;273        	thisInfo->tCoord.iInternalYRes = (COL_MAX - 1) << POS_BOOST_SHIFT_;
;;;274    	}
;;;275    	else
;;;276    	{
;;;277    		thisInfo->tCoord.iInternalXRes = (COL_MAX - 1) << POS_BOOST_SHIFT_;
;;;278    		thisInfo->tCoord.iInternalYRes = (ROW_MAX - 1) << POS_BOOST_SHIFT_;
;;;279    	}
;;;280    
;;;281    	thisInfo->tCoord.slScaledMoveDistThd = (thisModeConf->CoordTracking.usMoveDistanceThd << POS_BOOST_SHIFT_);
;;;282    
;;;283    }
000020  f04f0c09          MOV      r12,#9
000024  f88306aa          STRB     r0,[r3,#0x6aa]        ;200
000028  f8830a20          STRB     r0,[r3,#0xa20]        ;201
                  |L16.44|
00002c  eb0301cc          ADD      r1,r3,r12,LSL #3      ;205
000030  eb03024c          ADD      r2,r3,r12,LSL #1      ;207
000034  f8c106ab          STR      r0,[r1,#0x6ab]        ;205
000038  f8c106af          STR      r0,[r1,#0x6af]        ;206
00003c  f8a2070f          STRH     r0,[r2,#0x70f]        ;207
000040  f8a206fb          STRH     r0,[r2,#0x6fb]        ;208
000044  f8c10724          STR      r0,[r1,#0x724]        ;211
000048  f8c10728          STR      r0,[r1,#0x728]        ;212
00004c  f8a20788          STRH     r0,[r2,#0x788]        ;212
000050  f8a20774          STRH     r0,[r2,#0x774]        ;213
000054  f8c1079d          STR      r0,[r1,#0x79d]        ;215
000058  f8c107a1          STR      r0,[r1,#0x7a1]        ;216
00005c  f8a20801          STRH     r0,[r2,#0x801]        ;217
000060  f8a207ed          STRH     r0,[r2,#0x7ed]        ;218
000064  f8c10816          STR      r0,[r1,#0x816]        ;220
000068  f8c1081a          STR      r0,[r1,#0x81a]        ;221
00006c  f8a2087a          STRH     r0,[r2,#0x87a]        ;222
000070  f8a20866          STRH     r0,[r2,#0x866]        ;223
000074  f8c1088f          STR      r0,[r1,#0x88f]        ;225
000078  f8c10893          STR      r0,[r1,#0x893]        ;226
00007c  f8a208f3          STRH     r0,[r2,#0x8f3]        ;227
000080  f8a208df          STRH     r0,[r2,#0x8df]        ;228
000084  f8c10a21          STR      r0,[r1,#0xa21]        ;230
000088  f8c10a25          STR      r0,[r1,#0xa25]        ;231
00008c  f8a20a85          STRH     r0,[r2,#0xa85]        ;232
000090  f8a20a71          STRH     r0,[r2,#0xa71]        ;233
000094  f8c10a9a          STR      r0,[r1,#0xa9a]        ;235
000098  f8c10a9e          STR      r0,[r1,#0xa9e]        ;236
00009c  f8a20afe          STRH     r0,[r2,#0xafe]        ;237
0000a0  f8a20aea          STRH     r0,[r2,#0xaea]        ;238
0000a4  f8c10b13          STR      r0,[r1,#0xb13]        ;240
0000a8  f8c10b17          STR      r0,[r1,#0xb17]        ;241
0000ac  f8a20b77          STRH     r0,[r2,#0xb77]        ;242
0000b0  f8a20b63          STRH     r0,[r2,#0xb63]        ;243
0000b4  f8c10b8c          STR      r0,[r1,#0xb8c]        ;246
0000b8  f8c10b90          STR      r0,[r1,#0xb90]        ;247
0000bc  f8a20bf0          STRH     r0,[r2,#0xbf0]        ;247
0000c0  f8a20bdc          STRH     r0,[r2,#0xbdc]        ;248
0000c4  f8c10c05          STR      r0,[r1,#0xc05]        ;250
0000c8  f8c10c09          STR      r0,[r1,#0xc09]        ;251
0000cc  eb03010c          ADD      r1,r3,r12             ;255
0000d0  f8a20c69          STRH     r0,[r2,#0xc69]        ;252
0000d4  f5015180          ADD      r1,r1,#0x1000         ;255
0000d8  f8a20c55          STRH     r0,[r2,#0xc55]        ;253
0000dc  74c8              STRB     r0,[r1,#0x13]         ;255
0000de  7748              STRB     r0,[r1,#0x1d]         ;256
0000e0  f88100bb          STRB     r0,[r1,#0xbb]         ;258
0000e4  f1bc0c01          SUBS     r12,r12,#1            ;258
0000e8  d2a0              BCS      |L16.44|
0000ea  6861              LDR      r1,[r4,#4]            ;261  ; thisCommonConf
0000ec  68c8              LDR      r0,[r1,#0xc]          ;261
0000ee  688a              LDR      r2,[r1,#8]            ;261
0000f0  ebc00242          RSB      r2,r0,r2,LSL #1       ;261
0000f4  0212              LSLS     r2,r2,#8              ;261
0000f6  0040              LSLS     r0,r0,#1              ;261
0000f8  fb92f2f0          SDIV     r2,r2,r0              ;261
0000fc  f5035080          ADD      r0,r3,#0x1000         ;261
000100  f44f43a6          MOV      r3,#0x5300            ;273
000104  f8c0207d          STR      r2,[r0,#0x7d]         ;261
000108  694a              LDR      r2,[r1,#0x14]         ;262
00010a  6909              LDR      r1,[r1,#0x10]         ;262
00010c  ebc20141          RSB      r1,r2,r1,LSL #1       ;262
000110  0209              LSLS     r1,r1,#8              ;262
000112  0052              LSLS     r2,r2,#1              ;262
000114  fb91f1f2          SDIV     r1,r1,r2              ;262
000118  f8c01081          STR      r1,[r0,#0x81]         ;262
00011c  f44f7180          MOV      r1,#0x100             ;264
000120  f8c0108d          STR      r1,[r0,#0x8d]         ;264
000124  f8c01091          STR      r1,[r0,#0x91]         ;265
000128  f8c01095          STR      r1,[r0,#0x95]         ;267
00012c  f8c01099          STR      r1,[r0,#0x99]         ;268
000130  68a1              LDR      r1,[r4,#8]            ;270  ; thisModeConf
000132  f44f523c          MOV      r2,#0x2f00            ;272
000136  f891c0aa          LDRB     r12,[r1,#0xaa]        ;270
00013a  f1bc0f00          CMP      r12,#0                ;270
00013e  bf19              ITTEE    NE                    ;272
000140  f8c02085          STRNE    r2,[r0,#0x85]         ;272
000144  f8c03089          STRNE    r3,[r0,#0x89]         ;273
000148  f8c03085          STREQ    r3,[r0,#0x85]         ;277
00014c  f8c02089          STREQ    r2,[r0,#0x89]         ;278
000150  f8b110ae          LDRH     r1,[r1,#0xae]         ;281
000154  0209              LSLS     r1,r1,#8              ;281
000156  f8c0100f          STR      r1,[r0,#0xf]          ;281
00015a  bd10              POP      {r4,pc}
;;;284    
                          ENDP

                  |L16.348|
                          DCD      ||.data||

                          AREA ||i.algorithm_coord_init_param||, CODE, READONLY, ALIGN=2

                  algorithm_coord_init_param PROC
;;;284    
;;;285    void algorithm_coord_init_param(void)
000000  b510              PUSH     {r4,lr}
;;;286    {
;;;287    	thisModeConf   = algorithm_GetModeConfig();
000002  f7fffffe          BL       algorithm_GetModeConfig
000006  4901              LDR      r1,|L17.12|
000008  6088              STR      r0,[r1,#8]  ; thisModeConf
;;;288    //	thisInfo->tCoord.slScaledMoveDistThd = (thisModeConf->CoordTracking.usMoveDistanceThd << POS_BOOST_SHIFT_);
;;;289    }
00000a  bd10              POP      {r4,pc}
;;;290    
                          ENDP

                  |L17.12|
                          DCD      ||.data||

                          AREA ||i.algorithm_coord_initialise_pos_buffer||, CODE, READONLY, ALIGN=2

                  algorithm_coord_initialise_pos_buffer PROC
;;;290    
;;;291    void algorithm_coord_initialise_pos_buffer(void)
000000  4835              LDR      r0,|L18.216|
;;;292    {
000002  b430              PUSH     {r4,r5}
;;;293    	int l;
;;;294    	tCoordInfo_t *temp_coord;
;;;295    	
;;;296    //	memset((void *)&(thisInfo->tCoord.tOrgPosHist[0]), 0x00, sizeof(tPastPos_t) );
;;;297    
;;;298    	temp_coord = &thisInfo->tCoord;		
000004  68c2              LDR      r2,[r0,#0xc]  ; thisInfo
;;;299    	thisInfo->tDelta.iMaxStrength = 0;
000006  2000              MOVS     r0,#0
000008  f2023169          ADD      r1,r2,#0x369          ;298
00000c  f8c20015          STR      r0,[r2,#0x15]
;;;300    
;;;301    	temp_coord->tTempPos.sFinger_ = 0;
000010  f8820369          STRB     r0,[r2,#0x369]
;;;302    	for( l=LOOSE_POSBUF_; l--; )
000014  2210              MOVS     r2,#0x10
000016  2301              MOVS     r3,#1
;;;303    	{
;;;304    		temp_coord->tTempPos.tXY[l].x = 0;
;;;305    		temp_coord->tTempPos.tXY[l].y = 0;
;;;306    		temp_coord->tTempPos.rect[l].cs = 0;
;;;307    		temp_coord->tTempPos.rect[l].ce = 0;
;;;308    		temp_coord->tTempPos.rect[l].rs = 0;
;;;309    		temp_coord->tTempPos.rect[l].re = 0;
;;;310    		temp_coord->tTempPos.vusR[l] = 0;
;;;311    		temp_coord->tTempPos.vusS[l] = 0;
;;;312    		temp_coord->tTempPos.MaxDelta[l] = (uint16_t)INT16_MIN; // NOTE : warning ʱⰪ - ؾ ϴ  ֳ????
;;;313    
;;;314    		temp_coord->cRemap[l] = -1;
000018  1e45              SUBS     r5,r0,#1
00001a  02d4              LSLS     r4,r2,#11             ;312
                  |L18.28|
00001c  1e52              SUBS     r2,r2,#1              ;312
00001e  eb010cc2          ADD      r12,r1,r2,LSL #3      ;304
000022  1c5b              ADDS     r3,r3,#1
000024  f8cc0001          STR      r0,[r12,#1]           ;304
000028  f8cc0005          STR      r0,[r12,#5]           ;305
00002c  eb010c82          ADD      r12,r1,r2,LSL #2      ;306
000030  2b10              CMP      r3,#0x10
000032  f88c00c3          STRB     r0,[r12,#0xc3]        ;306
000036  f88c00c4          STRB     r0,[r12,#0xc4]        ;307
00003a  f88c00c1          STRB     r0,[r12,#0xc1]        ;308
00003e  f88c00c2          STRB     r0,[r12,#0xc2]        ;309
000042  eb010c42          ADD      r12,r1,r2,LSL #1      ;310
000046  f8ac00a1          STRH     r0,[r12,#0xa1]        ;310
00004a  f8ac0081          STRH     r0,[r12,#0x81]        ;311
00004e  f8ac4101          STRH     r4,[r12,#0x101]       ;312
000052  eb010c02          ADD      r12,r1,r2
000056  f88c5cd2          STRB     r5,[r12,#0xcd2]
00005a  dddf              BLE      |L18.28|
;;;315    	}
;;;316    
;;;317    	temp_coord->tPos.sFinger_ = 0;
00005c  f8810135          STRB     r0,[r1,#0x135]
;;;318    	temp_coord->tOrgPos.sFinger_ = 0;
000060  f881059e          STRB     r0,[r1,#0x59e]
;;;319    	for( l=POSBUF_; l--; )
;;;320    	{
;;;321    		if(temp_coord->tPos.vusR[l] == 0)
;;;322    		{
;;;323    			temp_coord->ucEdgeExpandCoef[l] = 0;
;;;324    #if (REMOVE_EDGE_EN == YES)
;;;325    			temp_coord->bRemoveEdge[l] = 0;
;;;326    #endif
;;;327    		}
;;;328    		
;;;329    		temp_coord->tPos.tXY[l].x = 0;
;;;330    		temp_coord->tPos.tXY[l].y = 0;
;;;331    		temp_coord->tPos.rect[l].cs = 0;
;;;332    		temp_coord->tPos.rect[l].ce = 0;
;;;333    		temp_coord->tPos.rect[l].rs = 0;
;;;334    		temp_coord->tPos.rect[l].re = 0;
;;;335    		temp_coord->tPos.vusR[l] = 0;
;;;336    		temp_coord->tPos.vusS[l] = 0;
;;;337    		temp_coord->tPos.MaxDelta[l] = (uint16_t)INT16_MIN; // NOTE : warning ʱⰪ - ؾ ϴ  ֳ????
;;;338    
;;;339    		temp_coord->tOrgPos.tXY[l].x = 0;
;;;340    		temp_coord->tOrgPos.tXY[l].y = 0;
;;;341    		temp_coord->tOrgPos.rect[l].cs = 0;
;;;342    		temp_coord->tOrgPos.rect[l].ce = 0;
;;;343    		temp_coord->tOrgPos.rect[l].rs = 0;
;;;344    		temp_coord->tOrgPos.rect[l].re = 0;
;;;345    		temp_coord->tOrgPos.vusR[l] = 0;
;;;346    		temp_coord->tOrgPos.vusS[l] = 0;
;;;347    
;;;348    		temp_coord->ucPostProcessRun[l] = 0;
;;;349    	}
;;;350    }
000064  f05f0209          MOVS.W   r2,#9
                  |L18.104|
000068  eb010c42          ADD      r12,r1,r2,LSL #1      ;321
00006c  f8bc319a          LDRH     r3,[r12,#0x19a]       ;321
000070  b923              CBNZ     r3,|L18.124|
000072  188b              ADDS     r3,r1,r2              ;323
000074  f8830e06          STRB     r0,[r3,#0xe06]        ;323
000078  f8830e16          STRB     r0,[r3,#0xe16]        ;325
                  |L18.124|
00007c  eb0105c2          ADD      r5,r1,r2,LSL #3       ;329
000080  eb010382          ADD      r3,r1,r2,LSL #2       ;331
000084  f8c50136          STR      r0,[r5,#0x136]        ;329
000088  f8c5013a          STR      r0,[r5,#0x13a]        ;330
00008c  f88301b0          STRB     r0,[r3,#0x1b0]        ;331
000090  f88301b1          STRB     r0,[r3,#0x1b1]        ;332
000094  f88301ae          STRB     r0,[r3,#0x1ae]        ;333
000098  f88301af          STRB     r0,[r3,#0x1af]        ;334
00009c  f8ac019a          STRH     r0,[r12,#0x19a]       ;335
0000a0  f8ac0186          STRH     r0,[r12,#0x186]       ;336
0000a4  f8ac41d6          STRH     r4,[r12,#0x1d6]       ;337
0000a8  f8c5059f          STR      r0,[r5,#0x59f]        ;339
0000ac  f8c505a3          STR      r0,[r5,#0x5a3]        ;340
0000b0  f8830619          STRB     r0,[r3,#0x619]        ;341
0000b4  f883061a          STRB     r0,[r3,#0x61a]        ;342
0000b8  f8830617          STRB     r0,[r3,#0x617]        ;343
0000bc  f8830618          STRB     r0,[r3,#0x618]        ;344
0000c0  f8ac0603          STRH     r0,[r12,#0x603]       ;345
0000c4  188b              ADDS     r3,r1,r2              ;348
0000c6  f8ac05ef          STRH     r0,[r12,#0x5ef]       ;346
0000ca  f8830cc8          STRB     r0,[r3,#0xcc8]        ;348
0000ce  1e52              SUBS     r2,r2,#1              ;348
0000d0  d2ca              BCS      |L18.104|
0000d2  bc30              POP      {r4,r5}
0000d4  4770              BX       lr
;;;351    
                          ENDP

0000d6  0000              DCW      0x0000
                  |L18.216|
                          DCD      ||.data||

                          AREA ||i.algorithm_coord_process||, CODE, READONLY, ALIGN=1

                  algorithm_coord_process PROC
;;;4536   
;;;4537   void algorithm_coord_process(int mode)
000000  b510              PUSH     {r4,lr}
;;;4538   {
000002  4604              MOV      r4,r0
;;;4539   	//Edge_Expand_Finger LYB_190109
;;;4540   	algorithm_label_EdgeExpand_Finger(mode);
000004  f7fffffe          BL       algorithm_label_EdgeExpand_Finger
;;;4541   
;;;4542   #if BIG_FINGER_EDGE_EXPAND_ALGO_EN
;;;4543   	algorithm_coord_EdgeExpand_BigFinger(); 
000008  f7fffffe          BL       algorithm_coord_EdgeExpand_BigFinger
;;;4544   #endif
;;;4545   	////////////////////////////////////////////////////////////////////////////////////////////////////////////////
;;;4546   	// Algorithm Coord. Calculation
;;;4547   	////////////////////////////////////////////////////////////////////////////////////////////////////////////////
;;;4548   	algorithm_coord_calc_pos(mode);
00000c  4620              MOV      r0,r4
00000e  f7fffffe          BL       algorithm_coord_calc_pos
;;;4549   
;;;4550   #if WinCertAssistance_En	
;;;4551   	if(thisModeConf->Coord.ucWinCertAssistance == 1)
;;;4552   		algorithm_coord_drawing_assistance(mode);
;;;4553   #endif
;;;4554   	////////////////////////////////////////////////////////////////////////////////////////////////////////////////
;;;4555   	// Algorithm Coord. Tracking
;;;4556   	////////////////////////////////////////////////////////////////////////////////////////////////////////////////
;;;4557       algorithm_coord_tracking_pos(mode);
000012  4620              MOV      r0,r4
000014  f7fffffe          BL       algorithm_coord_tracking_pos
;;;4558   		
;;;4559   //#ifndef COVER_GLASS_USE
;;;4560   //	algorithm_coord_compensation(mode);
;;;4561   //#endif
;;;4562   	
;;;4563       algorithm_coord_smoothing_pos(mode);
000018  4620              MOV      r0,r4
00001a  f7fffffe          BL       algorithm_coord_smoothing_pos
;;;4564   	
;;;4565   //	if(thisModeConf->CoordEdge.usOutInDrawEdgeTh)
;;;4566   		algorithm_coord_OutInDrawing();
00001e  f7fffffe          BL       algorithm_coord_OutInDrawing
;;;4567   	
;;;4568   //	algorithm_coord_latency_cal_test();
;;;4569   	////////////////////////////////////////////////////////////////////////////////////////////////////////////////
;;;4570   	// Algorithm Coord. Post-Procssing
;;;4571   	////////////////////////////////////////////////////////////////////////////////////////////////////////////////
;;;4572   //	if(thisModeConf->CoordEdge.cPostProcessEndMargin == 0)
;;;4573   		algorithm_coord_PostProcess(mode);
000022  4620              MOV      r0,r4
000024  e8bd4010          POP      {r4,lr}
000028  f7ffbffe          B.W      algorithm_coord_PostProcess
;;;4574   //	else
;;;4575   		//algorithm_coord_PostProcess_1();
;;;4576   }
                          ENDP


                          AREA ||i.algorithm_coord_smoothing_pos||, CODE, READONLY, ALIGN=2

                  algorithm_coord_smoothing_pos PROC
;;;2018   
;;;2019   void algorithm_coord_smoothing_pos(int mode)
000000  e92d4ff0          PUSH     {r4-r11,lr}
;;;2020   {
;;;2021   	int i;
;;;2022   	int prev_curr_dist;
;;;2023   //	tXY_t curr_pos;  // NOTE : not used
;;;2024   //	tXY_t prev_pos;
;;;2025   //	tXY_t avg_pos, pred_pos;
;;;2026   
;;;2027   	tCoordInfo_t 	*temp_coord;
;;;2028   
;;;2029   	temp_coord = &thisInfo->tCoord;
000004  4efe              LDR      r6,|L20.1024|
000006  b0a3              SUB      sp,sp,#0x8c           ;2020
;;;2030   
;;;2031   	for( i=MAX_TOUCH_; i--; )
;;;2032   	{
;;;2033   		if( temp_coord->tPos.vusR[i] > 0 )
;;;2034   		{
;;;2035   			tXY_t coord_array[7];
;;;2036   
;;;2037   			if(thisModeConf->Coord.bFingerMeanSmoothing)
;;;2038   			{
;;;2039   #if (SMOOTH_PASTORG_INTER_EN == YES)
;;;2040   				if(thisModeConf->Coord.ucSmoothPastOrgInter > 0 && thisModeConf->Coord.ucSmoothPastOrgInter <= 4 && temp_coord->tOrgPastPos[0].vusS[i]>0 && temp_coord->tOrgPastPos[1].vusS[i]>0 && temp_coord->tOrgPastPos[2].vusS[i]>0 && temp_coord->cScreenDebCnt[i] >= 5)
;;;2041   				{
;;;2042   					coord_array[0] = temp_coord->tOrgPos.tXY[i];
;;;2043   					coord_array[1] = temp_coord->tPastPos[0].tXY[i];
;;;2044   					coord_array[2] = temp_coord->tPastPos[1].tXY[i];
;;;2045   					coord_array[3] = temp_coord->tPastPos[2].tXY[i];
;;;2046   					coord_array[4] = temp_coord->tOrgPastPos[0].tXY[i];	
;;;2047   					coord_array[5] = temp_coord->tOrgPastPos[1].tXY[i];	
;;;2048   					coord_array[6] = temp_coord->tOrgPastPos[2].tXY[i];	
;;;2049   				
;;;2050   					temp_coord->tPos.tXY[i] = meanInterpolate(coord_array, 0,thisModeConf->Coord.ucSmoothPastOrgInter+3);
;;;2051   				}
;;;2052   				else
;;;2053   #endif
;;;2054   				{
;;;2055   					if( temp_coord->tPastPos[2].vusS[i] > 0 && temp_coord->tPastPos[1].vusS[i] > 0 && temp_coord->tPastPos[0].vusS[i] > 0 && temp_coord->tPos.vusS[i] > 0 )
;;;2056   					{					
;;;2057   						coord_array[0].x = (temp_coord->tOrgPastPos[2].tXY[i].x + temp_coord->tOrgPastPos[1].tXY[i].x) / 2;
;;;2058   						coord_array[1].x = (temp_coord->tOrgPastPos[2].tXY[i].x + temp_coord->tOrgPastPos[1].tXY[i].x + temp_coord->tOrgPastPos[0].tXY[i].x) / 3;
;;;2059   						coord_array[2].x = (temp_coord->tOrgPastPos[2].tXY[i].x + temp_coord->tOrgPastPos[1].tXY[i].x + temp_coord->tOrgPastPos[0].tXY[i].x + temp_coord->tOrgPos.tXY[i].x) / 4;
;;;2060   						coord_array[3].x = (temp_coord->tOrgPastPos[1].tXY[i].x + temp_coord->tOrgPastPos[0].tXY[i].x + temp_coord->tOrgPos.tXY[i].x) / 3;
;;;2061   						coord_array[4].x = (temp_coord->tOrgPastPos[0].tXY[i].x + temp_coord->tOrgPos.tXY[i].x) / 2;
;;;2062   
;;;2063   						coord_array[0].y = (temp_coord->tOrgPastPos[2].tXY[i].y + temp_coord->tOrgPastPos[1].tXY[i].y) / 2;
;;;2064   						coord_array[1].y = (temp_coord->tOrgPastPos[2].tXY[i].y + temp_coord->tOrgPastPos[1].tXY[i].y + temp_coord->tOrgPastPos[0].tXY[i].y) / 3;
;;;2065   						coord_array[2].y = (temp_coord->tOrgPastPos[2].tXY[i].y + temp_coord->tOrgPastPos[1].tXY[i].y + temp_coord->tOrgPastPos[0].tXY[i].y + temp_coord->tOrgPos.tXY[i].y) / 4;
;;;2066   						coord_array[3].y = (temp_coord->tOrgPastPos[1].tXY[i].y + temp_coord->tOrgPastPos[0].tXY[i].y + temp_coord->tOrgPos.tXY[i].y) / 3;
;;;2067   						coord_array[4].y = (temp_coord->tOrgPastPos[0].tXY[i].y + temp_coord->tOrgPos.tXY[i].y) / 2 ;
;;;2068   
;;;2069   						temp_coord->tPos.tXY[i] = meanInterpolate(coord_array, 0,5);	
;;;2070   					}
;;;2071   					else if(temp_coord->tPastPos[1].vusS[i] > 0 && temp_coord->tPastPos[0].vusS[i] > 0 && temp_coord->tPos.vusS[i] > 0)
;;;2072   					{
;;;2073   						temp_coord->tPos.tXY[i].x = (temp_coord->tOrgPastPos[1].tXY[i].x + temp_coord->tOrgPastPos[0].tXY[i].x + temp_coord->tOrgPos.tXY[i].x)/3;
;;;2074   						temp_coord->tPos.tXY[i].y = (temp_coord->tOrgPastPos[1].tXY[i].y + temp_coord->tOrgPastPos[0].tXY[i].y + temp_coord->tOrgPos.tXY[i].y)/3;
;;;2075   					}
;;;2076   					else if(temp_coord->tPastPos[0].vusS[i] > 0 && temp_coord->tPos.vusS[i] > 0)
;;;2077   					{
;;;2078   						temp_coord->tPos.tXY[i].x = (temp_coord->tOrgPastPos[0].tXY[i].x + temp_coord->tOrgPos.tXY[i].x)/2;
;;;2079   						temp_coord->tPos.tXY[i].y = (temp_coord->tOrgPastPos[0].tXY[i].y + temp_coord->tOrgPos.tXY[i].y)/2;
;;;2080   					}
;;;2081   				}
;;;2082   			}
;;;2083   
;;;2084   			if( temp_coord->tPastPos[0].vusS[i] > 0 )
;;;2085   			{
;;;2086   				if(thisModeConf->Coord.cDisSmoothOffset != 0)
;;;2087   				{
;;;2088   					prev_curr_dist = algorithm_coord_calc_distance(temp_coord->tPastPos[0].tXY[i], temp_coord->tPos.tXY[i]);
;;;2089   
;;;2090   					prev_curr_dist += thisModeConf->Coord.cDisSmoothOffset;
;;;2091   					
;;;2092   					if(thisInfo->WinCertMode)
;;;2093   						prev_curr_dist >>= 3;
;;;2094   					
;;;2095   					if(prev_curr_dist < 10)
;;;2096   						prev_curr_dist = 10;
;;;2097   					
;;;2098   					if(prev_curr_dist > _BV(thisModeConf->Coord.lMoveSmoothingLevel))
;;;2099   						prev_curr_dist = _BV(thisModeConf->Coord.lMoveSmoothingLevel);
;;;2100   					
;;;2101   #if (VECTOR_PREDICTION_EN == YES)
;;;2102   					if(thisModeConf->Coord.ucVectorPredictionCoef > 0)
;;;2103   					{
;;;2104   						uint16_t dist = 0;
;;;2105   						tXY_t ProjectionVector, PrevVector, CurrVector, PredPos;
;;;2106   //						int InnerProduct,PrevScalar,CurrScalar,CosSeta;
;;;2107   //						tXY_t OriginPoint,VectorA,VectorB;
;;;2108   						tXY_t tPastPos = {0, 0};
;;;2109   #if (INTERPOLATION_VER1_En == YES || INTERPOLATION_VER2_En == YES || INTERPOLATION_VER3_En == YES)
;;;2110   						if(temp_coord->bInterpolation_On)
;;;2111   						{
;;;2112   							tPastPos.x = temp_coord->tPastPos[4].tXY[i].x;
;;;2113   							tPastPos.y = temp_coord->tPastPos[4].tXY[i].y;
;;;2114   						}
;;;2115   						else
;;;2116   #endif
;;;2117   						{
;;;2118   							tPastPos.x = temp_coord->tPastPos[2].tXY[i].x;
;;;2119   							tPastPos.y = temp_coord->tPastPos[2].tXY[i].y;
;;;2120   						}
;;;2121   
;;;2122   						ProjectionVector.x = 0, ProjectionVector.y = 0;
;;;2123   						PredPos = temp_coord->tPastPos[0].tXY[i];
;;;2124   						
;;;2125   						//Prediction based on projection
;;;2126   						if(
;;;2127   #if (INTERPOLATION_VER1_En == YES || INTERPOLATION_VER2_En == YES || INTERPOLATION_VER3_En == YES)
;;;2128   							(temp_coord->bInterpolation_On && temp_coord->tPastPos[4].vusR[i] > 0) || (!temp_coord->bInterpolation_On && temp_coord->tPastPos[2].vusR[i] > 0)
;;;2129   #else
;;;2130   							(temp_coord->tPastPos[2].vusR[i] > 0)
;;;2131   #endif
;;;2132   						)
;;;2133   						{
;;;2134   							if(ProjectionEnable[i] == NO && algorithm_coord_calc_distance(temp_coord->tPos.tXY[i],tPastPos) > thisModeConf->Coord.usDistThdStationaryToMoving)
;;;2135   								ProjectionEnable[i] = YES;
;;;2136   							else if(ProjectionEnable[i] == YES && algorithm_coord_calc_distance(temp_coord->tPos.tXY[i],tPastPos) < thisModeConf->Coord.usDistThdMovingToStationary)
;;;2137   								ProjectionEnable[i] = NO;
;;;2138   						}
;;;2139   //						if(temp_coord->tPastPos[4].vusR[i] > 0 && algorithm_coord_calc_distance(temp_coord->tPos.tXY[i],temp_coord->tPastPos[4].tXY[i]) > thisModeConf->Coord.usDistThdStationaryToMoving)
;;;2140   //							ProjectionEnable[i] = YES;
;;;2141   //						else
;;;2142   //							ProjectionEnable[i] = NO;
;;;2143   //						if( temp_coord->tPastPos[4].vusS[i] > 0 && temp_coord->DrawingFlag[i] )	//&& prev_curr_dist < (2<<POS_BOOST_SHIFT_))
;;;2144   						if(ProjectionEnable[i] == YES)
;;;2145   						{
;;;2146   							//Heon
;;;2147   							#if RANSAC_ALGO_EN
;;;2148   							PrevVector.x = Ransac[i].resultXY2.x - Ransac[i].resultXY1.x;
;;;2149   							PrevVector.y = Ransac[i].resultXY2.y - Ransac[i].resultXY1.y;
;;;2150   							CurrVector.x = temp_coord->tPos.tXY[i].x - Ransac[i].resultXY1.x;
;;;2151   							CurrVector.y = temp_coord->tPos.tXY[i].y - Ransac[i].resultXY1.y;
;;;2152   							
;;;2153   							ProjectionVector.x = (int)(PrevVector.x * (int64_t)(PrevVector.x*CurrVector.x + PrevVector.y*CurrVector.y) / (PrevVector.x*PrevVector.x+PrevVector.y*PrevVector.y));
;;;2154   							ProjectionVector.y = (int)(PrevVector.y * (int64_t)(PrevVector.x*CurrVector.x + PrevVector.y*CurrVector.y) / (PrevVector.x*PrevVector.x+PrevVector.y*PrevVector.y));
;;;2155   
;;;2156   							PredPos.x = Ransac[i].resultXY1.x + ProjectionVector.x;
;;;2157   							PredPos.y = Ransac[i].resultXY1.y + ProjectionVector.y;
;;;2158   							//Heon
;;;2159   							
;;;2160   							#else
;;;2161   //							tXY_t AccelPred;
;;;2162   //							PrevVector.x = (temp_coord->tPastPos[0].tXY[i].x - temp_coord->tPastPos[2].tXY[i].x)*3;
;;;2163   //							PrevVector.y = (temp_coord->tPastPos[0].tXY[i].y - temp_coord->tPastPos[2].tXY[i].y)*3;
;;;2164   							
;;;2165   							PrevVector.x = temp_coord->tPastPos[0].tXY[i].x - tPastPos.x;
;;;2166   							PrevVector.y = temp_coord->tPastPos[0].tXY[i].y - tPastPos.y;
;;;2167   							CurrVector.x = temp_coord->tPos.tXY[i].x - tPastPos.x;
;;;2168   							CurrVector.y = temp_coord->tPos.tXY[i].y - tPastPos.y;
;;;2169   							
;;;2170   //							if(IIRProjectionVector[i].x != 0 || IIRProjectionVector[i].y != 0){
;;;2171   //								tXY_t ScaleVector;
;;;2172   //								ScaleVector.x = PrevVector.x * (abs(IIRProjectionVector[i].x)+abs(IIRProjectionVector[i].y)+1) / (abs(PrevVector.x)+abs(PrevVector.y)+1);
;;;2173   //								ScaleVector.y = PrevVector.y * (abs(IIRProjectionVector[i].x)+abs(IIRProjectionVector[i].y)+1) / (abs(PrevVector.x)+abs(PrevVector.y)+1);
;;;2174   //								
;;;2175   //								PrevVector.x = ((IIRProjectionVector[i].x*3 + ScaleVector.x)>>2);
;;;2176   //								PrevVector.y = ((IIRProjectionVector[i].y*3 + ScaleVector.y)>>2);
;;;2177   //							}
;;;2178   
;;;2179   							ProjectionVector.x = (int)(PrevVector.x * (int64_t)(PrevVector.x*CurrVector.x + PrevVector.y*CurrVector.y) / (PrevVector.x*PrevVector.x+PrevVector.y*PrevVector.y));
;;;2180   							ProjectionVector.y = (int)(PrevVector.y * (int64_t)(PrevVector.x*CurrVector.x + PrevVector.y*CurrVector.y) / (PrevVector.x*PrevVector.x+PrevVector.y*PrevVector.y));
;;;2181   						
;;;2182   							PredPos.x = tPastPos.x + ProjectionVector.x;
;;;2183   							PredPos.y = tPastPos.y + ProjectionVector.y;
;;;2184   							#endif
;;;2185   							
;;;2186   							//////calculate inner product
;;;2187   //							OriginPoint.x = OriginPoint.y = 0;
;;;2188   //							VectorA.x = PredPos.x - temp_coord->tPastPos[0].tXY[i].x;
;;;2189   //							VectorA.y = PredPos.y - temp_coord->tPastPos[0].tXY[i].y;
;;;2190   //							VectorB.x = temp_coord->tPos.tXY[i].x - temp_coord->tPastPos[0].tXY[i].x;
;;;2191   //							VectorB.y = temp_coord->tPos.tXY[i].y - temp_coord->tPastPos[0].tXY[i].y;
;;;2192   //							
;;;2193   //							InnerProduct = ((VectorA.x * VectorB.x + VectorA.y * VectorB.y)<<7);
;;;2194   //							CosSeta = InnerProduct / (algorithm_coord_calc_distance(OriginPoint,VectorA) * algorithm_coord_calc_distance(OriginPoint,VectorB));
;;;2195   
;;;2196   							dist = algorithm_coord_calc_distance(temp_coord->tPos.tXY[i],PredPos);
;;;2197   
;;;2198   							if(dist < 10)	dist = 0;
;;;2199   							else if(dist > thisModeConf->Coord.ucVectorPredictionCoef)	dist = thisModeConf->Coord.ucVectorPredictionCoef;
;;;2200   							
;;;2201   							temp_coord->tPos.tXY[i].x = ((thisModeConf->Coord.ucVectorPredictionCoef - dist) * PredPos.x + dist * temp_coord->tPos.tXY[i].x + (thisModeConf->Coord.ucVectorPredictionCoef>>1)) / thisModeConf->Coord.ucVectorPredictionCoef;
;;;2202   							temp_coord->tPos.tXY[i].y = ((thisModeConf->Coord.ucVectorPredictionCoef - dist) * PredPos.y + dist * temp_coord->tPos.tXY[i].y + (thisModeConf->Coord.ucVectorPredictionCoef>>1)) / thisModeConf->Coord.ucVectorPredictionCoef;			
;;;2203   //							temp_coord->tPos.tXY[i].x = ((PredPos.x + temp_coord->tPos.tXY[i].x + 1)>>1);
;;;2204   //							temp_coord->tPos.tXY[i].y = ((PredPos.y + temp_coord->tPos.tXY[i].y + 1)>>1);
;;;2205   							
;;;2206   							
;;;2207   							
;;;2208   							if(temp_coord->DrawingFlag[i] && algorithm_coord_IsEdgeArea(&temp_coord->tPos.tXY[i], 0)){
;;;2209   								temp_coord->tPos.tXY[i].x = ((PredPos.x + temp_coord->tPos.tXY[i].x + 1)>>1);
;;;2210   								temp_coord->tPos.tXY[i].y = ((PredPos.y + temp_coord->tPos.tXY[i].y + 1)>>1);
;;;2211   							}
;;;2212   
;;;2213   							IIRProjectionVector[i] = ProjectionVector;
;;;2214   						}
;;;2215   						else{
;;;2216   							IIRProjectionVector[i].x = IIRProjectionVector[i].y = 0;
;;;2217   						}
;;;2218   //						else if(prev_curr_dist > (1<<POS_BOOST_SHIFT_)){
;;;2219   //							temp_coord->tPos.tXY[i].x = ((temp_coord->tPos.tXY[i].x + temp_coord->tOrgPos.tXY[i].x)>>1);
;;;2220   //							temp_coord->tPos.tXY[i].y = ((temp_coord->tPos.tXY[i].y + temp_coord->tOrgPos.tXY[i].y)>>1);
;;;2221   //						}
;;;2222   					}
;;;2223   #endif
;;;2224   
;;;2225   					temp_coord->tPos.tXY[i].x = ((_BV(thisModeConf->Coord.lMoveSmoothingLevel) - prev_curr_dist) * temp_coord->tPastPos[0].tXY[i].x + prev_curr_dist * temp_coord->tPos.tXY[i].x + _BV(thisModeConf->Coord.lMoveSmoothingLevel-1)) >> thisModeConf->Coord.lMoveSmoothingLevel;
;;;2226   					temp_coord->tPos.tXY[i].y = ((_BV(thisModeConf->Coord.lMoveSmoothingLevel) - prev_curr_dist) * temp_coord->tPastPos[0].tXY[i].y + prev_curr_dist * temp_coord->tPos.tXY[i].y + _BV(thisModeConf->Coord.lMoveSmoothingLevel-1)) >> thisModeConf->Coord.lMoveSmoothingLevel;
;;;2227   				
;;;2228   					if(thisModeConf->Coord.ucWinCertAssistance == 1 && temp_coord->tPos.sFinger_ <= 2)
;;;2229   					{
;;;2230   						int dist_th1 = 0;
;;;2231   						if(algorithm_coord_IsEdgeArea(&temp_coord->tPastPos[0].tXY[i],0)){
;;;2232   							dist_th1 = (1<<(POS_BOOST_SHIFT_));
;;;2233   						}
;;;2234   						else{
;;;2235   							dist_th1 = (1<<(POS_BOOST_SHIFT_-2));
;;;2236   						}
;;;2237   						
;;;2238   						if(prev_curr_dist > dist_th1){
;;;2239   							temp_coord->tPos.tXY[i].x = ((temp_coord->tPos.tXY[i].x + temp_coord->tOrgPos.tXY[i].x*3)>>2);
;;;2240   							temp_coord->tPos.tXY[i].y = ((temp_coord->tPos.tXY[i].y + temp_coord->tOrgPos.tXY[i].y*3)>>2);
;;;2241   						}
;;;2242   						
;;;2243   						if( temp_coord->tPastPos[2].vusS[i] > 0 && temp_coord->RealMaxDelta[i] > 0)
;;;2244   						{
;;;2245   							temp_coord->tPos.tXY[i].x = ((temp_coord->tPos.tXY[i].x*3 + ((temp_coord->tPastPos[0].tXY[i].x<<1) - temp_coord->tPastPos[2].tXY[i].x))>>2);
;;;2246   							temp_coord->tPos.tXY[i].y = ((temp_coord->tPos.tXY[i].y*3 + ((temp_coord->tPastPos[0].tXY[i].y<<1) - temp_coord->tPastPos[2].tXY[i].y))>>2);
;;;2247   						}
;;;2248   					}
;;;2249   				}
;;;2250   			}
;;;2251   			else{
;;;2252   				temp_coord->bIsMoving[i] = NO;
;;;2253   			}
;;;2254   			
;;;2255   			//Remove point touch jitter
;;;2256   			if(temp_coord->tPos.vusS[i] > 0)
;;;2257   			{
;;;2258   				if(thisModeConf->Coord.usFirstDrawingThd > 0 && temp_coord->tPos.vusR[i] > thisModeConf->Coord.ucFirstDrawingCellCnt)
;;;2259   				{
;;;2260   					if(temp_coord->DrawingFlag[i] == NO)
;;;2261   					{
;;;2262   						int dist_th = 0;
;;;2263   						
;;;2264   //						if(algorithm_coord_IsEdgeArea(&temp_coord->iStopPos[i])>0)
;;;2265   //							dist_th = (1<<POS_BOOST_SHIFT_);
;;;2266   //						else
;;;2267   							dist_th = thisModeConf->Coord.usFirstDrawingThd;
;;;2268   						
;;;2269   						if(algorithm_coord_IsEdgeArea(&temp_coord->iStopPos[i],0)>0)
;;;2270   							dist_th += AddDistTh;
;;;2271   						
;;;2272   						if( algorithm_coord_calc_distance(temp_coord->iStopPos[i],temp_coord->tPos.tXY[i]) < dist_th )
;;;2273   						{
;;;2274   							temp_coord->tPos.tXY[i] =temp_coord->iStopPos[i];
;;;2275   //							temp_coord->tPos.tXY[i].x = ((temp_coord->tFirstPos.tXY[i].x*7 + temp_coord->tPos.tXY[i].x)>>3);
;;;2276   //							temp_coord->tPos.tXY[i].y = ((temp_coord->tFirstPos.tXY[i].y*7 + temp_coord->tPos.tXY[i].y)>>3);
;;;2277   						}
;;;2278   						else{
;;;2279   							temp_coord->DrawingFlag[i] = YES;
;;;2280   							temp_coord->tPos.tXY[i].x = ((temp_coord->iStopPos[i].x + temp_coord->tPos.tXY[i].x)>>1);
;;;2281   							temp_coord->tPos.tXY[i].y = ((temp_coord->iStopPos[i].y + temp_coord->tPos.tXY[i].y)>>1);
;;;2282   						}
;;;2283   					}
;;;2284   				}
;;;2285   				else
;;;2286   				{
;;;2287   					temp_coord->DrawingFlag[i] = YES;
;;;2288   				}
;;;2289   			}
;;;2290   			
;;;2291   			// Finger Edge Smoothing
;;;2292   			if(thisModeConf->CoordEdge.cEdgeSmoothing_Finger_On > 0)
;;;2293   			{
;;;2294   				int MoveSmoothingLevel = thisModeConf->Coord.lMoveSmoothingLevel;
;;;2295   				if(temp_coord->tPos.tXY[i].x < (1<<(POS_BOOST_SHIFT_)) || temp_coord->tPos.tXY[i].y > thisInfo->tCoord.iInternalYRes-(1<<(POS_BOOST_SHIFT_))
;;;2296   					|| temp_coord->tPos.tXY[i].x > thisInfo->tCoord.iInternalXRes-(1<<(POS_BOOST_SHIFT_)) || temp_coord->tPos.tXY[i].y < (1<<(POS_BOOST_SHIFT_)))
;;;2297   				{
;;;2298   					prev_curr_dist = abs(temp_coord->tPastPos[0].tXY[i].x - temp_coord->tPos.tXY[i].x);
;;;2299   					prev_curr_dist += thisModeConf->CoordEdge.cEdgeSmoothing_Finger_On;					
;;;2300   					if(prev_curr_dist < 10) prev_curr_dist = 10;					
;;;2301   					if(prev_curr_dist > _BV(MoveSmoothingLevel)) prev_curr_dist = _BV(MoveSmoothingLevel);
;;;2302   
;;;2303   					temp_coord->tPos.tXY[i].x = ((_BV(MoveSmoothingLevel) - prev_curr_dist) * temp_coord->tPastPos[0].tXY[i].x + prev_curr_dist * temp_coord->tPos.tXY[i].x + _BV(MoveSmoothingLevel-1)) >> MoveSmoothingLevel;
;;;2304   					
;;;2305   					prev_curr_dist = abs(temp_coord->tPastPos[0].tXY[i].y - temp_coord->tPos.tXY[i].y);
;;;2306   					prev_curr_dist += thisModeConf->CoordEdge.cEdgeSmoothing_Finger_On;					
;;;2307   					if(prev_curr_dist < 10) prev_curr_dist = 10;					
;;;2308   					if(prev_curr_dist > _BV(MoveSmoothingLevel)) prev_curr_dist = _BV(MoveSmoothingLevel);
;;;2309   
;;;2310   
;;;2311   					temp_coord->tPos.tXY[i].y = ((_BV(MoveSmoothingLevel) - prev_curr_dist) * temp_coord->tPastPos[0].tXY[i].y + prev_curr_dist * temp_coord->tPos.tXY[i].y + _BV(MoveSmoothingLevel-1)) >> MoveSmoothingLevel;				
;;;2312   				}
;;;2313   			}				
;;;2314   		}
;;;2315   		else{
;;;2316   			if(thisModeConf->Coord.usFirstDrawingThd > 0 && temp_coord->tPastPos[0].vusR[i] > 0)
;;;2317   			{
;;;2318   				if(temp_coord->DrawingFlag[i]){
;;;2319   						AddDistTh-=10;
;;;2320   					if( AddDistTh < -32 )
;;;2321   						AddDistTh = -32;
;;;2322   				}
;;;2323   				else{
;;;2324   						AddDistTh+=10;
;;;2325   					if( AddDistTh > (1<<(POS_BOOST_SHIFT_-1)) )
;;;2326   						AddDistTh = (1<<(POS_BOOST_SHIFT_-1));
;;;2327   				}
;;;2328   				
;;;2329   			}
;;;2330   			
;;;2331   			temp_coord->bIsMoving[i] = NO;
;;;2332   			temp_coord->DrawingFlag[i] = NO;
;;;2333   		}
;;;2334   		
;;;2335   	}
;;;2336   }
000008  2509              MOVS     r5,#9
00000a  68f0              LDR      r0,[r6,#0xc]          ;2029  ; thisInfo
00000c  f04f0a00          MOV      r10,#0
000010  f2003869          ADD      r8,r0,#0x369          ;2029
                  |L20.20|
000014  eb080745          ADD      r7,r8,r5,LSL #1       ;2033
000018  f8b7019a          LDRH     r0,[r7,#0x19a]        ;2033
00001c  2800              CMP      r0,#0                 ;2033
00001e  f0008352          BEQ.W    |L20.1734|
000022  f8d69008          LDR      r9,[r6,#8]            ;2037  ; thisModeConf
000026  f89900a3          LDRB     r0,[r9,#0xa3]         ;2037
00002a  2800              CMP      r0,#0                 ;2037
00002c  f00080fe          BEQ.W    |L20.556|
000030  f8b70484          LDRH     r0,[r7,#0x484]        ;2055
000034  2800              CMP      r0,#0                 ;2055
000036  f8b7040b          LDRH     r0,[r7,#0x40b]        ;2071
00003a  d07d              BEQ      |L20.312|
00003c  2800              CMP      r0,#0                 ;2055
00003e  f00080d7          BEQ.W    |L20.496|
000042  f8b70392          LDRH     r0,[r7,#0x392]        ;2055
000046  2800              CMP      r0,#0                 ;2055
000048  f000828e          BEQ.W    |L20.1384|
00004c  f8b70186          LDRH     r0,[r7,#0x186]        ;2055
000050  2800              CMP      r0,#0                 ;2055
000052  f00080f2          BEQ.W    |L20.570|
000056  eb0800c5          ADD      r0,r8,r5,LSL #3       ;2057
00005a  9001              STR      r0,[sp,#4]            ;2057
00005c  f8d017aa          LDR      r1,[r0,#0x7aa]        ;2057
000060  f8d02731          LDR      r2,[r0,#0x731]        ;2057
000064  4411              ADD      r1,r1,r2              ;2057
000066  eb0171d1          ADD      r1,r1,r1,LSR #31      ;2057
00006a  1049              ASRS     r1,r1,#1              ;2057
00006c  9114              STR      r1,[sp,#0x50]         ;2058
00006e  f8d017aa          LDR      r1,[r0,#0x7aa]        ;2058
000072  f8d02731          LDR      r2,[r0,#0x731]        ;2058
000076  4411              ADD      r1,r1,r2              ;2058
000078  f8d026b8          LDR      r2,[r0,#0x6b8]        ;2058
00007c  4411              ADD      r1,r1,r2              ;2058
00007e  4ae1              LDR      r2,|L20.1028|
000080  fb823101          SMULL    r3,r1,r2,r1           ;2058
000084  eba171e1          SUB      r1,r1,r1,ASR #31      ;2058
000088  9116              STR      r1,[sp,#0x58]         ;2059
00008a  f8d017aa          LDR      r1,[r0,#0x7aa]        ;2059
00008e  f8d03731          LDR      r3,[r0,#0x731]        ;2059
000092  f8d0c59f          LDR      r12,[r0,#0x59f]       ;2059
000096  4419              ADD      r1,r1,r3              ;2059
000098  f8d036b8          LDR      r3,[r0,#0x6b8]        ;2059
00009c  4463              ADD      r3,r3,r12             ;2059
00009e  4419              ADD      r1,r1,r3              ;2059
0000a0  17cb              ASRS     r3,r1,#31             ;2059
0000a2  eb017193          ADD      r1,r1,r3,LSR #30      ;2059
0000a6  1089              ASRS     r1,r1,#2              ;2059
0000a8  9118              STR      r1,[sp,#0x60]         ;2060
0000aa  f8d01731          LDR      r1,[r0,#0x731]        ;2060
0000ae  f8d036b8          LDR      r3,[r0,#0x6b8]        ;2060
0000b2  4419              ADD      r1,r1,r3              ;2060
0000b4  f8d0359f          LDR      r3,[r0,#0x59f]        ;2060
0000b8  4419              ADD      r1,r1,r3              ;2060
0000ba  fb823101          SMULL    r3,r1,r2,r1           ;2060
0000be  eba171e1          SUB      r1,r1,r1,ASR #31      ;2060
0000c2  911a              STR      r1,[sp,#0x68]         ;2061
0000c4  f8d016b8          LDR      r1,[r0,#0x6b8]        ;2061
0000c8  f8d0359f          LDR      r3,[r0,#0x59f]        ;2061
0000cc  4419              ADD      r1,r1,r3              ;2061
0000ce  eb0171d1          ADD      r1,r1,r1,LSR #31      ;2061
0000d2  1049              ASRS     r1,r1,#1              ;2061
0000d4  911c              STR      r1,[sp,#0x70]         ;2063
0000d6  f8d017ae          LDR      r1,[r0,#0x7ae]        ;2063
0000da  f8d03735          LDR      r3,[r0,#0x735]        ;2063
0000de  4419              ADD      r1,r1,r3              ;2063
0000e0  eb0171d1          ADD      r1,r1,r1,LSR #31      ;2063
0000e4  1049              ASRS     r1,r1,#1              ;2063
0000e6  9115              STR      r1,[sp,#0x54]         ;2064
0000e8  f8d017ae          LDR      r1,[r0,#0x7ae]        ;2064
0000ec  f8d03735          LDR      r3,[r0,#0x735]        ;2064
0000f0  4419              ADD      r1,r1,r3              ;2064
0000f2  f8d036bc          LDR      r3,[r0,#0x6bc]        ;2064
0000f6  4419              ADD      r1,r1,r3              ;2064
0000f8  fb823101          SMULL    r3,r1,r2,r1           ;2064
0000fc  eba171e1          SUB      r1,r1,r1,ASR #31      ;2064
000100  9117              STR      r1,[sp,#0x5c]         ;2065
000102  f8d017ae          LDR      r1,[r0,#0x7ae]        ;2065
000106  f8d03735          LDR      r3,[r0,#0x735]        ;2065
00010a  f8d0c5a3          LDR      r12,[r0,#0x5a3]       ;2065
00010e  4419              ADD      r1,r1,r3              ;2065
000110  f8d036bc          LDR      r3,[r0,#0x6bc]        ;2065
000114  4463              ADD      r3,r3,r12             ;2065
000116  4419              ADD      r1,r1,r3              ;2065
000118  17cb              ASRS     r3,r1,#31             ;2065
00011a  eb017193          ADD      r1,r1,r3,LSR #30      ;2065
00011e  1089              ASRS     r1,r1,#2              ;2065
000120  9119              STR      r1,[sp,#0x64]         ;2066
000122  f8d01735          LDR      r1,[r0,#0x735]        ;2066
000126  f8d036bc          LDR      r3,[r0,#0x6bc]        ;2066
00012a  4419              ADD      r1,r1,r3              ;2066
00012c  f8d035a3          LDR      r3,[r0,#0x5a3]        ;2066
000130  4419              ADD      r1,r1,r3              ;2066
000132  fb822101          SMULL    r2,r1,r2,r1           ;2066
000136  e000              B        |L20.314|
                  |L20.312|
000138  e033              B        |L20.418|
                  |L20.314|
00013a  eba171e1          SUB      r1,r1,r1,ASR #31      ;2066
00013e  911b              STR      r1,[sp,#0x6c]         ;2067
000140  f8d016bc          LDR      r1,[r0,#0x6bc]        ;2067
000144  f8d005a3          LDR      r0,[r0,#0x5a3]        ;2067
000148  e9dd2314          LDRD     r2,r3,[sp,#0x50]      ;2067
00014c  4408              ADD      r0,r0,r1              ;2067
00014e  eb0070d0          ADD      r0,r0,r0,LSR #31      ;2067
000152  1040              ASRS     r0,r0,#1              ;2067
000154  901d              STR      r0,[sp,#0x74]         ;2069
000156  a804              ADD      r0,sp,#0x10           ;2069
000158  f04f0e05          MOV      lr,#5                 ;2069
00015c  9003              STR      r0,[sp,#0xc]          ;2069
00015e  ac14              ADD      r4,sp,#0x50           ;2069
000160  2001              MOVS     r0,#1                 ;2069
000162  46f4              MOV      r12,lr                ;2069
                  |L20.356|
000164  eb0401c0          ADD      r1,r4,r0,LSL #3       ;2069
000168  1c80              ADDS     r0,r0,#2              ;2069
00016a  f8d1b000          LDR      r11,[r1,#0]           ;2069
00016e  4584              CMP      r12,r0                ;2069
000170  445a              ADD      r2,r2,r11             ;2069
000172  f8d1b004          LDR      r11,[r1,#4]           ;2069
000176  445b              ADD      r3,r3,r11             ;2069
000178  f8d1b008          LDR      r11,[r1,#8]           ;2069
00017c  68c9              LDR      r1,[r1,#0xc]          ;2069
00017e  445a              ADD      r2,r2,r11             ;2069
000180  440b              ADD      r3,r3,r1              ;2069
000182  dcef              BGT      |L20.356|
000184  fb92f0fe          SDIV     r0,r2,lr              ;2069
000188  fb93f1fe          SDIV     r1,r3,lr              ;2069
00018c  9a03              LDR      r2,[sp,#0xc]          ;2069
00018e  6010              STR      r0,[r2,#0]            ;2069
000190  6051              STR      r1,[r2,#4]            ;2069
000192  9801              LDR      r0,[sp,#4]            ;2069
000194  9904              LDR      r1,[sp,#0x10]         ;2069
000196  f8c01136          STR      r1,[r0,#0x136]        ;2069
00019a  9905              LDR      r1,[sp,#0x14]         ;2069
00019c  f8c0113a          STR      r1,[r0,#0x13a]        ;2069
0001a0  e044              B        |L20.556|
                  |L20.418|
0001a2  b328              CBZ      r0,|L20.496|
0001a4  f8b70392          LDRH     r0,[r7,#0x392]        ;2071
0001a8  2800              CMP      r0,#0                 ;2071
0001aa  f00081dd          BEQ.W    |L20.1384|
0001ae  f8b70186          LDRH     r0,[r7,#0x186]        ;2071
0001b2  b3e0              CBZ      r0,|L20.558|
0001b4  eb0800c5          ADD      r0,r8,r5,LSL #3       ;2073
0001b8  f8d01731          LDR      r1,[r0,#0x731]        ;2073
0001bc  f8d026b8          LDR      r2,[r0,#0x6b8]        ;2073
0001c0  4411              ADD      r1,r1,r2              ;2073
0001c2  f8d0259f          LDR      r2,[r0,#0x59f]        ;2073
0001c6  4411              ADD      r1,r1,r2              ;2073
0001c8  4a8e              LDR      r2,|L20.1028|
0001ca  fb823101          SMULL    r3,r1,r2,r1           ;2073
0001ce  eba171e1          SUB      r1,r1,r1,ASR #31      ;2073
0001d2  f8c01136          STR      r1,[r0,#0x136]        ;2073
0001d6  f8d01735          LDR      r1,[r0,#0x735]        ;2074
0001da  f8d036bc          LDR      r3,[r0,#0x6bc]        ;2074
0001de  4419              ADD      r1,r1,r3              ;2074
0001e0  f8d035a3          LDR      r3,[r0,#0x5a3]        ;2074
0001e4  4419              ADD      r1,r1,r3              ;2074
0001e6  fb822101          SMULL    r2,r1,r2,r1           ;2074
0001ea  eba171e1          SUB      r1,r1,r1,ASR #31      ;2074
0001ee  e01b              B        |L20.552|
                  |L20.496|
0001f0  f8b70392          LDRH     r0,[r7,#0x392]        ;2076
0001f4  2800              CMP      r0,#0                 ;2076
0001f6  f00081b7          BEQ.W    |L20.1384|
0001fa  f8b70186          LDRH     r0,[r7,#0x186]        ;2076
0001fe  b1b0              CBZ      r0,|L20.558|
000200  eb0800c5          ADD      r0,r8,r5,LSL #3       ;2078
000204  f8d016b8          LDR      r1,[r0,#0x6b8]        ;2078
000208  f8d0259f          LDR      r2,[r0,#0x59f]        ;2078
00020c  4411              ADD      r1,r1,r2              ;2078
00020e  eb0171d1          ADD      r1,r1,r1,LSR #31      ;2078
000212  1049              ASRS     r1,r1,#1              ;2078
000214  f8c01136          STR      r1,[r0,#0x136]        ;2078
000218  f8d016bc          LDR      r1,[r0,#0x6bc]        ;2079
00021c  f8d025a3          LDR      r2,[r0,#0x5a3]        ;2079
000220  4411              ADD      r1,r1,r2              ;2079
000222  eb0171d1          ADD      r1,r1,r1,LSR #31      ;2079
000226  1049              ASRS     r1,r1,#1              ;2079
                  |L20.552|
000228  f8c0113a          STR      r1,[r0,#0x13a]        ;2079
                  |L20.556|
00022c  e000              B        |L20.560|
                  |L20.558|
00022e  e004              B        |L20.570|
                  |L20.560|
000230  f8b70392          LDRH     r0,[r7,#0x392]        ;2084
000234  2800              CMP      r0,#0                 ;2084
000236  f0008197          BEQ.W    |L20.1384|
                  |L20.570|
00023a  f8b900a1          LDRH     r0,[r9,#0xa1]         ;2086
00023e  2800              CMP      r0,#0                 ;2086
000240  f0008196          BEQ.W    |L20.1392|
000244  eb0804c5          ADD      r4,r8,r5,LSL #3       ;2088
000248  f8d43342          LDR      r3,[r4,#0x342]        ;2088
00024c  f8d40136          LDR      r0,[r4,#0x136]        ;2088
000250  f8d42346          LDR      r2,[r4,#0x346]        ;2088
000254  f8d4113a          LDR      r1,[r4,#0x13a]        ;2088
000258  1a18              SUBS     r0,r3,r0              ;2088
00025a  fb00f300          MUL      r3,r0,r0              ;2088
00025e  1a50              SUBS     r0,r2,r1              ;2088
000260  fb003000          MLA      r0,r0,r0,r3           ;2088
000264  f7fffffe          BL       algorithm_calc_sqrt
000268  68b1              LDR      r1,[r6,#8]            ;2090  ; thisModeConf
00026a  f9b120a1          LDRSH    r2,[r1,#0xa1]         ;2090
00026e  eb020900          ADD      r9,r2,r0              ;2090
000272  68f0              LDR      r0,[r6,#0xc]          ;2092  ; thisInfo
000274  f5005080          ADD      r0,r0,#0x1000         ;2092
000278  f89004f4          LDRB     r0,[r0,#0x4f4]        ;2092
00027c  2800              CMP      r0,#0                 ;2092
00027e  bf18              IT       NE                    ;2093
000280  ea4f09e9          ASRNE    r9,r9,#3              ;2093
000284  f1b90f0a          CMP      r9,#0xa               ;2096
000288  f2c0824c          BLT.W    |L20.1828|
                  |L20.652|
00028c  f8910092          LDRB     r0,[r1,#0x92]         ;2099
000290  f04f0b01          MOV      r11,#1                ;2099
000294  fa0bf000          LSL      r0,r11,r0             ;2099
000298  4548              CMP      r0,r9                 ;2099
00029a  f2c08246          BLT.W    |L20.1834|
00029e  bf00              NOP                            ;2102
                  |L20.672|
0002a0  f8910096          LDRB     r0,[r1,#0x96]         ;2102
0002a4  2800              CMP      r0,#0                 ;2102
0002a6  d046              BEQ      |L20.822|
0002a8  f8d40434          LDR      r0,[r4,#0x434]        ;2118
0002ac  9012              STR      r0,[sp,#0x48]         ;2119
0002ae  f8d40438          LDR      r0,[r4,#0x438]        ;2119
0002b2  900c              STR      r0,[sp,#0x30]         ;2126
0002b4  f8b70498          LDRH     r0,[r7,#0x498]        ;2126
0002b8  b390              CBZ      r0,|L20.800|
0002ba  4853              LDR      r0,|L20.1032|
0002bc  5d40              LDRB     r0,[r0,r5]            ;2134
0002be  b9a8              CBNZ     r0,|L20.748|
0002c0  f8d42136          LDR      r2,[r4,#0x136]        ;2134
0002c4  9812              LDR      r0,[sp,#0x48]         ;2134
0002c6  f8d4313a          LDR      r3,[r4,#0x13a]        ;2134
0002ca  990c              LDR      r1,[sp,#0x30]         ;2134
0002cc  1a10              SUBS     r0,r2,r0              ;2134
0002ce  4340              MULS     r0,r0,r0              ;2134
0002d0  1a59              SUBS     r1,r3,r1              ;2134
0002d2  fb010001          MLA      r0,r1,r1,r0           ;2134
0002d6  f7fffffe          BL       algorithm_calc_sqrt
0002da  68b1              LDR      r1,[r6,#8]            ;2134  ; thisModeConf
0002dc  f8b11090          LDRH     r1,[r1,#0x90]         ;2134
0002e0  4288              CMP      r0,r1                 ;2134
0002e2  bfc4              ITT      GT                    ;2135
0002e4  4848              LDRGT    r0,|L20.1032|
0002e6  f800b005          STRBGT   r11,[r0,r5]           ;2135
0002ea  dc54              BGT      |L20.918|
                  |L20.748|
0002ec  4846              LDR      r0,|L20.1032|
0002ee  5d40              LDRB     r0,[r0,r5]            ;2136
0002f0  2801              CMP      r0,#1                 ;2136
0002f2  d119              BNE      |L20.808|
0002f4  f8d42136          LDR      r2,[r4,#0x136]        ;2136
0002f8  9812              LDR      r0,[sp,#0x48]         ;2136
0002fa  f8d4313a          LDR      r3,[r4,#0x13a]        ;2136
0002fe  990c              LDR      r1,[sp,#0x30]         ;2136
000300  1a10              SUBS     r0,r2,r0              ;2136
000302  4340              MULS     r0,r0,r0              ;2136
000304  1a59              SUBS     r1,r3,r1              ;2136
000306  fb010001          MLA      r0,r1,r1,r0           ;2136
00030a  f7fffffe          BL       algorithm_calc_sqrt
00030e  68b1              LDR      r1,[r6,#8]            ;2136  ; thisModeConf
000310  f8b1108e          LDRH     r1,[r1,#0x8e]         ;2136
000314  4288              CMP      r0,r1                 ;2136
000316  bfbc              ITT      LT                    ;2137
000318  483b              LDRLT    r0,|L20.1032|
00031a  f800a005          STRBLT   r10,[r0,r5]           ;2137
00031e  db03              BLT      |L20.808|
                  |L20.800|
000320  4839              LDR      r0,|L20.1032|
000322  5d40              LDRB     r0,[r0,r5]            ;2144
000324  2801              CMP      r0,#1                 ;2144
000326  d036              BEQ      |L20.918|
                  |L20.808|
000328  4838              LDR      r0,|L20.1036|
00032a  eb0000c5          ADD      r0,r0,r5,LSL #3       ;2216
00032e  f8c0a004          STR      r10,[r0,#4]           ;2216
000332  f8c0a000          STR      r10,[r0,#0]           ;2216
                  |L20.822|
000336  68b1              LDR      r1,[r6,#8]            ;2225  ; thisModeConf
000338  f8910092          LDRB     r0,[r1,#0x92]         ;2225
00033c  fa0bf200          LSL      r2,r11,r0             ;2225
000340  eba20309          SUB      r3,r2,r9              ;2225
000344  f8d42342          LDR      r2,[r4,#0x342]        ;2225
000348  4353              MULS     r3,r2,r3              ;2225
00034a  f8d42136          LDR      r2,[r4,#0x136]        ;2225
00034e  fb093202          MLA      r2,r9,r2,r3           ;2225
000352  1e43              SUBS     r3,r0,#1              ;2225
000354  fa0bf303          LSL      r3,r11,r3             ;2225
000358  441a              ADD      r2,r2,r3              ;2225
00035a  fa42f000          ASR      r0,r2,r0              ;2225
00035e  f8c40136          STR      r0,[r4,#0x136]        ;2225
000362  f8910092          LDRB     r0,[r1,#0x92]         ;2226
000366  fa0bf200          LSL      r2,r11,r0             ;2226
00036a  eba20309          SUB      r3,r2,r9              ;2226
00036e  f8d42346          LDR      r2,[r4,#0x346]        ;2226
000372  435a              MULS     r2,r3,r2              ;2226
000374  f8d4313a          LDR      r3,[r4,#0x13a]        ;2226
000378  fb092203          MLA      r2,r9,r3,r2           ;2226
00037c  1e43              SUBS     r3,r0,#1              ;2226
00037e  fa0bf303          LSL      r3,r11,r3             ;2226
000382  441a              ADD      r2,r2,r3              ;2226
000384  fa42f000          ASR      r0,r2,r0              ;2226
000388  f8c4013a          STR      r0,[r4,#0x13a]        ;2226
00038c  f89100a4          LDRB     r0,[r1,#0xa4]         ;2228
000390  2801              CMP      r0,#1                 ;2228
000392  d17d              BNE      |L20.1168|
000394  e09c              B        |L20.1232|
                  |L20.918|
000396  f8d41342          LDR      r1,[r4,#0x342]        ;2165
00039a  9812              LDR      r0,[sp,#0x48]         ;2165
00039c  f8d42346          LDR      r2,[r4,#0x346]        ;2166
0003a0  1a09              SUBS     r1,r1,r0              ;2165
0003a2  980c              LDR      r0,[sp,#0x30]         ;2166
0003a4  fb01f301          MUL      r3,r1,r1              ;2179
0003a8  1a10              SUBS     r0,r2,r0              ;2166
0003aa  9008              STR      r0,[sp,#0x20]         ;2167
0003ac  f8d42136          LDR      r2,[r4,#0x136]        ;2167
0003b0  9812              LDR      r0,[sp,#0x48]         ;2167
0003b2  9207              STR      r2,[sp,#0x1c]         ;2167
0003b4  eba20c00          SUB      r12,r2,r0             ;2167
0003b8  f8d4013a          LDR      r0,[r4,#0x13a]        ;2168
0003bc  9a0c              LDR      r2,[sp,#0x30]         ;2168
0003be  9006              STR      r0,[sp,#0x18]         ;2168
0003c0  1a82              SUBS     r2,r0,r2              ;2168
0003c2  9808              LDR      r0,[sp,#0x20]         ;2179
0003c4  fb003000          MLA      r0,r0,r0,r3           ;2179
0003c8  9002              STR      r0,[sp,#8]            ;2179
0003ca  17c0              ASRS     r0,r0,#31             ;2179
0003cc  9003              STR      r0,[sp,#0xc]          ;2179
0003ce  9808              LDR      r0,[sp,#0x20]         ;2179
0003d0  fb01f30c          MUL      r3,r1,r12             ;2179
0003d4  fb003202          MLA      r2,r0,r2,r3           ;2179
0003d8  fb810102          SMULL    r0,r1,r1,r2           ;2179
0003dc  9209              STR      r2,[sp,#0x24]         ;2179
0003de  e9dd2302          LDRD     r2,r3,[sp,#8]         ;2179
0003e2  f7fffffe          BL       __aeabi_ldivmod
0003e6  900e              STR      r0,[sp,#0x38]         ;2179
0003e8  e9dd0208          LDRD     r0,r2,[sp,#0x20]      ;2179
0003ec  fb800102          SMULL    r0,r1,r0,r2           ;2180
0003f0  e9dd2302          LDRD     r2,r3,[sp,#8]         ;2180
0003f4  f7fffffe          BL       __aeabi_ldivmod
0003f8  9003              STR      r0,[sp,#0xc]          ;2182
0003fa  9912              LDR      r1,[sp,#0x48]         ;2182
0003fc  980e              LDR      r0,[sp,#0x38]         ;2182
0003fe  e007              B        |L20.1040|
                  |L20.1024|
                          DCD      ||.data||
                  |L20.1028|
                          DCD      0x55555556
                  |L20.1032|
                          DCD      ||area_number.28||+0x10
                  |L20.1036|
                          DCD      ||area_number.28||+0x70
                  |L20.1040|
000410  4401              ADD      r1,r1,r0              ;2182
000412  9104              STR      r1,[sp,#0x10]         ;2183
000414  990c              LDR      r1,[sp,#0x30]         ;2183
000416  9803              LDR      r0,[sp,#0xc]          ;2183
000418  180b              ADDS     r3,r1,r0              ;2183
00041a  9302              STR      r3,[sp,#8]            ;2196
00041c  e9dd0206          LDRD     r0,r2,[sp,#0x18]      ;2196
000420  9904              LDR      r1,[sp,#0x10]         ;2196
000422  1ac0              SUBS     r0,r0,r3              ;2196
000424  1a51              SUBS     r1,r2,r1              ;2196
000426  4349              MULS     r1,r1,r1              ;2196
000428  fb001000          MLA      r0,r0,r0,r1           ;2196
00042c  f7fffffe          BL       algorithm_calc_sqrt
000430  b280              UXTH     r0,r0                 ;2196
000432  280a              CMP      r0,#0xa               ;2198
000434  bf38              IT       CC                    ;2198
000436  2000              MOVCC    r0,#0                 ;2198
000438  d305              BCC      |L20.1094|
00043a  68b1              LDR      r1,[r6,#8]            ;2199  ; thisModeConf
00043c  f8911096          LDRB     r1,[r1,#0x96]         ;2199
000440  4281              CMP      r1,r0                 ;2199
000442  bf38              IT       CC                    ;2199
000444  4608              MOVCC    r0,r1                 ;2199
                  |L20.1094|
000446  f8d6c008          LDR      r12,[r6,#8]           ;2201  ; thisModeConf
00044a  9a04              LDR      r2,[sp,#0x10]         ;2201
00044c  f89c1096          LDRB     r1,[r12,#0x96]        ;2201
000450  1a0b              SUBS     r3,r1,r0              ;2201
000452  435a              MULS     r2,r3,r2              ;2201
000454  f8d43136          LDR      r3,[r4,#0x136]        ;2201
000458  fb002203          MLA      r2,r0,r3,r2           ;2201
00045c  eb020251          ADD      r2,r2,r1,LSR #1       ;2201
000460  fb92f1f1          SDIV     r1,r2,r1              ;2201
000464  f8c41136          STR      r1,[r4,#0x136]        ;2201
000468  f89c1096          LDRB     r1,[r12,#0x96]        ;2202
00046c  9a02              LDR      r2,[sp,#8]            ;2202
00046e  1a0b              SUBS     r3,r1,r0              ;2202
000470  435a              MULS     r2,r3,r2              ;2202
000472  f8d4313a          LDR      r3,[r4,#0x13a]        ;2202
000476  fb002003          MLA      r0,r0,r3,r2           ;2202
00047a  eb000051          ADD      r0,r0,r1,LSR #1       ;2202
00047e  fb90f0f1          SDIV     r0,r0,r1              ;2202
000482  f8c4013a          STR      r0,[r4,#0x13a]        ;2202
000486  eb080005          ADD      r0,r8,r5              ;2208
00048a  f8900df6          LDRB     r0,[r0,#0xdf6]        ;2208
00048e  e000              B        |L20.1170|
                  |L20.1168|
000490  e068              B        |L20.1380|
                  |L20.1170|
000492  b1a8              CBZ      r0,|L20.1216|
000494  f504709b          ADD      r0,r4,#0x136          ;2208
000498  2100              MOVS     r1,#0                 ;2208
00049a  f7fffffe          BL       algorithm_coord_IsEdgeArea
00049e  b178              CBZ      r0,|L20.1216|
0004a0  9804              LDR      r0,[sp,#0x10]         ;2209
0004a2  f8d41136          LDR      r1,[r4,#0x136]        ;2209
0004a6  4408              ADD      r0,r0,r1              ;2209
0004a8  1c40              ADDS     r0,r0,#1              ;2209
0004aa  1040              ASRS     r0,r0,#1              ;2209
0004ac  f8c40136          STR      r0,[r4,#0x136]        ;2209
0004b0  9802              LDR      r0,[sp,#8]            ;2210
0004b2  f8d4113a          LDR      r1,[r4,#0x13a]        ;2210
0004b6  4408              ADD      r0,r0,r1              ;2210
0004b8  1c40              ADDS     r0,r0,#1              ;2210
0004ba  1040              ASRS     r0,r0,#1              ;2210
0004bc  f8c4013a          STR      r0,[r4,#0x13a]        ;2210
                  |L20.1216|
0004c0  489f              LDR      r0,|L20.1856|
0004c2  9903              LDR      r1,[sp,#0xc]          ;2213
0004c4  eb0002c5          ADD      r2,r0,r5,LSL #3       ;2213
0004c8  980e              LDR      r0,[sp,#0x38]         ;2213
0004ca  e9c20100          STRD     r0,r1,[r2,#0]         ;2213
0004ce  e732              B        |L20.822|
                  |L20.1232|
0004d0  f8980135          LDRB     r0,[r8,#0x135]        ;2228
0004d4  2802              CMP      r0,#2                 ;2228
0004d6  d84b              BHI      |L20.1392|
0004d8  f2043042          ADD      r0,r4,#0x342          ;2231
0004dc  2100              MOVS     r1,#0                 ;2231
0004de  f7fffffe          BL       algorithm_coord_IsEdgeArea
0004e2  2800              CMP      r0,#0                 ;2231
0004e4  bf14              ITE      NE                    ;2232
0004e6  f44f7080          MOVNE    r0,#0x100             ;2232
0004ea  2040              MOVEQ    r0,#0x40              ;2235
0004ec  4581              CMP      r9,r0                 ;2238
0004ee  dd13              BLE      |L20.1304|
0004f0  f8d4159f          LDR      r1,[r4,#0x59f]        ;2239
0004f4  f8d40136          LDR      r0,[r4,#0x136]        ;2239
0004f8  eb010141          ADD      r1,r1,r1,LSL #1       ;2239
0004fc  4408              ADD      r0,r0,r1              ;2239
0004fe  1080              ASRS     r0,r0,#2              ;2239
000500  f8c40136          STR      r0,[r4,#0x136]        ;2239
000504  f8d415a3          LDR      r1,[r4,#0x5a3]        ;2240
000508  f8d4013a          LDR      r0,[r4,#0x13a]        ;2240
00050c  eb010141          ADD      r1,r1,r1,LSL #1       ;2240
000510  4408              ADD      r0,r0,r1              ;2240
000512  1080              ASRS     r0,r0,#2              ;2240
000514  f8c4013a          STR      r0,[r4,#0x13a]        ;2240
                  |L20.1304|
000518  f8b70484          LDRH     r0,[r7,#0x484]        ;2243
00051c  2800              CMP      r0,#0                 ;2243
00051e  bf1c              ITT      NE                    ;2243
000520  f8b70dac          LDRHNE   r0,[r7,#0xdac]        ;2243
000524  2800              CMPNE    r0,#0                 ;2243
000526  d023              BEQ      |L20.1392|
000528  f8d40434          LDR      r0,[r4,#0x434]        ;2245
00052c  f8d41342          LDR      r1,[r4,#0x342]        ;2245
000530  ebc00041          RSB      r0,r0,r1,LSL #1       ;2245
000534  f8d41136          LDR      r1,[r4,#0x136]        ;2245
000538  eb010141          ADD      r1,r1,r1,LSL #1       ;2245
00053c  4408              ADD      r0,r0,r1              ;2245
00053e  ea4f00a0          ASR      r0,r0,#2              ;2245
000542  f8c40136          STR      r0,[r4,#0x136]        ;2245
000546  f8d40438          LDR      r0,[r4,#0x438]        ;2246
00054a  f8d41346          LDR      r1,[r4,#0x346]        ;2246
00054e  ebc00041          RSB      r0,r0,r1,LSL #1       ;2246
000552  f8d4113a          LDR      r1,[r4,#0x13a]        ;2246
000556  eb010141          ADD      r1,r1,r1,LSL #1       ;2246
00055a  4408              ADD      r0,r0,r1              ;2246
00055c  ea4f00a0          ASR      r0,r0,#2              ;2246
000560  f8c4013a          STR      r0,[r4,#0x13a]        ;2246
                  |L20.1380|
000564  e004              B        |L20.1392|
000566  bf00              NOP                            ;2252
                  |L20.1384|
000568  eb080005          ADD      r0,r8,r5              ;2252
00056c  f880ad48          STRB     r10,[r0,#0xd48]       ;2252
                  |L20.1392|
000570  f8b70186          LDRH     r0,[r7,#0x186]        ;2256
000574  b3a0              CBZ      r0,|L20.1504|
000576  68b0              LDR      r0,[r6,#8]            ;2258  ; thisModeConf
000578  f8b090a7          LDRH     r9,[r0,#0xa7]         ;2258
00057c  f1b90f00          CMP      r9,#0                 ;2258
000580  d043              BEQ      |L20.1546|
000582  f8b7119a          LDRH     r1,[r7,#0x19a]        ;2258
000586  f89000a9          LDRB     r0,[r0,#0xa9]         ;2258
00058a  4281              CMP      r1,r0                 ;2258
00058c  d93d              BLS      |L20.1546|
00058e  eb080705          ADD      r7,r8,r5              ;2260
000592  f8970df6          LDRB     r0,[r7,#0xdf6]        ;2260
000596  bb18              CBNZ     r0,|L20.1504|
000598  eb0804c5          ADD      r4,r8,r5,LSL #3       ;2269
00059c  f604505c          ADD      r0,r4,#0xd5c          ;2269
0005a0  2100              MOVS     r1,#0                 ;2269
0005a2  f7fffffe          BL       algorithm_coord_IsEdgeArea
0005a6  2800              CMP      r0,#0                 ;2269
0005a8  bfc4              ITT      GT                    ;2270
0005aa  f9b60000          LDRSHGT  r0,[r6,#0]            ;2270  ; AddDistTh
0005ae  4481              ADDGT    r9,r9,r0              ;2270
0005b0  f8d43d5c          LDR      r3,[r4,#0xd5c]        ;2272
0005b4  f8d41136          LDR      r1,[r4,#0x136]        ;2272
0005b8  f8d40d60          LDR      r0,[r4,#0xd60]        ;2272
0005bc  f8d4213a          LDR      r2,[r4,#0x13a]        ;2272
0005c0  1a59              SUBS     r1,r3,r1              ;2272
0005c2  4349              MULS     r1,r1,r1              ;2272
0005c4  1a80              SUBS     r0,r0,r2              ;2272
0005c6  fb001000          MLA      r0,r0,r0,r1           ;2272
0005ca  f7fffffe          BL       algorithm_calc_sqrt
0005ce  4548              CMP      r0,r9                 ;2272
0005d0  da07              BGE      |L20.1506|
0005d2  f8d40d5c          LDR      r0,[r4,#0xd5c]        ;2274
0005d6  f8c40136          STR      r0,[r4,#0x136]        ;2274
0005da  f8d40d60          LDR      r0,[r4,#0xd60]        ;2274
0005de  e011              B        |L20.1540|
                  |L20.1504|
0005e0  e018              B        |L20.1556|
                  |L20.1506|
0005e2  2001              MOVS     r0,#1                 ;2279
0005e4  f8870df6          STRB     r0,[r7,#0xdf6]        ;2279
0005e8  f8d40d5c          LDR      r0,[r4,#0xd5c]        ;2280
0005ec  f8d41136          LDR      r1,[r4,#0x136]        ;2280
0005f0  4408              ADD      r0,r0,r1              ;2280
0005f2  1040              ASRS     r0,r0,#1              ;2280
0005f4  f8c40136          STR      r0,[r4,#0x136]        ;2280
0005f8  f8d40d60          LDR      r0,[r4,#0xd60]        ;2281
0005fc  f8d4113a          LDR      r1,[r4,#0x13a]        ;2281
000600  4408              ADD      r0,r0,r1              ;2281
000602  1040              ASRS     r0,r0,#1              ;2281
                  |L20.1540|
000604  f8c4013a          STR      r0,[r4,#0x13a]        ;2274
000608  e004              B        |L20.1556|
                  |L20.1546|
00060a  eb080005          ADD      r0,r8,r5              ;2287
00060e  2101              MOVS     r1,#1                 ;2287
000610  f8801df6          STRB     r1,[r0,#0xdf6]        ;2287
                  |L20.1556|
000614  68b3              LDR      r3,[r6,#8]            ;2292  ; thisModeConf
000616  f993c0da          LDRSB    r12,[r3,#0xda]        ;2292
00061a  f1bc0f00          CMP      r12,#0                ;2292
00061e  dd72              BLE      |L20.1798|
000620  eb0802c5          ADD      r2,r8,r5,LSL #3       ;2295
000624  f8d34092          LDR      r4,[r3,#0x92]         ;2294
000628  f8d29136          LDR      r9,[r2,#0x136]        ;2295
00062c  f5b97f80          CMP      r9,#0x100             ;2295
000630  db13              BLT      |L20.1626|
000632  68f1              LDR      r1,[r6,#0xc]          ;2295  ; thisInfo
000634  f8d2013a          LDR      r0,[r2,#0x13a]        ;2295
000638  f5015180          ADD      r1,r1,#0x1000         ;2295
00063c  f8d17089          LDR      r7,[r1,#0x89]         ;2295
000640  f5a77780          SUB      r7,r7,#0x100          ;2295
000644  4287              CMP      r7,r0                 ;2295
000646  db08              BLT      |L20.1626|
000648  f8d11085          LDR      r1,[r1,#0x85]         ;2295
00064c  f5a17180          SUB      r1,r1,#0x100          ;2295
000650  4549              CMP      r1,r9                 ;2295
000652  bfa8              IT       GE                    ;2295
000654  f5b07f80          CMPGE    r0,#0x100             ;2295
000658  da55              BGE      |L20.1798|
                  |L20.1626|
00065a  f8d21342          LDR      r1,[r2,#0x342]        ;2298
00065e  ebb10009          SUBS     r0,r1,r9              ;2298
000662  bf48              IT       MI                    ;2298
000664  4240              RSBMI    r0,r0,#0              ;2298
000666  4460              ADD      r0,r0,r12             ;2299
000668  280a              CMP      r0,#0xa               ;2300
00066a  db60              BLT      |L20.1838|
                  |L20.1644|
00066c  2701              MOVS     r7,#1                 ;2301
00066e  fa07fc04          LSL      r12,r7,r4             ;2301
000672  4584              CMP      r12,r0                ;2301
000674  db5d              BLT      |L20.1842|
000676  bf00              NOP                            ;2303
                  |L20.1656|
000678  ebac0b00          SUB      r11,r12,r0            ;2303
00067c  fb0bf101          MUL      r1,r11,r1             ;2303
000680  fb001009          MLA      r0,r0,r9,r1           ;2303
000684  1e61              SUBS     r1,r4,#1              ;2303
000686  fa07fb01          LSL      r11,r7,r1             ;2303
00068a  4458              ADD      r0,r0,r11             ;2303
00068c  4120              ASRS     r0,r0,r4              ;2303
00068e  f8c20136          STR      r0,[r2,#0x136]        ;2303
000692  f8d29346          LDR      r9,[r2,#0x346]        ;2305
000696  f8d2713a          LDR      r7,[r2,#0x13a]        ;2305
00069a  ebb90007          SUBS     r0,r9,r7              ;2305
00069e  bf48              IT       MI                    ;2305
0006a0  4240              RSBMI    r0,r0,#0              ;2305
0006a2  f99310da          LDRSB    r1,[r3,#0xda]         ;2306
0006a6  4401              ADD      r1,r1,r0              ;2306
0006a8  290a              CMP      r1,#0xa               ;2307
0006aa  db44              BLT      |L20.1846|
                  |L20.1708|
0006ac  458c              CMP      r12,r1                ;2308
0006ae  db44              BLT      |L20.1850|
                  |L20.1712|
0006b0  ebac0001          SUB      r0,r12,r1             ;2311
0006b4  fb00f009          MUL      r0,r0,r9              ;2311
0006b8  fb010007          MLA      r0,r1,r7,r0           ;2311
0006bc  4458              ADD      r0,r0,r11             ;2311
0006be  4120              ASRS     r0,r0,r4              ;2311
0006c0  f8c2013a          STR      r0,[r2,#0x13a]        ;2311
0006c4  e01f              B        |L20.1798|
                  |L20.1734|
0006c6  68b0              LDR      r0,[r6,#8]            ;2316  ; thisModeConf
0006c8  f8b000a7          LDRH     r0,[r0,#0xa7]         ;2316
0006cc  2800              CMP      r0,#0                 ;2316
0006ce  bf1c              ITT      NE                    ;2316
0006d0  f8b703a6          LDRHNE   r0,[r7,#0x3a6]        ;2316
0006d4  2800              CMPNE    r0,#0                 ;2316
0006d6  d010              BEQ      |L20.1786|
0006d8  eb080005          ADD      r0,r8,r5              ;2318
0006dc  f8900df6          LDRB     r0,[r0,#0xdf6]        ;2318
0006e0  2800              CMP      r0,#0                 ;2318
0006e2  8830              LDRH     r0,[r6,#0]            ;2324  ; AddDistTh
0006e4  d015              BEQ      |L20.1810|
0006e6  380a              SUBS     r0,r0,#0xa            ;2318
0006e8  b200              SXTH     r0,r0                 ;2319
0006ea  8030              STRH     r0,[r6,#0]            ;2319
0006ec  f1100f20          CMN      r0,#0x20              ;2320
0006f0  bfb8              IT       LT                    ;2321
0006f2  f06f001f          MVNLT    r0,#0x1f              ;2321
0006f6  da00              BGE      |L20.1786|
                  |L20.1784|
0006f8  8030              STRH     r0,[r6,#0]            ;2326
                  |L20.1786|
0006fa  eb080005          ADD      r0,r8,r5              ;2331
0006fe  f880ad48          STRB     r10,[r0,#0xd48]       ;2331
000702  f880adf6          STRB     r10,[r0,#0xdf6]       ;2332
                  |L20.1798|
000706  1e6d              SUBS     r5,r5,#1              ;2332
000708  f4bfac84          BCS      |L20.20|
00070c  b023              ADD      sp,sp,#0x8c
00070e  e8bd8ff0          POP      {r4-r11,pc}
                  |L20.1810|
000712  300a              ADDS     r0,r0,#0xa
000714  b200              SXTH     r0,r0                 ;2324
000716  8030              STRH     r0,[r6,#0]            ;2324
000718  2880              CMP      r0,#0x80              ;2325
00071a  bfc8              IT       GT                    ;2326
00071c  2080              MOVGT    r0,#0x80              ;2326
00071e  ddec              BLE      |L20.1786|
000720  e7ea              B        |L20.1784|
000722  bf00              NOP                            ;2096
                  |L20.1828|
000724  f04f090a          MOV      r9,#0xa               ;2096
000728  e5b0              B        |L20.652|
                  |L20.1834|
00072a  4681              MOV      r9,r0                 ;2099
00072c  e5b8              B        |L20.672|
                  |L20.1838|
00072e  200a              MOVS     r0,#0xa               ;2300
000730  e79c              B        |L20.1644|
                  |L20.1842|
000732  4660              MOV      r0,r12                ;2300
000734  e7a0              B        |L20.1656|
                  |L20.1846|
000736  210a              MOVS     r1,#0xa               ;2307
000738  e7b8              B        |L20.1708|
                  |L20.1850|
00073a  4661              MOV      r1,r12                ;2307
00073c  e7b8              B        |L20.1712|
;;;2337   
                          ENDP

00073e  0000              DCW      0x0000
                  |L20.1856|
                          DCD      ||area_number.28||+0x70

                          AREA ||i.algorithm_coord_tracking_pos||, CODE, READONLY, ALIGN=2

                  algorithm_coord_tracking_pos PROC
;;;988    #endif
;;;989    void algorithm_coord_tracking_pos(int mode)
000000  e92d4ff1          PUSH     {r0,r4-r11,lr}
;;;990    {
;;;991        uint8_t pl, cl; // Index of Previous Label, Current Label
;;;992    //    int32_t iDist, iDist2, iMinDist; // NOTE : not used
;;;993        int32_t iDist, iMinDist;
;;;994    //    int match; // NOTE : not used
;;;995        int8_t cReorderRemap[LOOSE_POSBUF_];
;;;996        uint32_t ulPrematchedDist[LOOSE_POSBUF_];
;;;997        int32_t lDistanceMap[LOOSE_POSBUF_][LOOSE_POSBUF_];
;;;998    //    tXY_t pred_pos, avg_pos, curr_pos; // NOTE : not used
;;;999        tXY_t pred_pos;
;;;1000       tXY_t curr_pos_sum;
;;;1001       tXY_t prev_pos_sum;
;;;1002       tXY_t comp_pos;
;;;1003       int match_cl, match_pl;
;;;1004       int iDistanceThd;
;;;1005       tXY_t pos_max, pos_min;
;;;1006       bool_t bCompFlag;
;;;1007   #if (PalmCandidateTouchCut_EN == YES)
;;;1008   	static uint16_t usPalmCandiShapeMatchingLearningCnt = 0;
;;;1009   #endif
;;;1010   	
;;;1011   	tCoordInfo_t 	*temp_coord;
;;;1012   	
;;;1013   	temp_coord = &thisInfo->tCoord;
000004  48fe              LDR      r0,|L21.1024|
000006  f5ad6dd2          SUB      sp,sp,#0x690          ;990
00000a  68c0              LDR      r0,[r0,#0xc]  ; thisInfo
00000c  f2003069          ADD      r0,r0,#0x369
;;;1014   
;;;1015       temp_coord->tPos.sFinger_ = MIN(temp_coord->tTempPos.sFinger_, MAX_TOUCH_);
000010  f8cd05c8          STR      r0,[sp,#0x5c8]
000014  f890b000          LDRB     r11,[r0,#0]
000018  f1bb0f0a          CMP      r11,#0xa
00001c  bf28              IT       CS
00001e  f04f0b0a          MOVCS    r11,#0xa
000022  f880b135          STRB     r11,[r0,#0x135]
;;;1016   
;;;1017       memset(&cReorderRemap, -1, sizeof(cReorderRemap));
000026  f04f32ff          MOV      r2,#0xffffffff
00002a  2110              MOVS     r1,#0x10
00002c  f50d60c0          ADD      r0,sp,#0x600
000030  f7fffffe          BL       __aeabi_memset
;;;1018       memset(&ulPrematchedDist, UINT8_MAX, sizeof(ulPrematchedDist));
000034  22ff              MOVS     r2,#0xff
000036  2140              MOVS     r1,#0x40
000038  f50d60c2          ADD      r0,sp,#0x610
00003c  f7fffffe          BL       __aeabi_memset
;;;1019   
;;;1020   #if 1
;;;1021   	if( temp_coord->tPos.sFinger_ > 1 && temp_coord->tPastPos[0].sFinger_ == temp_coord->tPos.sFinger_ )
;;;1022   	{
;;;1023   		curr_pos_sum.x = 0;
;;;1024   		curr_pos_sum.y = 0;
;;;1025   		prev_pos_sum.x = 0;
;;;1026   		prev_pos_sum.y = 0;
;;;1027   		pos_min.x = INT32_MAX;
000040  f06f4e00          MVN      lr,#0x80000000
000044  f1bb0f01          CMP      r11,#1                ;1021
000048  d969              BLS      |L21.286|
00004a  f8dd05c8          LDR      r0,[sp,#0x5c8]        ;1021
00004e  f8900341          LDRB     r0,[r0,#0x341]        ;1021
000052  4558              CMP      r0,r11                ;1021
000054  d163              BNE      |L21.286|
000056  f04f0c00          MOV      r12,#0                ;1023
;;;1028   		pos_max.x = 0;
;;;1029   		pos_min.y = INT32_MAX;
;;;1030   		pos_max.y = 0;
;;;1031   
;;;1032   		for( cl = 0; cl < temp_coord->tTempPos.sFinger_; cl++ )
00005a  f8dd75c8          LDR      r7,[sp,#0x5c8]
00005e  4665              MOV      r5,r12                ;1023
000060  462e              MOV      r6,r5                 ;1024
000062  4634              MOV      r4,r6                 ;1026
000064  f897a000          LDRB     r10,[r7,#0]
000068  4621              MOV      r1,r4                 ;1028
00006a  4672              MOV      r2,lr                 ;1027
00006c  4673              MOV      r3,lr                 ;1029
00006e  4608              MOV      r0,r1                 ;1030
000070  46e1              MOV      r9,r12
000072  f1ba0f00          CMP      r10,#0
000076  d922              BLS      |L21.190|
                  |L21.120|
;;;1033   		{
;;;1034   			if( temp_coord->tTempPos.vusR[cl] != 0 )
000078  f8dd75c8          LDR      r7,[sp,#0x5c8]
00007c  eb070749          ADD      r7,r7,r9,LSL #1
000080  f8b770a1          LDRH     r7,[r7,#0xa1]
000084  b1af              CBZ      r7,|L21.178|
;;;1035   			{
;;;1036   				curr_pos_sum.x += temp_coord->tTempPos.tXY[cl].x;
000086  f8dd75c8          LDR      r7,[sp,#0x5c8]
00008a  eb0708c9          ADD      r8,r7,r9,LSL #3
00008e  f8d87001          LDR      r7,[r8,#1]
;;;1037   				curr_pos_sum.y += temp_coord->tTempPos.tXY[cl].y;
000092  f8d88005          LDR      r8,[r8,#5]
000096  443d              ADD      r5,r5,r7              ;1036
000098  4446              ADD      r6,r6,r8
;;;1038   
;;;1039   				if( pos_min.x > temp_coord->tTempPos.tXY[cl].x )
;;;1040   					pos_min.x = temp_coord->tTempPos.tXY[cl].x;
00009a  42ba              CMP      r2,r7
00009c  bfc8              IT       GT
00009e  463a              MOVGT    r2,r7
;;;1041   				if( pos_max.x < temp_coord->tTempPos.tXY[cl].x )
;;;1042   					pos_max.x = temp_coord->tTempPos.tXY[cl].x;
0000a0  42b9              CMP      r1,r7
0000a2  bfd8              IT       LE
0000a4  4639              MOVLE    r1,r7
;;;1043   				if( pos_min.y > temp_coord->tTempPos.tXY[cl].y )
;;;1044   					pos_min.y = temp_coord->tTempPos.tXY[cl].y;
0000a6  4543              CMP      r3,r8
0000a8  bfc8              IT       GT
0000aa  4643              MOVGT    r3,r8
;;;1045   				if( pos_max.y < temp_coord->tTempPos.tXY[cl].y )
;;;1046   					pos_max.y = temp_coord->tTempPos.tXY[cl].y;
0000ac  4540              CMP      r0,r8
0000ae  bfd8              IT       LE
0000b0  4640              MOVLE    r0,r8
                  |L21.178|
0000b2  f1090701          ADD      r7,r9,#1
0000b6  f00709ff          AND      r9,r7,#0xff
0000ba  45ca              CMP      r10,r9
0000bc  d8dc              BHI      |L21.120|
                  |L21.190|
;;;1047   			}
;;;1048   		}
;;;1049   
;;;1050   		for( pl = 0; pl < MAX_TOUCH_; pl++ )
0000be  2700              MOVS     r7,#0
                  |L21.192|
;;;1051   		{
;;;1052   			if( temp_coord->tPastPos[0].vusR[pl] != 0 )
0000c0  f8dd85c8          LDR      r8,[sp,#0x5c8]
0000c4  eb080847          ADD      r8,r8,r7,LSL #1
0000c8  f8b883a6          LDRH     r8,[r8,#0x3a6]
0000cc  f1b80f00          CMP      r8,#0
0000d0  d009              BEQ      |L21.230|
;;;1053   			{
;;;1054   				prev_pos_sum.x += temp_coord->tOrgPastPos[0].tXY[pl].x;
0000d2  f8dd85c8          LDR      r8,[sp,#0x5c8]
0000d6  eb0808c7          ADD      r8,r8,r7,LSL #3
0000da  f8d896b8          LDR      r9,[r8,#0x6b8]
;;;1055   				prev_pos_sum.y += temp_coord->tOrgPastPos[0].tXY[pl].y;
0000de  f8d886bc          LDR      r8,[r8,#0x6bc]
0000e2  44cc              ADD      r12,r12,r9            ;1054
0000e4  4444              ADD      r4,r4,r8
                  |L21.230|
0000e6  1c7f              ADDS     r7,r7,#1
0000e8  b2ff              UXTB     r7,r7
0000ea  2f0a              CMP      r7,#0xa
0000ec  d3e8              BCC      |L21.192|
;;;1056   			}
;;;1057   		}
;;;1058   		comp_pos.x = curr_pos_sum.x - prev_pos_sum.x;
0000ee  eba5050c          SUB      r5,r5,r12
;;;1059   		comp_pos.y = curr_pos_sum.y - prev_pos_sum.y;
0000f2  eba60c04          SUB      r12,r6,r4
;;;1060   		comp_pos.x = comp_pos.x / temp_coord->tPos.sFinger_;
0000f6  fb95f4fb          SDIV     r4,r5,r11
;;;1061   		comp_pos.y = comp_pos.y / temp_coord->tPos.sFinger_;
0000fa  fb9cfcfb          SDIV     r12,r12,r11
;;;1062   
;;;1063   		if( (pos_max.x - pos_min.x) < (thisModeConf->CoordTracking.usCenterMatchDistanceThd << POS_BOOST_SHIFT_)
0000fe  1a8a              SUBS     r2,r1,r2
000100  49bf              LDR      r1,|L21.1024|
000102  f8cdc020          STR      r12,[sp,#0x20]
000106  940a              STR      r4,[sp,#0x28]
000108  6889              LDR      r1,[r1,#8]  ; thisModeConf
00010a  f8d110c9          LDR      r1,[r1,#0xc9]
00010e  ebb22f01          CMP      r2,r1,LSL #8
000112  bf3e              ITTT     CC
000114  1ac0              SUBCC    r0,r0,r3
000116  ebb02f01          CMPCC    r0,r1,LSL #8
;;;1064     		 && (pos_max.y - pos_min.y) < (thisModeConf->CoordTracking.usCenterMatchDistanceThd << POS_BOOST_SHIFT_) )
;;;1065   		{
;;;1066   			bCompFlag = 1;
00011a  2701              MOVCC    r7,#1
00011c  d300              BCC      |L21.288|
                  |L21.286|
;;;1067   		}
;;;1068   		else
;;;1069   		{
;;;1070   			bCompFlag = 0;
00011e  2700              MOVS     r7,#0
                  |L21.288|
;;;1071   		}
;;;1072   	}
;;;1073   	else
;;;1074   	{
;;;1075   		bCompFlag = 0;
;;;1076   	}
;;;1077   
;;;1078   	for (pl = 0; pl < LOOSE_POSBUF_; pl++)
000120  2200              MOVS     r2,#0
000122  ab72              ADD      r3,sp,#0x1c8          ;997
                  |L21.292|
;;;1079   		for (cl = 0; cl < LOOSE_POSBUF_; cl++)
000124  eb031082          ADD      r0,r3,r2,LSL #6
000128  1f01              SUBS     r1,r0,#4
00012a  2008              MOVS     r0,#8
                  |L21.300|
;;;1080   			lDistanceMap[pl][cl] = INT32_MAX;
00012c  f8c1e004          STR      lr,[r1,#4]
000130  f841ef08          STR      lr,[r1,#8]!
000134  1e40              SUBS     r0,r0,#1
000136  d1f9              BNE      |L21.300|
000138  1c50              ADDS     r0,r2,#1
00013a  b2c2              UXTB     r2,r0
00013c  2a10              CMP      r2,#0x10
00013e  d3f1              BCC      |L21.292|
;;;1081   
;;;1082       for (pl = 0; pl < MAX_TOUCH_; pl++)
000140  f05f0600          MOVS.W   r6,#0
                  |L21.324|
;;;1083   	{
;;;1084   		if (temp_coord->tPastPos[0].vusR[pl] != 0)
000144  f8dd05c8          LDR      r0,[sp,#0x5c8]
000148  eb000846          ADD      r8,r0,r6,LSL #1
00014c  f8b803a6          LDRH     r0,[r8,#0x3a6]
000150  2800              CMP      r0,#0
000152  d07c              BEQ      |L21.590|
;;;1085   		{
;;;1086   			for (cl = 0; cl < temp_coord->tTempPos.sFinger_; cl++)
000154  f8dd05c8          LDR      r0,[sp,#0x5c8]
000158  2500              MOVS     r5,#0
00015a  7800              LDRB     r0,[r0,#0]
00015c  2800              CMP      r0,#0
00015e  d976              BLS      |L21.590|
000160  f8dd05c8          LDR      r0,[sp,#0x5c8]        ;1054
000164  eb0004c6          ADD      r4,r0,r6,LSL #3       ;1054
000168  a872              ADD      r0,sp,#0x1c8          ;997
00016a  eb001086          ADD      r0,r0,r6,LSL #6       ;1079
00016e  9005              STR      r0,[sp,#0x14]         ;1079
                  |L21.368|
;;;1087   			{
;;;1088   				if (temp_coord->tTempPos.vusR[cl]) //For unmatched fingers,
000170  f8dd05c8          LDR      r0,[sp,#0x5c8]
000174  eb000045          ADD      r0,r0,r5,LSL #1
000178  f8b000a1          LDRH     r0,[r0,#0xa1]
00017c  2800              CMP      r0,#0
00017e  d067              BEQ      |L21.592|
;;;1089   				{
;;;1090   					uint16_t Check_vusR = 0;
;;;1091   					tXY_t UsePastPos;
;;;1092   #if (INTERPOLATION_VER1_En == YES || INTERPOLATION_VER2_En == YES || INTERPOLATION_VER3_En == YES)
;;;1093   					if(temp_coord->bInterpolation_On)
;;;1094   					{
;;;1095   						Check_vusR = temp_coord->tPastPos[2].vusR[pl];
;;;1096   						UsePastPos = temp_coord->tOrgPastPos[2].tXY[pl];
;;;1097   					}
;;;1098   					else
;;;1099   #endif
;;;1100   					{
;;;1101   						Check_vusR = temp_coord->tPastPos[1].vusR[pl];
000180  f8b8041f          LDRH     r0,[r8,#0x41f]
;;;1102   						UsePastPos = temp_coord->tOrgPastPos[1].tXY[pl];
000184  f8d43731          LDR      r3,[r4,#0x731]
000188  f8d42735          LDR      r2,[r4,#0x735]
;;;1103   					}
;;;1104   					
;;;1105   					if( Check_vusR )
00018c  2800              CMP      r0,#0
;;;1106   					{
;;;1107   						pred_pos.x = (temp_coord->tOrgPastPos[0].tXY[pl].x << 1) - UsePastPos.x;
;;;1108   						pred_pos.y = (temp_coord->tOrgPastPos[0].tXY[pl].y << 1) - UsePastPos.y;
;;;1109   					}
;;;1110   					else
;;;1111   					{
;;;1112   						pred_pos.x = temp_coord->tOrgPastPos[0].tXY[pl].x;
00018e  bf04              ITT      EQ
000190  f8d406b8          LDREQ    r0,[r4,#0x6b8]
;;;1113   						pred_pos.y = temp_coord->tOrgPastPos[0].tXY[pl].y;
000194  f8d416bc          LDREQ    r1,[r4,#0x6bc]
000198  d007              BEQ      |L21.426|
00019a  f8d416b8          LDR      r1,[r4,#0x6b8]        ;1107
00019e  f8d4c6bc          LDR      r12,[r4,#0x6bc]       ;1108
0001a2  ebc30041          RSB      r0,r3,r1,LSL #1       ;1107
0001a6  ebc2014c          RSB      r1,r2,r12,LSL #1      ;1108
                  |L21.426|
;;;1114   					}
;;;1115   					
;;;1116   					Check_vusR = 0;
;;;1117   #if (INTERPOLATION_VER1_En == YES || INTERPOLATION_VER2_En == YES || INTERPOLATION_VER3_En == YES)
;;;1118   					if(temp_coord->bInterpolation_On)
;;;1119   						Check_vusR = temp_coord->tPastPos[4].vusR[pl];
;;;1120   					else
;;;1121   #endif
;;;1122   						Check_vusR = temp_coord->tPastPos[2].vusR[pl];
0001aa  f8b8c498          LDRH     r12,[r8,#0x498]
;;;1123   					
;;;1124   					if( Check_vusR )
0001ae  f1bc0f00          CMP      r12,#0
0001b2  d03b              BEQ      |L21.556|
;;;1125   					{
;;;1126   						int sPred_x, sPred_y;
;;;1127   						int fPred_x, fPred_y;
;;;1128   						int sub_x1, sub_y1, sub_x2, sub_y2;
;;;1129   						tXY_t pred_pos2;
;;;1130   					
;;;1131   #if (INTERPOLATION_VER1_En == YES || INTERPOLATION_VER2_En == YES || INTERPOLATION_VER3_En == YES)
;;;1132   						if(temp_coord->bInterpolation_On)
;;;1133   						{
;;;1134   							fPred_x = temp_coord->tOrgPastPos[4].tXY[pl].x - temp_coord->tOrgPastPos[2].tXY[pl].x;
;;;1135   							fPred_y = temp_coord->tOrgPastPos[4].tXY[pl].y - temp_coord->tOrgPastPos[2].tXY[pl].y;
;;;1136   							sPred_x = temp_coord->tOrgPastPos[2].tXY[pl].x - temp_coord->tOrgPastPos[0].tXY[pl].x;
;;;1137   							sPred_y = temp_coord->tOrgPastPos[2].tXY[pl].y - temp_coord->tOrgPastPos[0].tXY[pl].y;
;;;1138   						}
;;;1139   						else
;;;1140   #endif
;;;1141   						{
;;;1142   							fPred_x = temp_coord->tOrgPastPos[2].tXY[pl].x - temp_coord->tOrgPastPos[1].tXY[pl].x;
0001b4  f8d4c7aa          LDR      r12,[r4,#0x7aa]
;;;1143   							fPred_y = temp_coord->tOrgPastPos[2].tXY[pl].y - temp_coord->tOrgPastPos[1].tXY[pl].y;
;;;1144   							sPred_x = temp_coord->tOrgPastPos[1].tXY[pl].x - temp_coord->tOrgPastPos[0].tXY[pl].x;
;;;1145   							sPred_y = temp_coord->tOrgPastPos[1].tXY[pl].y - temp_coord->tOrgPastPos[0].tXY[pl].y;
0001b8  f8d4b6bc          LDR      r11,[r4,#0x6bc]
0001bc  ebac0a03          SUB      r10,r12,r3            ;1142
0001c0  f8d4c7ae          LDR      r12,[r4,#0x7ae]       ;1143
0001c4  ebac0902          SUB      r9,r12,r2             ;1143
0001c8  eba2020b          SUB      r2,r2,r11
;;;1146   						}
;;;1147   						
;;;1148   						pred_pos2.x = temp_coord->tOrgPastPos[0].tXY[pl].x - (sPred_x + sPred_x - fPred_x);
;;;1149   						pred_pos2.y = temp_coord->tOrgPastPos[0].tXY[pl].y - (sPred_y + sPred_y - fPred_y);
0001cc  ebc90242          RSB      r2,r9,r2,LSL #1
0001d0  ebab0902          SUB      r9,r11,r2
;;;1150   						
;;;1151   						sub_x1 = pred_pos.x - temp_coord->tTempPos.tXY[cl].x;
0001d4  f8dd25c8          LDR      r2,[sp,#0x5c8]
0001d8  f8d4c6b8          LDR      r12,[r4,#0x6b8]       ;1144
0001dc  eb0202c5          ADD      r2,r2,r5,LSL #3
0001e0  eba3030c          SUB      r3,r3,r12             ;1144
0001e4  f8d2b001          LDR      r11,[r2,#1]
0001e8  ebca0343          RSB      r3,r10,r3,LSL #1      ;1148
;;;1152   						sub_y1 = pred_pos.y - temp_coord->tTempPos.tXY[cl].y;
0001ec  f8d22005          LDR      r2,[r2,#5]
0001f0  ebac0303          SUB      r3,r12,r3             ;1148
0001f4  ebb00c0b          SUBS     r12,r0,r11            ;1151
0001f8  eba10a02          SUB      r10,r1,r2
;;;1153   						if(sub_x1 < 0)	sub_x1 = -sub_x1;
0001fc  bf48              IT       MI
0001fe  f1cc0c00          RSBMI    r12,r12,#0
;;;1154   						if(sub_y1 < 0)	sub_y1 = -sub_y1;
000202  f1ba0f00          CMP      r10,#0
000206  bfb8              IT       LT
000208  f1ca0a00          RSBLT    r10,r10,#0
;;;1155   						
;;;1156   						sub_x2 = pred_pos2.x - temp_coord->tTempPos.tXY[cl].x;
00020c  ebb30b0b          SUBS     r11,r3,r11
;;;1157   						sub_y2 = pred_pos2.y - temp_coord->tTempPos.tXY[cl].y;
000210  eba90202          SUB      r2,r9,r2
;;;1158   						if(sub_x2 < 0)	sub_x2 = -sub_x2;
000214  bf48              IT       MI
000216  f1cb0b00          RSBMI    r11,r11,#0
;;;1159   						if(sub_y2 < 0)	sub_y2 = -sub_y2;
00021a  2a00              CMP      r2,#0
00021c  bfb8              IT       LT
00021e  4252              RSBLT    r2,r2,#0
;;;1160   						
;;;1161   						sub_x1 += sub_y1;
000220  44d4              ADD      r12,r12,r10
;;;1162   						sub_x2 += sub_y2;
000222  445a              ADD      r2,r2,r11
;;;1163   						
;;;1164   						if(sub_x2 < sub_x1)
000224  4562              CMP      r2,r12
;;;1165   							pred_pos = pred_pos2;
000226  bfbc              ITT      LT
000228  4618              MOVLT    r0,r3
00022a  4649              MOVLT    r1,r9
                  |L21.556|
;;;1166   					}
;;;1167   
;;;1168   					if( bCompFlag )
00022c  b1e7              CBZ      r7,|L21.616|
;;;1169   					{
;;;1170   						iDist = algorithm_coord_calc_comp_distance(temp_coord->tTempPos.tXY[cl], temp_coord->tOrgPastPos[0].tXY[pl], comp_pos);
00022e  f8dd05c8          LDR      r0,[sp,#0x5c8]
000232  f8d426b8          LDR      r2,[r4,#0x6b8]
000236  eb0000c5          ADD      r0,r0,r5,LSL #3
00023a  f8d496bc          LDR      r9,[r4,#0x6bc]
00023e  f8d03001          LDR      r3,[r0,#1]
000242  f8d0c005          LDR      r12,[r0,#5]
000246  980a              LDR      r0,[sp,#0x28]
000248  1a9a              SUBS     r2,r3,r2
00024a  1a10              SUBS     r0,r2,r0
00024c  e001              B        |L21.594|
                  |L21.590|
00024e  e026              B        |L21.670|
                  |L21.592|
000250  e01d              B        |L21.654|
                  |L21.594|
000252  fb00f200          MUL      r2,r0,r0
000256  9908              LDR      r1,[sp,#0x20]
000258  ebac0009          SUB      r0,r12,r9
00025c  1a40              SUBS     r0,r0,r1
00025e  fb002000          MLA      r0,r0,r0,r2
000262  f7fffffe          BL       algorithm_calc_sqrt
000266  e00f              B        |L21.648|
                  |L21.616|
;;;1171   					}
;;;1172   					else
;;;1173   					{
;;;1174   						iDist = algorithm_coord_calc_distance(temp_coord->tTempPos.tXY[cl], pred_pos);
000268  f8dd25c8          LDR      r2,[sp,#0x5c8]
00026c  eb0203c5          ADD      r3,r2,r5,LSL #3
000270  f8d32001          LDR      r2,[r3,#1]
000274  f8d33005          LDR      r3,[r3,#5]
000278  1a10              SUBS     r0,r2,r0
00027a  fb00f200          MUL      r2,r0,r0
00027e  1a58              SUBS     r0,r3,r1
000280  fb002000          MLA      r0,r0,r0,r2
000284  f7fffffe          BL       algorithm_calc_sqrt
                  |L21.648|
;;;1175   					}
;;;1176   					lDistanceMap[pl][cl] = iDist;
000288  9905              LDR      r1,[sp,#0x14]
00028a  f8410025          STR      r0,[r1,r5,LSL #2]
                  |L21.654|
;;;1177   				}
00028e  1c68              ADDS     r0,r5,#1
000290  b2c5              UXTB     r5,r0
000292  f8dd05c8          LDR      r0,[sp,#0x5c8]
000296  7800              LDRB     r0,[r0,#0]
000298  42a8              CMP      r0,r5
00029a  f63faf69          BHI      |L21.368|
                  |L21.670|
00029e  1c70              ADDS     r0,r6,#1
0002a0  b2c6              UXTB     r6,r0
0002a2  2e0a              CMP      r6,#0xa
0002a4  f4ffaf4e          BCC      |L21.324|
0002a8  f8dfb154          LDR      r11,|L21.1024|
0002ac  ae72              ADD      r6,sp,#0x1c8          ;997
;;;1178   			}
;;;1179   		}
;;;1180   	}
;;;1181   
;;;1182       do
;;;1183   	{
;;;1184       	match_cl = -1;
0002ae  bf00              NOP      
                  |L21.688|
0002b0  f04f35ff          MOV      r5,#0xffffffff
;;;1185       	match_pl = -1;
0002b4  462c              MOV      r4,r5
;;;1186   
;;;1187   		iMinDist = INT32_MAX;
0002b6  f06f4800          MVN      r8,#0x80000000
;;;1188   
;;;1189   		for(pl = 0; pl < MAX_TOUCH_; pl++)
0002ba  2200              MOVS     r2,#0
                  |L21.700|
;;;1190   		{
;;;1191   			if (temp_coord->tPastPos[0].vusR[pl] != 0)
0002bc  f8dd05c8          LDR      r0,[sp,#0x5c8]
0002c0  eb000042          ADD      r0,r0,r2,LSL #1
0002c4  f8b003a6          LDRH     r0,[r0,#0x3a6]
0002c8  b1f8              CBZ      r0,|L21.778|
;;;1192   			{
;;;1193   				for(cl = 0; cl < temp_coord->tTempPos.sFinger_; cl++)
0002ca  f8dd05c8          LDR      r0,[sp,#0x5c8]
0002ce  2100              MOVS     r1,#0
0002d0  f890c000          LDRB     r12,[r0,#0]
0002d4  f1bc0f00          CMP      r12,#0
0002d8  bf88              IT       HI                    ;1079
0002da  eb061082          ADDHI    r0,r6,r2,LSL #6       ;1079
0002de  d914              BLS      |L21.778|
                  |L21.736|
;;;1194   				{
;;;1195   					if (temp_coord->tTempPos.vusR[cl]) //For unmatched fingers,
0002e0  f8dd35c8          LDR      r3,[sp,#0x5c8]
0002e4  eb030341          ADD      r3,r3,r1,LSL #1
0002e8  f8b330a1          LDRH     r3,[r3,#0xa1]
0002ec  2b00              CMP      r3,#0
;;;1196   					{
;;;1197   						iDist = lDistanceMap[pl][cl];
0002ee  bf1e              ITTT     NE
0002f0  f8503021          LDRNE    r3,[r0,r1,LSL #2]
;;;1198   						if(iDist == -1) continue;
0002f4  f1b33fff          CMPNE    r3,#0xffffffff
;;;1199   
;;;1200   						if(iDist < iMinDist)
0002f8  4543              CMPNE    r3,r8
0002fa  da02              BGE      |L21.770|
;;;1201   						{
;;;1202   							iMinDist = iDist;
0002fc  4698              MOV      r8,r3
;;;1203   							match_cl = cl;
0002fe  460d              MOV      r5,r1
;;;1204   							match_pl = pl;
000300  4614              MOV      r4,r2
                  |L21.770|
000302  1c49              ADDS     r1,r1,#1
000304  b2c9              UXTB     r1,r1
000306  458c              CMP      r12,r1
000308  d8ea              BHI      |L21.736|
                  |L21.778|
00030a  1c50              ADDS     r0,r2,#1
00030c  b2c2              UXTB     r2,r0
00030e  2a0a              CMP      r2,#0xa
000310  d3d4              BCC      |L21.700|
;;;1205   						}
;;;1206   					}
;;;1207   				}
;;;1208   			}
;;;1209   		}
;;;1210   
;;;1211   		if( bCompFlag )
000312  2f00              CMP      r7,#0
000314  d06d              BEQ      |L21.1010|
;;;1212   		{
;;;1213   			uint16_t Check_vusR = 0;
;;;1214   			tXY_t UsePastPos;
;;;1215   #if (INTERPOLATION_VER1_En == YES || INTERPOLATION_VER2_En == YES || INTERPOLATION_VER3_En == YES)
;;;1216   			if(temp_coord->bInterpolation_On)
;;;1217   			{
;;;1218   				Check_vusR = temp_coord->tPastPos[2].vusR[match_pl];
;;;1219   				UsePastPos = temp_coord->tOrgPastPos[2].tXY[match_pl];
;;;1220   			}
;;;1221   			else
;;;1222   #endif
;;;1223   			{
;;;1224   				Check_vusR = temp_coord->tPastPos[1].vusR[match_pl];
000316  f8dd05c8          LDR      r0,[sp,#0x5c8]
;;;1225   				UsePastPos = temp_coord->tOrgPastPos[1].tXY[match_pl];
00031a  f8dd15c8          LDR      r1,[sp,#0x5c8]
00031e  eb000844          ADD      r8,r0,r4,LSL #1       ;1224
000322  eb0102c4          ADD      r2,r1,r4,LSL #3
000326  f8b8041f          LDRH     r0,[r8,#0x41f]        ;1224
00032a  f8d2c731          LDR      r12,[r2,#0x731]
00032e  f8d23735          LDR      r3,[r2,#0x735]
;;;1226   			}
;;;1227   
;;;1228   			if( Check_vusR )
000332  2800              CMP      r0,#0
;;;1229   			{
;;;1230   				pred_pos.x = (temp_coord->tOrgPastPos[0].tXY[match_pl].x << 1) - UsePastPos.x;
;;;1231   				pred_pos.y = (temp_coord->tOrgPastPos[0].tXY[match_pl].y << 1) - UsePastPos.y;
;;;1232   			}
;;;1233   			else
;;;1234   			{
;;;1235   				pred_pos.x = temp_coord->tOrgPastPos[0].tXY[match_pl].x;
000334  bf04              ITT      EQ
000336  f8d206b8          LDREQ    r0,[r2,#0x6b8]
;;;1236   				pred_pos.y = temp_coord->tOrgPastPos[0].tXY[match_pl].y;
00033a  f8d216bc          LDREQ    r1,[r2,#0x6bc]
00033e  d007              BEQ      |L21.848|
000340  f8d216b8          LDR      r1,[r2,#0x6b8]        ;1230
000344  f8d296bc          LDR      r9,[r2,#0x6bc]        ;1231
000348  ebcc0041          RSB      r0,r12,r1,LSL #1      ;1230
00034c  ebc30149          RSB      r1,r3,r9,LSL #1       ;1231
                  |L21.848|
;;;1237   			}
;;;1238   			
;;;1239   			Check_vusR = 0;
;;;1240   #if (INTERPOLATION_VER1_En == YES || INTERPOLATION_VER2_En == YES || INTERPOLATION_VER3_En == YES)
;;;1241   			if(temp_coord->bInterpolation_On)
;;;1242   				Check_vusR = temp_coord->tPastPos[4].vusR[match_pl];
;;;1243   			else
;;;1244   #endif
;;;1245   				Check_vusR = temp_coord->tPastPos[2].vusR[match_pl];
000350  f8b88498          LDRH     r8,[r8,#0x498]
;;;1246   
;;;1247   			if( Check_vusR )
000354  f1b80f00          CMP      r8,#0
000358  d03a              BEQ      |L21.976|
;;;1248   			{
;;;1249   				int sPred_x, sPred_y;
;;;1250   				int fPred_x, fPred_y;
;;;1251   				int sub_x1, sub_y1, sub_x2, sub_y2;
;;;1252   				tXY_t pred_pos2;
;;;1253   				
;;;1254   #if (INTERPOLATION_VER1_En == YES || INTERPOLATION_VER2_En == YES || INTERPOLATION_VER3_En == YES)
;;;1255   				if(temp_coord->bInterpolation_On)
;;;1256   				{					
;;;1257   					fPred_x = temp_coord->tOrgPastPos[4].tXY[match_pl].x - temp_coord->tOrgPastPos[2].tXY[match_pl].x;
;;;1258   					fPred_y = temp_coord->tOrgPastPos[4].tXY[match_pl].y - temp_coord->tOrgPastPos[2].tXY[match_pl].y;
;;;1259   					sPred_x = temp_coord->tOrgPastPos[2].tXY[match_pl].x - temp_coord->tOrgPastPos[0].tXY[match_pl].x;
;;;1260   					sPred_y = temp_coord->tOrgPastPos[2].tXY[match_pl].y - temp_coord->tOrgPastPos[0].tXY[match_pl].y;
;;;1261   				}
;;;1262   				else
;;;1263   #endif
;;;1264   				{
;;;1265   					fPred_x = temp_coord->tOrgPastPos[2].tXY[match_pl].x - temp_coord->tOrgPastPos[1].tXY[match_pl].x;
00035a  f8d287aa          LDR      r8,[r2,#0x7aa]
00035e  eba80a0c          SUB      r10,r8,r12
;;;1266   					fPred_y = temp_coord->tOrgPastPos[2].tXY[match_pl].y - temp_coord->tOrgPastPos[1].tXY[match_pl].y;
000362  f8d287ae          LDR      r8,[r2,#0x7ae]
000366  eba80903          SUB      r9,r8,r3
;;;1267   					sPred_x = temp_coord->tOrgPastPos[1].tXY[match_pl].x - temp_coord->tOrgPastPos[0].tXY[match_pl].x;
00036a  f8d286b8          LDR      r8,[r2,#0x6b8]
;;;1268   					sPred_y = temp_coord->tOrgPastPos[1].tXY[match_pl].y - temp_coord->tOrgPastPos[0].tXY[match_pl].y;
00036e  f8d226bc          LDR      r2,[r2,#0x6bc]
000372  ebac0c08          SUB      r12,r12,r8            ;1267
000376  1a9b              SUBS     r3,r3,r2
;;;1269   				}
;;;1270   				
;;;1271   				pred_pos2.x = temp_coord->tOrgPastPos[0].tXY[match_pl].x - (sPred_x + sPred_x - fPred_x);
;;;1272   				pred_pos2.y = temp_coord->tOrgPastPos[0].tXY[match_pl].y - (sPred_y + sPred_y - fPred_y);
000378  ebc90343          RSB      r3,r9,r3,LSL #1
00037c  eba20903          SUB      r9,r2,r3
;;;1273   				
;;;1274   				sub_x1 = pred_pos.x - temp_coord->tTempPos.tXY[match_cl].x;
000380  f8dd25c8          LDR      r2,[sp,#0x5c8]
000384  ebca0c4c          RSB      r12,r10,r12,LSL #1    ;1271
000388  eb0202c5          ADD      r2,r2,r5,LSL #3
00038c  eba80c0c          SUB      r12,r8,r12            ;1271
000390  f8d2a001          LDR      r10,[r2,#1]
;;;1275   				sub_y1 = pred_pos.y - temp_coord->tTempPos.tXY[match_cl].y;
000394  f8d28005          LDR      r8,[r2,#5]
000398  ebb0030a          SUBS     r3,r0,r10             ;1274
00039c  eba10208          SUB      r2,r1,r8
;;;1276   				if(sub_x1 < 0)	sub_x1 = -sub_x1;
0003a0  bf48              IT       MI
0003a2  425b              RSBMI    r3,r3,#0
;;;1277   				if(sub_y1 < 0)	sub_y1 = -sub_y1;
0003a4  2a00              CMP      r2,#0
0003a6  bfb8              IT       LT
0003a8  4252              RSBLT    r2,r2,#0
;;;1278   				
;;;1279   				sub_x2 = pred_pos2.x - temp_coord->tTempPos.tXY[match_cl].x;
0003aa  ebbc0a0a          SUBS     r10,r12,r10
;;;1280   				sub_y2 = pred_pos2.y - temp_coord->tTempPos.tXY[match_cl].y;
0003ae  eba90808          SUB      r8,r9,r8
;;;1281   				if(sub_x2 < 0)	sub_x2 = -sub_x2;
0003b2  bf48              IT       MI
0003b4  f1ca0a00          RSBMI    r10,r10,#0
;;;1282   				if(sub_y2 < 0)	sub_y2 = -sub_y2;
0003b8  f1b80f00          CMP      r8,#0
0003bc  bfb8              IT       LT
0003be  f1c80800          RSBLT    r8,r8,#0
;;;1283   				
;;;1284   				sub_x1 += sub_y1;
0003c2  441a              ADD      r2,r2,r3
;;;1285   				sub_x2 += sub_y2;
0003c4  eb0a0308          ADD      r3,r10,r8
;;;1286   				
;;;1287   				if(sub_x2 < sub_x1)
0003c8  4293              CMP      r3,r2
;;;1288   					pred_pos = pred_pos2;
0003ca  bfbc              ITT      LT
0003cc  4660              MOVLT    r0,r12
0003ce  4649              MOVLT    r1,r9
                  |L21.976|
;;;1289   			}
;;;1290   			
;;;1291   			iMinDist = algorithm_coord_calc_distance(temp_coord->tTempPos.tXY[match_cl], pred_pos);
0003d0  f8dd25c8          LDR      r2,[sp,#0x5c8]
0003d4  eb0202c5          ADD      r2,r2,r5,LSL #3
0003d8  f8d23001          LDR      r3,[r2,#1]
0003dc  f8d22005          LDR      r2,[r2,#5]
0003e0  1a18              SUBS     r0,r3,r0
0003e2  fb00f300          MUL      r3,r0,r0
0003e6  1a50              SUBS     r0,r2,r1
0003e8  fb003000          MLA      r0,r0,r0,r3
0003ec  f7fffffe          BL       algorithm_calc_sqrt
0003f0  4680              MOV      r8,r0
                  |L21.1010|
;;;1292   		}
;;;1293   
;;;1294   #if 0
;;;1295   		if (temp_coord->ucIdMappedCnt[match_pl] == 1)
;;;1296   		{
;;;1297   			iDistanceThd = (thisModeConf->CoordTracking.usFirstMoveDistanceThd << POS_BOOST_SHIFT_);
;;;1298   		}
;;;1299   		else
;;;1300   		{
;;;1301   			iDistanceThd = temp_coord->slScaledMoveDistThd;
;;;1302   			if (temp_coord->lPrevDist[match_pl] > temp_coord->slScaledMoveDistThd)
;;;1303   				iDistanceThd += (temp_coord->lPrevDist[match_pl] * 2);
;;;1304   		}
;;;1305   #endif		
;;;1306   		
;;;1307   		//Set tracking distance
;;;1308   		{
;;;1309   			uint8_t FirstMoveFrameNum = 0;
;;;1310   			if(thisModeConf->CoordTracking.ucFastDrawingMode)
0003f2  f8db1008          LDR      r1,[r11,#8]  ; thisModeConf
0003f6  46d9              MOV      r9,r11
0003f8  f89100ad          LDRB     r0,[r1,#0xad]
0003fc  2800              CMP      r0,#0
;;;1311   				FirstMoveFrameNum = 2;
0003fe  e001              B        |L21.1028|
                  |L21.1024|
                          DCD      ||.data||
                  |L21.1028|
000404  bf14              ITE      NE
000406  2002              MOVNE    r0,#2
;;;1312   			else
;;;1313   				FirstMoveFrameNum = 1;
000408  2001              MOVEQ    r0,#1
;;;1314   	//		if (temp_coord->bIsMoving[match_pl] == NO)		//In tracking
;;;1315   			
;;;1316   			if (temp_coord->ucIdMappedCnt[match_pl] <= FirstMoveFrameNum)
00040a  f8dd25c8          LDR      r2,[sp,#0x5c8]
00040e  4422              ADD      r2,r2,r4
000410  f8922caa          LDRB     r2,[r2,#0xcaa]
000414  4282              CMP      r2,r0
;;;1317   			{
;;;1318   				iDistanceThd = (thisModeConf->CoordTracking.usFirstMoveDistanceThd << POS_BOOST_SHIFT_);
000416  bf9c              ITT      LS
000418  f8b100b0          LDRHLS   r0,[r1,#0xb0]
00041c  0200              LSLLS    r0,r0,#8
00041e  d913              BLS      |L21.1096|
;;;1319   			}
;;;1320   			else
;;;1321   			{
;;;1322   				//Dynamic tracking distance
;;;1323   				if(thisModeConf->CoordTracking.ucDynamicTrackingDistanceMode == 1)
000420  f89100ac          LDRB     r0,[r1,#0xac]
000424  2801              CMP      r0,#1
000426  d017              BEQ      |L21.1112|
;;;1324   				{
;;;1325   					if(thisInfo->WinCertMode){
;;;1326   						thisInfo->WinCertTrackingDist = MAX(thisInfo->WinCertTrackingDist, (temp_coord->lPrevDist[match_pl]<<3));
;;;1327   						iDistanceThd = MAX( (1<<(POS_BOOST_SHIFT_-1)), thisInfo->WinCertTrackingDist );
;;;1328   					}
;;;1329   					else{
;;;1330   						if(algorithm_coord_IsEdgeArea(&temp_coord->iStopPos[match_pl],0)>0)
;;;1331   							iDistanceThd = MAX( (3<<(POS_BOOST_SHIFT_)), (temp_coord->lPrevDist[match_pl]<<2) );
;;;1332   						else
;;;1333   							iDistanceThd = MAX( (1<<(POS_BOOST_SHIFT_))+(1<<(POS_BOOST_SHIFT_-1)), (temp_coord->lPrevDist[match_pl]<<2) );
;;;1334   						
;;;1335   		//				if(temp_coord->ucIdMappedCnt[match_pl] >= 4)
;;;1336   		//					iDistanceThd = (thisModeConf->CoordTracking.usMoveDistanceThd << POS_BOOST_SHIFT_);
;;;1337   					}
;;;1338   				}
;;;1339   				else if(thisModeConf->CoordTracking.ucDynamicTrackingDistanceMode == 2)
000428  2802              CMP      r0,#2
00042a  d053              BEQ      |L21.1236|
;;;1340   				{
;;;1341   					iDistanceThd = MAX( ((temp_coord->ucIdMappedCnt[match_pl]+1)<<(POS_BOOST_SHIFT_)), (temp_coord->lPrevDist[match_pl]<<2) );
;;;1342   				}
;;;1343   				else
;;;1344   				{	
;;;1345   					iDistanceThd = temp_coord->slScaledMoveDistThd;
;;;1346   					if (temp_coord->lPrevDist[match_pl] > temp_coord->slScaledMoveDistThd)
00042c  f8dd15c8          LDR      r1,[sp,#0x5c8]
000430  f8dd05c8          LDR      r0,[sp,#0x5c8]        ;1345
000434  eb010184          ADD      r1,r1,r4,LSL #2
000438  f8d00ca6          LDR      r0,[r0,#0xca6]        ;1345
00043c  f8d11ce2          LDR      r1,[r1,#0xce2]
000440  4281              CMP      r1,r0
;;;1347   						iDistanceThd += (temp_coord->lPrevDist[match_pl] * 2);
000442  bfc8              IT       GT
000444  eb000041          ADDGT    r0,r0,r1,LSL #1
                  |L21.1096|
;;;1348   				}
;;;1349   			}
;;;1350   			if(thisInfo->tCoord.bOutInFlag[match_pl] == YES){
000448  f8d9100c          LDR      r1,[r9,#0xc]  ; thisInfo
00044c  4421              ADD      r1,r1,r4
00044e  f8911ff1          LDRB     r1,[r1,#0xff1]
000452  2901              CMP      r1,#1
000454  d152              BNE      |L21.1276|
000456  e04b              B        |L21.1264|
                  |L21.1112|
000458  f8d9000c          LDR      r0,[r9,#0xc]          ;1325  ; thisInfo
00045c  f5005180          ADD      r1,r0,#0x1000         ;1325
000460  f89104f4          LDRB     r0,[r1,#0x4f4]        ;1325
000464  b190              CBZ      r0,|L21.1164|
000466  f8dd25c8          LDR      r2,[sp,#0x5c8]        ;1326
00046a  f8b104f6          LDRH     r0,[r1,#0x4f6]        ;1326
00046e  eb020284          ADD      r2,r2,r4,LSL #2       ;1326
000472  f8d22ce2          LDR      r2,[r2,#0xce2]        ;1326
000476  ebb00fc2          CMP      r0,r2,LSL #3          ;1326
00047a  bfd8              IT       LE                    ;1326
00047c  00d0              LSLLE    r0,r2,#3              ;1326
00047e  b280              UXTH     r0,r0                 ;1326
000480  f8a104f6          STRH     r0,[r1,#0x4f6]        ;1326
000484  2880              CMP      r0,#0x80              ;1327
000486  bf38              IT       CC                    ;1327
000488  2080              MOVCC    r0,#0x80              ;1327
00048a  e7dd              B        |L21.1096|
                  |L21.1164|
00048c  f8dd05c8          LDR      r0,[sp,#0x5c8]        ;1330
000490  2100              MOVS     r1,#0                 ;1330
000492  eb0000c4          ADD      r0,r0,r4,LSL #3       ;1330
000496  f600505c          ADD      r0,r0,#0xd5c          ;1330
00049a  f7fffffe          BL       algorithm_coord_IsEdgeArea
00049e  2800              CMP      r0,#0                 ;1330
0004a0  f8dd05c8          LDR      r0,[sp,#0x5c8]        ;1333
0004a4  eb000084          ADD      r0,r0,r4,LSL #2       ;1333
0004a8  f8d00ce2          LDR      r0,[r0,#0xce2]        ;1333
0004ac  dd08              BLE      |L21.1216|
0004ae  f44f7140          MOV      r1,#0x300             ;1331
0004b2  ebb10f80          CMP      r1,r0,LSL #2          ;1331
0004b6  bfc8              IT       GT                    ;1331
0004b8  f44f7040          MOVGT    r0,#0x300             ;1331
0004bc  dd08              BLE      |L21.1232|
0004be  e7c3              B        |L21.1096|
                  |L21.1216|
0004c0  f44f71c0          MOV      r1,#0x180             ;1333
0004c4  ebb10f80          CMP      r1,r0,LSL #2          ;1333
0004c8  bfc8              IT       GT                    ;1333
0004ca  f44f70c0          MOVGT    r0,#0x180             ;1333
0004ce  dcbb              BGT      |L21.1096|
                  |L21.1232|
0004d0  0080              LSLS     r0,r0,#2              ;1333
0004d2  e7b9              B        |L21.1096|
                  |L21.1236|
0004d4  f8dd15c8          LDR      r1,[sp,#0x5c8]        ;1341
0004d8  0210              LSLS     r0,r2,#8              ;1341
0004da  eb010184          ADD      r1,r1,r4,LSL #2       ;1341
0004de  f5007080          ADD      r0,r0,#0x100          ;1341
0004e2  f8d11ce2          LDR      r1,[r1,#0xce2]        ;1341
0004e6  ebb00f81          CMP      r0,r1,LSL #2          ;1341
0004ea  bfd8              IT       LE                    ;1341
0004ec  0088              LSLLE    r0,r1,#2              ;1341
0004ee  e7ab              B        |L21.1096|
                  |L21.1264|
;;;1351   				iDistanceThd += 200;
;;;1352   				outInTrackingFlag++;
0004f0  f8d9101c          LDR      r1,[r9,#0x1c]  ; outInTrackingFlag
0004f4  1c49              ADDS     r1,r1,#1
0004f6  30c8              ADDS     r0,r0,#0xc8
0004f8  f8c9101c          STR      r1,[r9,#0x1c]  ; outInTrackingFlag
                  |L21.1276|
;;;1353   			}
;;;1354   #if USED_NOISE_HOPPING_FREQ
;;;1355   //			if(ptAppInfo->eHoppingStatus == FREQ_HOPPING_CHANGED)
;;;1356   			if(ptAppInfo->ucHoppFrameCnt)
0004fc  f8d92010          LDR      r2,[r9,#0x10]  ; ptAppInfo
000500  7d51              LDRB     r1,[r2,#0x15]
000502  b1a1              CBZ      r1,|L21.1326|
;;;1357   			{
;;;1358   //				iDistanceThd <<= 2;
;;;1359   				iDistanceThd = (thisModeConf->Noise.ucHoppingMoveDistanceThd << POS_BOOST_SHIFT_);
000504  f8d90008          LDR      r0,[r9,#8]  ; thisModeConf
;;;1360   				if (temp_coord->lPrevDist[match_pl] > iDistanceThd)
000508  f8dd15c8          LDR      r1,[sp,#0x5c8]
00050c  eb010184          ADD      r1,r1,r4,LSL #2
000510  f89001fa          LDRB     r0,[r0,#0x1fa]        ;1359
000514  f8d11ce2          LDR      r1,[r1,#0xce2]
000518  0200              LSLS     r0,r0,#8              ;1359
00051a  4281              CMP      r1,r0
;;;1361   						iDistanceThd += (temp_coord->lPrevDist[match_pl] * 2);
00051c  bfc8              IT       GT
00051e  eb000041          ADDGT    r0,r0,r1,LSL #1
;;;1362   				
;;;1363   				iDistanceThd = MAX( (iDistanceThd), (temp_coord->lPrevDist[match_pl]<<2) );
000522  ebb00f81          CMP      r0,r1,LSL #2
000526  bfd8              IT       LE
000528  0088              LSLLE    r0,r1,#2
;;;1364   				ptAppInfo->ucHoppFrameCnt = 0;
00052a  2100              MOVS     r1,#0
00052c  7551              STRB     r1,[r2,#0x15]
                  |L21.1326|
;;;1365   			}
;;;1366   #endif /* USED_NOISE_HOPPING_FREQ */
;;;1367   		}
;;;1368   
;;;1369   
;;;1370   		if(mode == FULL_MODE)
00052e  f8dd1690          LDR      r1,[sp,#0x690]
000532  b931              CBNZ     r1,|L21.1346|
;;;1371   		{
;;;1372   			if(iMinDist > iDistanceThd)
000534  4580              CMP      r8,r0
000536  dc31              BGT      |L21.1436|
;;;1373   			{
;;;1374   				match_cl = -1;
;;;1375   				match_pl = -1;
;;;1376   			}
;;;1377   #if USED_NOISE_HOPPING_FREQ
;;;1378   			else if(ptAppInfo->eHoppingStatus == FREQ_HOPPING_CHANGED)
000538  7d10              LDRB     r0,[r2,#0x14]
00053a  2801              CMP      r0,#1
;;;1379   			{
;;;1380   				ptAppInfo->eHoppingStatus = FREQ_HOPPING_NONE;
00053c  bf04              ITT      EQ
00053e  2000              MOVEQ    r0,#0
000540  7510              STRBEQ   r0,[r2,#0x14]
                  |L21.1346|
;;;1381   			}
;;;1382   #endif /* USED_NOISE_HOPPING_FREQ */
;;;1383   		}
;;;1384   
;;;1385   		if(match_cl != -1)
000542  f1b53fff          CMP      r5,#0xffffffff
000546  d029              BEQ      |L21.1436|
;;;1386   		{
;;;1387   			for(pl = 0; pl < MAX_TOUCH_; pl++)
000548  2105              MOVS     r1,#5
00054a  eb060085          ADD      r0,r6,r5,LSL #2
00054e  1f8a              SUBS     r2,r1,#6              ;1017
000550  3840              SUBS     r0,r0,#0x40           ;1017
                  |L21.1362|
;;;1388   				lDistanceMap[pl][match_cl] = -1;
000552  1e49              SUBS     r1,r1,#1
000554  6402              STR      r2,[r0,#0x40]
000556  f8402f80          STR      r2,[r0,#0x80]!
00055a  d1fa              BNE      |L21.1362|
;;;1389   
;;;1390   			for(cl = 0; cl < temp_coord->tTempPos.sFinger_; cl++)
00055c  f8dd05c8          LDR      r0,[sp,#0x5c8]
000560  7801              LDRB     r1,[r0,#0]
000562  b189              CBZ      r1,|L21.1416|
000564  eb061084          ADD      r0,r6,r4,LSL #6
000568  1f00              SUBS     r0,r0,#4
;;;1391   				lDistanceMap[match_pl][cl] = -1;
;;;1392   
;;;1393               //if (match_cl != -1) // If the most near finger is found,
;;;1394               {
;;;1395   				ulPrematchedDist[match_cl] = iMinDist;
;;;1396   				cReorderRemap[match_cl] = match_pl;
;;;1397               }
;;;1398   		}
;;;1399   	} while(match_cl != -1);
;;;1400   
;;;1401   #else
;;;1402       //cReorderRemap . Current Group Index --> Real Group Index( 丮 µ).
;;;1403       for (pl = 0; pl < MAX_TOUCH_; pl++)
;;;1404       {
;;;1405           if (temp_coord->tPastPos[0].vusR[pl] != 0)
;;;1406           {
;;;1407               //Increase minimum displacement according to prev-distance.
;;;1408   			iMinDist = (temp_coord->lPrevDist[pl])*2 + temp_coord->slScaledMoveDistThd;
;;;1409   
;;;1410               match = -1;
;;;1411               // Find the previous point to match the current point
;;;1412               for (cl = 0; cl < temp_coord->tTempPos.sFinger_; cl++)
;;;1413               {
;;;1414                   if (temp_coord->tTempPos.vusR[cl]) //For unmatched fingers,
;;;1415                   {
;;;1416                   	uint16_t Check_vusR = 0;
;;;1417   					tXY_t UsePastPos;
;;;1418   #if (INTERPOLATION_VER1_En == YES || INTERPOLATION_VER2_En == YES)
;;;1419   					if(temp_coord->bInterpolation_On)
;;;1420   					{
;;;1421   						Check_vusR = temp_coord->tPastPos[2].vusR[pl];
;;;1422   						UsePastPos = temp_coord->tOrgPastPos[2].tXY[pl];
;;;1423   					}
;;;1424   					else
;;;1425   #endif
;;;1426   					{
;;;1427   						Check_vusR = temp_coord->tPastPos[1].vusR[pl];
;;;1428   						UsePastPos = temp_coord->tOrgPastPos[1].tXY[pl];
;;;1429   					}
;;;1430   					
;;;1431                   	if( Check_vusR )
;;;1432                   	{
;;;1433                   		if(temp_coord->ucIdMappedCnt[cl] >= 2)
;;;1434                   		{
;;;1435                   			avg_pos.x = (temp_coord->tTempPos.tXY[cl].x + temp_coord->tOrgPastPos[0].tXY[pl].x + UsePastPos.x)/3;
;;;1436   							avg_pos.y = (temp_coord->tTempPos.tXY[cl].y + temp_coord->tOrgPastPos[0].tXY[pl].y + UsePastPos.y)/3;
;;;1437   							pred_pos.x = (avg_pos.x << 1) - temp_coord->tOrgAvgPos.tXY[pl].x;
;;;1438   							pred_pos.y = (avg_pos.y << 1) - temp_coord->tOrgAvgPos.tXY[pl].y;
;;;1439                   		}
;;;1440                   		else
;;;1441                   		{
;;;1442                   			avg_pos.x = (temp_coord->tTempPos.tXY[cl].x + temp_coord->tOrgPastPos[0].tXY[pl].x)/2;
;;;1443   							avg_pos.y = (temp_coord->tTempPos.tXY[cl].y + temp_coord->tOrgPastPos[0].tXY[pl].y)/2;
;;;1444                   		}
;;;1445   
;;;1446   						pred_pos.x = (avg_pos.x << 1) - temp_coord->tOrgAvgPos.tXY[pl].x;
;;;1447   						pred_pos.y = (avg_pos.y << 1) - temp_coord->tOrgAvgPos.tXY[pl].y;
;;;1448                   	}
;;;1449                   	else
;;;1450                   	{
;;;1451                   		pred_pos.x = temp_coord->tOrgPastPos[0].tXY[pl].x;
;;;1452                   		pred_pos.y = temp_coord->tOrgPastPos[0].tXY[pl].y;
;;;1453                   	}
;;;1454   
;;;1455                       iDist = algorithm_coord_calc_distance(temp_coord->tTempPos.tXY[cl], pred_pos);
;;;1456   
;;;1457                       if (iDist < iMinDist)
;;;1458                       {
;;;1459                           iMinDist = iDist;
;;;1460                           match = cl;
;;;1461                       }
;;;1462                   }
;;;1463               }
;;;1464   
;;;1465               if (match != -1) // If the most near finger is found,
;;;1466               {
;;;1467                   // ġ   ִٸ,  Ÿ ̹ ġ Ÿ ū ,
;;;1468                   if ((cReorderRemap[match] != -1) && ulPrematchedDist[match] > (uint32_t)iMinDist)
;;;1469                   {
;;;1470                       ulPrematchedDist[match] = iMinDist;
;;;1471                       cReorderRemap[match] = pl;
;;;1472                   }
;;;1473                   // ġ   .
;;;1474                   else if (cReorderRemap[match] == -1)
;;;1475                   {
;;;1476                       ulPrematchedDist[match] = iMinDist;
;;;1477                       cReorderRemap[match] = pl;
;;;1478                   }
;;;1479               }
;;;1480           }
;;;1481       }
;;;1482   #endif
;;;1483   
;;;1484       //TODO:   ؼ iReorderRemap  ְ, iReorderRemap  reordering   ϵ ٲ.
;;;1485       for (cl = 0; cl < temp_coord->tTempPos.sFinger_; cl++)
;;;1486       {
;;;1487           //Remap ϴ 쿡,
;;;1488           if (cReorderRemap[cl] != -1)
;;;1489           {
;;;1490               pl = cReorderRemap[cl];
;;;1491               temp_coord->tPos.tXY[pl]  = temp_coord->tTempPos.tXY[cl];
;;;1492               temp_coord->tPos.vusR[pl] = temp_coord->tTempPos.vusR[cl];
;;;1493               temp_coord->tPos.vusS[pl] = temp_coord->tTempPos.vusS[cl];
;;;1494               temp_coord->tPos.rect[pl] = temp_coord->tTempPos.rect[cl];
;;;1495               temp_coord->tPos.MaxDelta[pl] = temp_coord->tTempPos.MaxDelta[cl];
;;;1496   #if (PENnPalm_PalmAreaMaintain_EN == YES || PalmCandidateTouchCut_EN == YES)
;;;1497   			temp_coord->tPos.MaxPos[pl].c = temp_coord->tTempPos.MaxPos[cl].c;
;;;1498   			temp_coord->tPos.MaxPos[pl].r = temp_coord->tTempPos.MaxPos[cl].r;
;;;1499   #endif /* (PENnPalm_PalmAreaMaintain_EN == YES) */
;;;1500   			
;;;1501   			temp_coord->RealMaxDelta[pl] = temp_coord->RealMaxDelta[cl];
;;;1502   
;;;1503   			temp_coord->lPrevDist[pl] = algorithm_coord_calc_distance(temp_coord->tOrgPastPos[0].tXY[pl], temp_coord->tPos.tXY[pl]);
;;;1504           }
;;;1505       }
;;;1506   
;;;1507       /*
;;;1508        *   ο finger ־ֱ.
;;;1509        */
;;;1510       for (cl = 0; cl < temp_coord->tTempPos.sFinger_; cl++)
;;;1511       {
;;;1512           // For unmatched current points
;;;1513           if (cReorderRemap[cl] == -1 && temp_coord->tTempPos.vusR[cl])
;;;1514           {
;;;1515               for (pl = 0; pl < MAX_TOUCH_; pl++)
;;;1516               {
;;;1517                   // For an empty and new slot
;;;1518                   if (temp_coord->tPastPos[0].vusR[pl] == 0 && temp_coord->tPos.vusR[pl] == 0)
;;;1519                   {
;;;1520                       cReorderRemap[cl] = pl;
;;;1521                       temp_coord->tPos.tXY[pl]      = temp_coord->tTempPos.tXY[cl];
;;;1522                       temp_coord->tPos.vusR[pl]     = temp_coord->tTempPos.vusR[cl];
;;;1523                       temp_coord->tPos.vusS[pl]     = temp_coord->tTempPos.vusS[cl];
;;;1524                       temp_coord->tPos.rect[pl]     = temp_coord->tTempPos.rect[cl];
;;;1525                       temp_coord->tPos.MaxDelta[pl]  = temp_coord->tTempPos.MaxDelta[cl];
;;;1526   #if (PENnPalm_PalmAreaMaintain_EN == YES || PalmCandidateTouchCut_EN == YES)
;;;1527   					temp_coord->tPos.MaxPos[pl].c = temp_coord->tTempPos.MaxPos[cl].c;
;;;1528   					temp_coord->tPos.MaxPos[pl].r = temp_coord->tTempPos.MaxPos[cl].r;
;;;1529   #endif /* (PENnPalm_PalmAreaMaintain_EN == YES) */
;;;1530   					
;;;1531   					temp_coord->RealMaxDelta[pl] = temp_coord->RealMaxDelta[cl];
;;;1532   
;;;1533                       temp_coord->lPrevDist[pl]     = 0;
;;;1534                       break;
;;;1535                   }
;;;1536               }
;;;1537           }
;;;1538       }
;;;1539   
;;;1540       //Remap matrix . Group matrix  ǥ ׷ ε Ī ؼ.
;;;1541       for (cl = 0; cl < LOOSE_POSBUF_; cl++)
;;;1542       {
;;;1543           pl = cReorderRemap[cl];
;;;1544           if (pl < MAX_TOUCH_)
;;;1545           	temp_coord->cRemap[pl] = cl;
;;;1546   //        else
;;;1547   //            //maxtouch    group index ؼ,
;;;1548   //        	temp_coord->cRemap[cl] = -1;
;;;1549       }
;;;1550   
;;;1551   	temp_coord->tOrgPos.sFinger_ = temp_coord->tPos.sFinger_; 
;;;1552       for( cl=MAX_TOUCH_; cl--; )
;;;1553   	{
;;;1554   //		temp_coord->tOrgPosHist[0].tXY[cl]  = temp_coord->tPos.tXY[cl];
;;;1555   //		temp_coord->tOrgPosHist[0].vusS[cl] = temp_coord->tPos.vusS[cl];
;;;1556   //		temp_coord->tOrgPosHist[0].vusR[cl] = temp_coord->tPos.vusR[cl];
;;;1557   		
;;;1558   		temp_coord->tOrgPos.tXY[cl]  = temp_coord->tPos.tXY[cl];
;;;1559   		temp_coord->tOrgPos.vusS[cl] = temp_coord->tPos.vusS[cl];
;;;1560   		temp_coord->tOrgPos.vusR[cl] = temp_coord->tPos.vusR[cl];
;;;1561   		temp_coord->tOrgPos.rect[cl] = temp_coord->tPos.rect[cl];
;;;1562   
;;;1563   		if( temp_coord->tPos.vusR[cl] )
;;;1564   		{
;;;1565   			if(temp_coord->ucIdMappedCnt[cl] < COORD_HISTORY_NUM)
;;;1566   			{
;;;1567   				temp_coord->ucIdMappedCnt[cl]++;
;;;1568   			}
;;;1569   
;;;1570   			if( temp_coord->ucIdMappedCnt[cl] == 1 )
;;;1571   			{
;;;1572   				//Heon
;;;1573   				#if RANSAC_ALGO_EN
;;;1574   				Ransac_Init(cl);
;;;1575   				#endif
;;;1576   				//Heon
;;;1577   				
;;;1578   				//Heon
;;;1579   //				temp_coord->tFirstOutInPos.tXY[cl] = temp_coord->tPos.tXY[cl];
;;;1580   //				temp_coord->tFirstOutInPos.vusS[cl] = temp_coord->tPos.vusS[cl];
;;;1581   				//Heon
;;;1582   				
;;;1583   				if(mode == FULL_MODE)
;;;1584   				{
;;;1585   					pl = thisInfo->tCoord.cRemap[cl];
;;;1586   #if USED_IDLE_CORNER_EDGE_DEBOUNC_DISABLE
;;;1587   					if((thisInfo->tLabel.tTable[pl].ulStrength*100)/thisInfo->tLabel.tTable[pl].ulExtStrength < 70 && !algorithm_coord_IsEdgeArea(&thisInfo->tCoord.tPos.tXY[cl], 0))//77)
;;;1588   #else /* USED_IDLE_CORNER_EDGE_DEBOUNC_DISABLE */
;;;1589   					if((thisInfo->tLabel.tTable[pl].ulStrength*100)/thisInfo->tLabel.tTable[pl].ulExtStrength < 70)//77)
;;;1590   #endif /* USED_IDLE_CORNER_EDGE_DEBOUNC_DISABLE */
;;;1591   					{
;;;1592   //						thisInfo->tCoord.ucIdMappedCnt[cl] = 0;
;;;1593   //						thisInfo->tCoord.tPos.vusR[cl] = 0;
;;;1594   						thisInfo->tCoord.tPos.vusS[cl] = 0;
;;;1595   //						continue;
;;;1596   					}
;;;1597   				}
;;;1598   				temp_coord->tFirstPos.tXY[cl] = temp_coord->tPos.tXY[cl];
;;;1599   				temp_coord->DrawingFlag[cl] = NO;
;;;1600   				FirstTouchEnable[cl] = NO;
;;;1601   #if (VECTOR_PREDICTION_EN == YES)
;;;1602   				ProjectionEnable[cl] = NO;
;;;1603   #endif
;;;1604   				
;;;1605   				temp_coord->iStopPos[cl] = temp_coord->tPos.tXY[cl];
;;;1606   			}
;;;1607   			
;;;1608   			if(thisModeConf->CoordTracking.sFirstTouchEnable1Touch > 0)
;;;1609   			{
;;;1610   				if(FirstTouchEnable[cl] == NO){
;;;1611   					int16_t FirstTouchThreshold = 0;
;;;1612   
;;;1613   					if(thisInfo->bIsPalm)					FirstTouchThreshold = thisModeConf->CoordTracking.sFirstTouchEnable5Touch;
;;;1614   					else if(temp_coord->tPos.sFinger_ == 1)	FirstTouchThreshold = thisModeConf->CoordTracking.sFirstTouchEnable1Touch;
;;;1615   					else if(temp_coord->tPos.sFinger_ == 2)	FirstTouchThreshold = thisModeConf->CoordTracking.sFirstTouchEnable2Touch;
;;;1616   					else if(temp_coord->tPos.sFinger_ == 3)	FirstTouchThreshold = thisModeConf->CoordTracking.sFirstTouchEnable3Touch;
;;;1617   					else if(temp_coord->tPos.sFinger_ == 4)	FirstTouchThreshold = thisModeConf->CoordTracking.sFirstTouchEnable4Touch;
;;;1618   					else 									FirstTouchThreshold = thisModeConf->CoordTracking.sFirstTouchEnable5Touch;
;;;1619   
;;;1620   					if(temp_coord->tPos.vusS[cl] >= FirstTouchThreshold){
;;;1621   						FirstTouchEnable[cl] = YES;
;;;1622   						temp_coord->iStopPos[cl] = temp_coord->tPos.tXY[cl];
;;;1623   					}
;;;1624   				}
;;;1625   
;;;1626   				if(FirstTouchEnable[cl] == NO)
;;;1627   					temp_coord->tPos.vusS[cl] = NO;
;;;1628   			
;;;1629   				if(temp_coord->tPos.vusS[cl])
;;;1630   				{
;;;1631   					if(temp_coord->cScreenDebCnt[cl] < COORD_HISTORY_NUM){
;;;1632   						temp_coord->cScreenDebCnt[cl]++;
;;;1633   //						if(thisModeConf->Coord.ucWinCertAssistance == 1){
;;;1634   //							if(thisInfo->tLabel.LabelSplitCnt)
;;;1635   //								temp_coord->tPos.vusS[cl] = 0;
;;;1636   //						}
;;;1637   					}
;;;1638   				}
;;;1639   				
;;;1640   				if(algorithm_coord_IsEdgeArea(&temp_coord->iStopPos[cl],0)>0){
;;;1641   					if(temp_coord->cScreenDebCnt[cl] <= thisModeConf->CoordTracking.ucDebCntEdge)
;;;1642   						temp_coord->tPos.vusS[cl] = 0;
;;;1643   				}
;;;1644   				else{
;;;1645   					if(temp_coord->cScreenDebCnt[cl] <= thisModeConf->CoordTracking.ucDebCntInner)
;;;1646   						temp_coord->tPos.vusS[cl] = 0;
;;;1647   				}
;;;1648   			}
;;;1649   			else 
;;;1650   			{
;;;1651   				if( temp_coord->tPastPos[0].vusS[cl] )
;;;1652   				{
;;;1653   					int lTouchOffThd = thisModeConf->CoordTracking.lTouchOffThd;
;;;1654   				
;;;1655   					if(temp_coord->cScreenDebCnt[cl] < COORD_HISTORY_NUM)
;;;1656   					{
;;;1657   						temp_coord->cScreenDebCnt[cl]++;
;;;1658   					}
;;;1659   				
;;;1660   					if( thisModeConf->CoordTracking.ucMultifingerFirstTouchThDownOffset > 0 && (temp_coord->tPos.sFinger_ > 5 || thisInfo->bIsPalm == YES) ) lTouchOffThd -= ((thisModeConf->CoordTracking.ucMultifingerFirstTouchThDownOffset)>>1);
;;;1661   				
;;;1662   					if( temp_coord->tPos.vusS[cl] < lTouchOffThd )
;;;1663   					{
;;;1664   						temp_coord->tPos.vusS[cl] = 0;
;;;1665   						temp_coord->cScreenDebCnt[cl] = 0;
;;;1666   					}
;;;1667   				}
;;;1668   				else
;;;1669   				{
;;;1670   					int sFirstTouchOnMaxCellVal = thisModeConf->CoordTracking.sFirstTouchOnMaxCellVal;
;;;1671   
;;;1672   					if( thisModeConf->CoordTracking.ucMultifingerFirstTouchThDownOffset > 0 && (temp_coord->tPos.sFinger_ > 5 || thisInfo->bIsPalm == YES) ) sFirstTouchOnMaxCellVal -= thisModeConf->CoordTracking.ucMultifingerFirstTouchThDownOffset;//10;
;;;1673   					
;;;1674   					if( temp_coord->tPos.vusS[cl] >= thisModeConf->CoordTracking.lSmallTouchOnThd && temp_coord->tPos.vusR[cl] > 0 )
;;;1675   					{
;;;1676   						int iDebCnt     = 0;
;;;1677   						int iDebCntPlus = 0;//(int)algorithm_coord_IsEdgeArea(&temp_coord->tFirstPos.tXY[cl]);
;;;1678   						
;;;1679   #if USED_IDLE_CORNER_EDGE_DEBOUNC_DISABLE
;;;1680   						if(thisModeConf->CoordTracking.bEdgeDebCntUp > 0 && thisInfo->bIsIdleToActive == NO)
;;;1681   #else /* USED_IDLE_CORNER_EDGE_DEBOUNC_DISABLE */
;;;1682   						if(thisModeConf->CoordTracking.bEdgeDebCntUp > 0)
;;;1683   #endif /* USED_IDLE_CORNER_EDGE_DEBOUNC_DISABLE */
;;;1684   						{
;;;1685   							iDebCntPlus = (int)algorithm_coord_IsEdgeArea(&temp_coord->tFirstPos.tXY[cl] , 0);
;;;1686   						}
;;;1687   						
;;;1688   //						if(thisModeConf->CoordTracking.ucDebCntEdge > 0 && algorithm_coord_IsEdgeArea(&temp_coord->tFirstPos.tXY[cl] , 0))
;;;1689   //							iDebCntPlus = thisModeConf->CoordTracking.ucDebCntEdge;
;;;1690   						
;;;1691   						if(temp_coord->cScreenDebCnt[cl] < COORD_HISTORY_NUM)
;;;1692   						{
;;;1693   							temp_coord->cScreenDebCnt[cl]++;
;;;1694   						}
;;;1695   
;;;1696   						if( temp_coord->tPos.MaxDelta[cl] > sFirstTouchOnMaxCellVal )
;;;1697   						{
;;;1698   							if( temp_coord->tPos.vusS[cl] >= thisModeConf->CoordTracking.lLargeTouchOnThd )
;;;1699   							{
;;;1700   	//							iDebCnt = (iDebCntPlus > 0) ? iDebCntPlus : thisModeConf->CoordTracking.ucLargeTouchOnDebCnt;
;;;1701   								iDebCnt = iDebCntPlus + thisModeConf->CoordTracking.ucLargeTouchOnDebCnt;
;;;1702   							}
;;;1703   							else if( temp_coord->tPos.vusS[cl] >= thisModeConf->CoordTracking.lMediumTouchOnThd )
;;;1704   							{
;;;1705   	//							iDebCnt = (iDebCntPlus > 0) ? iDebCntPlus : thisModeConf->CoordTracking.ucMediumTouchOnDebCnt;
;;;1706   								iDebCnt = iDebCntPlus + thisModeConf->CoordTracking.ucMediumTouchOnDebCnt;
;;;1707   							}
;;;1708   							else if( temp_coord->tPos.vusS[cl] >= thisModeConf->CoordTracking.lSmallTouchOnThd )
;;;1709   							{
;;;1710   	//							iDebCnt = (iDebCntPlus > 0) ? iDebCntPlus : thisModeConf->CoordTracking.ucSmallTouchOnDebCnt;
;;;1711   								iDebCnt = iDebCntPlus + thisModeConf->CoordTracking.ucSmallTouchOnDebCnt;
;;;1712   							}
;;;1713   
;;;1714   							if( temp_coord->cScreenDebCnt[cl] > iDebCnt )
;;;1715   							{
;;;1716   
;;;1717   							}
;;;1718   							else
;;;1719   							{
;;;1720   								temp_coord->tPos.vusS[cl] = 0;
;;;1721   							}
;;;1722   #if (PalmCandidateTouchCut_EN == YES)
;;;1723   							// Do not report touch, if location of 1st touch max and 2nd touch max are diagonal and touch size is big.
;;;1724   //							if(thisModeConf->Palm.ucFirstPalmSizeThd && temp_coord->tPos.vusS[cl] && temp_coord->cScreenDebCnt[cl] < COORD_HISTORY_NUM)
;;;1725   //							{
;;;1726   //								if(!thisModeConf->Palm.ucPalmDrawingOn && !thisModeConf->Coord.ucWinCertAssistance)
;;;1727   //								{
;;;1728   //									int i, r_idx, c_idx, delta;
;;;1729   //									int second_max = -1, max2_r = -1, max2_c = -1;
;;;1730   //									tCell_t search_direc[8] = { {-1, 0}, {0, -1}, {0, 1}, {1, 0}, {-1, -1}, {-1, 1}, {1, -1}, {1, 1} };
;;;1731   //									for(i = 0; i < 9; i++)
;;;1732   //									{
;;;1733   //										r_idx = search_direc[i].r + thisInfo->tCoord.tPos.MaxPos[cl].r;
;;;1734   //										if(r_idx < 0) r_idx = 0;
;;;1735   //										else if(r_idx > ROW_MAX - 1) r_idx = ROW_MAX - 1;
;;;1736   //										c_idx = search_direc[i].c + thisInfo->tCoord.tPos.MaxPos[cl].c;
;;;1737   //										if(c_idx < 0) c_idx = 0;
;;;1738   //										else if(c_idx > COL_MAX - 1) c_idx = COL_MAX - 1;
;;;1739   //										
;;;1740   //										delta = HAL_READ_DELTA_IMAGE(r_idx, c_idx);
;;;1741   //										if(second_max < delta)
;;;1742   //										{
;;;1743   //											second_max = delta;
;;;1744   //											max2_c = c_idx;
;;;1745   //											max2_r = r_idx;
;;;1746   //										}
;;;1747   //									}
;;;1748   //									
;;;1749   //									if((second_max >= thisModeConf->Label.usSeedBase) && (temp_coord->tPos.MaxPos[cl].c != max2_c && temp_coord->tPos.MaxPos[cl].r != max2_r) &&
;;;1750   //										((temp_coord->tPos.rect[cl].ce - temp_coord->tPos.rect[cl].cs + 1) * (temp_coord->tPos.rect[cl].re - temp_coord->tPos.rect[cl].rs + 1) > thisModeConf->Palm.ucFirstPalmSizeThd))
;;;1751   //									{
;;;1752   //										temp_coord->tPos.vusS[cl] = 0;
;;;1753   //									}
;;;1754   //								}
;;;1755   //							}
;;;1756   
;;;1757   							if((thisModeConf->Palm.usPalmCandiStdTh || thisModeConf->Palm.ucPalmCandiShapeMatchingTh) && temp_coord->cScreenDebCnt[cl] < COORD_HISTORY_NUM)
;;;1758   							{
;;;1759   								int r,c,i,delta,r1,c1;
;;;1760   								tRect_t low_level_rect = temp_coord->tPos.rect[cl];
;;;1761   	
;;;1762   								uint8_t idx,idx_1,idx_2;
;;;1763   								idx = HAL_READ_LABEL_IMAGE(temp_coord->tPos.MaxPos[cl].r,temp_coord->tPos.MaxPos[cl].c);
;;;1764   								delta = 0;
;;;1765   								bool_t stop_flag = 0;
;;;1766   								for(i = 1; i <= 4; i++)
;;;1767   								{
;;;1768   									for(r = MAX(0,temp_coord->tPos.rect[cl].rs-i); r <= MIN(ROW_MAX-1,temp_coord->tPos.rect[cl].re+i); r++)
;;;1769   									{
;;;1770   										for(c = MAX(0,temp_coord->tPos.rect[cl].cs-i); c <= MIN(COL_MAX-1,temp_coord->tPos.rect[cl].ce+i); c++)
;;;1771   										{
;;;1772   											if((r > low_level_rect.re || r < low_level_rect.rs) || (c > low_level_rect.ce || c < low_level_rect.cs))
;;;1773   											{
;;;1774   												idx_1 = HAL_READ_LABEL_IMAGE(r,c);
;;;1775   												if(idx != idx_1 && idx_1 > 0 && idx_1 != LABEL_BOUNDARY_MARKER && idx_1 != LABEL_CONFLICT_MARKER)
;;;1776   												{
;;;1777   													stop_flag = 1;
;;;1778   													break;
;;;1779   												}
;;;1780   												else if(idx_1 == LABEL_BOUNDARY_MARKER)
;;;1781   												{
;;;1782   													for(r1 = MAX(0,r-1);r1 <= MIN(ROW_MAX-1,r+1);r1++)
;;;1783   													{
;;;1784   														for(c1 = MAX(0,c-1);c1 <= MIN(COL_MAX-1,c+1);c1++)
;;;1785   														{
;;;1786   															idx_2 = HAL_READ_LABEL_IMAGE(r1,c1);
;;;1787   															if(idx != idx_2 && idx_2 > 0 && idx_2 != LABEL_BOUNDARY_MARKER && idx_2 != LABEL_CONFLICT_MARKER && ((r1 > low_level_rect.re || r1 < low_level_rect.rs) || (c1 > low_level_rect.ce || c1 < low_level_rect.cs)))
;;;1788   															{
;;;1789   																stop_flag = 1;
;;;1790   																break;
;;;1791   															}
;;;1792   														}
;;;1793   													}
;;;1794   												}
;;;1795   												
;;;1796   												if(HAL_READ_DELTA_IMAGE(r, c) > thisModeConf->Palm.ucPalmCandiDeltaTh)
;;;1797   													delta = 1;
;;;1798   											}
;;;1799   										}
;;;1800   										
;;;1801   										if(stop_flag == 1)
;;;1802   										{
;;;1803   											break;
;;;1804   										}
;;;1805   									}
;;;1806   										
;;;1807   									if(stop_flag == 0 && delta == 0)stop_flag = 1;
;;;1808   									
;;;1809   									if(stop_flag == 0)
;;;1810   									{
;;;1811   										for(r = MAX(0,temp_coord->tPos.rect[cl].rs-i); r <= MIN(ROW_MAX-1,temp_coord->tPos.rect[cl].re+i); r++)
;;;1812   											for(c = MAX(0,temp_coord->tPos.rect[cl].cs-i); c <= MIN(COL_MAX-1,temp_coord->tPos.rect[cl].ce+i); c++)
;;;1813   										{
;;;1814   											idx_1 = HAL_READ_LABEL_IMAGE(r,c);
;;;1815   											if((0 == idx_1 || idx_1 == LABEL_BOUNDARY_MARKER || idx_1 == LABEL_CONFLICT_MARKER)&& ((r > low_level_rect.re || r < low_level_rect.rs) || (c > low_level_rect.ce || c < low_level_rect.cs)))
;;;1816   											{
;;;1817   												delta = HAL_READ_DELTA_IMAGE(r, c);
;;;1818   												if(delta > thisModeConf->Palm.ucPalmCandiDeltaTh)
;;;1819   												{
;;;1820   													if(low_level_rect.re < r)low_level_rect.re = r;
;;;1821   													if(low_level_rect.rs > r)low_level_rect.rs = r;
;;;1822   													if(low_level_rect.ce < c)low_level_rect.ce = c;
;;;1823   													if(low_level_rect.cs > c)low_level_rect.cs = c;
;;;1824   												}
;;;1825   											}
;;;1826   										}
;;;1827   									}
;;;1828   									else 
;;;1829   									{
;;;1830   										break;
;;;1831   									}
;;;1832   								}
;;;1833   								
;;;1834   								if(low_level_rect.re > low_level_rect.rs+14)low_level_rect.re = low_level_rect.rs+14;
;;;1835   								if(low_level_rect.ce > low_level_rect.cs+14)low_level_rect.ce = low_level_rect.cs+14;
;;;1836   						
;;;1837   //								for(r = MAX(0,low_level_rect.rs-2); r <= MIN(ROW_MAX-1,low_level_rect.re+2); r++)
;;;1838   //									for(c = MAX(0,low_level_rect.cs-2); c <= MIN(COL_MAX-1,low_level_rect.ce+2); c++)
;;;1839   //								{
;;;1840   //									delta = MAX(0,HAL_READ_DELTA_IMAGE(r, c));
;;;1841   //									HAL_WRITE_HOPP2_BASELINE_IMAGE(r-MAX(0,low_level_rect.rs-0),c-MAX(0,low_level_rect.cs-0) + ((temp_coord->cScreenDebCnt[cl]-1)*20),delta);
;;;1842   //									HAL_WRITE_HOPP2_BASELINE_IMAGE(r-MAX(0,low_level_rect.rs-0)+25,c-MAX(0,low_level_rect.cs-0) + ((temp_coord->cScreenDebCnt[cl]-1)*20),HAL_READ_LABEL_IMAGE(r,c));
;;;1843   //								}
;;;1844   								
;;;1845   								uint16_t shape_array_tmp[15][15];
;;;1846   								memset(shape_array_tmp,0,sizeof(shape_array_tmp));
;;;1847   								int cnt_ = 0;
;;;1848   								int sum_ = 0;
;;;1849   								for(r = low_level_rect.rs; r <= low_level_rect.re; r++)
;;;1850   									for(c = low_level_rect.cs; c <= low_level_rect.ce; c++)
;;;1851   								{
;;;1852   									idx_1 = HAL_READ_LABEL_IMAGE(r,c);
;;;1853   									if(idx == idx_1 ||  0 == idx_1 || idx_1 == LABEL_BOUNDARY_MARKER || idx_1 == LABEL_CONFLICT_MARKER)
;;;1854   									{
;;;1855   										delta = MAX(0,HAL_READ_DELTA_IMAGE(r, c));									
;;;1856   										delta = delta*100/temp_coord->tPos.MaxDelta[cl];
;;;1857   										shape_array_tmp[r-low_level_rect.rs][c-low_level_rect.cs] = delta;
;;;1858   //										HAL_WRITE_HOPP2_BASELINE_IMAGE(r-low_level_rect.rs+13,c-low_level_rect.cs + ((temp_coord->cScreenDebCnt[cl]-1)*20),shape_array_tmp[r-low_level_rect.rs][c-low_level_rect.cs]);
;;;1859   										sum_ += (delta);
;;;1860   										cnt_++;
;;;1861   									}
;;;1862   								}			
;;;1863   								
;;;1864   								sum_ /= cnt_;
;;;1865   								uint64_t std = 0;
;;;1866   								for(r = low_level_rect.rs; r <= low_level_rect.re; r++)
;;;1867   									for(c = low_level_rect.cs; c <= low_level_rect.ce; c++)
;;;1868   								{
;;;1869   									delta = shape_array_tmp[r-low_level_rect.rs][c-low_level_rect.cs];							
;;;1870   									std += (((delta) - sum_) * ((delta) - sum_));
;;;1871   								}
;;;1872   								std /= cnt_;
;;;1873   								int size = (low_level_rect.re - low_level_rect.rs + 1) * (low_level_rect.ce - low_level_rect.cs + 1);
;;;1874   //								dbg_coord[2+temp_coord->cScreenDebCnt[cl]-1] = std;
;;;1875   //								dbg_coord[8+temp_coord->cScreenDebCnt[cl]-1] = std*10/size;
;;;1876   //								
;;;1877   //								HAL_WRITE_HOPP2_BASELINE_IMAGE(10,15 + ((temp_coord->cScreenDebCnt[cl]-1)*20),dbg_coord[2+temp_coord->cScreenDebCnt[cl]-1]);
;;;1878   //								HAL_WRITE_HOPP2_BASELINE_IMAGE(10,16 + ((temp_coord->cScreenDebCnt[cl]-1)*20),size);
;;;1879   //								HAL_WRITE_HOPP2_BASELINE_IMAGE(10,17 + ((temp_coord->cScreenDebCnt[cl]-1)*20),dbg_coord[8+temp_coord->cScreenDebCnt[cl]-1]);
;;;1880   								
;;;1881   								if(std*10/size < thisModeConf->Palm.usPalmCandiStdTh)temp_coord->tPos.vusS[cl] = 0;
;;;1882   										
;;;1883   								if(temp_coord->tPos.vusS[cl] > 0 && thisModeConf->Palm.ucPalmCandiShapeMatchingTh)
;;;1884   								{
;;;1885   //									int tmp_re = low_level_rect.re;
;;;1886   //									int tmp_ce = low_level_rect.ce;
;;;1887   									low_level_rect.re = MIN(ROW_MAX-1,low_level_rect.rs+14);
;;;1888   									low_level_rect.ce = MIN(COL_MAX-1,low_level_rect.cs+14);
;;;1889   								
;;;1890   									for(r = low_level_rect.rs; r <= low_level_rect.re; r++)
;;;1891   										for(c = low_level_rect.cs; c <= low_level_rect.ce; c++)
;;;1892   									{
;;;1893   										idx_1 = HAL_READ_LABEL_IMAGE(r,c);
;;;1894   										if(idx == idx_1 ||  0 == idx_1 || idx_1 == LABEL_BOUNDARY_MARKER || idx_1 == LABEL_CONFLICT_MARKER)
;;;1895   										{
;;;1896   											delta = MAX(0,HAL_READ_DELTA_IMAGE(r, c));								
;;;1897   											delta = delta*100/temp_coord->tPos.MaxDelta[cl];
;;;1898   											shape_array_tmp[r-low_level_rect.rs][c-low_level_rect.cs] = delta;
;;;1899   										}
;;;1900   										else shape_array_tmp[r-low_level_rect.rs][c-low_level_rect.cs] = 0;
;;;1901   										
;;;1902   										//HAL_WRITE_HOPP2_BASELINE_IMAGE(r-low_level_rect.rs+25,c-low_level_rect.cs + ((temp_coord->cScreenDebCnt[cl]-1)*20),shape_array_tmp[r-low_level_rect.rs][c-low_level_rect.cs]);
;;;1903   									}
;;;1904   									
;;;1905   									sum_ = 0;
;;;1906   									for(r = low_level_rect.rs; r <= low_level_rect.re; r++)for(c = low_level_rect.cs; c <= low_level_rect.ce; c++)
;;;1907   									{			
;;;1908   										sum_ += (ABS(shape_array_tmp[r-low_level_rect.rs][c-low_level_rect.cs] - (uint16_t)shape_array_table[r-low_level_rect.rs][c-low_level_rect.cs]));
;;;1909   									}
;;;1910   									
;;;1911   									sum_ = sum_*10/((low_level_rect.re-low_level_rect.rs+1)*(low_level_rect.ce-low_level_rect.cs+1));
;;;1912   //									dbg_coord[14+temp_coord->cScreenDebCnt[cl]-1] = sum_;
;;;1913   //									HAL_WRITE_HOPP2_BASELINE_IMAGE(10,18 + ((temp_coord->cScreenDebCnt[cl]-1)*20),dbg_coord[14+temp_coord->cScreenDebCnt[cl]-1]);
;;;1914   									
;;;1915   									if(sum_ > thisModeConf->Palm.ucPalmCandiShapeMatchingTh && thisModeConf->Palm.ucPalmCandiShapeMatchingLearning == 0) 
;;;1916   									{
;;;1917   										temp_coord->tPos.vusS[cl] = 0;
;;;1918   //										dbg_coord[20]++;
;;;1919   									}
;;;1920   										
;;;1921   									if(thisModeConf->Palm.ucPalmCandiShapeMatchingLearning == 1)
;;;1922   									{
;;;1923   										if(usPalmCandiShapeMatchingLearningCnt==0)memset(shape_array_table,0,sizeof(shape_array_table));
;;;1924   										for(r = 0; r < 15; r++)for(c = 0; c < 15; c++)
;;;1925   										{
;;;1926   											shape_array_table[r][c] = (shape_array_table[r][c] + shape_array_tmp[r][c]);
;;;1927   //											HAL_WRITE_HOPP1_BASELINE_IMAGE(r,c,shape_array_table[r][c]);
;;;1928   										}
;;;1929   										usPalmCandiShapeMatchingLearningCnt++;
;;;1930   									}
;;;1931   									else if(thisModeConf->Palm.ucPalmCandiShapeMatchingLearning == 2 && usPalmCandiShapeMatchingLearningCnt > 0)
;;;1932   									{
;;;1933   										for(r = 0; r < 15; r++)for(c = 0; c < 15; c++)
;;;1934   										{
;;;1935   											shape_array_table[r][c] = shape_array_table[r][c]/usPalmCandiShapeMatchingLearningCnt;	
;;;1936   //											HAL_WRITE_HOPP1_BASELINE_IMAGE(r,c,shape_array_table[r][c]);
;;;1937   										}			
;;;1938   										usPalmCandiShapeMatchingLearningCnt = 0;								
;;;1939   									}	
;;;1940   								}									
;;;1941   							}
;;;1942   #endif /* (PalmCandidateTouchCut_EN == YES) */							
;;;1943   						}
;;;1944   						else
;;;1945   						{
;;;1946   							temp_coord->tPos.vusS[cl] = 0;
;;;1947   							temp_coord->cScreenDebCnt[cl] = 0;
;;;1948   						}
;;;1949   					}
;;;1950   					else
;;;1951   					{
;;;1952   						temp_coord->tPos.vusS[cl] = 0;
;;;1953   						temp_coord->cScreenDebCnt[cl] = 0;
;;;1954   					}
;;;1955   				}
;;;1956   			}
;;;1957   			
;;;1958   			temp_coord->cIsbefor[cl] = 0;
;;;1959   		}
;;;1960   		else
;;;1961   		{
;;;1962   //			if(temp_coord->tPastPos[0].vusR[cl] > 0 && mode == LOCAL_MODE)
;;;1963   //			{
;;;1964   //				if(((temp_coord->cIsbefor[cl] < 1 /*&& g_RetVal == PARTIAL_PEN_COORD1*/) || (temp_coord->cIsbefor[cl] < 4 && temp_coord->cIsbefor[cl] > 0))&& temp_coord->ucIdMappedCnt[cl] > 3)
;;;1965   ////				if(temp_coord->cIsbefor[cl] < 1 && temp_coord->ucIdMappedCnt[cl] > 3)
;;;1966   //				{
;;;1967   //					thisInfo->bLocal_sensing = YES;
;;;1968   
;;;1969   //					temp_coord->tPos.vusR[cl] = temp_coord->tPastPos[0].vusR[cl];
;;;1970   //					temp_coord->tPos.vusS[cl] = temp_coord->tPastPos[0].vusS[cl];
;;;1971   //					temp_coord->tPos.tXY[cl] = temp_coord->tOrgPastPos[0].tXY[cl];
;;;1972   //					temp_coord->cIsbefor[cl]++;
;;;1973   //					
;;;1974   //					temp_coord->tOrgPosHist[0].tXY[cl]  = temp_coord->tPos.tXY[cl];
;;;1975   //					temp_coord->tOrgPosHist[0].vusS[cl] = temp_coord->tPos.vusS[cl];
;;;1976   //					temp_coord->tOrgPosHist[0].vusR[cl] = temp_coord->tPos.vusR[cl];
;;;1977   //					
;;;1978   //					temp_coord->tOrgPos.tXY[cl]  = temp_coord->tPos.tXY[cl];
;;;1979   //					temp_coord->tOrgPos.vusS[cl] = temp_coord->tPos.vusS[cl];
;;;1980   //					temp_coord->tOrgPos.vusR[cl] = temp_coord->tPos.vusR[cl];
;;;1981   //				}
;;;1982   //				else
;;;1983   //				{
;;;1984   //					temp_coord->ucIdMappedCnt[cl] = 0;
;;;1985   //					temp_coord->cScreenDebCnt[cl] = 0;
;;;1986   //					temp_coord->cIsbefor[cl] = 0;
;;;1987   //				}
;;;1988   //			}
;;;1989   //			else
;;;1990   			{
;;;1991   				temp_coord->ucIdMappedCnt[cl] = 0;
;;;1992   				temp_coord->cScreenDebCnt[cl] = 0;
;;;1993   				temp_coord->cIsbefor[cl] = 0;
;;;1994   			}
;;;1995   		}
;;;1996   	}
;;;1997   }
00056a  f0110f01          TST      r1,#1
00056e  bf18              IT       NE                    ;1391
000570  f8402f04          STRNE    r2,[r0,#4]!           ;1391
000574  f8dd15c8          LDR      r1,[sp,#0x5c8]        ;1390
000578  7809              LDRB     r1,[r1,#0]            ;1390
00057a  0849              LSRS     r1,r1,#1              ;1390
00057c  d004              BEQ      |L21.1416|
                  |L21.1406|
00057e  6042              STR      r2,[r0,#4]            ;1391
000580  f8402f08          STR      r2,[r0,#8]!           ;1391
000584  1e49              SUBS     r1,r1,#1              ;1391
000586  d1fa              BNE      |L21.1406|
                  |L21.1416|
000588  f50d60c2          ADD      r0,sp,#0x610          ;1395
00058c  f8408025          STR      r8,[r0,r5,LSL #2]     ;1395
000590  3810              SUBS     r0,r0,#0x10           ;1396
000592  f1b53fff          CMP      r5,#0xffffffff        ;1396
000596  5544              STRB     r4,[r0,r5]            ;1396
000598  f47fae8a          BNE      |L21.688|
                  |L21.1436|
00059c  f8dd05c8          LDR      r0,[sp,#0x5c8]        ;1485
0005a0  2400              MOVS     r4,#0                 ;1485
0005a2  7800              LDRB     r0,[r0,#0]            ;1485
0005a4  2800              CMP      r0,#0                 ;1485
0005a6  bf88              IT       HI                    ;995
0005a8  f50d65c0          ADDHI    r5,sp,#0x600          ;995
0005ac  d955              BLS      |L21.1626|
                  |L21.1454|
0005ae  5728              LDRSB    r0,[r5,r4]            ;1488
0005b0  f1b03fff          CMP      r0,#0xffffffff        ;1488
0005b4  d04a              BEQ      |L21.1612|
0005b6  5d2b              LDRB     r3,[r5,r4]            ;1490
0005b8  f8dd05c8          LDR      r0,[sp,#0x5c8]        ;1491
0005bc  eb0002c3          ADD      r2,r0,r3,LSL #3       ;1491
0005c0  eb0000c4          ADD      r0,r0,r4,LSL #3       ;1491
0005c4  f8d01001          LDR      r1,[r0,#1]            ;1491
0005c8  f8c21136          STR      r1,[r2,#0x136]        ;1491
0005cc  f8d00005          LDR      r0,[r0,#5]            ;1491
0005d0  f8c2013a          STR      r0,[r2,#0x13a]        ;1491
0005d4  f8dd05c8          LDR      r0,[sp,#0x5c8]        ;1492
0005d8  f8dd15c8          LDR      r1,[sp,#0x5c8]        ;1492
0005dc  eb000044          ADD      r0,r0,r4,LSL #1       ;1492
0005e0  eb010143          ADD      r1,r1,r3,LSL #1       ;1492
0005e4  f8b0c0a1          LDRH     r12,[r0,#0xa1]        ;1492
0005e8  f8a1c19a          STRH     r12,[r1,#0x19a]       ;1492
0005ec  f8b0c081          LDRH     r12,[r0,#0x81]        ;1493
0005f0  f8a1c186          STRH     r12,[r1,#0x186]       ;1493
0005f4  f8ddc5c8          LDR      r12,[sp,#0x5c8]       ;1494
0005f8  eb0c0683          ADD      r6,r12,r3,LSL #2      ;1494
0005fc  eb0c0384          ADD      r3,r12,r4,LSL #2      ;1494
000600  f8d330c1          LDR      r3,[r3,#0xc1]         ;1494
000604  f8c631ae          STR      r3,[r6,#0x1ae]        ;1494
000608  f8b03101          LDRH     r3,[r0,#0x101]        ;1495
00060c  f8a131d6          STRH     r3,[r1,#0x1d6]        ;1495
000610  f8903121          LDRB     r3,[r0,#0x121]        ;1497
000614  f88131ea          STRB     r3,[r1,#0x1ea]        ;1497
000618  f8903122          LDRB     r3,[r0,#0x122]        ;1498
00061c  f88131eb          STRB     r3,[r1,#0x1eb]        ;1498
000620  f8b00dac          LDRH     r0,[r0,#0xdac]        ;1501
000624  f8a10dac          STRH     r0,[r1,#0xdac]        ;1501
000628  f8d236b8          LDR      r3,[r2,#0x6b8]        ;1503
00062c  f8d216bc          LDR      r1,[r2,#0x6bc]        ;1503
000630  f8d2c136          LDR      r12,[r2,#0x136]       ;1503
000634  f8d2013a          LDR      r0,[r2,#0x13a]        ;1503
000638  eba3020c          SUB      r2,r3,r12             ;1503
00063c  4352              MULS     r2,r2,r2              ;1503
00063e  1a08              SUBS     r0,r1,r0              ;1503
000640  fb002000          MLA      r0,r0,r0,r2           ;1503
000644  f7fffffe          BL       algorithm_calc_sqrt
000648  f8c60ce2          STR      r0,[r6,#0xce2]        ;1503
                  |L21.1612|
00064c  1c60              ADDS     r0,r4,#1              ;1503
00064e  b2c4              UXTB     r4,r0                 ;1503
000650  f8dd05c8          LDR      r0,[sp,#0x5c8]        ;1503
000654  7800              LDRB     r0,[r0,#0]            ;1503
000656  42a0              CMP      r0,r4                 ;1503
000658  d8a9              BHI      |L21.1454|
                  |L21.1626|
00065a  f8dd05c8          LDR      r0,[sp,#0x5c8]        ;1510
00065e  2100              MOVS     r1,#0                 ;1510
000660  7800              LDRB     r0,[r0,#0]            ;1510
000662  2800              CMP      r0,#0                 ;1510
000664  bf84              ITT      HI                    ;995
000666  f50d63c0          ADDHI    r3,sp,#0x600          ;995
00066a  2400              MOVHI    r4,#0                 ;995
00066c  d926              BLS      |L21.1724|
                  |L21.1646|
00066e  5658              LDRSB    r0,[r3,r1]            ;1513
000670  f1b03fff          CMP      r0,#0xffffffff        ;1513
000674  d11b              BNE      |L21.1710|
000676  f8dd05c8          LDR      r0,[sp,#0x5c8]        ;1513
00067a  eb000c41          ADD      r12,r0,r1,LSL #1      ;1513
00067e  f8bc00a1          LDRH     r0,[r12,#0xa1]        ;1513
000682  2800              CMP      r0,#0                 ;1513
000684  bf18              IT       NE                    ;1515
000686  2000              MOVNE    r0,#0                 ;1515
000688  d011              BEQ      |L21.1710|
00068a  bf00              NOP                            ;1518
                  |L21.1676|
00068c  f8dd25c8          LDR      r2,[sp,#0x5c8]        ;1518
000690  eb020240          ADD      r2,r2,r0,LSL #1       ;1518
000694  f8b253a6          LDRH     r5,[r2,#0x3a6]        ;1518
000698  2d00              CMP      r5,#0                 ;1518
00069a  bf04              ITT      EQ                    ;1518
00069c  f8b2519a          LDRHEQ   r5,[r2,#0x19a]        ;1518
0006a0  2d00              CMPEQ    r5,#0                 ;1518
0006a2  d06d              BEQ      |L21.1920|
0006a4  f1000001          ADD      r0,r0,#1              ;1518
0006a8  b2c0              UXTB     r0,r0                 ;1534
0006aa  280a              CMP      r0,#0xa               ;1534
0006ac  d3ee              BCC      |L21.1676|
                  |L21.1710|
0006ae  1c48              ADDS     r0,r1,#1              ;1534
0006b0  b2c1              UXTB     r1,r0                 ;1534
0006b2  f8dd05c8          LDR      r0,[sp,#0x5c8]        ;1534
0006b6  7800              LDRB     r0,[r0,#0]            ;1534
0006b8  4281              CMP      r1,r0                 ;1534
0006ba  d3d8              BCC      |L21.1646|
                  |L21.1724|
0006bc  f8dd35c8          LDR      r3,[sp,#0x5c8]        ;1545
0006c0  2200              MOVS     r2,#0                 ;1541
0006c2  f50d60c0          ADD      r0,sp,#0x600          ;1541
0006c6  2110              MOVS     r1,#0x10              ;1541
0006c8  f6034cd2          ADD      r12,r3,#0xcd2         ;1545
                  |L21.1740|
0006cc  7803              LDRB     r3,[r0,#0]            ;1544
0006ce  2b0a              CMP      r3,#0xa               ;1544
0006d0  bf38              IT       CC                    ;1545
0006d2  f803200c          STRBCC   r2,[r3,r12]           ;1545
0006d6  1c40              ADDS     r0,r0,#1              ;1545
0006d8  1e49              SUBS     r1,r1,#1              ;1545
0006da  1c52              ADDS     r2,r2,#1              ;1545
0006dc  f01101ff          ANDS     r1,r1,#0xff           ;1549
0006e0  d1f4              BNE      |L21.1740|
0006e2  f8dd05c8          LDR      r0,[sp,#0x5c8]        ;1551
0006e6  f8901135          LDRB     r1,[r0,#0x135]        ;1551
0006ea  f880159e          STRB     r1,[r0,#0x59e]        ;1551
0006ee  2009              MOVS     r0,#9                 ;1552
0006f0  f8cd05cc          STR      r0,[sp,#0x5cc]        ;1552
                  |L21.1780|
0006f4  f8dd15cc          LDR      r1,[sp,#0x5cc]        ;1558
0006f8  f8dd05c8          LDR      r0,[sp,#0x5c8]        ;1558
0006fc  eb0001c1          ADD      r1,r0,r1,LSL #3       ;1558
000700  f8d10136          LDR      r0,[r1,#0x136]        ;1558
000704  f8c1059f          STR      r0,[r1,#0x59f]        ;1558
000708  f8d1013a          LDR      r0,[r1,#0x13a]        ;1558
00070c  f8c105a3          STR      r0,[r1,#0x5a3]        ;1558
000710  f8dd25cc          LDR      r2,[sp,#0x5cc]        ;1559
000714  f8dd05c8          LDR      r0,[sp,#0x5c8]        ;1559
000718  eb000042          ADD      r0,r0,r2,LSL #1       ;1559
00071c  f8cd05f8          STR      r0,[sp,#0x5f8]        ;1559
000720  f8b02186          LDRH     r2,[r0,#0x186]        ;1559
000724  f8a025ef          STRH     r2,[r0,#0x5ef]        ;1559
000728  f8b0219a          LDRH     r2,[r0,#0x19a]        ;1560
00072c  f8a02603          STRH     r2,[r0,#0x603]        ;1560
000730  f8dd35cc          LDR      r3,[sp,#0x5cc]        ;1561
000734  f8dd25c8          LDR      r2,[sp,#0x5c8]        ;1561
000738  eb020283          ADD      r2,r2,r3,LSL #2       ;1561
00073c  f8cd2658          STR      r2,[sp,#0x658]        ;1561
000740  f8d231ae          LDR      r3,[r2,#0x1ae]        ;1561
000744  f8c23617          STR      r3,[r2,#0x617]        ;1561
000748  f8b0019a          LDRH     r0,[r0,#0x19a]        ;1563
00074c  2800              CMP      r0,#0                 ;1563
00074e  f00085c1          BEQ.W    |L21.4820|
000752  f8dd25c8          LDR      r2,[sp,#0x5c8]        ;1565
000756  f8dd05cc          LDR      r0,[sp,#0x5cc]        ;1565
00075a  4410              ADD      r0,r0,r2              ;1565
00075c  f8cd0650          STR      r0,[sp,#0x650]        ;1565
000760  f8900caa          LDRB     r0,[r0,#0xcaa]        ;1565
000764  2805              CMP      r0,#5                 ;1565
000766  d204              BCS      |L21.1906|
000768  f8dd2650          LDR      r2,[sp,#0x650]        ;1567
00076c  1c40              ADDS     r0,r0,#1              ;1565
00076e  f8820caa          STRB     r0,[r2,#0xcaa]        ;1567
                  |L21.1906|
000772  f8dd0650          LDR      r0,[sp,#0x650]        ;1570
000776  f8900caa          LDRB     r0,[r0,#0xcaa]        ;1570
00077a  2801              CMP      r0,#1                 ;1570
00077c  d038              BEQ      |L21.2032|
00077e  e078              B        |L21.2162|
                  |L21.1920|
000780  5458              STRB     r0,[r3,r1]            ;1520
000782  f8dd55c8          LDR      r5,[sp,#0x5c8]        ;1521
000786  eb0506c0          ADD      r6,r5,r0,LSL #3       ;1521
00078a  eb0505c1          ADD      r5,r5,r1,LSL #3       ;1521
00078e  f8d57001          LDR      r7,[r5,#1]            ;1521
000792  f8c67136          STR      r7,[r6,#0x136]        ;1521
000796  f8d55005          LDR      r5,[r5,#5]            ;1521
00079a  f8c6513a          STR      r5,[r6,#0x13a]        ;1521
00079e  f8dd55c8          LDR      r5,[sp,#0x5c8]        ;1522
0007a2  f8bc60a1          LDRH     r6,[r12,#0xa1]        ;1522
0007a6  eb050540          ADD      r5,r5,r0,LSL #1       ;1522
0007aa  f8a5619a          STRH     r6,[r5,#0x19a]        ;1522
0007ae  f8bc5081          LDRH     r5,[r12,#0x81]        ;1523
0007b2  f8a25186          STRH     r5,[r2,#0x186]        ;1523
0007b6  f8dd55c8          LDR      r5,[sp,#0x5c8]        ;1524
0007ba  eb050080          ADD      r0,r5,r0,LSL #2       ;1524
0007be  eb050581          ADD      r5,r5,r1,LSL #2       ;1524
0007c2  f8d550c1          LDR      r5,[r5,#0xc1]         ;1524
0007c6  f8c051ae          STR      r5,[r0,#0x1ae]        ;1524
0007ca  f8bc5101          LDRH     r5,[r12,#0x101]       ;1525
0007ce  f8a251d6          STRH     r5,[r2,#0x1d6]        ;1525
0007d2  f89c5121          LDRB     r5,[r12,#0x121]       ;1527
0007d6  f88251ea          STRB     r5,[r2,#0x1ea]        ;1527
0007da  f89c5122          LDRB     r5,[r12,#0x122]       ;1528
0007de  f88251eb          STRB     r5,[r2,#0x1eb]        ;1528
0007e2  f8bccdac          LDRH     r12,[r12,#0xdac]      ;1531
0007e6  f8a2cdac          STRH     r12,[r2,#0xdac]       ;1531
0007ea  f8c04ce2          STR      r4,[r0,#0xce2]        ;1533
0007ee  e75e              B        |L21.1710|
                  |L21.2032|
0007f0  f8dd0690          LDR      r0,[sp,#0x690]        ;1583
0007f4  bb00              CBNZ     r0,|L21.2104|
0007f6  48fe              LDR      r0,|L21.3056|
0007f8  f8dd25cc          LDR      r2,[sp,#0x5cc]        ;1585
0007fc  f04f0c64          MOV      r12,#0x64             ;1589
000800  68c0              LDR      r0,[r0,#0xc]          ;1585  ; thisInfo
000802  4402              ADD      r2,r2,r0              ;1585
000804  f5025280          ADD      r2,r2,#0x1000         ;1585
000808  f892203b          LDRB     r2,[r2,#0x3b]         ;1585
00080c  ebc203c2          RSB      r3,r2,r2,LSL #3       ;1589
000810  eb031242          ADD      r2,r3,r2,LSL #5       ;1589
000814  4402              ADD      r2,r2,r0              ;1589
000816  f8d23059          LDR      r3,[r2,#0x59]         ;1589
00081a  f8d2205d          LDR      r2,[r2,#0x5d]         ;1589
00081e  fb03f30c          MUL      r3,r3,r12             ;1589
000822  fbb3f2f2          UDIV     r2,r3,r2              ;1589
000826  2a46              CMP      r2,#0x46              ;1589
000828  d206              BCS      |L21.2104|
00082a  f8dd25cc          LDR      r2,[sp,#0x5cc]        ;1594
00082e  2300              MOVS     r3,#0                 ;1594
000830  eb000042          ADD      r0,r0,r2,LSL #1       ;1594
000834  f8a034ef          STRH     r3,[r0,#0x4ef]        ;1594
                  |L21.2104|
000838  f8d10136          LDR      r0,[r1,#0x136]        ;1598
00083c  f8c1024f          STR      r0,[r1,#0x24f]        ;1598
000840  f8d1013a          LDR      r0,[r1,#0x13a]        ;1598
000844  f8c10253          STR      r0,[r1,#0x253]        ;1598
000848  f8dd2650          LDR      r2,[sp,#0x650]        ;1599
00084c  2000              MOVS     r0,#0                 ;1599
00084e  f8820df6          STRB     r0,[r2,#0xdf6]        ;1599
000852  4ae8              LDR      r2,|L21.3060|
000854  f8dd35cc          LDR      r3,[sp,#0x5cc]        ;1600
000858  54d0              STRB     r0,[r2,r3]            ;1600
00085a  f8dd35cc          LDR      r3,[sp,#0x5cc]        ;1602
00085e  3210              ADDS     r2,r2,#0x10           ;1602
000860  54d0              STRB     r0,[r2,r3]            ;1602
000862  f8d10136          LDR      r0,[r1,#0x136]        ;1605
000866  f8c10d5c          STR      r0,[r1,#0xd5c]        ;1605
00086a  f8d1013a          LDR      r0,[r1,#0x13a]        ;1605
00086e  f8c10d60          STR      r0,[r1,#0xd60]        ;1605
                  |L21.2162|
000872  4edf              LDR      r6,|L21.3056|
000874  68b2              LDR      r2,[r6,#8]            ;1608  ; thisModeConf
000876  f9b200cd          LDRSH    r0,[r2,#0xcd]         ;1608
00087a  2800              CMP      r0,#0                 ;1608
00087c  dd72              BLE      |L21.2404|
00087e  4bdd              LDR      r3,|L21.3060|
000880  f8ddc5cc          LDR      r12,[sp,#0x5cc]       ;1610
000884  f813c00c          LDRB     r12,[r3,r12]          ;1610
000888  f1bc0f00          CMP      r12,#0                ;1610
00088c  d139              BNE      |L21.2306|
00088e  f8d6c00c          LDR      r12,[r6,#0xc]         ;1613  ; thisInfo
000892  f50c5c80          ADD      r12,r12,#0x1000       ;1613
000896  f89cc32a          LDRB     r12,[r12,#0x32a]      ;1613
00089a  f1bc0f00          CMP      r12,#0                ;1613
00089e  d118              BNE      |L21.2258|
0008a0  f8ddc5c8          LDR      r12,[sp,#0x5c8]       ;1614
0008a4  f89cc135          LDRB     r12,[r12,#0x135]      ;1614
0008a8  f1bc0f01          CMP      r12,#1                ;1614
0008ac  d013              BEQ      |L21.2262|
0008ae  f1bc0f02          CMP      r12,#2                ;1615
0008b2  bf08              IT       EQ                    ;1615
0008b4  f9b200cf          LDRSHEQ  r0,[r2,#0xcf]         ;1615
0008b8  d00d              BEQ      |L21.2262|
0008ba  f1bc0f03          CMP      r12,#3                ;1616
0008be  bf08              IT       EQ                    ;1616
0008c0  f9b200d1          LDRSHEQ  r0,[r2,#0xd1]         ;1616
0008c4  d007              BEQ      |L21.2262|
0008c6  f1bc0f04          CMP      r12,#4                ;1617
0008ca  bf08              IT       EQ                    ;1617
0008cc  f9b200d3          LDRSHEQ  r0,[r2,#0xd3]         ;1617
0008d0  d001              BEQ      |L21.2262|
                  |L21.2258|
0008d2  f9b200d5          LDRSH    r0,[r2,#0xd5]         ;1618
                  |L21.2262|
0008d6  f8dd25f8          LDR      r2,[sp,#0x5f8]        ;1620
0008da  f8b22186          LDRH     r2,[r2,#0x186]        ;1620
0008de  4282              CMP      r2,r0                 ;1620
0008e0  db32              BLT      |L21.2376|
0008e2  f8dd25cc          LDR      r2,[sp,#0x5cc]        ;1621
0008e6  2001              MOVS     r0,#1                 ;1621
0008e8  5498              STRB     r0,[r3,r2]            ;1621
0008ea  f8d10136          LDR      r0,[r1,#0x136]        ;1622
0008ee  f8c10d5c          STR      r0,[r1,#0xd5c]        ;1622
0008f2  f8d1013a          LDR      r0,[r1,#0x13a]        ;1622
0008f6  f8c10d60          STR      r0,[r1,#0xd60]        ;1622
0008fa  f8dd05cc          LDR      r0,[sp,#0x5cc]        ;1626
0008fe  5c18              LDRB     r0,[r3,r0]            ;1626
000900  b310              CBZ      r0,|L21.2376|
                  |L21.2306|
000902  f8dd05f8          LDR      r0,[sp,#0x5f8]        ;1629
000906  f8b00186          LDRH     r0,[r0,#0x186]        ;1629
00090a  b150              CBZ      r0,|L21.2338|
00090c  f8dd0650          LDR      r0,[sp,#0x650]        ;1631
000910  f9900cb4          LDRSB    r0,[r0,#0xcb4]        ;1631
000914  2805              CMP      r0,#5                 ;1631
000916  da04              BGE      |L21.2338|
000918  f8dd2650          LDR      r2,[sp,#0x650]        ;1632
00091c  1c40              ADDS     r0,r0,#1              ;1631
00091e  f8820cb4          STRB     r0,[r2,#0xcb4]        ;1632
                  |L21.2338|
000922  f601505c          ADD      r0,r1,#0xd5c          ;1640
000926  2100              MOVS     r1,#0                 ;1640
000928  f7fffffe          BL       algorithm_coord_IsEdgeArea
00092c  2800              CMP      r0,#0                 ;1640
00092e  f8dd0650          LDR      r0,[sp,#0x650]        ;1645
000932  68b1              LDR      r1,[r6,#8]            ;1640  ; thisModeConf
000934  f9900cb4          LDRSB    r0,[r0,#0xcb4]        ;1645
000938  dd0c              BLE      |L21.2388|
00093a  f89110d8          LDRB     r1,[r1,#0xd8]         ;1641
00093e  4288              CMP      r0,r1                 ;1641
000940  f3408359          BLE.W    |L21.4086|
000944  f000bcb5          B.W      |L21.4786|
                  |L21.2376|
000948  f8dd25f8          LDR      r2,[sp,#0x5f8]        ;1627
00094c  2000              MOVS     r0,#0                 ;1627
00094e  f8a20186          STRH     r0,[r2,#0x186]        ;1627
000952  e7e6              B        |L21.2338|
                  |L21.2388|
000954  f89110d7          LDRB     r1,[r1,#0xd7]         ;1645
000958  4288              CMP      r0,r1                 ;1645
00095a  f30084aa          BGT.W    |L21.4786|
00095e  f000bb4a          B.W      |L21.4086|
000962  e7ff              B        |L21.2404|
                  |L21.2404|
000964  f8dd05f8          LDR      r0,[sp,#0x5f8]        ;1651
000968  f8b00392          LDRH     r0,[r0,#0x392]        ;1651
00096c  b338              CBZ      r0,|L21.2494|
00096e  f8dd0650          LDR      r0,[sp,#0x650]        ;1655
000972  f8d210c4          LDR      r1,[r2,#0xc4]         ;1653
000976  f9900cb4          LDRSB    r0,[r0,#0xcb4]        ;1655
00097a  2805              CMP      r0,#5                 ;1655
00097c  da04              BGE      |L21.2440|
00097e  1c43              ADDS     r3,r0,#1              ;1657
000980  f8dd0650          LDR      r0,[sp,#0x650]        ;1657
000984  f8803cb4          STRB     r3,[r0,#0xcb4]        ;1657
                  |L21.2440|
000988  f89200c8          LDRB     r0,[r2,#0xc8]         ;1660
00098c  b170              CBZ      r0,|L21.2476|
00098e  f8dd25c8          LDR      r2,[sp,#0x5c8]        ;1660
000992  f8922135          LDRB     r2,[r2,#0x135]        ;1660
000996  2a05              CMP      r2,#5                 ;1660
000998  d806              BHI      |L21.2472|
00099a  68f2              LDR      r2,[r6,#0xc]          ;1660  ; thisInfo
00099c  f5025280          ADD      r2,r2,#0x1000         ;1660
0009a0  f892232a          LDRB     r2,[r2,#0x32a]        ;1660
0009a4  2a01              CMP      r2,#1                 ;1660
0009a6  d101              BNE      |L21.2476|
                  |L21.2472|
0009a8  eba10150          SUB      r1,r1,r0,LSR #1       ;1660
                  |L21.2476|
0009ac  f8dd05f8          LDR      r0,[sp,#0x5f8]        ;1662
0009b0  f8b00186          LDRH     r0,[r0,#0x186]        ;1662
0009b4  4288              CMP      r0,r1                 ;1662
0009b6  f280847c          BGE.W    |L21.4786|
0009ba  f000bc71          B.W      |L21.4768|
                  |L21.2494|
0009be  f9b250c2          LDRSH    r5,[r2,#0xc2]         ;1670
0009c2  f89200c8          LDRB     r0,[r2,#0xc8]         ;1672
0009c6  b168              CBZ      r0,|L21.2532|
0009c8  f8dd35c8          LDR      r3,[sp,#0x5c8]        ;1672
0009cc  f8933135          LDRB     r3,[r3,#0x135]        ;1672
0009d0  2b05              CMP      r3,#5                 ;1672
0009d2  d806              BHI      |L21.2530|
0009d4  68f3              LDR      r3,[r6,#0xc]          ;1672  ; thisInfo
0009d6  f5035380          ADD      r3,r3,#0x1000         ;1672
0009da  f893332a          LDRB     r3,[r3,#0x32a]        ;1672
0009de  2b01              CMP      r3,#1                 ;1672
0009e0  d100              BNE      |L21.2532|
                  |L21.2530|
0009e2  1a2d              SUBS     r5,r5,r0              ;1672
                  |L21.2532|
0009e4  f8dd05f8          LDR      r0,[sp,#0x5f8]        ;1674
0009e8  f8d230bc          LDR      r3,[r2,#0xbc]         ;1674
0009ec  f8b00186          LDRH     r0,[r0,#0x186]        ;1674
0009f0  4298              CMP      r0,r3                 ;1674
0009f2  f0c08455          BCC.W    |L21.4768|
0009f6  f8dd05f8          LDR      r0,[sp,#0x5f8]        ;1674
0009fa  f8b0019a          LDRH     r0,[r0,#0x19a]        ;1674
0009fe  2800              CMP      r0,#0                 ;1674
000a00  f000844e          BEQ.W    |L21.4768|
000a04  2400              MOVS     r4,#0                 ;1676
000a06  f89220c1          LDRB     r2,[r2,#0xc1]         ;1682
000a0a  4620              MOV      r0,r4                 ;1677
000a0c  b122              CBZ      r2,|L21.2584|
000a0e  f201204f          ADD      r0,r1,#0x24f          ;1685
000a12  2100              MOVS     r1,#0                 ;1685
000a14  f7fffffe          BL       algorithm_coord_IsEdgeArea
                  |L21.2584|
000a18  f8dd1650          LDR      r1,[sp,#0x650]        ;1691
000a1c  f9911cb4          LDRSB    r1,[r1,#0xcb4]        ;1691
000a20  2905              CMP      r1,#5                 ;1691
000a22  da04              BGE      |L21.2606|
000a24  f8dd2650          LDR      r2,[sp,#0x650]        ;1693
000a28  1c49              ADDS     r1,r1,#1              ;1691
000a2a  f8821cb4          STRB     r1,[r2,#0xcb4]        ;1693
                  |L21.2606|
000a2e  f8dd15f8          LDR      r1,[sp,#0x5f8]        ;1696
000a32  f8b111d6          LDRH     r1,[r1,#0x1d6]        ;1696
000a36  42a9              CMP      r1,r5                 ;1696
000a38  f3408432          BLE.W    |L21.4768|
000a3c  f8dd15f8          LDR      r1,[sp,#0x5f8]        ;1698
000a40  68b2              LDR      r2,[r6,#8]            ;1698  ; thisModeConf
000a42  f8b11186          LDRH     r1,[r1,#0x186]        ;1698
000a46  f8cd2654          STR      r2,[sp,#0x654]        ;1698
000a4a  f8d220b2          LDR      r2,[r2,#0xb2]         ;1698
000a4e  4291              CMP      r1,r2                 ;1698
000a50  d305              BCC      |L21.2654|
000a52  f8dd1654          LDR      r1,[sp,#0x654]        ;1701
000a56  f89110b6          LDRB     r1,[r1,#0xb6]         ;1701
000a5a  180c              ADDS     r4,r1,r0              ;1701
000a5c  e016              B        |L21.2700|
                  |L21.2654|
000a5e  f8dd2654          LDR      r2,[sp,#0x654]        ;1703
000a62  f8d220b7          LDR      r2,[r2,#0xb7]         ;1703
000a66  4291              CMP      r1,r2                 ;1703
000a68  bf24              ITT      CS                    ;1706
000a6a  f8dd1654          LDRCS    r1,[sp,#0x654]        ;1706
000a6e  f89110bb          LDRBCS   r1,[r1,#0xbb]         ;1706
000a72  d20a              BCS      |L21.2698|
000a74  f8dd2654          LDR      r2,[sp,#0x654]        ;1708
000a78  f8d220bc          LDR      r2,[r2,#0xbc]         ;1708
000a7c  4291              CMP      r1,r2                 ;1708
000a7e  bf24              ITT      CS                    ;1711
000a80  f8dd1654          LDRCS    r1,[sp,#0x654]        ;1711
000a84  f89110c0          LDRBCS   r1,[r1,#0xc0]         ;1711
000a88  d300              BCC      |L21.2700|
                  |L21.2698|
000a8a  180c              ADDS     r4,r1,r0              ;1711
                  |L21.2700|
000a8c  f8dd0650          LDR      r0,[sp,#0x650]        ;1714
000a90  f9900cb4          LDRSB    r0,[r0,#0xcb4]        ;1714
000a94  42a0              CMP      r0,r4                 ;1714
000a96  dc04              BGT      |L21.2722|
000a98  f8dd15f8          LDR      r1,[sp,#0x5f8]        ;1720
000a9c  2000              MOVS     r0,#0                 ;1720
000a9e  f8a10186          STRH     r0,[r1,#0x186]        ;1720
                  |L21.2722|
000aa2  f8dd0654          LDR      r0,[sp,#0x654]        ;1757
000aa6  f8b0020b          LDRH     r0,[r0,#0x20b]        ;1757
000aaa  b930              CBNZ     r0,|L21.2746|
000aac  f8dd0654          LDR      r0,[sp,#0x654]        ;1757
000ab0  f890020d          LDRB     r0,[r0,#0x20d]        ;1757
000ab4  2800              CMP      r0,#0                 ;1757
000ab6  f00083fc          BEQ.W    |L21.4786|
                  |L21.2746|
000aba  f8dd0650          LDR      r0,[sp,#0x650]        ;1757
000abe  f9900cb4          LDRSB    r0,[r0,#0xcb4]        ;1757
000ac2  2805              CMP      r0,#5                 ;1757
000ac4  f28083f5          BGE.W    |L21.4786|
000ac8  f8dd0658          LDR      r0,[sp,#0x658]        ;1760
000acc  494a              LDR      r1,|L21.3064|
000ace  f04f0a00          MOV      r10,#0                ;1764
000ad2  f8d051ae          LDR      r5,[r0,#0x1ae]        ;1760
000ad6  f8dd05f8          LDR      r0,[sp,#0x5f8]        ;1763
000ada  f99001ea          LDRSB    r0,[r0,#0x1ea]        ;1763
000ade  1842              ADDS     r2,r0,r1              ;1763
000ae0  f8dd05f8          LDR      r0,[sp,#0x5f8]        ;1763
000ae4  f99001eb          LDRSB    r0,[r0,#0x1eb]        ;1763
000ae8  ebc000c0          RSB      r0,r0,r0,LSL #3       ;1763
000aec  eb000340          ADD      r3,r0,r0,LSL #1       ;1763
000af0  4842              LDR      r0,|L21.3068|
000af2  eb000083          ADD      r0,r0,r3,LSL #2       ;1763
000af6  5c14              LDRB     r4,[r2,r0]            ;1763
000af8  2001              MOVS     r0,#1                 ;1766
000afa  f8cd05d8          STR      r0,[sp,#0x5d8]        ;1766
000afe  f8dd0658          LDR      r0,[sp,#0x658]        ;1768
000b02  f8cda65c          STR      r10,[sp,#0x65c]       ;1766
000b06  f99001ae          LDRSB    r0,[r0,#0x1ae]        ;1768
000b0a  f8cd0668          STR      r0,[sp,#0x668]        ;1768
000b0e  f8dd0658          LDR      r0,[sp,#0x658]        ;1768
000b12  f99001af          LDRSB    r0,[r0,#0x1af]        ;1768
000b16  f8cd0664          STR      r0,[sp,#0x664]        ;1768
000b1a  bf00              NOP                            ;1768
                  |L21.2844|
000b1c  f8dd15d8          LDR      r1,[sp,#0x5d8]        ;1768
000b20  f8dd0668          LDR      r0,[sp,#0x668]        ;1768
000b24  1a40              SUBS     r0,r0,r1              ;1768
000b26  f8cd067c          STR      r0,[sp,#0x67c]        ;1768
000b2a  2800              CMP      r0,#0                 ;1768
000b2c  bf4c              ITE      MI                    ;1768
000b2e  2600              MOVMI    r6,#0                 ;1768
000b30  4606              MOVPL    r6,r0                 ;1768
000b32  f8dd0664          LDR      r0,[sp,#0x664]        ;1768
000b36  4408              ADD      r0,r0,r1              ;1768
000b38  f8cd0678          STR      r0,[sp,#0x678]        ;1768
000b3c  282f              CMP      r0,#0x2f              ;1768
000b3e  bfa8              IT       GE                    ;1768
000b40  202f              MOVGE    r0,#0x2f              ;1768
000b42  42b0              CMP      r0,r6                 ;1768
000b44  db53              BLT      |L21.3054|
000b46  f8dd0658          LDR      r0,[sp,#0x658]        ;1770
000b4a  f8dfe0ac          LDR      lr,|L21.3064|
000b4e  f3452b07          SBFX     r11,r5,#8,#8          ;1763
000b52  f99001b0          LDRSB    r0,[r0,#0x1b0]        ;1770
000b56  1a40              SUBS     r0,r0,r1              ;1770
000b58  f8cd0680          STR      r0,[sp,#0x680]        ;1770
000b5c  f8dd0658          LDR      r0,[sp,#0x658]        ;1770
000b60  f99001b1          LDRSB    r0,[r0,#0x1b1]        ;1770
000b64  eb000901          ADD      r9,r0,r1              ;1770
000b68  1628              ASRS     r0,r5,#24             ;1763
000b6a  f8cd05e4          STR      r0,[sp,#0x5e4]        ;1763
000b6e  f3454007          SBFX     r0,r5,#16,#8          ;1763
000b72  f8cd05fc          STR      r0,[sp,#0x5fc]        ;1763
000b76  b268              SXTB     r0,r5                 ;1763
000b78  f8cd05f0          STR      r0,[sp,#0x5f0]        ;1763
                  |L21.2940|
000b7c  f8dd0680          LDR      r0,[sp,#0x680]        ;1770
000b80  2800              CMP      r0,#0                 ;1770
000b82  bf48              IT       MI                    ;1770
000b84  2000              MOVMI    r0,#0                 ;1770
000b86  f1b90f53          CMP      r9,#0x53              ;1770
000b8a  bfb4              ITE      LT                    ;1770
000b8c  4649              MOVLT    r1,r9                 ;1770
000b8e  2153              MOVGE    r1,#0x53              ;1770
000b90  4281              CMP      r1,r0                 ;1770
000b92  db57              BLT      |L21.3140|
000b94  ebc601c6          RSB      r1,r6,r6,LSL #3       ;1774
000b98  eb010141          ADD      r1,r1,r1,LSL #1       ;1774
000b9c  eb0e0281          ADD      r2,lr,r1,LSL #2       ;1774
000ba0  eb0e01c1          ADD      r1,lr,r1,LSL #3       ;1796
000ba4  f1060801          ADD      r8,r6,#1              ;1782
000ba8  f8cd2670          STR      r2,[sp,#0x670]        ;1796
000bac  f8cd166c          STR      r1,[sp,#0x66c]        ;1796
                  |L21.2992|
000bb0  45b3              CMP      r11,r6                ;1772
000bb2  bfa4              ITT      GE                    ;1772
000bb4  f8dd15f0          LDRGE    r1,[sp,#0x5f0]        ;1772
000bb8  428e              CMPGE    r6,r1                 ;1772
000bba  db07              BLT      |L21.3020|
000bbc  f8dd15e4          LDR      r1,[sp,#0x5e4]        ;1772
000bc0  4281              CMP      r1,r0                 ;1772
000bc2  bfa4              ITT      GE                    ;1772
000bc4  f8dd15fc          LDRGE    r1,[sp,#0x5fc]        ;1772
000bc8  4288              CMPGE    r0,r1                 ;1772
000bca  da33              BGE      |L21.3124|
                  |L21.3020|
000bcc  f8dd1670          LDR      r1,[sp,#0x670]        ;1774
000bd0  4401              ADD      r1,r1,r0              ;1774
000bd2  f5013188          ADD      r1,r1,#0x11000        ;1774
000bd6  f8911640          LDRB     r1,[r1,#0x640]        ;1774
000bda  428c              CMP      r4,r1                 ;1775
000bdc  d019              BEQ      |L21.3090|
000bde  b1d1              CBZ      r1,|L21.3094|
000be0  2912              CMP      r1,#0x12              ;1775
000be2  d03c              BEQ      |L21.3166|
000be4  293f              CMP      r1,#0x3f              ;1775
000be6  d016              BEQ      |L21.3094|
000be8  2001              MOVS     r0,#1                 ;1777
000bea  f8cd065c          STR      r0,[sp,#0x65c]        ;1777
                  |L21.3054|
000bee  e007              B        |L21.3072|
                  |L21.3056|
                          DCD      ||.data||
                  |L21.3060|
                          DCD      ||area_number.28||
                  |L21.3064|
                          DCD      FullSharedBuff
                  |L21.3068|
                          DCD      0x00011640
                  |L21.3072|
000c00  f8dd065c          LDR      r0,[sp,#0x65c]        ;1807
000c04  ea50000a          ORRS     r0,r0,r10             ;1807
000c08  d070              BEQ      |L21.3308|
000c0a  f8dd065c          LDR      r0,[sp,#0x65c]        ;1809
000c0e  b3e8              CBZ      r0,|L21.3212|
000c10  e0f9              B        |L21.3590|
                  |L21.3090|
000c12  2912              CMP      r1,#0x12              ;1780
000c14  d023              BEQ      |L21.3166|
                  |L21.3094|
000c16  f8dd166c          LDR      r1,[sp,#0x66c]        ;1796
000c1a  f24f62c0          MOV      r2,#0xf6c0            ;1796
000c1e  eb010140          ADD      r1,r1,r0,LSL #1       ;1796
000c22  5e8a              LDRSH    r2,[r1,r2]            ;1796
000c24  f8dd1654          LDR      r1,[sp,#0x654]        ;1796
000c28  f891120e          LDRB     r1,[r1,#0x20e]        ;1796
000c2c  428a              CMP      r2,r1                 ;1796
000c2e  bfc8              IT       GT                    ;1797
000c30  f04f0a01          MOVGT    r10,#1                ;1797
                  |L21.3124|
000c34  1c40              ADDS     r0,r0,#1              ;1797
000c36  f1b90f53          CMP      r9,#0x53              ;1797
000c3a  bfb4              ITE      LT                    ;1797
000c3c  4649              MOVLT    r1,r9                 ;1797
000c3e  2153              MOVGE    r1,#0x53              ;1797
000c40  4281              CMP      r1,r0                 ;1797
000c42  dab5              BGE      |L21.2992|
                  |L21.3140|
000c44  f8dd065c          LDR      r0,[sp,#0x65c]        ;1801
000c48  2801              CMP      r0,#1                 ;1801
000c4a  d04f              BEQ      |L21.3308|
000c4c  f8dd0678          LDR      r0,[sp,#0x678]        ;1803
000c50  1c76              ADDS     r6,r6,#1              ;1801
000c52  282f              CMP      r0,#0x2f              ;1803
000c54  bfa8              IT       GE                    ;1803
000c56  202f              MOVGE    r0,#0x2f              ;1803
000c58  42b0              CMP      r0,r6                 ;1803
000c5a  da8f              BGE      |L21.2940|
000c5c  e7c7              B        |L21.3054|
                  |L21.3166|
000c5e  1e71              SUBS     r1,r6,#1              ;1782
000c60  bf4c              ITE      MI                    ;1782
000c62  2200              MOVMI    r2,#0                 ;1782
000c64  460a              MOVPL    r2,r1                 ;1782
000c66  f1b80f2f          CMP      r8,#0x2f              ;1782
000c6a  bfb4              ITE      LT                    ;1782
000c6c  4641              MOVLT    r1,r8                 ;1782
000c6e  212f              MOVGE    r1,#0x2f              ;1782
000c70  4291              CMP      r1,r2                 ;1782
000c72  bfa8              IT       GE                    ;1784
000c74  1c47              ADDGE    r7,r0,#1              ;1784
000c76  dbce              BLT      |L21.3094|
                  |L21.3192|
000c78  1e41              SUBS     r1,r0,#1              ;1784
000c7a  bf48              IT       MI                    ;1784
000c7c  2100              MOVMI    r1,#0                 ;1784
000c7e  2f53              CMP      r7,#0x53              ;1784
000c80  bfb4              ITE      LT                    ;1784
000c82  463b              MOVLT    r3,r7                 ;1784
000c84  2353              MOVGE    r3,#0x53              ;1784
000c86  428b              CMP      r3,r1                 ;1784
000c88  db27              BLT      |L21.3290|
000c8a  e000              B        |L21.3214|
                  |L21.3212|
000c8c  e037              B        |L21.3326|
                  |L21.3214|
000c8e  ebc203c2          RSB      r3,r2,r2,LSL #3       ;1786
000c92  eb030343          ADD      r3,r3,r3,LSL #1       ;1786
000c96  eb0e0c83          ADD      r12,lr,r3,LSL #2      ;1786
000c9a  bf00              NOP                            ;1786
                  |L21.3228|
000c9c  eb0c0301          ADD      r3,r12,r1             ;1786
000ca0  f5033388          ADD      r3,r3,#0x11000        ;1786
000ca4  f8933640          LDRB     r3,[r3,#0x640]        ;1786
000ca8  429c              CMP      r4,r3                 ;1787
000caa  bf18              IT       NE                    ;1787
000cac  2b00              CMPNE    r3,#0                 ;1787
000cae  d01e              BEQ      |L21.3310|
000cb0  2b12              CMP      r3,#0x12              ;1787
000cb2  bf18              IT       NE                    ;1787
000cb4  2b3f              CMPNE    r3,#0x3f              ;1787
000cb6  d01a              BEQ      |L21.3310|
000cb8  4593              CMP      r11,r2                ;1787
000cba  bfa4              ITT      GE                    ;1787
000cbc  f8dd35f0          LDRGE    r3,[sp,#0x5f0]        ;1787
000cc0  429a              CMPGE    r2,r3                 ;1787
000cc2  db07              BLT      |L21.3284|
000cc4  f8dd35e4          LDR      r3,[sp,#0x5e4]        ;1787
000cc8  428b              CMP      r3,r1                 ;1787
000cca  bfa4              ITT      GE                    ;1787
000ccc  f8dd35fc          LDRGE    r3,[sp,#0x5fc]        ;1787
000cd0  4299              CMPGE    r1,r3                 ;1787
000cd2  da0c              BGE      |L21.3310|
                  |L21.3284|
000cd4  2101              MOVS     r1,#1                 ;1789
000cd6  f8cd165c          STR      r1,[sp,#0x65c]        ;1789
                  |L21.3290|
000cda  1c52              ADDS     r2,r2,#1              ;1789
000cdc  f1b80f2f          CMP      r8,#0x2f              ;1790
000ce0  bfb4              ITE      LT                    ;1790
000ce2  4641              MOVLT    r1,r8                 ;1790
000ce4  212f              MOVGE    r1,#0x2f              ;1790
000ce6  4291              CMP      r1,r2                 ;1790
000ce8  dac6              BGE      |L21.3192|
000cea  e794              B        |L21.3094|
                  |L21.3308|
000cec  e08b              B        |L21.3590|
                  |L21.3310|
000cee  1c49              ADDS     r1,r1,#1              ;1790
000cf0  2f53              CMP      r7,#0x53              ;1790
000cf2  bfb4              ITE      LT                    ;1790
000cf4  463b              MOVLT    r3,r7                 ;1790
000cf6  2353              MOVGE    r3,#0x53              ;1790
000cf8  428b              CMP      r3,r1                 ;1790
000cfa  dacf              BGE      |L21.3228|
000cfc  e7ed              B        |L21.3290|
                  |L21.3326|
000cfe  f8dd067c          LDR      r0,[sp,#0x67c]        ;1811
000d02  2800              CMP      r0,#0                 ;1811
000d04  bf4c              ITE      MI                    ;1811
000d06  2200              MOVMI    r2,#0                 ;1811
000d08  4602              MOVPL    r2,r0                 ;1811
000d0a  f8dd0678          LDR      r0,[sp,#0x678]        ;1811
000d0e  282f              CMP      r0,#0x2f              ;1811
000d10  bfa8              IT       GE                    ;1811
000d12  202f              MOVGE    r0,#0x2f              ;1811
000d14  4290              CMP      r0,r2                 ;1811
000d16  db6e              BLT      |L21.3574|
000d18  f8dd0658          LDR      r0,[sp,#0x658]        ;1770
000d1c  f8dd15d8          LDR      r1,[sp,#0x5d8]        ;1770
000d20  f8df95c8          LDR      r9,|L21.4844|
000d24  f99001b0          LDRSB    r0,[r0,#0x1b0]        ;1770
000d28  f8ddc654          LDR      r12,[sp,#0x654]       ;1763
000d2c  eba00801          SUB      r8,r0,r1              ;1770
000d30  f8dd0658          LDR      r0,[sp,#0x658]        ;1770
000d34  f99001b1          LDRSB    r0,[r0,#0x1b1]        ;1770
000d38  1843              ADDS     r3,r0,r1              ;1770
000d3a  bf00              NOP                            ;1812
                  |L21.3388|
000d3c  f1b80f00          CMP      r8,#0                 ;1812
000d40  bf4c              ITE      MI                    ;1812
000d42  2000              MOVMI    r0,#0                 ;1812
000d44  4640              MOVPL    r0,r8                 ;1812
000d46  2b53              CMP      r3,#0x53              ;1812
000d48  bfb4              ITE      LT                    ;1812
000d4a  4619              MOVLT    r1,r3                 ;1812
000d4c  2153              MOVGE    r1,#0x53              ;1812
000d4e  4281              CMP      r1,r0                 ;1812
000d50  db49              BLT      |L21.3558|
000d52  ebc201c2          RSB      r1,r2,r2,LSL #3       ;1774
000d56  eb010141          ADD      r1,r1,r1,LSL #1       ;1774
000d5a  eb090681          ADD      r6,r9,r1,LSL #2       ;1774
000d5e  eb0907c1          ADD      r7,r9,r1,LSL #3       ;1796
                  |L21.3426|
000d62  1831              ADDS     r1,r6,r0              ;1814
000d64  f5013188          ADD      r1,r1,#0x11000        ;1814
000d68  f8911640          LDRB     r1,[r1,#0x640]        ;1814
000d6c  2900              CMP      r1,#0                 ;1815
000d6e  bf1c              ITT      NE                    ;1815
000d70  2912              CMPNE    r1,#0x12              ;1815
000d72  293f              CMPNE    r1,#0x3f              ;1815
000d74  d130              BNE      |L21.3544|
000d76  f3452107          SBFX     r1,r5,#8,#8           ;1815
000d7a  4291              CMP      r1,r2                 ;1815
000d7c  bfa1              ITTTT    GE                    ;1815
000d7e  fa4ffb85          SXTBGE   r11,r5                ;1815
000d82  455a              CMPGE    r2,r11                ;1815
000d84  ea4f6b25          ASRGE    r11,r5,#24            ;1815
000d88  4583              CMPGE    r11,r0                ;1815
000d8a  db03              BLT      |L21.3476|
000d8c  f3454b07          SBFX     r11,r5,#16,#8         ;1815
000d90  4583              CMP      r11,r0                ;1815
000d92  dd21              BLE      |L21.3544|
                  |L21.3476|
000d94  eb070a40          ADD      r10,r7,r0,LSL #1      ;1817
000d98  f50a4a70          ADD      r10,r10,#0xf000       ;1817
000d9c  f89cb20e          LDRB     r11,[r12,#0x20e]      ;1818
000da0  f9baa6c0          LDRSH    r10,[r10,#0x6c0]      ;1817
000da4  45da              CMP      r10,r11               ;1818
000da6  dd17              BLE      |L21.3544|
000da8  428a              CMP      r2,r1                 ;1820
000daa  bfa8              IT       GE                    ;1820
000dac  4611              MOVGE    r1,r2                 ;1820
000dae  f361250f          BFI      r5,r1,#8,#8           ;1820
000db2  b269              SXTB     r1,r5                 ;1820
000db4  4291              CMP      r1,r2                 ;1821
000db6  bfc8              IT       GT                    ;1821
000db8  4611              MOVGT    r1,r2                 ;1821
000dba  f3610507          BFI      r5,r1,#0,#8           ;1821
000dbe  1629              ASRS     r1,r5,#24             ;1821
000dc0  4281              CMP      r1,r0                 ;1822
000dc2  bfd8              IT       LE                    ;1822
000dc4  4601              MOVLE    r1,r0                 ;1822
000dc6  f361651f          BFI      r5,r1,#24,#8          ;1822
000dca  f3454107          SBFX     r1,r5,#16,#8          ;1822
000dce  4281              CMP      r1,r0                 ;1823
000dd0  bfc8              IT       GT                    ;1823
000dd2  4601              MOVGT    r1,r0                 ;1823
000dd4  f3614517          BFI      r5,r1,#16,#8          ;1823
                  |L21.3544|
000dd8  1c40              ADDS     r0,r0,#1              ;1823
000dda  2b53              CMP      r3,#0x53              ;1823
000ddc  bfb4              ITE      LT                    ;1823
000dde  4619              MOVLT    r1,r3                 ;1823
000de0  2153              MOVGE    r1,#0x53              ;1823
000de2  4281              CMP      r1,r0                 ;1823
000de4  dabd              BGE      |L21.3426|
                  |L21.3558|
000de6  f8dd0678          LDR      r0,[sp,#0x678]        ;1823
000dea  1c52              ADDS     r2,r2,#1              ;1823
000dec  282f              CMP      r0,#0x2f              ;1823
000dee  bfa8              IT       GE                    ;1823
000df0  202f              MOVGE    r0,#0x2f              ;1823
000df2  4290              CMP      r0,r2                 ;1823
000df4  daa2              BGE      |L21.3388|
                  |L21.3574|
000df6  f8dd05d8          LDR      r0,[sp,#0x5d8]        ;1830
000dfa  1c40              ADDS     r0,r0,#1              ;1830
000dfc  f8cd05d8          STR      r0,[sp,#0x5d8]        ;1830
000e00  2804              CMP      r0,#4                 ;1830
000e02  f77fae8b          BLE      |L21.2844|
                  |L21.3590|
000e06  b269              SXTB     r1,r5                 ;1830
000e08  f8cd15f0          STR      r1,[sp,#0x5f0]        ;1834
000e0c  310e              ADDS     r1,r1,#0xe            ;1834
000e0e  f3452007          SBFX     r0,r5,#8,#8           ;1830
000e12  f8cd1668          STR      r1,[sp,#0x668]        ;1834
000e16  4288              CMP      r0,r1                 ;1834
000e18  bfc4              ITT      GT                    ;1834
000e1a  f8dd05f0          LDRGT    r0,[sp,#0x5f0]        ;1834
000e1e  300e              ADDGT    r0,r0,#0xe            ;1834
000e20  b240              SXTB     r0,r0                 ;1834
000e22  f360250f          BFI      r5,r0,#8,#8           ;1834
000e26  f3454607          SBFX     r6,r5,#16,#8          ;1834
000e2a  f8cd05f4          STR      r0,[sp,#0x5f4]        ;1834
000e2e  f106010e          ADD      r1,r6,#0xe            ;1835
000e32  1628              ASRS     r0,r5,#24             ;1834
000e34  f8cd1664          STR      r1,[sp,#0x664]        ;1835
000e38  4288              CMP      r0,r1                 ;1835
000e3a  bfc8              IT       GT                    ;1835
000e3c  f106000e          ADDGT    r0,r6,#0xe            ;1835
000e40  b247              SXTB     r7,r0                 ;1835
000e42  f367651f          BFI      r5,r7,#24,#8          ;1835
000e46  f44f71e2          MOV      r1,#0x1c4             ;1846
000e4a  4668              MOV      r0,sp                 ;1846
000e4c  f8cd55dc          STR      r5,[sp,#0x5dc]        ;1846
000e50  f7fffffe          BL       __aeabi_memclr4
000e54  f8dd55dc          LDR      r5,[sp,#0x5dc]        ;1849
000e58  2200              MOVS     r2,#0                 ;1847
000e5a  b269              SXTB     r1,r5                 ;1849
000e5c  f3452007          SBFX     r0,r5,#8,#8           ;1849
000e60  4613              MOV      r3,r2                 ;1848
000e62  4288              CMP      r0,r1                 ;1849
000e64  bfa4              ITT      GE                    ;1763
000e66  f8dfb484          LDRGE    r11,|L21.4844|
000e6a  46ee              MOVGE    lr,sp                 ;1845
000e6c  db2d              BLT      |L21.3786|
                  |L21.3694|
000e6e  4630              MOV      r0,r6                 ;1849
000e70  4287              CMP      r7,r0                 ;1850
000e72  db25              BLT      |L21.3776|
000e74  ebc10cc1          RSB      r12,r1,r1,LSL #3      ;1774
000e78  eb0c0c4c          ADD      r12,r12,r12,LSL #1    ;1774
000e7c  eb0b058c          ADD      r5,r11,r12,LSL #2     ;1774
000e80  eb0b08cc          ADD      r8,r11,r12,LSL #3     ;1796
000e84  f8ddc5f0          LDR      r12,[sp,#0x5f0]       ;1857
000e88  eba10c0c          SUB      r12,r1,r12            ;1857
000e8c  ebcc1c0c          RSB      r12,r12,r12,LSL #4    ;1857
000e90  eb0e094c          ADD      r9,lr,r12,LSL #1      ;1857
                  |L21.3732|
000e94  eb050c00          ADD      r12,r5,r0             ;1852
000e98  f50c3c88          ADD      r12,r12,#0x11000      ;1852
000e9c  f89cc640          LDRB     r12,[r12,#0x640]      ;1852
000ea0  4564              CMP      r4,r12                ;1853
000ea2  bf18              IT       NE                    ;1853
000ea4  f1bc0f00          CMPNE    r12,#0                ;1853
000ea8  d07d              BEQ      |L21.4006|
000eaa  f1bc0f12          CMP      r12,#0x12             ;1853
000eae  bf18              IT       NE                    ;1853
000eb0  f1bc0f3f          CMPNE    r12,#0x3f             ;1853
000eb4  d077              BEQ      |L21.4006|
000eb6  bf00              NOP                            ;1853
                  |L21.3768|
000eb8  f1000001          ADD      r0,r0,#1              ;1853
000ebc  4287              CMP      r7,r0                 ;1860
000ebe  dae9              BGE      |L21.3732|
                  |L21.3776|
000ec0  f8dd05f4          LDR      r0,[sp,#0x5f4]        ;1860
000ec4  1c49              ADDS     r1,r1,#1              ;1860
000ec6  4288              CMP      r0,r1                 ;1860
000ec8  dad1              BGE      |L21.3694|
                  |L21.3786|
000eca  fb93f8f2          SDIV     r8,r3,r2              ;1864
000ece  2000              MOVS     r0,#0                 ;1864
000ed0  f8ddc5f0          LDR      r12,[sp,#0x5f0]       ;1866
000ed4  f8dd35f4          LDR      r3,[sp,#0x5f4]        ;1866
000ed8  4601              MOV      r1,r0                 ;1864
000eda  f8cdc5d0          STR      r12,[sp,#0x5d0]       ;1866
000ede  4563              CMP      r3,r12                ;1866
000ee0  bfa8              IT       GE                    ;1867
000ee2  eba70e06          SUBGE    lr,r7,r6              ;1867
000ee6  db5c              BLT      |L21.4002|
                  |L21.3816|
000ee8  f1be0f00          CMP      lr,#0                 ;1867
000eec  dd37              BLE      |L21.3934|
000eee  f8dd35f0          LDR      r3,[sp,#0x5f0]        ;1867
000ef2  ebac0303          SUB      r3,r12,r3             ;1867
000ef6  ebc31c03          RSB      r12,r3,r3,LSL #4      ;1867
000efa  466b              MOV      r3,sp                 ;1867
000efc  eb03034c          ADD      r3,r3,r12,LSL #1      ;1867
000f00  1e9b              SUBS     r3,r3,#2              ;1867
000f02  f01e0f01          TST      lr,#1
000f06  d009              BEQ      |L21.3868|
000f08  f833cf02          LDRH     r12,[r3,#2]!          ;1870
000f0c  ebac0c08          SUB      r12,r12,r8            ;1870
000f10  fb0cfc0c          MUL      r12,r12,r12           ;1870
000f14  eb1c0000          ADDS     r0,r12,r0             ;1870
000f18  eb4171ec          ADC      r1,r1,r12,ASR #31     ;1870
                  |L21.3868|
000f1c  f8b39002          LDRH     r9,[r3,#2]
000f20  f04f0c00          MOV      r12,#0
000f24  4665              MOV      r5,r12
000f26  ea5f076e          ASRS     r7,lr,#1              ;1867
000f2a  d015              BEQ      |L21.3928|
                  |L21.3884|
000f2c  f833af04          LDRH     r10,[r3,#4]!
000f30  eba90908          SUB      r9,r9,r8              ;1870
000f34  fb09f909          MUL      r9,r9,r9              ;1870
000f38  eb190000          ADDS     r0,r9,r0              ;1870
000f3c  eb4171e9          ADC      r1,r1,r9,ASR #31      ;1870
000f40  ebaa0a08          SUB      r10,r10,r8            ;1870
000f44  fb0afa0a          MUL      r10,r10,r10           ;1870
000f48  eb1a0c0c          ADDS     r12,r10,r12           ;1870
000f4c  f8b39002          LDRH     r9,[r3,#2]            ;1870
000f50  eb4575ea          ADC      r5,r5,r10,ASR #31     ;1870
000f54  1e7f              SUBS     r7,r7,#1              ;1870
000f56  d1e9              BNE      |L21.3884|
                  |L21.3928|
000f58  eb10000c          ADDS     r0,r0,r12             ;1870
000f5c  4169              ADCS     r1,r1,r5              ;1870
                  |L21.3934|
000f5e  f1be0f00          CMP      lr,#0                 ;1870
000f62  db12              BLT      |L21.3978|
000f64  f8ddc5f0          LDR      r12,[sp,#0x5f0]       ;1870
000f68  f8dd35d0          LDR      r3,[sp,#0x5d0]        ;1870
000f6c  eba3030c          SUB      r3,r3,r12             ;1870
000f70  ebc31c03          RSB      r12,r3,r3,LSL #4      ;1870
000f74  466b              MOV      r3,sp                 ;1870
000f76  eb030c4c          ADD      r12,r3,r12,LSL #1     ;1870
000f7a  f83c301e          LDRH     r3,[r12,lr,LSL #1]    ;1870
000f7e  eba30308          SUB      r3,r3,r8              ;1870
000f82  435b              MULS     r3,r3,r3              ;1870
000f84  1818              ADDS     r0,r3,r0              ;1870
000f86  eb4171e3          ADC      r1,r1,r3,ASR #31      ;1870
                  |L21.3978|
000f8a  f8dd35d0          LDR      r3,[sp,#0x5d0]        ;1870
000f8e  f1030301          ADD      r3,r3,#1              ;1870
000f92  f8cd35d0          STR      r3,[sp,#0x5d0]        ;1870
000f96  f8ddc5d0          LDR      r12,[sp,#0x5d0]       ;1870
000f9a  f8dd35f4          LDR      r3,[sp,#0x5f4]        ;1870
000f9e  4563              CMP      r3,r12                ;1870
000fa0  daa2              BGE      |L21.3816|
                  |L21.4002|
000fa2  17d3              ASRS     r3,r2,#31             ;1872
000fa4  e000              B        |L21.4008|
                  |L21.4006|
000fa6  e02c              B        |L21.4098|
                  |L21.4008|
000fa8  f7fffffe          BL       __aeabi_uldivmod
000fac  f8dd25dc          LDR      r2,[sp,#0x5dc]        ;1873
000fb0  250a              MOVS     r5,#0xa               ;1873
000fb2  f3422307          SBFX     r3,r2,#8,#8           ;1873
000fb6  b252              SXTB     r2,r2                 ;1873
000fb8  1a9a              SUBS     r2,r3,r2              ;1873
000fba  f8dd35dc          LDR      r3,[sp,#0x5dc]        ;1873
000fbe  1c52              ADDS     r2,r2,#1              ;1873
000fc0  ea4f6c23          ASR      r12,r3,#24            ;1873
000fc4  f3434307          SBFX     r3,r3,#16,#8          ;1873
000fc8  ebac0303          SUB      r3,r12,r3             ;1873
000fcc  fba0c705          UMULL    r12,r7,r0,r5          ;1873
000fd0  1c5b              ADDS     r3,r3,#1              ;1873
000fd2  435a              MULS     r2,r3,r2              ;1873
000fd4  fb017105          MLA      r1,r1,r5,r7           ;1873
000fd8  2300              MOVS     r3,#0                 ;1873
000fda  fb001103          MLA      r1,r0,r3,r1           ;1873
000fde  17d3              ASRS     r3,r2,#31             ;1881
000fe0  4660              MOV      r0,r12                ;1881
000fe2  f7fffffe          BL       __aeabi_uldivmod
000fe6  f8dd2654          LDR      r2,[sp,#0x654]        ;1881
000fea  f8b2220b          LDRH     r2,[r2,#0x20b]        ;1881
000fee  1a80              SUBS     r0,r0,r2              ;1881
000ff0  f1710000          SBCS     r0,r1,#0              ;1881
000ff4  d221              BCS      |L21.4154|
                  |L21.4086|
000ff6  f8dd15f8          LDR      r1,[sp,#0x5f8]        ;1881
000ffa  2000              MOVS     r0,#0                 ;1881
000ffc  f8a10186          STRH     r0,[r1,#0x186]        ;1881
001000  e157              B        |L21.4786|
                  |L21.4098|
001002  eb080c40          ADD      r12,r8,r0,LSL #1      ;1855
001006  f50c4c70          ADD      r12,r12,#0xf000       ;1855
00100a  f9bcc6c0          LDRSH    r12,[r12,#0x6c0]      ;1855
00100e  f1bc0f00          CMP      r12,#0                ;1855
001012  bfb8              IT       LT                    ;1855
001014  f04f0c00          MOVLT    r12,#0                ;1855
001018  f04f0a64          MOV      r10,#0x64             ;1856
00101c  fb0cfa0a          MUL      r10,r12,r10           ;1856
001020  f8ddc5f8          LDR      r12,[sp,#0x5f8]       ;1856
001024  1c52              ADDS     r2,r2,#1              ;1859
001026  f8bcc1d6          LDRH     r12,[r12,#0x1d6]      ;1856
00102a  fb9afcfc          SDIV     r12,r10,r12           ;1856
00102e  eba00a06          SUB      r10,r0,r6             ;1857
001032  4463              ADD      r3,r3,r12             ;1859
001034  f829c01a          STRH     r12,[r9,r10,LSL #1]   ;1857
001038  e73e              B        |L21.3768|
                  |L21.4154|
00103a  f8dd05f8          LDR      r0,[sp,#0x5f8]        ;1883
00103e  f8b00186          LDRH     r0,[r0,#0x186]        ;1883
001042  2800              CMP      r0,#0                 ;1883
001044  d07e              BEQ      |L21.4420|
001046  f8dd0654          LDR      r0,[sp,#0x654]        ;1883
00104a  f890020d          LDRB     r0,[r0,#0x20d]        ;1883
00104e  2800              CMP      r0,#0                 ;1883
001050  d078              BEQ      |L21.4420|
001052  f8dd0668          LDR      r0,[sp,#0x668]        ;1887
001056  282f              CMP      r0,#0x2f              ;1887
001058  bfda              ITTE     LE                    ;1887
00105a  f8dd05f0          LDRLE    r0,[sp,#0x5f0]        ;1887
00105e  300e              ADDLE    r0,r0,#0xe            ;1887
001060  202f              MOVGT    r0,#0x2f              ;1887
001062  b247              SXTB     r7,r0                 ;1887
001064  f8dd0664          LDR      r0,[sp,#0x664]        ;1888
001068  2853              CMP      r0,#0x53              ;1888
00106a  bfcc              ITE      GT                    ;1888
00106c  2053              MOVGT    r0,#0x53              ;1888
00106e  f106000e          ADDLE    r0,r6,#0xe            ;1888
001072  b242              SXTB     r2,r0                 ;1888
001074  f8dd15f0          LDR      r1,[sp,#0x5f0]        ;1890
001078  428f              CMP      r7,r1                 ;1890
00107a  db2e              BLT      |L21.4314|
00107c  f8dfa26c          LDR      r10,|L21.4844|
001080  46ee              MOV      lr,sp                 ;1845
001082  f04f0900          MOV      r9,#0                 ;1845
                  |L21.4230|
001086  4630              MOV      r0,r6                 ;1845
001088  4282              CMP      r2,r0                 ;1891
00108a  db23              BLT      |L21.4308|
00108c  ebc103c1          RSB      r3,r1,r1,LSL #3       ;1774
001090  eb030343          ADD      r3,r3,r3,LSL #1       ;1774
001094  eb0a0583          ADD      r5,r10,r3,LSL #2      ;1774
001098  eb0a08c3          ADD      r8,r10,r3,LSL #3      ;1796
00109c  f8dd35f0          LDR      r3,[sp,#0x5f0]        ;1857
0010a0  1acb              SUBS     r3,r1,r3              ;1857
0010a2  ebc31303          RSB      r3,r3,r3,LSL #4       ;1857
0010a6  eb0e0c43          ADD      r12,lr,r3,LSL #1      ;1857
                  |L21.4266|
0010aa  182b              ADDS     r3,r5,r0              ;1893
0010ac  f5033388          ADD      r3,r3,#0x11000        ;1893
0010b0  f8933640          LDRB     r3,[r3,#0x640]        ;1893
0010b4  429c              CMP      r4,r3                 ;1894
0010b6  bf18              IT       NE                    ;1894
0010b8  2b00              CMPNE    r3,#0                 ;1894
0010ba  d07c              BEQ      |L21.4534|
0010bc  2b12              CMP      r3,#0x12              ;1894
0010be  bf1e              ITTT     NE                    ;1894
0010c0  2b3f              CMPNE    r3,#0x3f              ;1894
0010c2  1b83              SUBNE    r3,r0,r6              ;1900
0010c4  f82c9013          STRHNE   r9,[r12,r3,LSL #1]    ;1900
0010c8  d075              BEQ      |L21.4534|
0010ca  bf00              NOP                            ;1894
                  |L21.4300|
0010cc  f1000001          ADD      r0,r0,#1              ;1894
0010d0  4282              CMP      r2,r0                 ;1900
0010d2  daea              BGE      |L21.4266|
                  |L21.4308|
0010d4  1c49              ADDS     r1,r1,#1              ;1900
0010d6  428f              CMP      r7,r1                 ;1900
0010d8  dad5              BGE      |L21.4230|
                  |L21.4314|
0010da  f8dda5f0          LDR      r10,[sp,#0x5f0]       ;1906
0010de  f04f0c00          MOV      r12,#0                ;1905
0010e2  4557              CMP      r7,r10                ;1906
0010e4  bfa8              IT       GE                    ;1867
0010e6  eba20906          SUBGE    r9,r2,r6              ;1867
0010ea  db59              BLT      |L21.4512|
                  |L21.4332|
0010ec  f1b90f00          CMP      r9,#0                 ;1906
0010f0  dd3a              BLE      |L21.4456|
0010f2  f8dd05f0          LDR      r0,[sp,#0x5f0]        ;1906
0010f6  4669              MOV      r1,sp                 ;1906
0010f8  ebaa0000          SUB      r0,r10,r0             ;1906
0010fc  ebc01000          RSB      r0,r0,r0,LSL #4       ;1906
001100  eb010140          ADD      r1,r1,r0,LSL #1       ;1906
001104  1e8c              SUBS     r4,r1,#2              ;1906
001106  497a              LDR      r1,|L21.4848|
001108  eb010080          ADD      r0,r1,r0,LSL #2       ;1906
00110c  1f00              SUBS     r0,r0,#4              ;1906
00110e  f0190f01          TST      r9,#1
001112  d008              BEQ      |L21.4390|
001114  8881              LDRH     r1,[r0,#4]            ;1908
001116  8863              LDRH     r3,[r4,#2]            ;1908
001118  b289              UXTH     r1,r1                 ;1908
00111a  1a59              SUBS     r1,r3,r1              ;1908
00111c  bf48              IT       MI                    ;1908
00111e  4249              RSBMI    r1,r1,#0              ;1908
001120  448c              ADD      r12,r12,r1            ;1908
001122  1d00              ADDS     r0,r0,#4              ;1908
001124  1ca4              ADDS     r4,r4,#2              ;1908
                  |L21.4390|
001126  6845              LDR      r5,[r0,#4]            ;1906
001128  f8b48002          LDRH     r8,[r4,#2]
00112c  f04f0b00          MOV      r11,#0
001130  ea5f0169          ASRS     r1,r9,#1              ;1906
001134  d017              BEQ      |L21.4454|
001136  bf00              NOP      
                  |L21.4408|
001138  f834ef04          LDRH     lr,[r4,#4]!
00113c  f8503f08          LDR      r3,[r0,#8]!
001140  b2ad              UXTH     r5,r5                 ;1908
001142  e000              B        |L21.4422|
                  |L21.4420|
001144  e0b5              B        |L21.4786|
                  |L21.4422|
001146  ebb80505          SUBS     r5,r8,r5              ;1908
00114a  bf48              IT       MI                    ;1908
00114c  426d              RSBMI    r5,r5,#0              ;1908
00114e  44ac              ADD      r12,r12,r5            ;1908
001150  f8b48002          LDRH     r8,[r4,#2]            ;1908
001154  b29b              UXTH     r3,r3                 ;1908
001156  6845              LDR      r5,[r0,#4]            ;1908
001158  ebbe0303          SUBS     r3,lr,r3              ;1908
00115c  bf48              IT       MI                    ;1908
00115e  425b              RSBMI    r3,r3,#0              ;1908
001160  449b              ADD      r11,r11,r3            ;1908
001162  1e49              SUBS     r1,r1,#1              ;1908
001164  d1e8              BNE      |L21.4408|
                  |L21.4454|
001166  44dc              ADD      r12,r12,r11
                  |L21.4456|
001168  f1b90f00          CMP      r9,#0                 ;1908
00116c  db14              BLT      |L21.4504|
00116e  f8dd05f0          LDR      r0,[sp,#0x5f0]        ;1908
001172  4669              MOV      r1,sp                 ;1908
001174  ebaa0000          SUB      r0,r10,r0             ;1908
001178  ebc01000          RSB      r0,r0,r0,LSL #4       ;1908
00117c  eb010340          ADD      r3,r1,r0,LSL #1       ;1908
001180  495b              LDR      r1,|L21.4848|
001182  f8333019          LDRH     r3,[r3,r9,LSL #1]     ;1908
001186  eb010180          ADD      r1,r1,r0,LSL #2       ;1908
00118a  f8310029          LDRH     r0,[r1,r9,LSL #2]     ;1908
00118e  b280              UXTH     r0,r0                 ;1908
001190  1a18              SUBS     r0,r3,r0              ;1908
001192  bf48              IT       MI                    ;1908
001194  4240              RSBMI    r0,r0,#0              ;1908
001196  4484              ADD      r12,r12,r0            ;1908
                  |L21.4504|
001198  f10a0a01          ADD      r10,r10,#1            ;1908
00119c  4557              CMP      r7,r10                ;1908
00119e  daa5              BGE      |L21.4332|
                  |L21.4512|
0011a0  f8dd05f0          LDR      r0,[sp,#0x5f0]        ;1911
0011a4  1b91              SUBS     r1,r2,r6              ;1911
0011a6  1a38              SUBS     r0,r7,r0              ;1911
0011a8  1c40              ADDS     r0,r0,#1              ;1911
0011aa  1c49              ADDS     r1,r1,#1              ;1911
0011ac  4348              MULS     r0,r1,r0              ;1911
0011ae  eb0c018c          ADD      r1,r12,r12,LSL #2     ;1911
0011b2  0049              LSLS     r1,r1,#1              ;1911
0011b4  e000              B        |L21.4536|
                  |L21.4534|
0011b6  e00e              B        |L21.4566|
                  |L21.4536|
0011b8  fb91f0f0          SDIV     r0,r1,r0              ;1911
0011bc  f8dd1654          LDR      r1,[sp,#0x654]        ;1915
0011c0  4c4c              LDR      r4,|L21.4852|
0011c2  f891120d          LDRB     r1,[r1,#0x20d]        ;1915
0011c6  4281              CMP      r1,r0                 ;1915
0011c8  da22              BGE      |L21.4624|
0011ca  f8dd0654          LDR      r0,[sp,#0x654]        ;1915
0011ce  f890020f          LDRB     r0,[r0,#0x20f]        ;1915
0011d2  b9e8              CBNZ     r0,|L21.4624|
0011d4  e017              B        |L21.4614|
                  |L21.4566|
0011d6  eb080340          ADD      r3,r8,r0,LSL #1       ;1896
0011da  f5034370          ADD      r3,r3,#0xf000         ;1896
0011de  f9b336c0          LDRSH    r3,[r3,#0x6c0]        ;1896
0011e2  2b00              CMP      r3,#0                 ;1896
0011e4  bfb8              IT       LT                    ;1896
0011e6  2300              MOVLT    r3,#0                 ;1896
0011e8  f04f0b64          MOV      r11,#0x64             ;1897
0011ec  fb03fb0b          MUL      r11,r3,r11            ;1897
0011f0  f8dd35f8          LDR      r3,[sp,#0x5f8]        ;1897
0011f4  f8b331d6          LDRH     r3,[r3,#0x1d6]        ;1897
0011f8  fb9bf3f3          SDIV     r3,r11,r3             ;1897
0011fc  eba00b06          SUB      r11,r0,r6             ;1898
001200  f82c301b          STRH     r3,[r12,r11,LSL #1]   ;1898
001204  e762              B        |L21.4300|
                  |L21.4614|
001206  f8dd15f8          LDR      r1,[sp,#0x5f8]        ;1917
00120a  2000              MOVS     r0,#0                 ;1917
00120c  f8a10186          STRH     r0,[r1,#0x186]        ;1917
                  |L21.4624|
001210  f8dd0654          LDR      r0,[sp,#0x654]        ;1921
001214  f890020f          LDRB     r0,[r0,#0x20f]        ;1921
001218  2801              CMP      r0,#1                 ;1921
00121a  d002              BEQ      |L21.4642|
00121c  2802              CMP      r0,#2                 ;1931
00121e  d023              BEQ      |L21.4712|
001220  e047              B        |L21.4786|
                  |L21.4642|
001222  8865              LDRH     r5,[r4,#2]            ;1923  ; usPalmCandiShapeMatchingLearningCnt
001224  b925              CBNZ     r5,|L21.4656|
001226  f44f7161          MOV      r1,#0x384             ;1923
00122a  4831              LDR      r0,|L21.4848|
00122c  f7fffffe          BL       __aeabi_memclr4
                  |L21.4656|
001230  4a2f              LDR      r2,|L21.4848|
001232  f8bd1000          LDRH     r1,[sp,#0]            ;1926
001236  46ec              MOV      r12,sp                ;1845
001238  6810              LDR      r0,[r2,#0]            ;1926  ; shape_array_table
00123a  4408              ADD      r0,r0,r1              ;1926
00123c  6010              STR      r0,[r2,#0]            ;1924  ; shape_array_table
00123e  2001              MOVS     r0,#1                 ;1924
                  |L21.4672|
001240  eb020680          ADD      r6,r2,r0,LSL #2       ;1926
001244  f8521020          LDR      r1,[r2,r0,LSL #2]     ;1926
001248  f83c3010          LDRH     r3,[r12,r0,LSL #1]    ;1926
00124c  eb0c0740          ADD      r7,r12,r0,LSL #1      ;1926
001250  4419              ADD      r1,r1,r3              ;1926
001252  887f              LDRH     r7,[r7,#2]            ;1926
001254  6873              LDR      r3,[r6,#4]            ;1926
001256  f8421020          STR      r1,[r2,r0,LSL #2]     ;1926
00125a  443b              ADD      r3,r3,r7              ;1926
00125c  1c80              ADDS     r0,r0,#2              ;1926
00125e  6073              STR      r3,[r6,#4]            ;1926
001260  28e1              CMP      r0,#0xe1              ;1926
001262  dbed              BLT      |L21.4672|
001264  1c68              ADDS     r0,r5,#1              ;1929
001266  e019              B        |L21.4764|
                  |L21.4712|
001268  8861              LDRH     r1,[r4,#2]            ;1931  ; usPalmCandiShapeMatchingLearningCnt
00126a  b311              CBZ      r1,|L21.4786|
00126c  4a20              LDR      r2,|L21.4848|
00126e  6810              LDR      r0,[r2,#0]            ;1935  ; shape_array_table
001270  fbb0f0f1          UDIV     r0,r0,r1              ;1935
001274  6010              STR      r0,[r2,#0]            ;1933  ; shape_array_table
001276  2001              MOVS     r0,#1                 ;1933
                  |L21.4728|
001278  eb020c80          ADD      r12,r2,r0,LSL #2      ;1935
00127c  f8523020          LDR      r3,[r2,r0,LSL #2]     ;1935
001280  fbb3f5f1          UDIV     r5,r3,r1              ;1935
001284  f8dc3004          LDR      r3,[r12,#4]           ;1935
001288  f8425020          STR      r5,[r2,r0,LSL #2]     ;1935
00128c  fbb3f3f1          UDIV     r3,r3,r1              ;1935
001290  1c80              ADDS     r0,r0,#2              ;1935
001292  f8cc3004          STR      r3,[r12,#4]           ;1935
001296  28e1              CMP      r0,#0xe1              ;1935
001298  dbee              BLT      |L21.4728|
00129a  2000              MOVS     r0,#0                 ;1938
                  |L21.4764|
00129c  8060              STRH     r0,[r4,#2]            ;1929
00129e  e008              B        |L21.4786|
                  |L21.4768|
0012a0  f8dd15f8          LDR      r1,[sp,#0x5f8]        ;1946
0012a4  2000              MOVS     r0,#0                 ;1946
0012a6  f8a10186          STRH     r0,[r1,#0x186]        ;1946
0012aa  f8dd1650          LDR      r1,[sp,#0x650]        ;1947
0012ae  f8810cb4          STRB     r0,[r1,#0xcb4]        ;1947
                  |L21.4786|
0012b2  f8dd1650          LDR      r1,[sp,#0x650]        ;1958
0012b6  2000              MOVS     r0,#0                 ;1958
                  |L21.4792|
0012b8  f8810d52          STRB     r0,[r1,#0xd52]        ;1993
0012bc  f8dd05cc          LDR      r0,[sp,#0x5cc]        ;1993
0012c0  1e41              SUBS     r1,r0,#1              ;1993
0012c2  b2c9              UXTB     r1,r1                 ;1993
0012c4  f8cd15cc          STR      r1,[sp,#0x5cc]        ;1993
0012c8  f4bfaa14          BCS      |L21.1780|
0012cc  f20d6d94          ADD      sp,sp,#0x694
0012d0  e8bd8ff0          POP      {r4-r11,pc}
                  |L21.4820|
0012d4  f8dd25cc          LDR      r2,[sp,#0x5cc]        ;1991
0012d8  f8dd15c8          LDR      r1,[sp,#0x5c8]        ;1991
0012dc  2000              MOVS     r0,#0                 ;1991
0012de  4411              ADD      r1,r1,r2              ;1991
0012e0  f8810caa          STRB     r0,[r1,#0xcaa]        ;1991
0012e4  f8810cb4          STRB     r0,[r1,#0xcb4]        ;1992
0012e8  e7e6              B        |L21.4792|
;;;1998   
                          ENDP

0012ea  0000              DCW      0x0000
                  |L21.4844|
                          DCD      FullSharedBuff
                  |L21.4848|
                          DCD      shape_array_table
                  |L21.4852|
                          DCD      ||.data||

                          AREA ||i.algorithm_label_EdgeExpand_Finger||, CODE, READONLY, ALIGN=2

                  algorithm_label_EdgeExpand_Finger PROC
;;;3894   int max_d = 100;
;;;3895   void algorithm_label_EdgeExpand_Finger(int mode)
000000  e92d4ff0          PUSH     {r4-r11,lr}
;;;3896   {
000004  b09a              SUB      sp,sp,#0x68
;;;3897       uint8_t rLabel_val;
;;;3898   	int l, c, r, apply_r, apply_c, search_r = -1, search_c = -1, search_c1,search_r1, tmp, edge_sum = 0;
;;;3899   	uint16_t offset_r = 0, offset_c = 0, scale_r = 0, scale_c = 0;
000006  2000              MOVS     r0,#0
000008  9008              STR      r0,[sp,#0x20]
00000a  9009              STR      r0,[sp,#0x24]
00000c  9003              STR      r0,[sp,#0xc]
;;;3900   	int32_t _d,_d1,_d2;	
;;;3901   	tLabelInfo_t	*temp_label = &thisInfo->tLabel;
00000e  9002              STR      r0,[sp,#8]
000010  48f2              LDR      r0,|L22.988|
000012  68c0              LDR      r0,[r0,#0xc]  ; thisInfo
000014  3045              ADDS     r0,r0,#0x45
;;;3902   	
;;;3903   	for(l=temp_label->ucNum;l--;)
000016  9011              STR      r0,[sp,#0x44]
000018  7800              LDRB     r0,[r0,#0]
00001a  1e41              SUBS     r1,r0,#1
00001c  9106              STR      r1,[sp,#0x18]         ;3901
00001e  49ef              LDR      r1,|L22.988|
;;;3904   	{
;;;3905   		if( temp_label->tTable[l].ulStrength )
;;;3906   		{
;;;3907   			search_r = -1, search_c = -1;
;;;3908   			if(temp_label->tTable[l].tMaxCell.r <= 1){
;;;3909   				search_r = 0, search_r1 = 1, apply_r = -1;
;;;3910   				offset_r = thisModeConf->EdgeExpand.usTopEdgeExpand_Offset;
;;;3911   				scale_r  = thisModeConf->EdgeExpand.usTopEdgeExpand_Scale;
;;;3912   			}
;;;3913   
;;;3914   			if(temp_label->tTable[l].tMaxCell.r >= ROW_MAX-2){
;;;3915   				search_r = ROW_MAX-1, search_r1 = ROW_MAX-2, apply_r = ROW_MAX;
;;;3916   				offset_r = thisModeConf->EdgeExpand.usBottomEdgeExpand_Offset;
;;;3917   				scale_r	 = thisModeConf->EdgeExpand.usBottomEdgeExpand_Scale;
;;;3918   			}
;;;3919   
;;;3920   			if(temp_label->tTable[l].tMaxCell.c <= 1){
;;;3921   				search_c = 0, search_c1 = 1, apply_c = -1;
;;;3922   				offset_c = thisModeConf->EdgeExpand.usLeftEdgeExpand_Offset;
;;;3923   				scale_c  = thisModeConf->EdgeExpand.usLeftEdgeExpand_Scale;
;;;3924   			}
;;;3925   
;;;3926   			if(temp_label->tTable[l].tMaxCell.c >= COL_MAX-2){
;;;3927   				search_c = COL_MAX-1, search_c1 = COL_MAX-2, apply_c = COL_MAX;
;;;3928   				offset_c = thisModeConf->EdgeExpand.usRightEdgeExpand_Offset;
000020  6889              LDR      r1,[r1,#8]
000022  9113              STR      r1,[sp,#0x4c]
000024  bf24              ITT      CS                    ;3905
000026  9110              STRCS    r1,[sp,#0x40]         ;3905
000028  9806              LDRCS    r0,[sp,#0x18]         ;3905
00002a  f0c081b0          BCC.W    |L22.910|
00002e  bf00              NOP                            ;3905
                  |L22.48|
000030  ebc001c0          RSB      r1,r0,r0,LSL #3       ;3905
000034  eb011140          ADD      r1,r1,r0,LSL #5       ;3905
000038  9811              LDR      r0,[sp,#0x44]         ;3905
00003a  4408              ADD      r0,r0,r1              ;3905
00003c  6941              LDR      r1,[r0,#0x14]         ;3905
00003e  2900              CMP      r1,#0                 ;3905
000040  f00081a0          BEQ.W    |L22.900|
000044  f04f33ff          MOV      r3,#0xffffffff        ;3907
000048  9314              STR      r3,[sp,#0x50]         ;3908
00004a  f990200b          LDRSB    r2,[r0,#0xb]          ;3908
00004e  2a01              CMP      r2,#1                 ;3908
000050  dc14              BGT      |L22.124|
000052  f04f0c01          MOV      r12,#1                ;3909
000056  f8cdc048          STR      r12,[sp,#0x48]        ;3909
00005a  f04f3cff          MOV      r12,#0xffffffff       ;3909
00005e  f8cdc02c          STR      r12,[sp,#0x2c]        ;3909
000062  f8ddc040          LDR      r12,[sp,#0x40]        ;3910
000066  2300              MOVS     r3,#0                 ;3909
000068  f8bcc106          LDRH     r12,[r12,#0x106]      ;3910
00006c  f8cdc024          STR      r12,[sp,#0x24]        ;3910
000070  f8ddc040          LDR      r12,[sp,#0x40]        ;3911
000074  f8bcc10e          LDRH     r12,[r12,#0x10e]      ;3911
000078  f8cdc00c          STR      r12,[sp,#0xc]         ;3911
                  |L22.124|
00007c  2a2e              CMP      r2,#0x2e              ;3914
00007e  db0c              BLT      |L22.154|
000080  222e              MOVS     r2,#0x2e              ;3915
000082  232f              MOVS     r3,#0x2f              ;3915
000084  9212              STR      r2,[sp,#0x48]         ;3915
000086  2230              MOVS     r2,#0x30              ;3915
000088  920b              STR      r2,[sp,#0x2c]         ;3915
00008a  9a10              LDR      r2,[sp,#0x40]         ;3916
00008c  f8b22108          LDRH     r2,[r2,#0x108]        ;3916
000090  9209              STR      r2,[sp,#0x24]         ;3916
000092  9a10              LDR      r2,[sp,#0x40]         ;3917
000094  f8b22110          LDRH     r2,[r2,#0x110]        ;3917
000098  9203              STR      r2,[sp,#0xc]          ;3917
                  |L22.154|
00009a  f990200a          LDRSB    r2,[r0,#0xa]          ;3920
00009e  2a01              CMP      r2,#1                 ;3920
0000a0  dc17              BGT      |L22.210|
0000a2  f04f0c00          MOV      r12,#0                ;3921
0000a6  f8cdc050          STR      r12,[sp,#0x50]        ;3921
0000aa  f04f0c01          MOV      r12,#1                ;3921
0000ae  f8cdc030          STR      r12,[sp,#0x30]        ;3921
0000b2  f04f3cff          MOV      r12,#0xffffffff       ;3921
0000b6  f8cdc028          STR      r12,[sp,#0x28]        ;3921
0000ba  f8ddc040          LDR      r12,[sp,#0x40]        ;3922
0000be  f8bcc102          LDRH     r12,[r12,#0x102]      ;3922
0000c2  f8cdc020          STR      r12,[sp,#0x20]        ;3922
0000c6  f8ddc040          LDR      r12,[sp,#0x40]        ;3923
0000ca  f8bcc10a          LDRH     r12,[r12,#0x10a]      ;3923
0000ce  f8cdc008          STR      r12,[sp,#8]           ;3923
                  |L22.210|
0000d2  2a52              CMP      r2,#0x52              ;3926
0000d4  db0d              BLT      |L22.242|
0000d6  2253              MOVS     r2,#0x53              ;3927
0000d8  9214              STR      r2,[sp,#0x50]         ;3927
0000da  2252              MOVS     r2,#0x52              ;3927
0000dc  920c              STR      r2,[sp,#0x30]         ;3927
0000de  2254              MOVS     r2,#0x54              ;3927
0000e0  920a              STR      r2,[sp,#0x28]         ;3927
0000e2  9a10              LDR      r2,[sp,#0x40]
0000e4  f8b22104          LDRH     r2,[r2,#0x104]
0000e8  9208              STR      r2,[sp,#0x20]
;;;3929   				scale_c  = thisModeConf->EdgeExpand.usRightEdgeExpand_Scale;
0000ea  9a10              LDR      r2,[sp,#0x40]
0000ec  f8b2210c          LDRH     r2,[r2,#0x10c]
0000f0  9202              STR      r2,[sp,#8]
                  |L22.242|
;;;3930   			}
;;;3931   			
;;;3932   			if(thisModeConf->EdgeExpand.usLabelEdgeExpandMode == 1)
0000f2  9a10              LDR      r2,[sp,#0x40]
0000f4  f8b22100          LDRH     r2,[r2,#0x100]
0000f8  2a01              CMP      r2,#1
0000fa  d10f              BNE      |L22.284|
;;;3933   			{
;;;3934   				if(search_r == -1 && search_c == -1)
0000fc  f1b33fff          CMP      r3,#0xffffffff
000100  bf04              ITT      EQ
000102  9a14              LDREQ    r2,[sp,#0x50]
000104  f1b23fff          CMPEQ    r2,#0xffffffff
000108  f0008158          BEQ.W    |L22.956|
;;;3935   				{
;;;3936   					if(max_d < temp_label->tTable[l].ulStrength)
;;;3937   					{
;;;3938   						max_d = temp_label->tTable[l].ulStrength;
;;;3939   					}
;;;3940   				}
;;;3941   				else if(max_d == 0)
00010c  4ab3              LDR      r2,|L22.988|
00010e  f8d2c024          LDR      r12,[r2,#0x24]  ; max_d
000112  f1bc0f00          CMP      r12,#0
000116  bf04              ITT      EQ
000118  3164              ADDEQ    r1,r1,#0x64
;;;3942   				{
;;;3943   					max_d = temp_label->tTable[l].ulStrength + 100;
00011a  6251              STREQ    r1,[r2,#0x24]  ; max_d
                  |L22.284|
;;;3944   				}
;;;3945   			}
;;;3946   			
;;;3947   			if(search_r != -1)													//Top, bottom edge
00011c  f1b33fff          CMP      r3,#0xffffffff
000120  d07e              BEQ      |L22.544|
;;;3948   			{
;;;3949   				_d =_d1 =_d2 = 0;
;;;3950   				
;;;3951   				if(!(offset_r==0 && scale_r==0))
000122  9a03              LDR      r2,[sp,#0xc]
000124  9909              LDR      r1,[sp,#0x24]
000126  4311              ORRS     r1,r1,r2
000128  d07a              BEQ      |L22.544|
;;;3952   				{
;;;3953   					edge_sum = 0;
;;;3954   					for(c = temp_label->tTable[l].tRect.cs; c <= temp_label->tTable[l].tRect.ce; c++)
00012a  f9905004          LDRSB    r5,[r0,#4]
00012e  f9901005          LDRSB    r1,[r0,#5]
000132  f04f0800          MOV      r8,#0                 ;3953
000136  eba10905          SUB      r9,r1,r5
00013a  f1090601          ADD      r6,r9,#1
00013e  2e00              CMP      r6,#0
000140  dd21              BLE      |L22.390|
000142  ebc301c3          RSB      r1,r3,r3,LSL #3
000146  4aa6              LDR      r2,|L22.992|
000148  eb010c41          ADD      r12,r1,r1,LSL #1
00014c  eb02048c          ADD      r4,r2,r12,LSL #2
000150  1961              ADDS     r1,r4,r5
000152  eb020ccc          ADD      r12,r2,r12,LSL #3
000156  eb0c0c45          ADD      r12,r12,r5,LSL #1
00015a  f24f62c0          MOV      r2,#0xf6c0
00015e  9c06              LDR      r4,[sp,#0x18]         ;3898
000160  4462              ADD      r2,r2,r12
000162  f5013180          ADD      r1,r1,#0x10000        ;3898
000166  46b4              MOV      r12,r6
000168  f50151b2          ADD      r1,r1,#0x1640         ;3898
00016c  f1140401          ADDS.W   r4,r4,#1              ;3898
                  |L22.368|
;;;3955   					{
;;;3956   						if(HAL_READ_LABEL_IMAGE(search_r, c) == l+1){
000170  f8117b01          LDRB     r7,[r1],#1
000174  42a7              CMP      r7,r4
;;;3957   							edge_sum += HAL_READ_DELTA_IMAGE(search_r, c);
000176  bf04              ITT      EQ
000178  f9b27000          LDRSHEQ  r7,[r2,#0]
00017c  44b8              ADDEQ    r8,r8,r7
00017e  1c92              ADDS     r2,r2,#2
000180  f1bc0c01          SUBS     r12,r12,#1
000184  d1f4              BNE      |L22.368|
                  |L22.390|
;;;3958   						}
;;;3959   					}
;;;3960   					
;;;3961   					for(c = temp_label->tTable[l].tRect.cs; c <= temp_label->tTable[l].tRect.ce; c++)	//Column
000186  9507              STR      r5,[sp,#0x1c]
000188  2e00              CMP      r6,#0
00018a  dd63              BLE      |L22.596|
00018c  ebc301c3          RSB      r1,r3,r3,LSL #3
000190  4a93              LDR      r2,|L22.992|
000192  eb010141          ADD      r1,r1,r1,LSL #1
000196  eb020c81          ADD      r12,r2,r1,LSL #2
00019a  eb0c0305          ADD      r3,r12,r5
00019e  f5033480          ADD      r4,r3,#0x10000
0001a2  eb0203c1          ADD      r3,r2,r1,LSL #3
0001a6  eb030145          ADD      r1,r3,r5,LSL #1
0001aa  f24f63c0          MOV      r3,#0xf6c0
0001ae  18cf              ADDS     r7,r1,r3
0001b0  9912              LDR      r1,[sp,#0x48]
0001b2  f8dfc228          LDR      r12,|L22.988|
0001b6  ebc101c1          RSB      r1,r1,r1,LSL #3
0001ba  eb010141          ADD      r1,r1,r1,LSL #1
0001be  eb0202c1          ADD      r2,r2,r1,LSL #3
0001c2  eb020145          ADD      r1,r2,r5,LSL #1
0001c6  18ce              ADDS     r6,r1,r3
0001c8  9906              LDR      r1,[sp,#0x18]         ;3903
0001ca  f50454b2          ADD      r4,r4,#0x1640
0001ce  2500              MOVS     r5,#0
0001d0  f1090a01          ADD      r10,r9,#1
0001d4  f1010b01          ADD      r11,r1,#1             ;3903
                  |L22.472|
;;;3962   					{
;;;3963   						rLabel_val = HAL_READ_LABEL_IMAGE(search_r, c);
;;;3964   						
;;;3965   						if(rLabel_val == l+1)
0001d8  f8141b01          LDRB     r1,[r4],#1
0001dc  4559              CMP      r1,r11
0001de  d133              BNE      |L22.584|
;;;3966   						{
;;;3967   							_d2 = 0;
;;;3968   							{
;;;3969   								_d = HAL_READ_DELTA_IMAGE(search_r, c);
;;;3970   								_d1 = HAL_READ_DELTA_IMAGE(search_r1, c);
0001e0  f9b61000          LDRSH    r1,[r6,#0]
0001e4  2200              MOVS     r2,#0                 ;3967
0001e6  f9b73000          LDRSH    r3,[r7,#0]            ;3969
;;;3971   							}
;;;3972   							
;;;3973   							if(_d1 < 0)	_d1 = 0;
0001ea  2900              CMP      r1,#0
0001ec  f2c080ec          BLT.W    |L22.968|
                  |L22.496|
;;;3974   							if(max_d < _d + _d1)	max_d = _d + _d1;
0001f0  f8dce024          LDR      lr,[r12,#0x24]  ; max_d
0001f4  eb030901          ADD      r9,r3,r1
0001f8  45f1              CMP      r9,lr
0001fa  f30080e7          BGT.W    |L22.972|
                  |L22.510|
;;;3975   							
;;;3976   							if(_d > _d1)
0001fe  428b              CMP      r3,r1
000200  dd14              BLE      |L22.556|
;;;3977   							{
;;;3978   								tmp = max_d - (_d + _d1);
000202  f8dc2024          LDR      r2,[r12,#0x24]  ; max_d
000206  eba20209          SUB      r2,r2,r9
;;;3979   								if(tmp < 0)	tmp = 0;
;;;3980   								
;;;3981   								_d2 = tmp * _d * (_d - _d1) / (edge_sum * (_d + _d1));
00020a  2a00              CMP      r2,#0
00020c  bfd8              IT       LE
00020e  2200              MOVLE    r2,#0
000210  435a              MULS     r2,r3,r2
000212  1a59              SUBS     r1,r3,r1
000214  4351              MULS     r1,r2,r1
000216  fb09f208          MUL      r2,r9,r8
00021a  fb91f1f2          SDIV     r1,r1,r2
;;;3982   								_d2 = ((_d2 * scale_r)>>7) - offset_r;
00021e  e000              B        |L22.546|
                  |L22.544|
000220  e018              B        |L22.596|
                  |L22.546|
000222  9a03              LDR      r2,[sp,#0xc]
000224  434a              MULS     r2,r1,r2
000226  9909              LDR      r1,[sp,#0x24]
000228  ebc112e2          RSB      r2,r1,r2,ASR #7
                  |L22.556|
;;;3983   							}
;;;3984   							
;;;3985   							temp_label->tTable[l].tCoord.x	+= c * _d2;
00022c  9907              LDR      r1,[sp,#0x1c]
00022e  68c3              LDR      r3,[r0,#0xc]
000230  4429              ADD      r1,r1,r5
000232  fb013102          MLA      r1,r1,r2,r3
000236  60c1              STR      r1,[r0,#0xc]
;;;3986   							temp_label->tTable[l].tCoord.y	+= apply_r * _d2;
000238  6903              LDR      r3,[r0,#0x10]
00023a  990b              LDR      r1,[sp,#0x2c]
00023c  fb013102          MLA      r1,r1,r2,r3
000240  6101              STR      r1,[r0,#0x10]
;;;3987   							temp_label->tTable[l].ulExtStrength += _d2;
000242  6981              LDR      r1,[r0,#0x18]
000244  4411              ADD      r1,r1,r2
000246  6181              STR      r1,[r0,#0x18]
                  |L22.584|
000248  1c6d              ADDS     r5,r5,#1
00024a  1cb6              ADDS     r6,r6,#2
00024c  1cbf              ADDS     r7,r7,#2
00024e  f1ba0a01          SUBS     r10,r10,#1
;;;3988   						}
;;;3989   					}
000252  d1c1              BNE      |L22.472|
                  |L22.596|
;;;3990   				}
;;;3991   			}
;;;3992   			
;;;3993   			if(search_c != -1)													//Left, right edge
000254  9914              LDR      r1,[sp,#0x50]
000256  f1b13fff          CMP      r1,#0xffffffff
00025a  d07d              BEQ      |L22.856|
;;;3994   			{
;;;3995   				_d =_d1 =_d2 = 0;
;;;3996   				
;;;3997   				if(!(offset_c==0 && scale_c==0))
00025c  9a02              LDR      r2,[sp,#8]
00025e  9908              LDR      r1,[sp,#0x20]
000260  4311              ORRS     r1,r1,r2
000262  d079              BEQ      |L22.856|
;;;3998   				{
;;;3999   					edge_sum = 0;
;;;4000   					for(r = temp_label->tTable[l].tRect.rs; r <= temp_label->tTable[l].tRect.re; r++)
000264  f9904002          LDRSB    r4,[r0,#2]
000268  f9901003          LDRSB    r1,[r0,#3]
00026c  f04f0800          MOV      r8,#0                 ;3999
000270  eba10904          SUB      r9,r1,r4
000274  f1090501          ADD      r5,r9,#1
000278  2d00              CMP      r5,#0
00027a  dd23              BLE      |L22.708|
00027c  ebc401c4          RSB      r1,r4,r4,LSL #3
000280  eb010241          ADD      r2,r1,r1,LSL #1
000284  4b56              LDR      r3,|L22.992|
000286  9914              LDR      r1,[sp,#0x50]
000288  eb030c82          ADD      r12,r3,r2,LSL #2
00028c  eb0303c2          ADD      r3,r3,r2,LSL #3
000290  9a14              LDR      r2,[sp,#0x50]
000292  4461              ADD      r1,r1,r12
000294  eb030342          ADD      r3,r3,r2,LSL #1
000298  f24f62c0          MOV      r2,#0xf6c0
00029c  f8ddc018          LDR      r12,[sp,#0x18]        ;3898
0002a0  441a              ADD      r2,r2,r3
0002a2  f5013180          ADD      r1,r1,#0x10000        ;3898
0002a6  462b              MOV      r3,r5
0002a8  f50151b2          ADD      r1,r1,#0x1640         ;3898
0002ac  f10c0c01          ADD      r12,r12,#1            ;3898
                  |L22.688|
;;;4001   					{
;;;4002   						if(HAL_READ_LABEL_IMAGE(r, search_c) == l+1){
0002b0  780e              LDRB     r6,[r1,#0]
0002b2  4566              CMP      r6,r12
;;;4003   							edge_sum += HAL_READ_DELTA_IMAGE(r, search_c);
0002b4  bf04              ITT      EQ
0002b6  f9b26000          LDRSHEQ  r6,[r2,#0]
0002ba  44b0              ADDEQ    r8,r8,r6
0002bc  3154              ADDS     r1,r1,#0x54
0002be  32a8              ADDS     r2,r2,#0xa8
0002c0  1e5b              SUBS     r3,r3,#1
0002c2  d1f5              BNE      |L22.688|
                  |L22.708|
;;;4004   						}
;;;4005   					}
;;;4006   					
;;;4007   					for(r = temp_label->tTable[l].tRect.rs; r <= temp_label->tTable[l].tRect.re; r++)	//Row
0002c4  940e              STR      r4,[sp,#0x38]
0002c6  2d00              CMP      r5,#0
0002c8  dd5c              BLE      |L22.900|
0002ca  ebc401c4          RSB      r1,r4,r4,LSL #3
0002ce  4a44              LDR      r2,|L22.992|
0002d0  eb010141          ADD      r1,r1,r1,LSL #1
0002d4  eb020c81          ADD      r12,r2,r1,LSL #2
0002d8  9b14              LDR      r3,[sp,#0x50]
0002da  eb0201c1          ADD      r1,r2,r1,LSL #3
0002de  4463              ADD      r3,r3,r12
0002e0  9a14              LDR      r2,[sp,#0x50]
0002e2  f5033480          ADD      r4,r3,#0x10000
0002e6  eb010342          ADD      r3,r1,r2,LSL #1
0002ea  f24f62c0          MOV      r2,#0xf6c0
0002ee  189f              ADDS     r7,r3,r2
0002f0  9b0c              LDR      r3,[sp,#0x30]
0002f2  f8dfc0e8          LDR      r12,|L22.988|
0002f6  eb010143          ADD      r1,r1,r3,LSL #1
0002fa  188e              ADDS     r6,r1,r2
0002fc  9906              LDR      r1,[sp,#0x18]         ;3903
0002fe  f50454b2          ADD      r4,r4,#0x1640
000302  2500              MOVS     r5,#0
000304  f1090a01          ADD      r10,r9,#1
000308  f1010b01          ADD      r11,r1,#1             ;3903
                  |L22.780|
;;;4008   					{
;;;4009   						rLabel_val = HAL_READ_LABEL_IMAGE(r, search_c);
;;;4010   						
;;;4011   						if(rLabel_val == l+1)
00030c  7821              LDRB     r1,[r4,#0]
00030e  4559              CMP      r1,r11
000310  d131              BNE      |L22.886|
;;;4012   						{
;;;4013   							_d2 = 0;
;;;4014   							{
;;;4015   								_d = HAL_READ_DELTA_IMAGE(r, search_c);
;;;4016   								_d1 = HAL_READ_DELTA_IMAGE(r, search_c1);
000312  f9b61000          LDRSH    r1,[r6,#0]
000316  2200              MOVS     r2,#0                 ;4013
000318  f9b73000          LDRSH    r3,[r7,#0]            ;4015
;;;4017   							}
;;;4018   							
;;;4019   							if(_d1 < 0)	_d1 = 0;
00031c  2900              CMP      r1,#0
00031e  db58              BLT      |L22.978|
                  |L22.800|
;;;4020   							if(max_d < _d + _d1)	max_d = _d + _d1;
000320  f8dce024          LDR      lr,[r12,#0x24]  ; max_d
000324  eb030901          ADD      r9,r3,r1
000328  45f1              CMP      r9,lr
00032a  dc54              BGT      |L22.982|
                  |L22.812|
;;;4021   							
;;;4022   							if(_d > _d1)
00032c  428b              CMP      r3,r1
00032e  dd12              BLE      |L22.854|
;;;4023   							{
;;;4024   								tmp = max_d - (_d + _d1);
000330  f8dc2024          LDR      r2,[r12,#0x24]  ; max_d
000334  eba20209          SUB      r2,r2,r9
;;;4025   								if(tmp < 0)	tmp = 0;
;;;4026   								
;;;4027   								_d2 = tmp * _d * (_d - _d1) / (edge_sum * (_d + _d1));
000338  2a00              CMP      r2,#0
00033a  bfd8              IT       LE
00033c  2200              MOVLE    r2,#0
00033e  435a              MULS     r2,r3,r2
000340  1a59              SUBS     r1,r3,r1
000342  4351              MULS     r1,r2,r1
000344  fb09f208          MUL      r2,r9,r8
000348  fb91f1f2          SDIV     r1,r1,r2
;;;4028   								_d2 = ((_d2 * scale_c)>>7) - offset_c;
00034c  9a02              LDR      r2,[sp,#8]
00034e  434a              MULS     r2,r1,r2
000350  9908              LDR      r1,[sp,#0x20]
000352  ebc112e2          RSB      r2,r1,r2,ASR #7
                  |L22.854|
;;;4029   							}
;;;4030   
;;;4031   							temp_label->tTable[l].tCoord.x	+= apply_c * _d2;
000356  e000              B        |L22.858|
                  |L22.856|
000358  e014              B        |L22.900|
                  |L22.858|
00035a  68c3              LDR      r3,[r0,#0xc]
00035c  990a              LDR      r1,[sp,#0x28]
00035e  fb013102          MLA      r1,r1,r2,r3
000362  60c1              STR      r1,[r0,#0xc]
;;;4032   							temp_label->tTable[l].tCoord.y	+= r *_d2;
000364  990e              LDR      r1,[sp,#0x38]
000366  6903              LDR      r3,[r0,#0x10]
000368  4429              ADD      r1,r1,r5
00036a  fb013102          MLA      r1,r1,r2,r3
00036e  6101              STR      r1,[r0,#0x10]
;;;4033   							temp_label->tTable[l].ulExtStrength += _d2;
000370  6981              LDR      r1,[r0,#0x18]
000372  4411              ADD      r1,r1,r2
000374  6181              STR      r1,[r0,#0x18]
                  |L22.886|
000376  3454              ADDS     r4,r4,#0x54
000378  1c6d              ADDS     r5,r5,#1
00037a  36a8              ADDS     r6,r6,#0xa8
00037c  37a8              ADDS     r7,r7,#0xa8
00037e  f1ba0a01          SUBS     r10,r10,#1
;;;4034   						}
;;;4035   					}
000382  d1c3              BNE      |L22.780|
                  |L22.900|
000384  9806              LDR      r0,[sp,#0x18]
000386  1e40              SUBS     r0,r0,#1
000388  9006              STR      r0,[sp,#0x18]
00038a  f4bfae51          BCS      |L22.48|
                  |L22.910|
;;;4036   				}
;;;4037   			}
;;;4038   		}	
;;;4039   	}
;;;4040   	
;;;4041   	if(temp_label->ucValidNum == 0)
00038e  9811              LDR      r0,[sp,#0x44]
000390  f8900271          LDRB     r0,[r0,#0x271]
000394  2800              CMP      r0,#0
;;;4042   	{
;;;4043   		if(thisModeConf->EdgeExpand.usLabelEdgeExpandMode == 0)
;;;4044   			max_d = 100;
;;;4045   		else if(thisModeConf->EdgeExpand.usLabelEdgeExpandMode == 1)
;;;4046   			max_d = 0;
;;;4047   		else
;;;4048   			max_d = thisModeConf->EdgeExpand.usLabelEdgeExpandMode;
;;;4049   	}
;;;4050   }
000396  bf1c              ITT      NE
000398  b01a              ADDNE    sp,sp,#0x68
00039a  e8bd8ff0          POPNE    {r4-r11,pc}
00039e  480f              LDR      r0,|L22.988|
0003a0  9913              LDR      r1,[sp,#0x4c]         ;4043
0003a2  f8b11100          LDRH     r1,[r1,#0x100]        ;4043
0003a6  2900              CMP      r1,#0                 ;4043
0003a8  bf08              IT       EQ                    ;4044
0003aa  2164              MOVEQ    r1,#0x64              ;4044
0003ac  d002              BEQ      |L22.948|
0003ae  2901              CMP      r1,#1                 ;4045
0003b0  bf08              IT       EQ                    ;4046
0003b2  2100              MOVEQ    r1,#0                 ;4046
                  |L22.948|
0003b4  6241              STR      r1,[r0,#0x24]         ;4044  ; max_d
0003b6  b01a              ADD      sp,sp,#0x68
0003b8  e8bd8ff0          POP      {r4-r11,pc}
                  |L22.956|
0003bc  4807              LDR      r0,|L22.988|
0003be  6a42              LDR      r2,[r0,#0x24]         ;3936  ; max_d
0003c0  4291              CMP      r1,r2                 ;3936
0003c2  bf88              IT       HI                    ;3938
0003c4  6241              STRHI    r1,[r0,#0x24]         ;3938  ; max_d
0003c6  e7dd              B        |L22.900|
                  |L22.968|
0003c8  2100              MOVS     r1,#0                 ;3973
0003ca  e711              B        |L22.496|
                  |L22.972|
0003cc  f8cc9024          STR      r9,[r12,#0x24]        ;3974  ; max_d
0003d0  e715              B        |L22.510|
                  |L22.978|
0003d2  2100              MOVS     r1,#0                 ;4019
0003d4  e7a4              B        |L22.800|
                  |L22.982|
0003d6  f8cc9024          STR      r9,[r12,#0x24]        ;4020  ; max_d
0003da  e7a7              B        |L22.812|
;;;4051   
                          ENDP

                  |L22.988|
                          DCD      ||.data||
                  |L22.992|
                          DCD      FullSharedBuff

                          AREA ||i.algorithm_width_height_calculation||, CODE, READONLY, ALIGN=2

                  algorithm_width_height_calculation PROC
;;;3087   
;;;3088   void algorithm_width_height_calculation(int cl)
000000  4a1e              LDR      r2,|L23.124|
;;;3089   {
000002  b410              PUSH     {r4}
;;;3090   	tCoordInfo_t 	*temp_coord;
;;;3091   	tRect_t *temp_rect;
;;;3092   	int iWidth, iHeight;
;;;3093   	
;;;3094   	temp_coord = &thisInfo->tCoord;
000004  68d1              LDR      r1,[r2,#0xc]  ; thisInfo
000006  f2013369          ADD      r3,r1,#0x369
;;;3095   	temp_rect = &temp_coord->tPos.rect[cl];
00000a  eb030180          ADD      r1,r3,r0,LSL #2
;;;3096   	
;;;3097   	iWidth  = ((temp_rect->ce - temp_rect->cs + 1) * thisCommonConf->iXResolution + (COL_MAX>>1)) / COL_MAX;
00000e  f991c1b1          LDRSB    r12,[r1,#0x1b1]
000012  f99141b0          LDRSB    r4,[r1,#0x1b0]
000016  ebac0c04          SUB      r12,r12,r4
00001a  f10c0401          ADD      r4,r12,#1
00001e  f8d2c004          LDR      r12,[r2,#4]  ; thisCommonConf
000022  f8dc2000          LDR      r2,[r12,#0]
;;;3098   	iHeight = ((temp_rect->re - temp_rect->rs + 1) * thisCommonConf->iYResolution + (ROW_MAX>>1)) / ROW_MAX;
000026  f8dcc004          LDR      r12,[r12,#4]
00002a  4362              MULS     r2,r4,r2              ;3097
00002c  4c14              LDR      r4,|L23.128|
00002e  322a              ADDS     r2,r2,#0x2a           ;3097
000030  fb844202          SMULL    r4,r2,r4,r2           ;3097
000034  1114              ASRS     r4,r2,#4              ;3097
000036  ebb472e2          SUBS     r2,r4,r2,ASR #31      ;3097
00003a  f99141af          LDRSB    r4,[r1,#0x1af]
00003e  f99111ae          LDRSB    r1,[r1,#0x1ae]
000042  eba40101          SUB      r1,r4,r1
000046  f1010101          ADD      r1,r1,#1
00004a  fb01f10c          MUL      r1,r1,r12
00004e  f8dfc034          LDR      r12,|L23.132|
000052  f1010118          ADD      r1,r1,#0x18
000056  fb8cc101          SMULL    r12,r1,r12,r1
00005a  ea4f0ce1          ASR      r12,r1,#3
00005e  ebac71e1          SUB      r1,r12,r1,ASR #31
;;;3099   	temp_coord->tPos.vusW[cl] = (iWidth < 0 ? 0 : iWidth);
000062  bf48              IT       MI
000064  2200              MOVMI    r2,#0
000066  eb030040          ADD      r0,r3,r0,LSL #1
;;;3100   	temp_coord->tPos.vusH[cl] = (iHeight < 0 ? 0 : iHeight);
00006a  2900              CMP      r1,#0
00006c  f8a021fe          STRH     r2,[r0,#0x1fe]        ;3099
000070  bfb8              IT       LT
000072  2100              MOVLT    r1,#0
000074  f8a01212          STRH     r1,[r0,#0x212]
;;;3101   	
;;;3102   	return;
;;;3103   }
000078  bc10              POP      {r4}
00007a  4770              BX       lr
;;;3104   
                          ENDP

                  |L23.124|
                          DCD      ||.data||
                  |L23.128|
                          DCD      0x30c30c31
                  |L23.132|
                          DCD      0x2aaaaaab

                          AREA ||i.alogorithm_coord_modify_pos||, CODE, READONLY, ALIGN=2

                  alogorithm_coord_modify_pos PROC
;;;3105   #define ExpectClipping_Finger_Margin	200
;;;3106   void alogorithm_coord_modify_pos(tXY_t* old_pos,tXY_t* pos, int index)
000000  e92d4ff0          PUSH     {r4-r11,lr}
;;;3107   {
000004  b08d              SUB      sp,sp,#0x34
000006  4690              MOV      r8,r2
000008  460d              MOV      r5,r1
00000a  4607              MOV      r7,r0
;;;3108   	int x, y;
;;;3109   #if (MULTI_EDGE_COEF_EN == YES)
;;;3110   	bool_t bIsEdge;
;;;3111   #endif
;;;3112   	uint8_t ucLeftEdgeExpand = thisModeConf->EdgeExpand.ucLeftEdgeExpand, ucRightEdgeExpand = thisModeConf->EdgeExpand.ucRightEdgeExpand;
00000c  4afe              LDR      r2,|L24.1032|
00000e  6890              LDR      r0,[r2,#8]  ; thisModeConf
000010  f890b0f0          LDRB     r11,[r0,#0xf0]
000014  f890a0f1          LDRB     r10,[r0,#0xf1]
;;;3113   	uint8_t ucTopEdgeExpand = thisModeConf->EdgeExpand.ucTopEdgeExpand, ucBottomEdgeExpand = thisModeConf->EdgeExpand.ucBottomEdgeExpand;
000018  f89010f2          LDRB     r1,[r0,#0xf2]
00001c  9108              STR      r1,[sp,#0x20]
;;;3114   //	int ucXCompensationGain = 10;//24; // NOTE : not used
;;;3115   
;;;3116   	if( thisModeConf->Coord.bSwapXY )
00001e  f89030aa          LDRB     r3,[r0,#0xaa]
000022  f89040f3          LDRB     r4,[r0,#0xf3]         ;3113
;;;3117   	{
;;;3118   		x = pos->y;
000026  6869              LDR      r1,[r5,#4]
;;;3119   		y = pos->x;
000028  f8d59000          LDR      r9,[r5,#0]
00002c  2b00              CMP      r3,#0                 ;3116
00002e  bf12              ITEE     NE                    ;3118
000030  460e              MOVNE    r6,r1                 ;3118
000032  464e              MOVEQ    r6,r9                 ;3118
;;;3120   	}
;;;3121   	else
;;;3122   	{
;;;3123   		x = pos->x;
;;;3124   		y = pos->y;
000034  4689              MOVEQ    r9,r1
;;;3125   	}
;;;3126   
;;;3127   	if( thisModeConf->Coord.bFlipX )
000036  f89030ab          LDRB     r3,[r0,#0xab]
00003a  49f3              LDR      r1,|L24.1032|
;;;3128   		x = thisInfo->tCoord.iInternalXRes - x;
00003c  68c9              LDR      r1,[r1,#0xc]
00003e  b123              CBZ      r3,|L24.74|
000040  f5015380          ADD      r3,r1,#0x1000
000044  f8d33085          LDR      r3,[r3,#0x85]
000048  1b9e              SUBS     r6,r3,r6
                  |L24.74|
;;;3129   
;;;3130   	/*
;;;3131   	 * Expand edge position.
;;;3132   	 *  -  ǥ  expandմϴ.
;;;3133   	 *  -  full sized edge   ܺǥ ȯ  3/2 point expandߴµ,
;;;3134   	 *  -  ǥ ¿ expandϹǷ offset 1/2 ϰ unit distance expandϵ մϴ.
;;;3135   	 */
;;;3136   //	if( 1)
;;;3137   	{
;;;3138   		if (!thisModeConf->EdgeExpand.bDoNotExpandPos)
00004a  f8902120          LDRB     r2,[r0,#0x120]
00004e  2a00              CMP      r2,#0
000050  d178              BNE      |L24.324|
;;;3139   		{
;;;3140   		#if (MULTI_EDGE_COEF_EN == YES)
;;;3141   			if(thisModeConf->EdgeExpand.bUseMultiEdgeCoef)
000052  f89020ea          LDRB     r2,[r0,#0xea]
000056  2a00              CMP      r2,#0
000058  d05c              BEQ      |L24.276|
;;;3142   			{
;;;3143   				bIsEdge = algorithm_coord_IsEdgeArea(&thisInfo->tCoord.tPos.tXY[index], thisModeConf->EdgeExpand.sXExpandStartOffset);
00005a  f9b020fc          LDRSH    r2,[r0,#0xfc]
00005e  eb0100c8          ADD      r0,r1,r8,LSL #3
000062  4611              MOV      r1,r2
000064  f200409f          ADD      r0,r0,#0x49f
000068  f7fffffe          BL       algorithm_coord_IsEdgeArea
00006c  f0100fff          TST      r0,#0xff
;;;3144   				if(bIsEdge == 0)
;;;3145   				{
;;;3146   					if(thisInfo->tCoord.ucEdgeExpandCoef[index] == 0)
;;;3147   					{
;;;3148   						if(
;;;3149   #if (INTERPOLATION_VER1_En == YES || INTERPOLATION_VER2_En == YES || INTERPOLATION_VER3_En == YES)
;;;3150   							((thisInfo->tCoord.bInterpolation_On && thisInfo->tCoord.tPastPos[2].vusS[index] > 0) || (!thisInfo->tCoord.bInterpolation_On && thisInfo->tCoord.tPastPos[1].vusS[index] > 0))
;;;3151   #else
;;;3152   							(thisInfo->tCoord.tPastPos[1].vusS[index] > 0)
;;;3153   #endif
;;;3154   							&& thisInfo->tCoord.tPastPos[0].vusS[index] > 0 && thisInfo->tCoord.tPos.vusS[index] > 0 && thisInfo->tCoord.tPos.MaxDelta[index] > thisModeConf->EdgeExpand.usSmallTouchMaxDeltaThd
;;;3155   							&& thisInfo->tCoord.tPos.vusR[index] < thisModeConf->EdgeExpand.ucSmallTouchCellCntThd && (thisInfo->tCoord.tPos.rect[index].re - thisInfo->tCoord.tPos.rect[index].rs + 1) < thisModeConf->EdgeExpand.ucSmallTouchHeightThd
;;;3156   							&& (thisInfo->tCoord.tPos.rect[index].ce - thisInfo->tCoord.tPos.rect[index].cs + 1) < thisModeConf->EdgeExpand.ucSmallTouchWidthThd )
;;;3157   						{
;;;3158   							thisInfo->tCoord.ucEdgeExpandCoef[index] = 1;
;;;3159   						}
;;;3160   					}
;;;3161   				}
;;;3162   				else
;;;3163   				{
;;;3164   					if(thisInfo->tCoord.tPastPos[0].vusS[index] == 0 && thisInfo->tCoord.tPos.vusS[index] > 0)
000070  48e5              LDR      r0,|L24.1032|
000072  d007              BEQ      |L24.132|
000074  68c0              LDR      r0,[r0,#0xc]  ; thisInfo
000076  eb000148          ADD      r1,r0,r8,LSL #1
00007a  f8b126fb          LDRH     r2,[r1,#0x6fb]
00007e  2a00              CMP      r2,#0
000080  d03e              BEQ      |L24.256|
000082  e047              B        |L24.276|
                  |L24.132|
000084  68c3              LDR      r3,[r0,#0xc]          ;3146  ; thisInfo
000086  eb030108          ADD      r1,r3,r8              ;3146
00008a  f5015c80          ADD      r12,r1,#0x1000        ;3146
00008e  f89c116f          LDRB     r1,[r12,#0x16f]       ;3146
000092  2900              CMP      r1,#0                 ;3146
000094  d13e              BNE      |L24.276|
000096  eb030148          ADD      r1,r3,r8,LSL #1       ;3148
00009a  f8b12774          LDRH     r2,[r1,#0x774]        ;3148
00009e  2a00              CMP      r2,#0                 ;3148
0000a0  bf1f              ITTTT    NE                    ;3148
0000a2  f8b126fb          LDRHNE   r2,[r1,#0x6fb]        ;3148
0000a6  2a00              CMPNE    r2,#0                 ;3148
0000a8  f8b124ef          LDRHNE   r2,[r1,#0x4ef]        ;3148
0000ac  2a00              CMPNE    r2,#0                 ;3148
0000ae  d055              BEQ      |L24.348|
0000b0  6882              LDR      r2,[r0,#8]            ;3148  ; thisModeConf
0000b2  f8b1e53f          LDRH     lr,[r1,#0x53f]        ;3148
0000b6  f8b200eb          LDRH     r0,[r2,#0xeb]         ;3148
0000ba  4586              CMP      lr,r0                 ;3148
0000bc  d94e              BLS      |L24.348|
0000be  f8b10503          LDRH     r0,[r1,#0x503]        ;3148
0000c2  f89210ed          LDRB     r1,[r2,#0xed]         ;3148
0000c6  4281              CMP      r1,r0                 ;3148
0000c8  d948              BLS      |L24.348|
0000ca  eb030088          ADD      r0,r3,r8,LSL #2       ;3148
0000ce  f9901518          LDRSB    r1,[r0,#0x518]        ;3148
0000d2  f9903517          LDRSB    r3,[r0,#0x517]        ;3148
0000d6  1ac9              SUBS     r1,r1,r3              ;3148
0000d8  f89230ee          LDRB     r3,[r2,#0xee]         ;3148
0000dc  1c49              ADDS     r1,r1,#1              ;3148
0000de  4299              CMP      r1,r3                 ;3148
0000e0  da3c              BGE      |L24.348|
0000e2  f990151a          LDRSB    r1,[r0,#0x51a]        ;3148
0000e6  f9900519          LDRSB    r0,[r0,#0x519]        ;3148
0000ea  1a08              SUBS     r0,r1,r0              ;3148
0000ec  f89210ef          LDRB     r1,[r2,#0xef]         ;3148
0000f0  1c40              ADDS     r0,r0,#1              ;3148
0000f2  4288              CMP      r0,r1                 ;3148
0000f4  bfbc              ITT      LT                    ;3158
0000f6  2001              MOVLT    r0,#1                 ;3158
0000f8  f88c016f          STRBLT   r0,[r12,#0x16f]       ;3158
0000fc  da2e              BGE      |L24.348|
0000fe  e015              B        |L24.300|
                  |L24.256|
000100  f8b114ef          LDRH     r1,[r1,#0x4ef]
000104  b131              CBZ      r1,|L24.276|
;;;3165   					{
;;;3166   						thisInfo->tCoord.ucEdgeExpandCoef[index] = 2;
000106  4440              ADD      r0,r0,r8
000108  f5005080          ADD      r0,r0,#0x1000
00010c  2102              MOVS     r1,#2
00010e  f880116f          STRB     r1,[r0,#0x16f]
000112  e018              B        |L24.326|
                  |L24.276|
;;;3167   					}
;;;3168   				}
;;;3169   			}
;;;3170   			
;;;3171   			if(thisInfo->tCoord.ucEdgeExpandCoef[index] == 1)
000114  48bc              LDR      r0,|L24.1032|
000116  68c0              LDR      r0,[r0,#0xc]  ; thisInfo
000118  4440              ADD      r0,r0,r8
00011a  f5005080          ADD      r0,r0,#0x1000
00011e  f890016f          LDRB     r0,[r0,#0x16f]
000122  2801              CMP      r0,#1
000124  d002              BEQ      |L24.300|
;;;3172   			{
;;;3173   				ucLeftEdgeExpand = thisModeConf->EdgeExpand.ucLeftEdgeExpand_small;
;;;3174   				ucRightEdgeExpand = thisModeConf->EdgeExpand.ucRightEdgeExpand_small;
;;;3175   				ucTopEdgeExpand = thisModeConf->EdgeExpand.ucTopEdgeExpand_small;
;;;3176   				ucBottomEdgeExpand = thisModeConf->EdgeExpand.ucBottomEdgeExpand_small;
;;;3177   			}
;;;3178   			else if(thisInfo->tCoord.ucEdgeExpandCoef[index] == 2)
000126  2802              CMP      r0,#2
000128  d00d              BEQ      |L24.326|
00012a  e017              B        |L24.348|
                  |L24.300|
00012c  48b6              LDR      r0,|L24.1032|
00012e  6880              LDR      r0,[r0,#8]            ;3173  ; thisModeConf
000130  f890b0f4          LDRB     r11,[r0,#0xf4]        ;3173
000134  f890a0f5          LDRB     r10,[r0,#0xf5]        ;3174
000138  f89010f6          LDRB     r1,[r0,#0xf6]         ;3175
00013c  9108              STR      r1,[sp,#0x20]         ;3176
00013e  f89040f7          LDRB     r4,[r0,#0xf7]         ;3176
000142  e00b              B        |L24.348|
                  |L24.324|
000144  e043              B        |L24.462|
                  |L24.326|
;;;3179   			{
;;;3180   				ucLeftEdgeExpand = thisModeConf->EdgeExpand.ucLeftEdgeExpand_medium;
000146  48b0              LDR      r0,|L24.1032|
000148  6880              LDR      r0,[r0,#8]  ; thisModeConf
00014a  f890b0f8          LDRB     r11,[r0,#0xf8]
;;;3181   				ucRightEdgeExpand = thisModeConf->EdgeExpand.ucRightEdgeExpand_medium;
00014e  f890a0f9          LDRB     r10,[r0,#0xf9]
;;;3182   				ucTopEdgeExpand = thisModeConf->EdgeExpand.ucTopEdgeExpand_medium;
000152  f89010fa          LDRB     r1,[r0,#0xfa]
;;;3183   				ucBottomEdgeExpand = thisModeConf->EdgeExpand.ucBottomEdgeExpand_medium;
000156  9108              STR      r1,[sp,#0x20]
000158  f89040fb          LDRB     r4,[r0,#0xfb]
                  |L24.348|
;;;3184   			}
;;;3185   		#endif			
;;;3186   			int iXExpandStart = thisInfo->tCoord.iXExpandStart + thisModeConf->EdgeExpand.sXExpandStartOffset;
00015c  48aa              LDR      r0,|L24.1032|
00015e  68c1              LDR      r1,[r0,#0xc]  ; thisInfo
000160  6880              LDR      r0,[r0,#8]  ; thisModeConf
000162  f5015280          ADD      r2,r1,#0x1000
000166  f8d2108d          LDR      r1,[r2,#0x8d]
00016a  f9b030fc          LDRSH    r3,[r0,#0xfc]
;;;3187   			int iYExpandStart = thisInfo->tCoord.iYExpandStart + thisModeConf->EdgeExpand.sYExpandStartOffset;
00016e  f9b000fe          LDRSH    r0,[r0,#0xfe]
000172  4419              ADD      r1,r1,r3              ;3186
000174  f8d23091          LDR      r3,[r2,#0x91]
;;;3188   			
;;;3189   			if (x < iXExpandStart)
000178  428e              CMP      r6,r1
00017a  4418              ADD      r0,r0,r3              ;3187
00017c  da05              BGE      |L24.394|
;;;3190   				x = iXExpandStart + (((x - iXExpandStart) * (int32_t)ucLeftEdgeExpand) >> 6);
00017e  1a73              SUBS     r3,r6,r1
000180  fb03f30b          MUL      r3,r3,r11
000184  eb0116a3          ADD      r6,r1,r3,ASR #6
000188  e00c              B        |L24.420|
                  |L24.394|
;;;3191   			else if (thisInfo->tCoord.iInternalXRes - x < iXExpandStart)
00018a  f8d2c085          LDR      r12,[r2,#0x85]
00018e  ebac0306          SUB      r3,r12,r6
000192  4299              CMP      r1,r3
000194  dd06              BLE      |L24.420|
;;;3192   				x = thisInfo->tCoord.iInternalXRes - (iXExpandStart
000196  1a5b              SUBS     r3,r3,r1
000198  fb03f30a          MUL      r3,r3,r10
00019c  eb0111a3          ADD      r1,r1,r3,ASR #6
0001a0  ebac0601          SUB      r6,r12,r1
                  |L24.420|
;;;3193   									 + (((thisInfo->tCoord.iInternalXRes - x - iXExpandStart) * (int32_t)ucRightEdgeExpand) >> 6));
;;;3194   
;;;3195   			if (y < iYExpandStart)
0001a4  4581              CMP      r9,r0
0001a6  da06              BGE      |L24.438|
;;;3196   				y = iYExpandStart + (((y - iYExpandStart) * (int32_t)ucTopEdgeExpand) >> 6);
0001a8  9908              LDR      r1,[sp,#0x20]
0001aa  eba90200          SUB      r2,r9,r0
0001ae  4351              MULS     r1,r2,r1
0001b0  eb0019a1          ADD      r9,r0,r1,ASR #6
0001b4  e00b              B        |L24.462|
                  |L24.438|
;;;3197   			else if (thisInfo->tCoord.iInternalYRes - y < iYExpandStart)
0001b6  f8d22089          LDR      r2,[r2,#0x89]
0001ba  eba20109          SUB      r1,r2,r9
0001be  4288              CMP      r0,r1
0001c0  dd05              BLE      |L24.462|
;;;3198   				y = thisInfo->tCoord.iInternalYRes - (iYExpandStart
0001c2  1a09              SUBS     r1,r1,r0
0001c4  4361              MULS     r1,r4,r1
0001c6  eb0010a1          ADD      r0,r0,r1,ASR #6
0001ca  eba20900          SUB      r9,r2,r0
                  |L24.462|
;;;3199   									 + (((thisInfo->tCoord.iInternalYRes - y - iYExpandStart) * (int32_t)ucBottomEdgeExpand) >> 6));
;;;3200   		}
;;;3201   	}
;;;3202   
;;;3203   	/*
;;;3204   	 * Modify resolution domain.
;;;3205   	 */
;;;3206   	x = ( (x + thisInfo->tCoord.iXOffset ) * (thisCommonConf->iXResolution+thisModeConf->Coord.sFingerGlobalCoordiXResolutionOffset) ) / (thisInfo->tCoord.iInternalXRes + 2*thisInfo->tCoord.iXOffset);
0001ce  4a8e              LDR      r2,|L24.1032|
0001d0  6851              LDR      r1,[r2,#4]  ; thisCommonConf
0001d2  6890              LDR      r0,[r2,#8]  ; thisModeConf
0001d4  f8d2b00c          LDR      r11,[r2,#0xc]  ; thisInfo
0001d8  680b              LDR      r3,[r1,#0]
0001da  f9b0c099          LDRSH    r12,[r0,#0x99]
0001de  f50b5280          ADD      r2,r11,#0x1000
0001e2  eb03040c          ADD      r4,r3,r12
0001e6  f8d2c07d          LDR      r12,[r2,#0x7d]
0001ea  4466              ADD      r6,r6,r12
0001ec  4374              MULS     r4,r6,r4
0001ee  f8d26085          LDR      r6,[r2,#0x85]
0001f2  eb060c4c          ADD      r12,r6,r12,LSL #1
0001f6  fb94fcfc          SDIV     r12,r4,r12
;;;3207   	x += thisModeConf->Coord.sFingerGlobalCoordiOffsetX;
0001fa  f9b0409d          LDRSH    r4,[r0,#0x9d]
;;;3208   #if (FingerGlobalCoordiY_2Region_Set == YES)
;;;3209   	if(y < thisModeConf->Coord.sFingerGlobalCoordiY_2Region_boundary)
;;;3210   	{
;;;3211   		y = ( (y + thisInfo->tCoord.iYOffset ) * (thisCommonConf->iYResolution+thisModeConf->Coord.sFingerGlobalCoordiYResolutionOffset) ) / (thisInfo->tCoord.iInternalYRes + 2*thisInfo->tCoord.iYOffset);
;;;3212   		y += thisModeConf->Coord.sFingerGlobalCoordiOffsetY;
;;;3213   	}
;;;3214   	else
;;;3215   	{
;;;3216   		y = ( (y + thisInfo->tCoord.iYOffset ) * (thisCommonConf->iYResolution+thisModeConf->Coord.sFingerGlobalCoordiYResolutionOffset1) ) / (thisInfo->tCoord.iInternalYRes + 2*thisInfo->tCoord.iYOffset);
;;;3217   		y += thisModeConf->Coord.sFingerGlobalCoordiOffsetY1;
;;;3218   	}
;;;3219   #else
;;;3220   	y = ( (y + thisInfo->tCoord.iYOffset ) * (thisCommonConf->iYResolution+thisModeConf->Coord.sFingerGlobalCoordiYResolutionOffset) ) / (thisInfo->tCoord.iInternalYRes + 2*thisInfo->tCoord.iYOffset);
0001fe  f9b0609b          LDRSH    r6,[r0,#0x9b]
000202  4464              ADD      r4,r4,r12             ;3207
000204  f8d1c004          LDR      r12,[r1,#4]
000208  eb0c0a06          ADD      r10,r12,r6
00020c  f8d26081          LDR      r6,[r2,#0x81]
000210  f8d22089          LDR      r2,[r2,#0x89]
000214  44b1              ADD      r9,r9,r6
000216  eb020246          ADD      r2,r2,r6,LSL #1
00021a  fb0af909          MUL      r9,r10,r9
00021e  fb99f2f2          SDIV     r2,r9,r2
;;;3221   	y += thisModeConf->Coord.sFingerGlobalCoordiOffsetY;
000222  f9b0609f          LDRSH    r6,[r0,#0x9f]
;;;3222   #endif
;;;3223   	/*
;;;3224   	 * Clipping.
;;;3225   	 */
;;;3226   	int iXResolutionForClipping = thisCommonConf->iXResolution - 1;
000226  f1a30a01          SUB      r10,r3,#1
00022a  4416              ADD      r6,r6,r2              ;3221
;;;3227   	int iYResolutionForClipping = thisCommonConf->iYResolution - 1;
;;;3228   //	if(iXResolutionForClipping > 32767)iXResolutionForClipping = 32767;
;;;3229   //	if(iYResolutionForClipping > 32767)iYResolutionForClipping = 32767;
;;;3230   	if(thisModeConf->CoordEdge.bExpectClipping_Finger_On)
00022c  f89020d9          LDRB     r2,[r0,#0xd9]
000230  f1ac0901          SUB      r9,r12,#1             ;3227
000234  2a00              CMP      r2,#0
000236  d072              BEQ      |L24.798|
;;;3231   	{
;;;3232   		pos->x = x,	pos->y = y;
000238  602c              STR      r4,[r5,#0]
00023a  606e              STR      r6,[r5,#4]
;;;3233   		if (x < (int)thisCommonConf->ucClippingLeft){	//LEFT
00023c  7e8b              LDRB     r3,[r1,#0x1a]
00023e  4622              MOV      r2,r4                 ;3232
000240  42a3              CMP      r3,r4
000242  dd24              BLE      |L24.654|
;;;3234   			x = (int)(thisCommonConf->ucClippingLeft);
;;;3235   			if( (thisModeConf->CoordEdge.bUseNewCippingCond && old_pos != pos && pos->x < (thisCommonConf->ucClippingLeft) && old_pos->x > (thisCommonConf->ucClippingLeft))
000244  f890c0e9          LDRB     r12,[r0,#0xe9]
000248  461c              MOV      r4,r3                 ;3234
00024a  f1bc0f00          CMP      r12,#0
00024e  d017              BEQ      |L24.640|
000250  42af              CMP      r7,r5
000252  bf18              IT       NE
000254  429a              CMPNE    r2,r3
000256  bfbc              ITT      LT
000258  f8d7c000          LDRLT    r12,[r7,#0]
00025c  4563              CMPLT    r3,r12
00025e  da32              BGE      |L24.710|
                  |L24.608|
;;;3236   				|| (!thisModeConf->CoordEdge.bUseNewCippingCond && old_pos != pos && pos->x != old_pos->x && old_pos->x > ExpectClipping_Finger_Margin) )
;;;3237   				y = ( (x - old_pos->x)*(pos->y - old_pos->y) + ((pos->x - old_pos->x)>>1) ) / (pos->x - old_pos->x) + old_pos->y;
000260  f8d7c000          LDR      r12,[r7,#0]
000264  687b              LDR      r3,[r7,#4]
000266  eba40e0c          SUB      lr,r4,r12
00026a  1af6              SUBS     r6,r6,r3
00026c  fb06f60e          MUL      r6,r6,lr
000270  eba2020c          SUB      r2,r2,r12
000274  eb060c62          ADD      r12,r6,r2,ASR #1
000278  fb9cf2f2          SDIV     r2,r12,r2
00027c  18d6              ADDS     r6,r2,r3
00027e  e022              B        |L24.710|
                  |L24.640|
000280  42af              CMP      r7,r5                 ;3235
000282  bf1e              ITTT     NE                    ;3235
000284  683b              LDRNE    r3,[r7,#0]            ;3235
000286  429a              CMPNE    r2,r3                 ;3235
000288  2bc8              CMPNE    r3,#0xc8              ;3235
00028a  dd1c              BLE      |L24.710|
00028c  e7e8              B        |L24.608|
                  |L24.654|
;;;3238   			pos->x = x,	pos->y = y;
;;;3239   		}
;;;3240   		else if (x > ((int)((iXResolutionForClipping) - thisCommonConf->ucClippingRight))){	//RIGHT
00028e  7ecb              LDRB     r3,[r1,#0x1b]
000290  ebaa0303          SUB      r3,r10,r3
000294  429c              CMP      r4,r3
000296  dd18              BLE      |L24.714|
;;;3241   			x = (iXResolutionForClipping) - thisCommonConf->ucClippingRight;
;;;3242   			if( (thisModeConf->CoordEdge.bUseNewCippingCond && old_pos != pos && pos->x > ((int)((iXResolutionForClipping) - (thisCommonConf->ucClippingRight))) && old_pos->x < ((int)((iXResolutionForClipping) - (thisCommonConf->ucClippingRight))))
000298  f890c0e9          LDRB     r12,[r0,#0xe9]
00029c  461c              MOV      r4,r3                 ;3241
00029e  f1bc0f00          CMP      r12,#0
0002a2  d008              BEQ      |L24.694|
0002a4  42af              CMP      r7,r5
0002a6  bf18              IT       NE
0002a8  429a              CMPNE    r2,r3
0002aa  bfc4              ITT      GT
0002ac  f8d7c000          LDRGT    r12,[r7,#0]
0002b0  4564              CMPGT    r4,r12
0002b2  dd08              BLE      |L24.710|
0002b4  e7d4              B        |L24.608|
                  |L24.694|
0002b6  42af              CMP      r7,r5
0002b8  bf1f              ITTTT    NE
0002ba  683b              LDRNE    r3,[r7,#0]
0002bc  429a              CMPNE    r2,r3
0002be  f1aa0cc8          SUBNE    r12,r10,#0xc8
0002c2  4563              CMPNE    r3,r12
0002c4  dbcc              BLT      |L24.608|
                  |L24.710|
;;;3243   				|| (!thisModeConf->CoordEdge.bUseNewCippingCond && old_pos != pos && pos->x != old_pos->x && old_pos->x < ((int)((iXResolutionForClipping) - ExpectClipping_Finger_Margin))) )
;;;3244   				y = ( (x - old_pos->x)*(pos->y - old_pos->y) + ((pos->x - old_pos->x)>>1) ) / (pos->x - old_pos->x) + old_pos->y;
;;;3245   			pos->x = x,	pos->y = y;
0002c6  602c              STR      r4,[r5,#0]
0002c8  606e              STR      r6,[r5,#4]
                  |L24.714|
;;;3246   		}
;;;3247   		if (y < (int)(thisCommonConf->ucClippingTop)){	//UP
0002ca  7f0a              LDRB     r2,[r1,#0x1c]
0002cc  42b2              CMP      r2,r6
0002ce  dd27              BLE      |L24.800|
;;;3248   			y = (int)thisCommonConf->ucClippingTop;
;;;3249   			if( (thisModeConf->CoordEdge.bUseNewCippingCond && old_pos != pos && pos->y < (thisCommonConf->ucClippingTop) && old_pos->y > (thisCommonConf->ucClippingTop))
0002d0  f89010e9          LDRB     r1,[r0,#0xe9]
0002d4  4616              MOV      r6,r2                 ;3248
0002d6  b1c9              CBZ      r1,|L24.780|
0002d8  42af              CMP      r7,r5
0002da  bf1c              ITT      NE
0002dc  6869              LDRNE    r1,[r5,#4]
0002de  4291              CMPNE    r1,r2
0002e0  bfbc              ITT      LT
0002e2  6879              LDRLT    r1,[r7,#4]
0002e4  428a              CMPLT    r2,r1
0002e6  da37              BGE      |L24.856|
                  |L24.744|
;;;3250   				|| (!thisModeConf->CoordEdge.bUseNewCippingCond && old_pos != pos && pos->y != old_pos->y && old_pos->y > ExpectClipping_Finger_Margin) )
;;;3251   				x = ( (y - old_pos->y)*(pos->x - old_pos->x) + ((pos->y - old_pos->y)>>1) ) / (pos->y - old_pos->y) + old_pos->x;
0002e8  682a              LDR      r2,[r5,#0]
0002ea  6839              LDR      r1,[r7,#0]
0002ec  1a53              SUBS     r3,r2,r1
0002ee  687a              LDR      r2,[r7,#4]
0002f0  eba60c02          SUB      r12,r6,r2
0002f4  fb03f30c          MUL      r3,r3,r12
0002f8  f8d5c004          LDR      r12,[r5,#4]
0002fc  ebac0202          SUB      r2,r12,r2
000300  eb030362          ADD      r3,r3,r2,ASR #1
000304  fb93f2f2          SDIV     r2,r3,r2
000308  1854              ADDS     r4,r2,r1
00030a  e025              B        |L24.856|
                  |L24.780|
00030c  42af              CMP      r7,r5                 ;3249
00030e  d023              BEQ      |L24.856|
000310  686a              LDR      r2,[r5,#4]            ;3249
000312  6879              LDR      r1,[r7,#4]            ;3249
000314  428a              CMP      r2,r1                 ;3249
000316  bf18              IT       NE                    ;3249
000318  29c8              CMPNE    r1,#0xc8              ;3249
00031a  dd1d              BLE      |L24.856|
00031c  e7e4              B        |L24.744|
                  |L24.798|
00031e  e02a              B        |L24.886|
                  |L24.800|
;;;3252   			pos->x = x,	pos->y = y;
;;;3253   		}
;;;3254   		else if (y > (int)((iYResolutionForClipping) - thisCommonConf->ucClippingBottom)){	//DOWN
000320  7f49              LDRB     r1,[r1,#0x1d]
000322  eba90101          SUB      r1,r9,r1
000326  428e              CMP      r6,r1
000328  dd18              BLE      |L24.860|
;;;3255   			y = (int)((iYResolutionForClipping) - thisCommonConf->ucClippingBottom);
;;;3256   			if( (thisModeConf->CoordEdge.bUseNewCippingCond && old_pos != pos && pos->y > ((int)((iYResolutionForClipping) - (thisCommonConf->ucClippingBottom))) && old_pos->y < ((int)((iYResolutionForClipping) - (thisCommonConf->ucClippingBottom))))
00032a  f89020e9          LDRB     r2,[r0,#0xe9]
00032e  460e              MOV      r6,r1                 ;3255
000330  b142              CBZ      r2,|L24.836|
000332  42af              CMP      r7,r5
000334  bf1c              ITT      NE
000336  686a              LDRNE    r2,[r5,#4]
000338  428a              CMPNE    r2,r1
00033a  bfc4              ITT      GT
00033c  687a              LDRGT    r2,[r7,#4]
00033e  4296              CMPGT    r6,r2
000340  dd0a              BLE      |L24.856|
000342  e7d1              B        |L24.744|
                  |L24.836|
000344  42af              CMP      r7,r5
000346  d007              BEQ      |L24.856|
000348  686a              LDR      r2,[r5,#4]
00034a  6879              LDR      r1,[r7,#4]
00034c  428a              CMP      r2,r1
00034e  bf1c              ITT      NE
000350  f1a902c8          SUBNE    r2,r9,#0xc8
000354  4291              CMPNE    r1,r2
000356  dbc7              BLT      |L24.744|
                  |L24.856|
;;;3257   				|| (!thisModeConf->CoordEdge.bUseNewCippingCond && old_pos != pos && pos->y != old_pos->y && old_pos->y < ((int)((iYResolutionForClipping) - ExpectClipping_Finger_Margin))) )
;;;3258   				x = ( (y - old_pos->y)*(pos->x - old_pos->x) + ((pos->y - old_pos->y)>>1) ) / (pos->y - old_pos->y) + old_pos->x;
;;;3259   			pos->x = x,	pos->y = y;
000358  602c              STR      r4,[r5,#0]
00035a  606e              STR      r6,[r5,#4]
                  |L24.860|
;;;3260   		}
;;;3261   	}
;;;3262   	else
;;;3263   	{
;;;3264   		if (x < (int)thisCommonConf->ucXClipping)
;;;3265   			x = (int)(thisCommonConf->ucXClipping);
;;;3266   		else if (x > ((int)((iXResolutionForClipping) - thisCommonConf->ucXClipping)))
;;;3267   			x = (iXResolutionForClipping) - thisCommonConf->ucXClipping;
;;;3268   
;;;3269   		if (y < (int)(thisCommonConf->ucYClipping))
;;;3270   			y = (int)thisCommonConf->ucYClipping;
;;;3271   		else if (y > (int)((iYResolutionForClipping) - thisCommonConf->ucYClipping))
;;;3272   			y = (int)((iYResolutionForClipping) - thisCommonConf->ucYClipping);
;;;3273   		
;;;3274   		pos->x = x,	pos->y = y;
;;;3275   	}
;;;3276   
;;;3277   	#if (REMOVE_EDGE_EN == YES)
;;;3278   	if(thisModeConf->CoordEdge.bRemoveEdge && !algorithm_coord_IsEdgeArea(&thisInfo->tCoord.tFirstPos.tXY[index] , 0))
00035c  f89000db          LDRB     r0,[r0,#0xdb]
000360  2800              CMP      r0,#0
000362  d07d              BEQ      |L24.1120|
000364  eb0b00c8          ADD      r0,r11,r8,LSL #3
000368  2100              MOVS     r1,#0
00036a  f50060b7          ADD      r0,r0,#0x5b8
00036e  f7fffffe          BL       algorithm_coord_IsEdgeArea
000372  b198              CBZ      r0,|L24.924|
000374  e0d2              B        |L24.1308|
                  |L24.886|
000376  7e0a              LDRB     r2,[r1,#0x18]         ;3264
000378  42a2              CMP      r2,r4                 ;3264
00037a  dc03              BGT      |L24.900|
00037c  ebaa0202          SUB      r2,r10,r2             ;3266
000380  42a2              CMP      r2,r4                 ;3266
000382  da00              BGE      |L24.902|
                  |L24.900|
000384  4614              MOV      r4,r2                 ;3267
                  |L24.902|
000386  7e49              LDRB     r1,[r1,#0x19]         ;3269
000388  42b1              CMP      r1,r6                 ;3269
00038a  bfd6              ITET     LE                    ;3272
00038c  eba90201          SUBLE    r2,r9,r1              ;3272
000390  460e              MOVGT    r6,r1                 ;3270
000392  42b2              CMPLE    r2,r6                 ;3272
000394  bfb8              IT       LT                    ;3272
000396  eba90601          SUBLT    r6,r9,r1              ;3272
00039a  e7dd              B        |L24.856|
                  |L24.924|
;;;3279   	{
;;;3280   		tXY_t pastpos1;
;;;3281   #if (INTERPOLATION_VER1_En == YES || INTERPOLATION_VER2_En == YES || INTERPOLATION_VER3_En == YES)
;;;3282   		if(thisInfo->tCoord.bInterpolation_On)
;;;3283   			pastpos1.x = thisInfo->tCoord.tPastPos[2].tXY[index].x, pastpos1.y = thisInfo->tCoord.tPastPos[2].tXY[index].y;
;;;3284   		else
;;;3285   #endif
;;;3286   			pastpos1.x = thisInfo->tCoord.tPastPos[1].tXY[index].x, pastpos1.y = thisInfo->tCoord.tPastPos[1].tXY[index].y;
00039c  481a              LDR      r0,|L24.1032|
00039e  68c1              LDR      r1,[r0,#0xc]  ; thisInfo
0003a0  eb0102c8          ADD      r2,r1,r8,LSL #3
0003a4  f8d2c728          LDR      r12,[r2,#0x728]
0003a8  f8d23724          LDR      r3,[r2,#0x724]
;;;3287   		
;;;3288   		pastpos1.x = ( (pastpos1.x + thisInfo->tCoord.iXOffset ) * (thisCommonConf->iXResolution+thisModeConf->Coord.sFingerGlobalCoordiXResolutionOffset) ) / (thisInfo->tCoord.iInternalXRes + 2*thisInfo->tCoord.iXOffset);
0003ac  f5015280          ADD      r2,r1,#0x1000
0003b0  f8cdc000          STR      r12,[sp,#0]
0003b4  f8d2e07d          LDR      lr,[r2,#0x7d]
0003b8  f8d0b004          LDR      r11,[r0,#4]  ; thisCommonConf
0003bc  f8cdb020          STR      r11,[sp,#0x20]
0003c0  f8cdb02c          STR      r11,[sp,#0x2c]
0003c4  6880              LDR      r0,[r0,#8]  ; thisModeConf
0003c6  f8dbc000          LDR      r12,[r11,#0]
0003ca  4473              ADD      r3,r3,lr
0003cc  f9b0b099          LDRSH    r11,[r0,#0x99]
0003d0  44dc              ADD      r12,r12,r11
0003d2  fb03f30c          MUL      r3,r3,r12
0003d6  f8d2c085          LDR      r12,[r2,#0x85]
;;;3289   		pastpos1.y = ( (pastpos1.y + thisInfo->tCoord.iYOffset ) * (thisCommonConf->iYResolution+thisModeConf->Coord.sFingerGlobalCoordiYResolutionOffset) ) / (thisInfo->tCoord.iInternalYRes + 2*thisInfo->tCoord.iYOffset);
0003da  f8ddb02c          LDR      r11,[sp,#0x2c]
0003de  eb0c0c4e          ADD      r12,r12,lr,LSL #1     ;3288
0003e2  fb93f3fc          SDIV     r3,r3,r12             ;3288
0003e6  9302              STR      r3,[sp,#8]
0003e8  f8ddc000          LDR      r12,[sp,#0]
0003ec  f8d23081          LDR      r3,[r2,#0x81]
0003f0  f8dbb004          LDR      r11,[r11,#4]
0003f4  f9b0e09b          LDRSH    lr,[r0,#0x9b]
0003f8  449c              ADD      r12,r12,r3
0003fa  44f3              ADD      r11,r11,lr
0003fc  fb0cfc0b          MUL      r12,r12,r11
000400  f8d22089          LDR      r2,[r2,#0x89]
000404  e002              B        |L24.1036|
000406  0000              DCW      0x0000
                  |L24.1032|
                          DCD      ||.data||
                  |L24.1036|
00040c  eb020243          ADD      r2,r2,r3,LSL #1
000410  fb9cf2f2          SDIV     r2,r12,r2
;;;3290   		pastpos1.x += thisModeConf->Coord.sFingerGlobalCoordiOffsetX;
000414  f9b0c09d          LDRSH    r12,[r0,#0x9d]
000418  9b02              LDR      r3,[sp,#8]
;;;3291   		pastpos1.y += thisModeConf->Coord.sFingerGlobalCoordiOffsetY;
;;;3292   		if (pastpos1.x < (int)thisCommonConf->ucXClipping) pastpos1.x = (int)(thisCommonConf->ucXClipping);
00041a  f8ddb02c          LDR      r11,[sp,#0x2c]
00041e  4463              ADD      r3,r3,r12             ;3290
000420  f9b0c09f          LDRSH    r12,[r0,#0x9f]        ;3291
000424  eb020e0c          ADD      lr,r2,r12             ;3291
000428  f89bc018          LDRB     r12,[r11,#0x18]
00042c  4563              CMP      r3,r12
00042e  bfb8              IT       LT
000430  4663              MOVLT    r3,r12
000432  db04              BLT      |L24.1086|
;;;3293   		else if (pastpos1.x > ((int)((iXResolutionForClipping) - thisCommonConf->ucXClipping))) pastpos1.x = (iXResolutionForClipping) - thisCommonConf->ucXClipping;
000434  ebaa020c          SUB      r2,r10,r12
000438  429a              CMP      r2,r3
00043a  bfb8              IT       LT
00043c  4613              MOVLT    r3,r2
                  |L24.1086|
;;;3294   		if (pastpos1.y < (int)(thisCommonConf->ucYClipping)) pastpos1.y = (int)thisCommonConf->ucYClipping;
00043e  9a08              LDR      r2,[sp,#0x20]
000440  7e52              LDRB     r2,[r2,#0x19]
000442  4596              CMP      lr,r2
;;;3295   		else if (pastpos1.y > (int)((iYResolutionForClipping) - thisCommonConf->ucYClipping)) pastpos1.y = (int)((iYResolutionForClipping) - thisCommonConf->ucYClipping);
000444  bfa2              ITTT     GE
000446  eba90202          SUBGE    r2,r9,r2
00044a  4572              CMPGE    r2,lr
00044c  4672              MOVGE    r2,lr
;;;3296   		
;;;3297   		if(thisInfo->tCoord.bRemoveEdge[index] == 1)
00044e  eb010b08          ADD      r11,r1,r8
000452  f50b5b80          ADD      r11,r11,#0x1000
000456  f8cdb030          STR      r11,[sp,#0x30]
00045a  f89bb17f          LDRB     r11,[r11,#0x17f]
00045e  e000              B        |L24.1122|
                  |L24.1120|
000460  e05c              B        |L24.1308|
                  |L24.1122|
000462  f1bb0f01          CMP      r11,#1
;;;3298   		{
;;;3299   			thisInfo->tCoord.tPos.vusS[index] = 0;
000466  bf04              ITT      EQ
000468  2000              MOVEQ    r0,#0
00046a  eb010148          ADDEQ    r1,r1,r8,LSL #1
00046e  d053              BEQ      |L24.1304|
;;;3300   		}
;;;3301   		else if(thisInfo->tCoord.tPos.vusS[index] <= thisInfo->tCoord.tPastPos[0].vusS[index] && thisInfo->tCoord.tPos.vusS[index] && thisInfo->tCoord.tPastPos[0].vusS[index] && thisInfo->tCoord.tPastPos[1].vusS[index])
000470  eb010148          ADD      r1,r1,r8,LSL #1
000474  f8b1b4ef          LDRH     r11,[r1,#0x4ef]
000478  f8b186fb          LDRH     r8,[r1,#0x6fb]
00047c  45c3              CMP      r11,r8
00047e  d84d              BHI      |L24.1308|
000480  f1bb0f00          CMP      r11,#0
000484  bf1e              ITTT     NE
000486  f1b80f00          CMPNE    r8,#0
00048a  f8b18774          LDRHNE   r8,[r1,#0x774]
00048e  f1b80f00          CMPNE    r8,#0
000492  d043              BEQ      |L24.1308|
;;;3302   		{
;;;3303   			if(old_pos->x == pos->x && ((pos->x == thisCommonConf->ucXClipping && pastpos1.x - old_pos->x > thisModeConf->CoordEdge.usRemoveEdgeXdistThd)
000494  f8d7b000          LDR      r11,[r7,#0]
000498  f8cdb01c          STR      r11,[sp,#0x1c]
00049c  f8d58000          LDR      r8,[r5,#0]
0004a0  45c3              CMP      r11,r8
0004a2  d11b              BNE      |L24.1244|
0004a4  45e0              CMP      r8,r12
0004a6  d105              BNE      |L24.1204|
0004a8  f8b0e0dc          LDRH     lr,[r0,#0xdc]
0004ac  eba30b0b          SUB      r11,r3,r11
0004b0  45f3              CMP      r11,lr
0004b2  dc0b              BGT      |L24.1228|
                  |L24.1204|
0004b4  ebaa0c0c          SUB      r12,r10,r12
0004b8  45e0              CMP      r8,r12
0004ba  d10f              BNE      |L24.1244|
0004bc  f8ddc01c          LDR      r12,[sp,#0x1c]
0004c0  ebac0303          SUB      r3,r12,r3
0004c4  f8b0c0dc          LDRH     r12,[r0,#0xdc]
0004c8  4563              CMP      r3,r12
0004ca  dd07              BLE      |L24.1244|
                  |L24.1228|
;;;3304   				|| (pos->x == (iXResolutionForClipping - thisCommonConf->ucXClipping) && old_pos->x - pastpos1.x > thisModeConf->CoordEdge.usRemoveEdgeXdistThd)))
;;;3305   			{
;;;3306   				thisInfo->tCoord.bRemoveEdge[index] = 1;
0004cc  f8ddc030          LDR      r12,[sp,#0x30]
0004d0  2301              MOVS     r3,#1
0004d2  f88c317f          STRB     r3,[r12,#0x17f]
;;;3307   				thisInfo->tCoord.tPos.vusS[index] = 0;
0004d6  2300              MOVS     r3,#0
0004d8  f8a134ef          STRH     r3,[r1,#0x4ef]
                  |L24.1244|
;;;3308   			}
;;;3309   			if(old_pos->y == pos->y && ((pos->y == thisCommonConf->ucYClipping && pastpos1.y - old_pos->y > thisModeConf->CoordEdge.usRemoveEdgeYdistThd)
0004dc  f8d7c004          LDR      r12,[r7,#4]
0004e0  686b              LDR      r3,[r5,#4]
0004e2  459c              CMP      r12,r3
0004e4  d11a              BNE      |L24.1308|
0004e6  9f08              LDR      r7,[sp,#0x20]
0004e8  7e7f              LDRB     r7,[r7,#0x19]
0004ea  42bb              CMP      r3,r7
0004ec  d105              BNE      |L24.1274|
0004ee  f8b0a0de          LDRH     r10,[r0,#0xde]
0004f2  eba2080c          SUB      r8,r2,r12
0004f6  45d0              CMP      r8,r10
0004f8  dc09              BGT      |L24.1294|
                  |L24.1274|
0004fa  eba90707          SUB      r7,r9,r7
0004fe  42bb              CMP      r3,r7
000500  d10c              BNE      |L24.1308|
000502  f8b000de          LDRH     r0,[r0,#0xde]
000506  ebac0202          SUB      r2,r12,r2
00050a  4282              CMP      r2,r0
00050c  dd06              BLE      |L24.1308|
                  |L24.1294|
;;;3310   				||  (pos->y == (iYResolutionForClipping - thisCommonConf->ucYClipping) && old_pos->y - pastpos1.y > thisModeConf->CoordEdge.usRemoveEdgeYdistThd)))
;;;3311   			{
;;;3312   				thisInfo->tCoord.bRemoveEdge[index] = 1;
00050e  9a0c              LDR      r2,[sp,#0x30]
000510  2001              MOVS     r0,#1
000512  f882017f          STRB     r0,[r2,#0x17f]
;;;3313   				thisInfo->tCoord.tPos.vusS[index] = 0;
000516  2000              MOVS     r0,#0
                  |L24.1304|
000518  f8a104ef          STRH     r0,[r1,#0x4ef]        ;3299
                  |L24.1308|
;;;3314   			}
;;;3315   		}
;;;3316   	}
;;;3317   	#endif
;;;3318   	
;;;3319   	pos->x = x;
00051c  602c              STR      r4,[r5,#0]
;;;3320   	pos->y = y;
00051e  606e              STR      r6,[r5,#4]
;;;3321   }
000520  b00d              ADD      sp,sp,#0x34
000522  e8bd8ff0          POP      {r4-r11,pc}
;;;3322   
                          ENDP


                          AREA ||i.meanInterpolate||, CODE, READONLY, ALIGN=2

                  meanInterpolate PROC
;;;1998   
;;;1999   tXY_t meanInterpolate(tXY_t *p, int start, int num)
000000  b4f0              PUSH     {r4-r7}
;;;2000   {
;;;2001   	int i;
;;;2002   	int sum_x, sum_y;
;;;2003   	tXY_t result;
;;;2004   
;;;2005   	sum_x = sum_y = 0;
000002  2400              MOVS     r4,#0
000004  4625              MOV      r5,r4
;;;2006   
;;;2007   	for( i=start; i<start+num; i++)
;;;2008   	{
;;;2009   		sum_x += p[i].x;
;;;2010   		sum_y += p[i].y;
;;;2011   	}
000006  2b00              CMP      r3,#0
000008  bfd8              IT       LE
00000a  f04f0c00          MOVLE    r12,#0
00000e  dd06              BLE      |L25.30|
000010  f0130c01          ANDS     r12,r3,#1
000014  d003              BEQ      |L25.30|
000016  eb0104c2          ADD      r4,r1,r2,LSL #3       ;2009
00001a  6825              LDR      r5,[r4,#0]            ;2009
00001c  6864              LDR      r4,[r4,#4]            ;2010
                  |L25.30|
00001e  4494              ADD      r12,r12,r2            ;2007
000020  18d6              ADDS     r6,r2,r3              ;2007
000022  4566              CMP      r6,r12                ;2007
000024  dd0e              BLE      |L25.68|
000026  bf00              NOP                            ;2009
                  |L25.40|
000028  eb0102cc          ADD      r2,r1,r12,LSL #3      ;2009
00002c  f10c0c02          ADD      r12,r12,#2            ;2010
000030  6817              LDR      r7,[r2,#0]            ;2009
000032  4566              CMP      r6,r12                ;2010
000034  443d              ADD      r5,r5,r7              ;2009
000036  6857              LDR      r7,[r2,#4]            ;2010
000038  443c              ADD      r4,r4,r7              ;2010
00003a  6897              LDR      r7,[r2,#8]            ;2009
00003c  68d2              LDR      r2,[r2,#0xc]          ;2010
00003e  443d              ADD      r5,r5,r7              ;2009
000040  4414              ADD      r4,r4,r2              ;2010
000042  dcf1              BGT      |L25.40|
                  |L25.68|
;;;2012   
;;;2013   	result.x = sum_x / num;
000044  fb95f1f3          SDIV     r1,r5,r3
;;;2014   	result.y = sum_y / num;
000048  fb94f2f3          SDIV     r2,r4,r3
;;;2015   
;;;2016   	return result;
00004c  6001              STR      r1,[r0,#0]
00004e  6042              STR      r2,[r0,#4]
;;;2017   }
000050  bcf0              POP      {r4-r7}
000052  4770              BX       lr
;;;2018   
                          ENDP


                          AREA ||.bss||, DATA, NOINIT, ALIGN=1

                  Gradient
                          %        44

                          AREA ||area_number.28||, DATA, NOINIT, ALIGN=2

                          EXPORTAS ||area_number.28||, ||.bss||
                  FirstTouchEnable
                          %        16
                  ProjectionEnable
                          %        16
                  test
                          %        80
                  IIRProjectionVector
                          %        80
                  Ransac
                          %        1840

                          AREA ||area_number.29||, DATA, NOINIT, ALIGN=0

                          EXPORTAS ||area_number.29||, ||.bss||
                  tPastPosHist
                          %        152

                          AREA ||area_number.30||, DATA, NOINIT, ALIGN=0

                          EXPORTAS ||area_number.30||, ||.bss||
                  TouchNumHisto
                          %        10

                          AREA ||.data||, DATA, ALIGN=2

                  AddDistTh
000000  0000              DCW      0x0000
                  usPalmCandiShapeMatchingLearningCnt
000002  0000              DCW      0x0000
                  thisCommonConf
                          DCD      0x00000000
                  thisModeConf
                          DCD      0x00000000
                  thisInfo
                          DCD      0x00000000
                  ptAppInfo
                          DCD      0x00000000
                  testcode
                          DCD      0x00000000
                  historycheck
                          DCD      0x00000000
                  outInTrackingFlag
                          DCD      0x00000000
                  bContiFlag
000020  00000000          DCB      0x00,0x00,0x00,0x00
                  max_d
                          DCD      0x00000064
                  sum_r
                          DCD      0x00000000
                  sum_c
                          DCD      0x00000000
                  sum_TB
                          DCD      0x00000000
                  sum_LR
                          DCD      0x00000000
                  test_FirstPos
                          %        8
                  test_OrgPos
                          %        8

                          AREA ||area_number.33||, DATA, ALIGN=0

                          EXPORTAS ||area_number.33||, ||.data||
                  fixed_touchnum
000000  00                DCB      0x00

                          AREA ||area_number.34||, DATA, ALIGN=1

                          EXPORTAS ||area_number.34||, ||.data||
                  WrongSeparationCnt
000000  0000              DCW      0x0000

                          AREA ||area_number.35||, DATA, ALIGN=0

                          EXPORTAS ||area_number.35||, ||.data||
                  FixTouchNum
000000  00                DCB      0x00

                          AREA ||area_number.36||, DATA, ALIGN=0

                          EXPORTAS ||area_number.36||, ||.data||
                  PrevMaxTouchNum
000000  00                DCB      0x00

                          AREA ||area_number.37||, DATA, ALIGN=2

                          EXPORTAS ||area_number.37||, ||.data||
                  sum_Cr
                          DCD      0x00000000

                          AREA ||area_number.38||, DATA, ALIGN=2

                          EXPORTAS ||area_number.38||, ||.data||
                  Cr_size
                          DCD      0x00000000

;*** Start embedded assembler ***

#line 1 "..\\..\\App\\Algorithm\\Coord\\algorithm_coord.c"
	AREA ||.rev16_text||, CODE
	THUMB
	EXPORT |__asm___17_algorithm_coord_c_Gradient____REV16|
#line 388 "..\\..\\Hal\\system\\CMSIS\\cmsis_armcc.h"
|__asm___17_algorithm_coord_c_Gradient____REV16| PROC
#line 389

 rev16 r0, r0
 bx lr
	ENDP
	AREA ||.revsh_text||, CODE
	THUMB
	EXPORT |__asm___17_algorithm_coord_c_Gradient____REVSH|
#line 402
|__asm___17_algorithm_coord_c_Gradient____REVSH| PROC
#line 403

 revsh r0, r0
 bx lr
	ENDP
	AREA ||.rrx_text||, CODE
	THUMB
	EXPORT |__asm___17_algorithm_coord_c_Gradient____RRX|
#line 587
|__asm___17_algorithm_coord_c_Gradient____RRX| PROC
#line 588

 rrx r0, r0
 bx lr
	ENDP

;*** End   embedded assembler ***
