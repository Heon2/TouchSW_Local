; generated by Component: ARM Compiler 5.06 update 4 (build 422) Tool: ArmCC [4d3604]
; commandline ArmCC [--c99 --list --split_sections --debug -c --asm --interleave -o.\bin\protocol_log.o --asm_dir=.\list\ --list_dir=.\list\ --depend=.\bin\protocol_log.d --cpu=Cortex-M3 --apcs=interwork -O3 -Otime --diag_suppress=9931 -I..\..\App -I..\..\App\Algorithm -I..\..\App\Algorithm\Baseline -I..\..\App\Algorithm\Coord -I..\..\App\Algorithm\Label -I..\..\App\Algorithm\Noise -I..\..\Env -I..\..\Hal -I..\..\Hal\system -I..\..\Hal\system\CMSIS -I..\..\Hal\gpio -I..\..\Hal\i2c -I..\..\Hal\pwmdrv -I..\..\Hal\timer -I..\..\Hal\wdgt -I..\..\Hal\spi -I..\..\Hal\dspA -I..\..\Hal\dspB -I..\..\Hal\scrb -I..\..\Hal\usb -I..\..\Hal\usb\FWOTG210_F000 -I..\..\Hal\usb\FWOTG210_F000\OTG_peripheral -I..\..\Hal\usb\FWOTG210_F000\OTG_peripheral_Config -I..\..\Hal\gdma -I..\..\Hal\syscfg -I..\..\Hal\flitf -I..\..\Module -I..\..\Module\SRIC -I..\..\Protocol -I..\..\Tool_BinCvt\BinToolApp\src -I..\..\Boot -I..\..\Parameter -I..\..\Hal\dbgserial -I..\..\Hal\tlvds -I..\..\Tuning_process -I.\RTE\_MFTP_FPGA -IC:\Keil_v5\ARM\PACK\ARM\CMSIS\5.0.1\Device\ARM\ARMCM3\Include -IC:\Keil_v5\ARM\CMSIS\Include -D__UVISION_VERSION=523 -DARMCM3 -D_USE_APP_80K_ -D_USE_WITH_BOOT_ --wchar32 --omf_browse=.\bin\protocol_log.crf ..\..\Protocol\protocol_log.c]
                          THUMB

                          AREA ||i.protocol_Log||, CODE, READONLY, ALIGN=2

                  protocol_Log PROC
;;;106    //bool_t ProtocolLogIng = 0;
;;;107    void protocol_Log(eLogType_t eLogType, const tLogDataFormat_t* _ptDataFormat, const void* _pBuf)
000000  b570              PUSH     {r4-r6,lr}
;;;108    {
;;;109        if( tProtocolLog.ptControl->eTrigger == LTR_TRIG )
000002  4c1d              LDR      r4,|L1.120|
000004  6863              LDR      r3,[r4,#4]  ; tProtocolLog
000006  f893c004          LDRB     r12,[r3,#4]
00000a  f1bc0f01          CMP      r12,#1
;;;110        {
;;;111            if( tProtocolLog.ptControl->ulLogMask & _BV(eLogType) )
;;;112            {
;;;113            	tProtocolLog.ptControl->eTrigger = LTR_WAIT;
;;;114                //Set data format.
;;;115            	tProtocolLog.ptDataFormat = _ptDataFormat;
;;;116    
;;;117                //Set buffer address.
;;;118                vtProtocolBufferPointers.pGeneralBuffer = _pBuf;
;;;119    
;;;120    #if USED_TPIC_MUXEN_ON_OFF_CONTROL_DISABLE_DATAREAD
;;;121                HAL_SetTPICMuxEnControl(NO, NO);
;;;122    #endif /* USED_TPIC_MUXEN_ON_OFF_CONTROL_DISABLE_DATAREAD */
;;;123    #if USED_TPIC_PENEN_ON_OFF_CONTROL
;;;124                HAL_SetTPICPenEnControl(NO);
;;;125    #endif /* USED_TPIC_PENEN_ON_OFF_CONTROL */
;;;126    #if USED_ECLK_ON_OFF_CONTROL_DISABLE_DATAREAD
;;;127    			HAL_SetECLKOnOffControl(NO);
;;;128    #endif /* USED_ECLK_ON_OFF_CONTROL_DISABLE_DATAREAD */
;;;129    
;;;130    #if USED_TOUCH_REPORT_ON_OFF_CONTROL_DISABLE_DATAREAD
;;;131    			HAL_SetTouchReportEnControl(NO);
;;;132    #endif /* USED_TOUCH_REPORT_ON_OFF_CONTROL_DISABLE_DATAREAD */
;;;133    
;;;134    #if USE_FREQ_HOPPING_BASELINE_CONTI_UPDATE
;;;135    			HAL_SetHoppBaselineContinueEnControl(NO);
;;;136    #endif /* USE_FREQ_HOPPING_BASELINE_CONTI_UPDATE */
;;;137    
;;;138                //Pend wait flag and wait for image type setting.
;;;139                tProtocolCtrl.getter->eReadyStatus = RS_LOG;
;;;140                while( tProtocolLog.ptControl->eTrigger == LTR_WAIT ) ;
;;;141    
;;;142    #if USED_ECLK_ON_OFF_CONTROL_DISABLE_DATAREAD
;;;143    			HAL_SetECLKOnOffControl(YES);
;;;144    #endif /* USED_ECLK_ON_OFF_CONTROL_DISABLE_DATAREAD */
;;;145    
;;;146    #if USED_TPIC_MUXEN_ON_OFF_CONTROL_DISABLE_DATAREAD
;;;147                HAL_SetTPICMuxEnControl(YES, NO);
;;;148    #endif /* USED_TPIC_MUXEN_ON_OFF_CONTROL_DISABLE_DATAREAD */
;;;149    #if USED_TPIC_PENEN_ON_OFF_CONTROL
;;;150                HAL_SetTPICPenEnControl(YES);
;;;151    #endif /* USED_TPIC_PENEN_ON_OFF_CONTROL */
;;;152    #if USED_TOUCH_REPORT_ON_OFF_CONTROL_DISABLE_DATAREAD
;;;153                HAL_SetTouchReportEnControl(YES);
;;;154    #endif /* USED_TOUCH_REPORT_ON_OFF_CONTROL_DISABLE_DATAREAD */
;;;155    #if USE_FREQ_HOPPING_BASELINE_CONTI_UPDATE
;;;156                HAL_SetHoppBaselineContinueEnControl(YES);
;;;157    #endif /* USE_FREQ_HOPPING_BASELINE_CONTI_UPDATE */
;;;158            }
;;;159        }
;;;160    }
00000e  bf18              IT       NE
000010  bd70              POPNE    {r4-r6,pc}
000012  f8d3c000          LDR      r12,[r3,#0]           ;111
000016  2501              MOVS     r5,#1                 ;111
000018  fa05f000          LSL      r0,r5,r0              ;111
00001c  ea1c0f00          TST      r12,r0                ;111
000020  bf08              IT       EQ
000022  bd70              POPEQ    {r4-r6,pc}
000024  20ff              MOVS     r0,#0xff              ;113
000026  7118              STRB     r0,[r3,#4]            ;113
000028  4814              LDR      r0,|L1.124|
00002a  60a1              STR      r1,[r4,#8]            ;115  ; tProtocolLog
00002c  2100              MOVS     r1,#0                 ;121
00002e  6002              STR      r2,[r0,#0]            ;118  ; vtProtocolBufferPointers
000030  4608              MOV      r0,r1                 ;121
000032  f7fffffe          BL       HAL_SetTPICMuxEnControl
000036  2000              MOVS     r0,#0                 ;127
000038  f7fffffe          BL       HAL_SetECLKOnOffControl
00003c  2000              MOVS     r0,#0                 ;131
00003e  f7fffffe          BL       HAL_SetTouchReportEnControl
000042  2000              MOVS     r0,#0                 ;135
000044  f7fffffe          BL       HAL_SetHoppBaselineContinueEnControl
000048  490d              LDR      r1,|L1.128|
00004a  2077              MOVS     r0,#0x77              ;139
00004c  6809              LDR      r1,[r1,#0]            ;139  ; tProtocolCtrl
00004e  7008              STRB     r0,[r1,#0]            ;139
000050  6860              LDR      r0,[r4,#4]            ;109
                  |L1.82|
000052  7901              LDRB     r1,[r0,#4]            ;140
000054  29ff              CMP      r1,#0xff              ;140
000056  d0fc              BEQ      |L1.82|
000058  2001              MOVS     r0,#1                 ;143
00005a  f7fffffe          BL       HAL_SetECLKOnOffControl
00005e  2100              MOVS     r1,#0                 ;147
000060  2001              MOVS     r0,#1                 ;147
000062  f7fffffe          BL       HAL_SetTPICMuxEnControl
000066  2001              MOVS     r0,#1                 ;153
000068  f7fffffe          BL       HAL_SetTouchReportEnControl
00006c  e8bd4070          POP      {r4-r6,lr}            ;156
000070  2001              MOVS     r0,#1                 ;156
000072  f7ffbffe          B.W      HAL_SetHoppBaselineContinueEnControl
;;;161    
                          ENDP

000076  0000              DCW      0x0000
                  |L1.120|
                          DCD      ||area_number.9||+0x14
                  |L1.124|
                          DCD      vtProtocolBufferPointers
                  |L1.128|
                          DCD      tProtocolCtrl

                          AREA ||i.protocol_LogImage||, CODE, READONLY, ALIGN=2

                  protocol_LogImage PROC
;;;52     
;;;53     void protocol_LogImage(eImageType_t _type, const tImageDataFmt_t* _ptDataFormat, uint8_t ucFinger_, tRect_t rect[ucFinger_], const void* _pBuf)
000000  b57f              PUSH     {r0-r6,lr}
;;;54     { 
;;;55         if( tProtocolImage.ptCtrl->eImageType == _type )
000002  4c1d              LDR      r4,|L2.120|
000004  f8ddc020          LDR      r12,[sp,#0x20]
000008  6862              LDR      r2,[r4,#4]  ; tProtocolImage
00000a  7815              LDRB     r5,[r2,#0]
00000c  4285              CMP      r5,r0
;;;56         {
;;;57         	tProtocolImage.ptCtrl->eImageType = IT_WAIT;
;;;58             //Set data format.
;;;59         	tProtocolImage.ptFormat = _ptDataFormat;
;;;60     
;;;61         	tProtocolImage.pucFinger_ = &ucFinger_;
;;;62         	tProtocolImage.ptRect = rect;
;;;63     
;;;64             //Set buffer address.
;;;65             vtProtocolBufferPointers.pGeneralBuffer = (void*)_pBuf;
;;;66     
;;;67     #if USED_TPIC_MUXEN_ON_OFF_CONTROL_DISABLE_DATAREAD
;;;68             HAL_SetTPICMuxEnControl(NO, NO);
;;;69     #endif /* USED_TPIC_MUXEN_ON_OFF_CONTROL_DISABLE_DATAREAD */
;;;70     #if USED_TPIC_PENEN_ON_OFF_CONTROL
;;;71             HAL_SetTPICPenEnControl(NO);
;;;72     #endif /* USED_TPIC_PENEN_ON_OFF_CONTROL */
;;;73     #if USED_ECLK_ON_OFF_CONTROL_DISABLE_DATAREAD
;;;74     		HAL_SetECLKOnOffControl(NO);
;;;75     #endif /* USED_ECLK_ON_OFF_CONTROL_DISABLE_DATAREAD */
;;;76     #if USED_TOUCH_REPORT_ON_OFF_CONTROL_DISABLE_DATAREAD
;;;77     		HAL_SetTouchReportEnControl(NO);
;;;78     #endif /* USED_TOUCH_REPORT_ON_OFF_CONTROL_DISABLE_DATAREAD */
;;;79     
;;;80     #if USE_FREQ_HOPPING_BASELINE_CONTI_UPDATE
;;;81     		HAL_SetHoppBaselineContinueEnControl(NO);
;;;82     #endif /* USE_FREQ_HOPPING_BASELINE_CONTI_UPDATE */
;;;83     
;;;84             //Pend wait flag and wait for image type setting.
;;;85             tProtocolCtrl.getter->eReadyStatus = RS_IMAGE;
;;;86             while( tProtocolImage.ptCtrl->eImageType == IT_WAIT && tProtocolCtrl.setter->eMode == M_TOUCH_NORMAL ) ;
;;;87     
;;;88     #if USED_ECLK_ON_OFF_CONTROL_DISABLE_DATAREAD
;;;89     		HAL_SetECLKOnOffControl(YES);
;;;90     #endif /* USED_ECLK_ON_OFF_CONTROL_DISABLE_DATAREAD */
;;;91     #if USED_TPIC_MUXEN_ON_OFF_CONTROL_DISABLE_DATAREAD
;;;92             HAL_SetTPICMuxEnControl(YES, NO);
;;;93     #endif /* USED_TPIC_MUXEN_ON_OFF_CONTROL_DISABLE_DATAREAD */
;;;94     #if USED_TPIC_PENEN_ON_OFF_CONTROL
;;;95             HAL_SetTPICPenEnControl(YES);
;;;96     #endif /* USED_TPIC_PENEN_ON_OFF_CONTROL */
;;;97     #if USED_TOUCH_REPORT_ON_OFF_CONTROL_DISABLE_DATAREAD
;;;98     		HAL_SetTouchReportEnControl(YES);
;;;99     #endif /* USED_TOUCH_REPORT_ON_OFF_CONTROL_DISABLE_DATAREAD */
;;;100    #if USE_FREQ_HOPPING_BASELINE_CONTI_UPDATE
;;;101    		HAL_SetHoppBaselineContinueEnControl(YES);
;;;102    #endif /* USE_FREQ_HOPPING_BASELINE_CONTI_UPDATE */
;;;103        }
;;;104    }
00000e  bf1c              ITT      NE
000010  b004              ADDNE    sp,sp,#0x10
000012  bd70              POPNE    {r4-r6,pc}
000014  20ff              MOVS     r0,#0xff              ;57
000016  7010              STRB     r0,[r2,#0]            ;57
000018  60a1              STR      r1,[r4,#8]            ;59  ; tProtocolImage
00001a  a802              ADD      r0,sp,#8              ;61
00001c  60e0              STR      r0,[r4,#0xc]          ;61  ; tProtocolImage
00001e  4817              LDR      r0,|L2.124|
000020  6123              STR      r3,[r4,#0x10]         ;62  ; tProtocolImage
000022  2100              MOVS     r1,#0                 ;68
000024  f8c0c000          STR      r12,[r0,#0]           ;65  ; vtProtocolBufferPointers
000028  4608              MOV      r0,r1                 ;68
00002a  f7fffffe          BL       HAL_SetTPICMuxEnControl
00002e  2000              MOVS     r0,#0                 ;74
000030  f7fffffe          BL       HAL_SetECLKOnOffControl
000034  2000              MOVS     r0,#0                 ;77
000036  f7fffffe          BL       HAL_SetTouchReportEnControl
00003a  2000              MOVS     r0,#0                 ;81
00003c  f7fffffe          BL       HAL_SetHoppBaselineContinueEnControl
000040  490f              LDR      r1,|L2.128|
000042  20aa              MOVS     r0,#0xaa              ;85
000044  680a              LDR      r2,[r1,#0]            ;85  ; tProtocolCtrl
000046  7010              STRB     r0,[r2,#0]            ;85
000048  6860              LDR      r0,[r4,#4]            ;55
00004a  684a              LDR      r2,[r1,#4]            ;86
                  |L2.76|
00004c  7801              LDRB     r1,[r0,#0]            ;86
00004e  29ff              CMP      r1,#0xff              ;86
000050  bf04              ITT      EQ                    ;86
000052  7811              LDRBEQ   r1,[r2,#0]            ;86
000054  2900              CMPEQ    r1,#0                 ;86
000056  d0f9              BEQ      |L2.76|
000058  f04f0001          MOV      r0,#1                 ;89
00005c  f7fffffe          BL       HAL_SetECLKOnOffControl
000060  2100              MOVS     r1,#0                 ;92
000062  2001              MOVS     r0,#1                 ;92
000064  f7fffffe          BL       HAL_SetTPICMuxEnControl
000068  2001              MOVS     r0,#1                 ;98
00006a  f7fffffe          BL       HAL_SetTouchReportEnControl
00006e  2001              MOVS     r0,#1                 ;101
000070  f7fffffe          BL       HAL_SetHoppBaselineContinueEnControl
000074  b004              ADD      sp,sp,#0x10
000076  bd70              POP      {r4-r6,pc}
;;;105    
                          ENDP

                  |L2.120|
                          DCD      ||area_number.9||
                  |L2.124|
                          DCD      vtProtocolBufferPointers
                  |L2.128|
                          DCD      tProtocolCtrl

                          AREA ||i.protocol_log_get_mode||, CODE, READONLY, ALIGN=2

                  protocol_log_get_mode PROC
;;;161    
;;;162    uint32_t protocol_log_get_mode(void)
000000  4801              LDR      r0,|L3.8|
;;;163    {
;;;164    	return tProtocolLog.ptControl->eTrigger;
000002  6840              LDR      r0,[r0,#4]  ; tProtocolLog
000004  7900              LDRB     r0,[r0,#4]
;;;165    }
000006  4770              BX       lr
;;;166    
                          ENDP

                  |L3.8|
                          DCD      ||area_number.9||+0x14

                          AREA ||i.protocol_log_set_mode||, CODE, READONLY, ALIGN=2

                  protocol_log_set_mode PROC
;;;166    
;;;167    void protocol_log_set_mode(eLogTriggerType_t _m)
000000  4901              LDR      r1,|L4.8|
;;;168    {
;;;169    	tProtocolLog.ptControl->eTrigger = _m;
000002  6849              LDR      r1,[r1,#4]  ; tProtocolLog
000004  7108              STRB     r0,[r1,#4]
;;;170    }
000006  4770              BX       lr
                          ENDP

                  |L4.8|
                          DCD      ||area_number.9||+0x14

                          AREA ||.data||, DATA, ALIGN=0

                  ktProtocolImageInfo
000000  20100001          DCWU     0x2010,0x0001

                          AREA ||area_number.8||, DATA, ALIGN=0

                          EXPORTAS ||area_number.8||, ||.data||
                  ktProtocolImageControl
000000  00                DCB      0x00

                          AREA ||area_number.9||, DATA, ALIGN=0

                          EXPORTAS ||area_number.9||, ||.data||
                  tProtocolImage
                          DCDU     ktProtocolImageInfo
                          DCDU     ktProtocolImageControl
                          DCDU     0x00000000
                          DCDU     0x00000000
                          DCDU     0x00000000
                  tProtocolLog
                          DCDU     ktProtocolLogInfo
                          DCDU     ktProtocolLogControl
                          DCDU     0x00000000

                          AREA ||area_number.10||, DATA, ALIGN=0

                          EXPORTAS ||area_number.10||, ||.data||
                  ktProtocolLogInfo
000000  20100001          DCWU     0x2010,0x0001

                          AREA ||area_number.11||, DATA, ALIGN=0

                          EXPORTAS ||area_number.11||, ||.data||
                  ktProtocolLogControl
                          DCDU     0x00000001
000004  00                DCB      0x00

;*** Start embedded assembler ***

#line 1 "..\\..\\Protocol\\protocol_log.c"
	AREA ||.rev16_text||, CODE
	THUMB
	EXPORT |__asm___14_protocol_log_c_c2a5ecd9____REV16|
#line 388 "..\\..\\Hal\\system\\CMSIS\\cmsis_armcc.h"
|__asm___14_protocol_log_c_c2a5ecd9____REV16| PROC
#line 389

 rev16 r0, r0
 bx lr
	ENDP
	AREA ||.revsh_text||, CODE
	THUMB
	EXPORT |__asm___14_protocol_log_c_c2a5ecd9____REVSH|
#line 402
|__asm___14_protocol_log_c_c2a5ecd9____REVSH| PROC
#line 403

 revsh r0, r0
 bx lr
	ENDP
	AREA ||.rrx_text||, CODE
	THUMB
	EXPORT |__asm___14_protocol_log_c_c2a5ecd9____RRX|
#line 587
|__asm___14_protocol_log_c_c2a5ecd9____RRX| PROC
#line 588

 rrx r0, r0
 bx lr
	ENDP

;*** End   embedded assembler ***
