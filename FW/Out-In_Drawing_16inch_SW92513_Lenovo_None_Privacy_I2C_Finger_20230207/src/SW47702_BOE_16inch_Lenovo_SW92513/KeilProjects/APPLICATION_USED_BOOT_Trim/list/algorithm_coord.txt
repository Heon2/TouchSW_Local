; generated by Component: ARM Compiler 5.06 update 4 (build 422) Tool: ArmCC [4d3604]
; commandline ArmCC [--c99 --list --split_sections --debug -c --asm --interleave -o.\bin\algorithm_coord.o --asm_dir=.\list\ --list_dir=.\list\ --depend=.\bin\algorithm_coord.d --cpu=Cortex-M3 --apcs=interwork -O3 -Otime --diag_suppress=9931 -I..\..\App -I..\..\App\Algorithm -I..\..\App\Algorithm\Baseline -I..\..\App\Algorithm\Coord -I..\..\App\Algorithm\Label -I..\..\App\Algorithm\Noise -I..\..\Env -I..\..\Hal -I..\..\Hal\system -I..\..\Hal\system\CMSIS -I..\..\Hal\gpio -I..\..\Hal\i2c -I..\..\Hal\pwmdrv -I..\..\Hal\timer -I..\..\Hal\wdgt -I..\..\Hal\spi -I..\..\Hal\dspA -I..\..\Hal\dspB -I..\..\Hal\scrb -I..\..\Hal\usb -I..\..\Hal\usb\FWOTG210_F000 -I..\..\Hal\usb\FWOTG210_F000\OTG_peripheral -I..\..\Hal\usb\FWOTG210_F000\OTG_peripheral_Config -I..\..\Hal\gdma -I..\..\Hal\syscfg -I..\..\Hal\flitf -I..\..\Module -I..\..\Module\SRIC -I..\..\Protocol -I..\..\Tool_BinCvt\BinToolApp\src -I..\..\Boot -I..\..\Parameter -I..\..\Hal\dbgserial -I..\..\Hal\tlvds -I..\..\Tuning_process -I.\RTE\_MFTP_FPGA -IC:\Keil_v5\ARM\PACK\ARM\CMSIS\5.0.1\Device\ARM\ARMCM3\Include -IC:\Keil_v5\ARM\CMSIS\Include -D__UVISION_VERSION=523 -DARMCM3 -D_USE_APP_80K_ -D_USE_WITH_BOOT_ --wchar32 --omf_browse=.\bin\algorithm_coord.crf ..\..\App\Algorithm\Coord\algorithm_coord.c]
                          THUMB

                          AREA ||i.algorithm_coord_EdgeExpand_BigFinger||, CODE, READONLY, ALIGN=2

                  algorithm_coord_EdgeExpand_BigFinger PROC
;;;3211   #endif
;;;3212   void algorithm_coord_EdgeExpand_BigFinger(void)
000000  e92d4ff0          PUSH     {r4-r11,lr}
;;;3213   {
000004  b093              SUB      sp,sp,#0x4c
;;;3214   	int l, c, r, apply_r, apply_c, MaxSumTB = 0, MaxSumLR = 0;
;;;3215   	int32_t _d,_d1,_d2;
;;;3216   	uint32_t TmpExtStrength = 0;
;;;3217   	uint16_t TmpBigFingerEdgeExpandParam2_LR,TmpBigFingerEdgeExpandParam2_TB;
;;;3218   	tLabelInfo_t	*temp_label = &thisInfo->tLabel;	
000006  48ff              LDR      r0,|L1.1028|
000008  2700              MOVS     r7,#0                 ;3214
00000a  9710              STR      r7,[sp,#0x40]
;;;3219   #if BIG_FINGER_EDGE_ACC_TEST_ALGO_EN	
;;;3220   	int TB_d2 = 0, LR_d2=0;
;;;3221   #endif
;;;3222   	
;;;3223   	for(l=temp_label->ucNum;l--;)
00000c  f8d0900c          LDR      r9,[r0,#0xc]  ; thisInfo
000010  463e              MOV      r6,r7                 ;3214
000012  f8191f45          LDRB     r1,[r9,#0x45]!
000016  f1b10a01          SUBS     r10,r1,#1
00001a  f0c08261          BCC.W    |L1.1248|
;;;3224   	{
;;;3225   		if( temp_label->tTable[l].ulStrength )
;;;3226   		{
;;;3227   			if(bContiFlag[0] && temp_label->tTable[l].tMaxCell.r > 1)bContiFlag[0]=0;
;;;3228   			if(temp_label->tTable[l].tMaxCell.r <= 1 || bContiFlag[0]){
;;;3229   				sum_r = 0;
;;;3230   				for(c=temp_label->tTable[l].tRect.cs; c<=temp_label->tTable[l].tRect.ce; c++)
;;;3231   					sum_r += HAL_READ_DELTA_IMAGE(3, c);
;;;3232   				
;;;3233   				if(sum_r < 100)
;;;3234   				{
;;;3235   					apply_r = -1;
;;;3236   					MaxSumTB = thisModeConf->EdgeExpand.usTopEdgeExpand_MaxD;				
;;;3237   					bContiFlag[0] = 1;
;;;3238   				}
;;;3239   			}
;;;3240   
;;;3241   			if(temp_label->tTable[l].tMaxCell.r < ROW_MAX-2 && bContiFlag[1])bContiFlag[1]=0;
;;;3242   			if(temp_label->tTable[l].tMaxCell.r >= ROW_MAX-2 || bContiFlag[1]){
;;;3243   				sum_r = 0;
;;;3244   				for(c=temp_label->tTable[l].tRect.cs; c<=temp_label->tTable[l].tRect.ce; c++)
;;;3245   					sum_r += HAL_READ_DELTA_IMAGE(ROW_MAX-4, c);
;;;3246   				
;;;3247   				if(sum_r < 100)
;;;3248   				{
;;;3249   					apply_r = ROW_MAX;
;;;3250   					MaxSumTB = thisModeConf->EdgeExpand.usBottomEdgeExpand_MaxD;				
;;;3251   					bContiFlag[1] = 1;
;;;3252   				}
;;;3253   			}
;;;3254   			
;;;3255   			if(temp_label->tTable[l].tMaxCell.c > 1 && bContiFlag[2])bContiFlag[2]=0;
;;;3256   			if(temp_label->tTable[l].tMaxCell.c <= 1 || bContiFlag[2]){
;;;3257   				sum_c = 0;
;;;3258   				for(r=temp_label->tTable[l].tRect.rs; r<=temp_label->tTable[l].tRect.re; r++)
;;;3259   					sum_c += HAL_READ_DELTA_IMAGE(r, 3);
;;;3260   				
;;;3261   				if(sum_c < 100)
;;;3262   				{
;;;3263   					apply_c = -1;
;;;3264   					MaxSumLR = thisModeConf->EdgeExpand.usLeftEdgeExpand_MaxD;				
;;;3265   					bContiFlag[2] = 1;
;;;3266   				}
;;;3267   			}
;;;3268   			
;;;3269   			if(temp_label->tTable[l].tMaxCell.c < COL_MAX-2 && bContiFlag[3])bContiFlag[3]=0;
;;;3270   			if(temp_label->tTable[l].tMaxCell.c >= COL_MAX-2 || bContiFlag[3]){
;;;3271   				sum_c = 0;
;;;3272   				for(r=temp_label->tTable[l].tRect.rs; r<=temp_label->tTable[l].tRect.re; r++)
;;;3273   					sum_c += HAL_READ_DELTA_IMAGE(r, COL_MAX-4);
;;;3274   				
;;;3275   				if(sum_c < 100)
;;;3276   				{
;;;3277   					apply_c = COL_MAX;
;;;3278   					MaxSumLR = thisModeConf->EdgeExpand.usRightEdgeExpand_MaxD;				
;;;3279   					bContiFlag[3] = 1;
;;;3280   				}
;;;3281   			}
;;;3282   			
;;;3283   			if(MaxSumTB && !MaxSumLR)
;;;3284   			{
;;;3285   				if(temp_label->tTable[l].tMaxCell.c <= 2){MaxSumLR = thisModeConf->EdgeExpand.usLeftEdgeExpand_MaxD;apply_c=-1;}
;;;3286   				else if(temp_label->tTable[l].tMaxCell.c >= COL_MAX-3){MaxSumLR = thisModeConf->EdgeExpand.usRightEdgeExpand_MaxD;apply_c=COL_MAX;}
;;;3287   			}
;;;3288   			else if(!MaxSumTB && MaxSumLR)
;;;3289   			{
;;;3290   				if(temp_label->tTable[l].tMaxCell.r <= 2){MaxSumTB = thisModeConf->EdgeExpand.usTopEdgeExpand_MaxD;apply_r=-1;}
;;;3291   				else if(temp_label->tTable[l].tMaxCell.r >= ROW_MAX-3){MaxSumTB = thisModeConf->EdgeExpand.usBottomEdgeExpand_MaxD;apply_r=ROW_MAX;}				
;;;3292   			}
;;;3293   			
;;;3294   			if(MaxSumTB || MaxSumLR)
;;;3295   			{
;;;3296   				TmpExtStrength = temp_label->tTable[l].ulExtStrength;
;;;3297   				TmpBigFingerEdgeExpandParam2_TB = thisModeConf->EdgeExpand.usBigFingerEdgeExpandParam2;
;;;3298   				TmpBigFingerEdgeExpandParam2_LR = thisModeConf->EdgeExpand.usBigFingerEdgeExpandParam2;
;;;3299   				if(MaxSumTB && MaxSumLR)
;;;3300   				{
;;;3301   					if(apply_r == -1)
;;;3302   					{
;;;3303   						if(apply_c == -1)
;;;3304   						{
;;;3305   							sum_TB = HAL_READ_DELTA_IMAGE(0,3);
;;;3306   							sum_TB += HAL_READ_DELTA_IMAGE(0,4);
;;;3307   							sum_TB += HAL_READ_DELTA_IMAGE(1,3);
;;;3308   							sum_TB += HAL_READ_DELTA_IMAGE(1,4);
;;;3309   							sum_LR = HAL_READ_DELTA_IMAGE(3,0);
;;;3310   							sum_LR += HAL_READ_DELTA_IMAGE(3,1);
;;;3311   							sum_LR += HAL_READ_DELTA_IMAGE(4,0);
;;;3312   							sum_LR += HAL_READ_DELTA_IMAGE(4,1);
;;;3313   							
;;;3314   //							sum_Cr = 0;
;;;3315   //							Cr_size = 0;
;;;3316   //							for(c = 0; c<=3; c++)
;;;3317   //							{
;;;3318   //								_d = HAL_READ_DELTA_IMAGE(0,c);
;;;3319   //								sum_Cr += _d;
;;;3320   //								if(_d > 50+dbg_coord[26])Cr_size++;
;;;3321   //							}
;;;3322   //							for(r = 1; r<=3; r++)
;;;3323   //							{
;;;3324   //								_d = HAL_READ_DELTA_IMAGE(r,0);
;;;3325   //								sum_Cr += _d;
;;;3326   //								if(_d > 50+dbg_coord[26])Cr_size++;
;;;3327   //							}														
;;;3328   						}
;;;3329   						else
;;;3330   						{
;;;3331   							sum_TB = HAL_READ_DELTA_IMAGE(0,COL_MAX-5);
;;;3332   							sum_TB += HAL_READ_DELTA_IMAGE(0,COL_MAX-4);
;;;3333   							sum_TB += HAL_READ_DELTA_IMAGE(1,COL_MAX-5);
;;;3334   							sum_TB += HAL_READ_DELTA_IMAGE(1,COL_MAX-4);
;;;3335   							sum_LR = HAL_READ_DELTA_IMAGE(3,COL_MAX-2);
;;;3336   							sum_LR += HAL_READ_DELTA_IMAGE(3,COL_MAX-1);
;;;3337   							sum_LR += HAL_READ_DELTA_IMAGE(4,COL_MAX-2);
;;;3338   							sum_LR += HAL_READ_DELTA_IMAGE(4,COL_MAX-1);
;;;3339   							
;;;3340   //							sum_Cr = 0;
;;;3341   //							Cr_size = 0;
;;;3342   //							for(c = 1; c<=4; c++)
;;;3343   //							{
;;;3344   //								_d = HAL_READ_DELTA_IMAGE(0,COL_MAX-c);
;;;3345   //								sum_Cr += _d;
;;;3346   //								if(_d > 50+dbg_coord[26])Cr_size++;
;;;3347   //							}
;;;3348   //							for(r = 1; r<=3; r++)
;;;3349   //							{
;;;3350   //								_d = HAL_READ_DELTA_IMAGE(r,COL_MAX-1);
;;;3351   //								sum_Cr += _d;
;;;3352   //								if(_d > 50+dbg_coord[26])Cr_size++;
;;;3353   //							}
;;;3354   						}
;;;3355   					}
;;;3356   					else
;;;3357   					{
;;;3358   						if(apply_c == -1)
;;;3359   						{
;;;3360   							sum_TB = HAL_READ_DELTA_IMAGE(ROW_MAX-2,3);
;;;3361   							sum_TB += HAL_READ_DELTA_IMAGE(ROW_MAX-2,4);
;;;3362   							sum_TB += HAL_READ_DELTA_IMAGE(ROW_MAX-1,3);
;;;3363   							sum_TB += HAL_READ_DELTA_IMAGE(ROW_MAX-1,4);
;;;3364   							sum_LR = HAL_READ_DELTA_IMAGE(ROW_MAX-5,0);
;;;3365   							sum_LR += HAL_READ_DELTA_IMAGE(ROW_MAX-5,1);
;;;3366   							sum_LR += HAL_READ_DELTA_IMAGE(ROW_MAX-4,0);
;;;3367   							sum_LR += HAL_READ_DELTA_IMAGE(ROW_MAX-4,1);
;;;3368   							
;;;3369   //							sum_Cr = 0;
;;;3370   //							Cr_size = 0;
;;;3371   //							for(c = 0; c<=3; c++)
;;;3372   //							{
;;;3373   //								_d = HAL_READ_DELTA_IMAGE(ROW_MAX-1,c);
;;;3374   //								sum_Cr += _d;
;;;3375   //								if(_d > 50+dbg_coord[26])Cr_size++;
;;;3376   //							}
;;;3377   //							for(r = 2; r<=4; r++)
;;;3378   //							{
;;;3379   //								_d = HAL_READ_DELTA_IMAGE(ROW_MAX-r,0);
;;;3380   //								sum_Cr += _d;
;;;3381   //								if(_d > 50+dbg_coord[26])Cr_size++;
;;;3382   //							}
;;;3383   						}
;;;3384   						else
;;;3385   						{
;;;3386   							sum_TB = HAL_READ_DELTA_IMAGE(ROW_MAX-2,COL_MAX-5);
;;;3387   							sum_TB += HAL_READ_DELTA_IMAGE(ROW_MAX-2,COL_MAX-4);
;;;3388   							sum_TB += HAL_READ_DELTA_IMAGE(ROW_MAX-1,COL_MAX-5);
;;;3389   							sum_TB += HAL_READ_DELTA_IMAGE(ROW_MAX-1,COL_MAX-4);
;;;3390   							sum_LR = HAL_READ_DELTA_IMAGE(ROW_MAX-5,COL_MAX-2);
;;;3391   							sum_LR += HAL_READ_DELTA_IMAGE(ROW_MAX-5,COL_MAX-1);
;;;3392   							sum_LR += HAL_READ_DELTA_IMAGE(ROW_MAX-4,COL_MAX-2);
;;;3393   							sum_LR += HAL_READ_DELTA_IMAGE(ROW_MAX-4,COL_MAX-1);
;;;3394   							
;;;3395   //							sum_Cr = 0;
;;;3396   //							Cr_size = 0;
;;;3397   //							sum_Cr = 0;
;;;3398   //							Cr_size = 0;
;;;3399   //							for(c = 1; c<=4; c++)
;;;3400   //							{
;;;3401   //								_d = HAL_READ_DELTA_IMAGE(ROW_MAX-1,COL_MAX-c);
;;;3402   //								sum_Cr += _d;
;;;3403   //								if(_d > 50+dbg_coord[26])Cr_size++;
;;;3404   //							}
;;;3405   //							for(r = 2; r<=4; r++)
;;;3406   //							{
;;;3407   //								_d = HAL_READ_DELTA_IMAGE(ROW_MAX-r,COL_MAX-1);
;;;3408   //								sum_Cr += _d;
;;;3409   //								if(_d > 50+dbg_coord[26])Cr_size++;
;;;3410   //							}
;;;3411   						}
;;;3412   					}
;;;3413   
;;;3414   					//if(sum_Cr > 500+dbg_coord[27] && Cr_size >= 5+dbg_coord[28])
;;;3415   					{
;;;3416   						if(abs(sum_TB - sum_LR) < 60 || ((temp_label->tValidRect[l].re - temp_label->tValidRect[l].rs <= 2) && (temp_label->tValidRect[l].ce - temp_label->tValidRect[l].cs <= 2)))  
;;;3417   						{
;;;3418   							if(apply_r == -1)
;;;3419   							{
;;;3420   								if(apply_c == -1)
;;;3421   								{
;;;3422   									TmpBigFingerEdgeExpandParam2_LR = thisModeConf->EdgeExpand.usBigFingerEdgeExpandParam2-(62);
;;;3423   									TmpBigFingerEdgeExpandParam2_TB = thisModeConf->EdgeExpand.usBigFingerEdgeExpandParam2-(62);
;;;3424   								}
;;;3425   								else
;;;3426   								{
;;;3427   									TmpBigFingerEdgeExpandParam2_LR = thisModeConf->EdgeExpand.usBigFingerEdgeExpandParam2-(62);
;;;3428   									TmpBigFingerEdgeExpandParam2_TB = thisModeConf->EdgeExpand.usBigFingerEdgeExpandParam2-(62);	
;;;3429   								}								
;;;3430   							}
;;;3431   							else
;;;3432   							{
;;;3433   								if(apply_c == -1)
;;;3434   								{
;;;3435   									TmpBigFingerEdgeExpandParam2_LR = thisModeConf->EdgeExpand.usBigFingerEdgeExpandParam2-(62);
;;;3436   									TmpBigFingerEdgeExpandParam2_TB = thisModeConf->EdgeExpand.usBigFingerEdgeExpandParam2-(62);
;;;3437   								}
;;;3438   								else
;;;3439   								{
;;;3440   									TmpBigFingerEdgeExpandParam2_LR = thisModeConf->EdgeExpand.usBigFingerEdgeExpandParam2-(62);
;;;3441   									TmpBigFingerEdgeExpandParam2_TB = thisModeConf->EdgeExpand.usBigFingerEdgeExpandParam2-(62);	
;;;3442   								}
;;;3443   							}
;;;3444   						}
;;;3445   						else
;;;3446   						{
;;;3447   							if(sum_LR > sum_TB)
;;;3448   							{
;;;3449   								TmpBigFingerEdgeExpandParam2_LR = thisModeConf->EdgeExpand.usBigFingerEdgeExpandParam2-(30);
;;;3450   								TmpBigFingerEdgeExpandParam2_TB = thisModeConf->EdgeExpand.usBigFingerEdgeExpandParam2-(10);
;;;3451   							}
;;;3452   							else 
;;;3453   							{
;;;3454   								TmpBigFingerEdgeExpandParam2_TB = thisModeConf->EdgeExpand.usBigFingerEdgeExpandParam2-(30);
;;;3455   								TmpBigFingerEdgeExpandParam2_LR = thisModeConf->EdgeExpand.usBigFingerEdgeExpandParam2-(10);
;;;3456   							}	
;;;3457   						}
;;;3458   					}
;;;3459   //					else
;;;3460   //					{
;;;3461   //						MaxSumTB = MaxSumLR = 0;
;;;3462   //					}
;;;3463   				}
;;;3464   			}
;;;3465   			
;;;3466   			if(MaxSumTB > 0)
;;;3467   			{
;;;3468   				_d =_d1 =_d2 = 0;
;;;3469   				_d = thisModeConf->EdgeExpand.usBigFingerEdgeExpandParam1-temp_label->tTable[l].sMaxCellVal;
;;;3470   				_d = _d*_d;
;;;3471   				_d1 = (temp_label->usValidCellCnt[l]*TmpExtStrength*(temp_label->tTable[l].tRect.ce-temp_label->tTable[l].tRect.cs))/TmpBigFingerEdgeExpandParam2_TB;				
;;;3472   				_d1 = _d1*_d1;
;;;3473   				if(_d1 > 0)
;;;3474   				{
;;;3475   					_d = _d/_d1;
;;;3476   					_d1 = MAX(0,(int)(thisModeConf->EdgeExpand.usBigFingerEdgeExpandParam3-TmpExtStrength));
;;;3477   					_d2 = MaxSumTB  - _d;// + _d1;
;;;3478   				}
;;;3479   					
;;;3480   				if(_d2<0)_d2=0;
;;;3481   				temp_label->tTable[l].tCoord.x	+= (float)temp_label->tTable[l].tCoord.x / TmpExtStrength * _d2;
;;;3482   				temp_label->tTable[l].tCoord.y	+= apply_r *_d2;
;;;3483   				temp_label->tTable[l].ulExtStrength += _d2;				
;;;3484   
;;;3485   #if BIG_FINGER_EDGE_ACC_TEST_ALGO_EN				
;;;3486   				TB_d2 = _d2;
;;;3487   				if(_d2>100)
;;;3488   				{
;;;3489   					if(bReportDelayFlag && _d2>300)
;;;3490   					{
;;;3491   						bReportDelayFlag = 0;
;;;3492   						ucReportDelayCnt = 0;
;;;3493   					}
;;;3494   					
;;;3495   					if(l == 0 && temp_label->ucNum == 1 && algorithm_coord_IsEdgeArea(&thisInfo->tCoord.tFirstPos.tXY[0],128))						
;;;3496   					{
;;;3497   						if(apply_r == -1)
;;;3498   						{
;;;3499   							if(thisModeConf->EdgeExpand.usBigFingerEdgeTestClippingTop && !bBigFingerEdgeTestEn[0])	
;;;3500   							{
;;;3501   								bBigFingerEdgeTestFlag[0] = 1;
;;;3502   								bBigFingerEdgeTestEn[0] = 1;
;;;3503   							}
;;;3504   						}
;;;3505   						else
;;;3506   						{
;;;3507   							if(thisModeConf->EdgeExpand.usBigFingerEdgeTestClippingBottom && !bBigFingerEdgeTestEn[1])
;;;3508   							{								
;;;3509   								bBigFingerEdgeTestFlag[1] = 1;
;;;3510   								bBigFingerEdgeTestEn[1] = 1;
;;;3511   							}
;;;3512   						}
;;;3513   						
;;;3514   						if(thisModeConf->EdgeExpand.usBigFingerEdgeTest_MoveEventTHD_Y)
;;;3515   							ucBigFingerEdgeTest_MoveEventTHD_Change = 1;
;;;3516   						
;;;3517   						if(ucBigFingerEdgeTest_MoveEventTHD_Change == 1 && _d2>120)
;;;3518   							ucBigFingerEdgeTest_MoveEventTHD_Change = 2;
;;;3519   					}
;;;3520   				}
;;;3521   #endif
;;;3522   			}
;;;3523   			
;;;3524   			if(MaxSumLR > 0)
;;;3525   			{	
;;;3526   				_d =_d1 =_d2 = 0;
;;;3527   				_d = thisModeConf->EdgeExpand.usBigFingerEdgeExpandParam1-temp_label->tTable[l].sMaxCellVal;
;;;3528   				_d = _d*_d;
;;;3529   				_d1 = (temp_label->usValidCellCnt[l]*TmpExtStrength*(temp_label->tTable[l].tRect.re-temp_label->tTable[l].tRect.rs))/TmpBigFingerEdgeExpandParam2_LR;				
;;;3530   				_d1  = _d1*_d1;	
;;;3531   				if(_d1 > 0)
;;;3532   				{					
;;;3533   					_d = _d/_d1;
;;;3534   					_d1 = MAX(0,(int)(thisModeConf->EdgeExpand.usBigFingerEdgeExpandParam3-TmpExtStrength));
00001e  6885              LDR      r5,[r0,#8]  ; thisModeConf
000020  48f9              LDR      r0,|L1.1032|
000022  900c              STR      r0,[sp,#0x30]         ;3360
000024  f5a05000          SUB      r0,r0,#0x2000         ;3360
000028  f8cd002c          STR.W    r0,[sp,#0x2c]         ;3305
                  |L1.44|
00002c  ebca00ca          RSB      r0,r10,r10,LSL #3     ;3225
000030  eb00104a          ADD      r0,r0,r10,LSL #5      ;3225
000034  eb000409          ADD      r4,r0,r9              ;3225
000038  6960              LDR      r0,[r4,#0x14]         ;3225
00003a  2800              CMP      r0,#0                 ;3225
00003c  f000824b          BEQ.W    |L1.1238|
000040  f8dfe3c8          LDR      lr,|L1.1036|
000044  f89e0000          LDRB     r0,[lr,#0]            ;3227  ; bContiFlag
000048  b138              CBZ      r0,|L1.90|
00004a  f994000b          LDRSB    r0,[r4,#0xb]          ;3227
00004e  2801              CMP      r0,#1                 ;3227
000050  bfc4              ITT      GT                    ;3227
000052  2000              MOVGT    r0,#0                 ;3227
000054  f88e0000          STRBGT   r0,[lr,#0]            ;3227
000058  dd06              BLE      |L1.104|
                  |L1.90|
00005a  f994000b          LDRSB    r0,[r4,#0xb]          ;3228
00005e  2801              CMP      r0,#1                 ;3228
000060  dd02              BLE      |L1.104|
000062  f89e0000          LDRB     r0,[lr,#0]            ;3228  ; bContiFlag
000066  b3d0              CBZ      r0,|L1.222|
                  |L1.104|
000068  48e6              LDR      r0,|L1.1028|
00006a  2100              MOVS     r1,#0                 ;3229
00006c  61c1              STR      r1,[r0,#0x1c]         ;3230  ; sum_r
00006e  f9941004          LDRSB    r1,[r4,#4]            ;3230
000072  f9942005          LDRSB    r2,[r4,#5]            ;3230
000076  1a52              SUBS     r2,r2,r1              ;3230
000078  1c53              ADDS     r3,r2,#1              ;3230
00007a  2b00              CMP      r3,#0                 ;3230
00007c  dd27              BLE      |L1.206|
00007e  4be4              LDR      r3,|L1.1040|
;;;3535   					_d2 = MaxSumLR  - _d;// + _d1;
;;;3536   				}
;;;3537   				
;;;3538   				if(_d2<0)_d2=0;					
;;;3539   				temp_label->tTable[l].tCoord.x	+= apply_c * _d2;
;;;3540   				temp_label->tTable[l].tCoord.y	+= (float)temp_label->tTable[l].tCoord.y / TmpExtStrength *_d2;
;;;3541   				temp_label->tTable[l].ulExtStrength += _d2;
;;;3542   
;;;3543   #if BIG_FINGER_EDGE_ACC_TEST_ALGO_EN					
;;;3544   				LR_d2 = _d2;
;;;3545   				if(_d2>100)
;;;3546   				{
;;;3547   					if(bReportDelayFlag && _d2>300)
;;;3548   					{
;;;3549   						bReportDelayFlag = 0;
;;;3550   						ucReportDelayCnt = 0;
;;;3551   					}
;;;3552   					
;;;3553   					if(l == 0 && temp_label->ucNum == 1 && algorithm_coord_IsEdgeArea(&thisInfo->tCoord.tFirstPos.tXY[0],128))
;;;3554   					{							
;;;3555   						if(apply_c == -1)
;;;3556   						{
;;;3557   							if(thisModeConf->EdgeExpand.usBigFingerEdgeTestClippingLeft && !bBigFingerEdgeTestEn[2])	
;;;3558   							{
;;;3559   								bBigFingerEdgeTestFlag[2] = 1;
;;;3560   								bBigFingerEdgeTestEn[2] = 1;
;;;3561   							}
;;;3562   						}
;;;3563   						else
;;;3564   						{
;;;3565   							if(thisModeConf->EdgeExpand.usBigFingerEdgeTestClippingRight && !bBigFingerEdgeTestEn[3])
;;;3566   							{								
;;;3567   								bBigFingerEdgeTestFlag[3] = 1;
;;;3568   								bBigFingerEdgeTestEn[3] = 1;
;;;3569   							}
;;;3570   						}
;;;3571   						
;;;3572   						if(thisModeConf->EdgeExpand.usBigFingerEdgeTest_MoveEventTHD_X)
;;;3573   							ucBigFingerEdgeTest_MoveEventTHD_Change = 1;
;;;3574   						
;;;3575   						if(ucBigFingerEdgeTest_MoveEventTHD_Change == 1 && _d2>120)
;;;3576   							ucBigFingerEdgeTest_MoveEventTHD_Change = 2;											
;;;3577   					}
;;;3578   				}
;;;3579   #endif
;;;3580   			}
;;;3581   			
;;;3582   #if BIG_FINGER_EDGE_ACC_TEST_ALGO_EN			
;;;3583   			if(ucBigFingerEdgeTest_MoveEventTHD_Change==2 && LR_d2<100 && TB_d2<100)
;;;3584   				ucBigFingerEdgeTest_MoveEventTHD_Change = 3;
;;;3585   #endif
;;;3586   		}	
;;;3587   	}
;;;3588   	
;;;3589   	if(temp_label->ucValidNum == 0)
;;;3590   	{
;;;3591   		bContiFlag[0] = bContiFlag[1] = bContiFlag[2] = bContiFlag[3] = 0;
;;;3592   	}
;;;3593   }
000080  f0120f01          TST      r2,#1
000084  eb030141          ADD      r1,r3,r1,LSL #1       ;3230
000088  f64f03b6          MOV      r3,#0xf8b6            ;3230
00008c  4419              ADD      r1,r1,r3              ;3230
00008e  d102              BNE      |L1.150|
000090  f9312f02          LDRSH    r2,[r1,#2]!           ;3231
000094  61c2              STR      r2,[r0,#0x1c]         ;3231  ; sum_r
                  |L1.150|
000096  f994c005          LDRSB    r12,[r4,#5]           ;3230
00009a  f9942004          LDRSB    r2,[r4,#4]            ;3230
00009e  2300              MOVS     r3,#0
0000a0  ebac0202          SUB      r2,r12,r2             ;3230
0000a4  1c52              ADDS     r2,r2,#1              ;3230
0000a6  1052              ASRS     r2,r2,#1              ;3230
0000a8  d00c              BEQ      |L1.196|
0000aa  bf00              NOP                            ;3231
                  |L1.172|
0000ac  f9b1c002          LDRSH    r12,[r1,#2]           ;3231
0000b0  f8d0b01c          LDR      r11,[r0,#0x1c]        ;3231  ; sum_r
0000b4  1e52              SUBS     r2,r2,#1              ;3231
0000b6  44dc              ADD      r12,r12,r11           ;3231
0000b8  f8c0c01c          STR      r12,[r0,#0x1c]        ;3231  ; sum_r
0000bc  f931cf04          LDRSH    r12,[r1,#4]!          ;3231
0000c0  4463              ADD      r3,r3,r12             ;3231
0000c2  d1f3              BNE      |L1.172|
                  |L1.196|
0000c4  69c1              LDR      r1,[r0,#0x1c]  ; sum_r
0000c6  4419              ADD      r1,r1,r3
0000c8  61c1              STR      r1,[r0,#0x1c]         ;3233  ; sum_r
0000ca  2964              CMP      r1,#0x64              ;3233
0000cc  da07              BGE      |L1.222|
                  |L1.206|
0000ce  f04f30ff          MOV      r0,#0xffffffff        ;3235
0000d2  9007              STR      r0,[sp,#0x1c]         ;3236
0000d4  f8b57116          LDRH     r7,[r5,#0x116]        ;3236
0000d8  2001              MOVS     r0,#1                 ;3237
0000da  f88e0000          STRB     r0,[lr,#0]            ;3237
                  |L1.222|
0000de  f994000b          LDRSB    r0,[r4,#0xb]          ;3241
0000e2  282e              CMP      r0,#0x2e              ;3241
0000e4  da0a              BGE      |L1.252|
0000e6  f89e0001          LDRB     r0,[lr,#1]            ;3241  ; bContiFlag
0000ea  b3e8              CBZ      r0,|L1.360|
0000ec  2000              MOVS     r0,#0                 ;3241
0000ee  f88e0001          STRB     r0,[lr,#1]            ;3241
0000f2  f994100b          LDRSB    r1,[r4,#0xb]          ;3242
0000f6  292e              CMP      r1,#0x2e              ;3242
0000f8  da00              BGE      |L1.252|
0000fa  b3a8              CBZ      r0,|L1.360|
                  |L1.252|
0000fc  48c1              LDR      r0,|L1.1028|
0000fe  2100              MOVS     r1,#0                 ;3243
000100  61c1              STR      r1,[r0,#0x1c]         ;3244  ; sum_r
000102  f9941004          LDRSB    r1,[r4,#4]            ;3244
000106  f9942005          LDRSB    r2,[r4,#5]            ;3244
00010a  1a52              SUBS     r2,r2,r1              ;3244
00010c  1c53              ADDS     r3,r2,#1              ;3244
00010e  2b00              CMP      r3,#0                 ;3244
000110  dd27              BLE      |L1.354|
000112  4bbf              LDR      r3,|L1.1040|
000114  f0120f01          TST      r2,#1
000118  eb030141          ADD      r1,r3,r1,LSL #1       ;3244
00011c  f5013189          ADD      r1,r1,#0x11200        ;3244
000120  f50171cf          ADD      r1,r1,#0x19e          ;3244
000124  d102              BNE      |L1.300|
000126  f9312f02          LDRSH    r2,[r1,#2]!           ;3245
00012a  61c2              STR      r2,[r0,#0x1c]         ;3245  ; sum_r
                  |L1.300|
00012c  f994c005          LDRSB    r12,[r4,#5]           ;3244
000130  f9942004          LDRSB    r2,[r4,#4]            ;3244
000134  2300              MOVS     r3,#0
000136  ebac0202          SUB      r2,r12,r2             ;3244
00013a  1c52              ADDS     r2,r2,#1              ;3244
00013c  1052              ASRS     r2,r2,#1              ;3244
00013e  d00b              BEQ      |L1.344|
                  |L1.320|
000140  f9b1c002          LDRSH    r12,[r1,#2]           ;3245
000144  f8d0b01c          LDR      r11,[r0,#0x1c]        ;3245  ; sum_r
000148  1e52              SUBS     r2,r2,#1              ;3245
00014a  44dc              ADD      r12,r12,r11           ;3245
00014c  f8c0c01c          STR      r12,[r0,#0x1c]        ;3245  ; sum_r
000150  f931cf04          LDRSH    r12,[r1,#4]!          ;3245
000154  4463              ADD      r3,r3,r12             ;3245
000156  d1f3              BNE      |L1.320|
                  |L1.344|
000158  69c1              LDR      r1,[r0,#0x1c]  ; sum_r
00015a  4419              ADD      r1,r1,r3
00015c  61c1              STR      r1,[r0,#0x1c]         ;3247  ; sum_r
00015e  2964              CMP      r1,#0x64              ;3247
000160  da08              BGE      |L1.372|
                  |L1.354|
000162  2030              MOVS     r0,#0x30              ;3249
000164  9007              STR      r0,[sp,#0x1c]         ;3250
000166  e000              B        |L1.362|
                  |L1.360|
000168  e004              B        |L1.372|
                  |L1.362|
00016a  f8b57118          LDRH     r7,[r5,#0x118]        ;3250
00016e  2001              MOVS     r0,#1                 ;3251
000170  f88e0001          STRB     r0,[lr,#1]            ;3251
                  |L1.372|
000174  f994000a          LDRSB    r0,[r4,#0xa]          ;3255
000178  2801              CMP      r0,#1                 ;3255
00017a  dd0a              BLE      |L1.402|
00017c  f89e0002          LDRB     r0,[lr,#2]            ;3255  ; bContiFlag
000180  b3f0              CBZ      r0,|L1.512|
000182  2000              MOVS     r0,#0                 ;3255
000184  f88e0002          STRB     r0,[lr,#2]            ;3255
000188  f994100a          LDRSB    r1,[r4,#0xa]          ;3256
00018c  2901              CMP      r1,#1                 ;3256
00018e  dd00              BLE      |L1.402|
000190  b3b0              CBZ      r0,|L1.512|
                  |L1.402|
000192  499c              LDR      r1,|L1.1028|
000194  2000              MOVS     r0,#0                 ;3257
000196  6208              STR      r0,[r1,#0x20]         ;3258  ; sum_c
000198  f9940002          LDRSB    r0,[r4,#2]            ;3258
00019c  f9941003          LDRSB    r1,[r4,#3]            ;3258
0001a0  1a09              SUBS     r1,r1,r0              ;3258
0001a2  1c4a              ADDS     r2,r1,#1              ;3258
0001a4  2a00              CMP      r2,#0                 ;3258
0001a6  dd2f              BLE      |L1.520|
0001a8  ebc000c0          RSB      r0,r0,r0,LSL #3       ;3258
0001ac  eb000240          ADD      r2,r0,r0,LSL #1       ;3258
0001b0  4897              LDR      r0,|L1.1040|
0001b2  f0110f01          TST      r1,#1
0001b6  eb0002c2          ADD      r2,r0,r2,LSL #3       ;3258
0001ba  f24f601e          MOV      r0,#0xf61e            ;3258
0001be  4410              ADD      r0,r0,r2              ;3258
0001c0  d103              BNE      |L1.458|
0001c2  4990              LDR      r1,|L1.1028|
0001c4  f9302fa8          LDRSH    r2,[r0,#0xa8]!        ;3259
0001c8  620a              STR      r2,[r1,#0x20]         ;3259  ; sum_c
                  |L1.458|
0001ca  f9941003          LDRSB    r1,[r4,#3]            ;3258
0001ce  f9943002          LDRSB    r3,[r4,#2]            ;3258
0001d2  2200              MOVS     r2,#0
0001d4  1ac9              SUBS     r1,r1,r3              ;3258
0001d6  1c49              ADDS     r1,r1,#1              ;3258
0001d8  1049              ASRS     r1,r1,#1              ;3258
0001da  bf18              IT       NE                    ;3218
0001dc  4b89              LDRNE    r3,|L1.1028|
0001de  d00b              BEQ      |L1.504|
                  |L1.480|
0001e0  f930cfa8          LDRSH    r12,[r0,#0xa8]!       ;3259
0001e4  f8d3b020          LDR      r11,[r3,#0x20]        ;3259  ; sum_c
0001e8  1e49              SUBS     r1,r1,#1              ;3259
0001ea  44dc              ADD      r12,r12,r11           ;3259
0001ec  f8c3c020          STR      r12,[r3,#0x20]        ;3259  ; sum_c
0001f0  f930cfa8          LDRSH    r12,[r0,#0xa8]!       ;3259
0001f4  4462              ADD      r2,r2,r12             ;3259
0001f6  d1f3              BNE      |L1.480|
                  |L1.504|
0001f8  4882              LDR      r0,|L1.1028|
0001fa  6a01              LDR      r1,[r0,#0x20]  ; sum_c
0001fc  4411              ADD      r1,r1,r2
0001fe  e000              B        |L1.514|
                  |L1.512|
000200  e009              B        |L1.534|
                  |L1.514|
000202  6201              STR      r1,[r0,#0x20]         ;3261  ; sum_c
000204  2964              CMP      r1,#0x64              ;3261
000206  da06              BGE      |L1.534|
                  |L1.520|
000208  f8b56112          LDRH     r6,[r5,#0x112]        ;3264
00020c  2001              MOVS     r0,#1                 ;3265
00020e  f04f38ff          MOV      r8,#0xffffffff        ;3263
000212  f88e0002          STRB     r0,[lr,#2]            ;3265
                  |L1.534|
000216  f994000a          LDRSB    r0,[r4,#0xa]          ;3269
00021a  2852              CMP      r0,#0x52              ;3269
00021c  da0a              BGE      |L1.564|
00021e  f89e0003          LDRB     r0,[lr,#3]            ;3269  ; bContiFlag
000222  b3e8              CBZ      r0,|L1.672|
000224  2000              MOVS     r0,#0                 ;3269
000226  f88e0003          STRB     r0,[lr,#3]            ;3269
00022a  f994100a          LDRSB    r1,[r4,#0xa]          ;3270
00022e  2952              CMP      r1,#0x52              ;3270
000230  da00              BGE      |L1.564|
000232  b3a8              CBZ      r0,|L1.672|
                  |L1.564|
000234  4973              LDR      r1,|L1.1028|
000236  2000              MOVS     r0,#0                 ;3271
000238  6208              STR      r0,[r1,#0x20]         ;3272  ; sum_c
00023a  f9940002          LDRSB    r0,[r4,#2]            ;3272
00023e  f9941003          LDRSB    r1,[r4,#3]            ;3272
000242  1a09              SUBS     r1,r1,r0              ;3272
000244  1c4a              ADDS     r2,r1,#1              ;3272
000246  2a00              CMP      r2,#0                 ;3272
000248  dd30              BLE      |L1.684|
00024a  ebc000c0          RSB      r0,r0,r0,LSL #3       ;3272
00024e  eb000240          ADD      r2,r0,r0,LSL #1       ;3272
000252  486f              LDR      r0,|L1.1040|
000254  f0110f01          TST      r1,#1
000258  eb0002c2          ADD      r2,r0,r2,LSL #3       ;3272
00025c  f24f60b8          MOV      r0,#0xf6b8            ;3272
000260  4410              ADD      r0,r0,r2              ;3272
000262  d103              BNE      |L1.620|
000264  4967              LDR      r1,|L1.1028|
000266  f9302fa8          LDRSH    r2,[r0,#0xa8]!        ;3273
00026a  620a              STR      r2,[r1,#0x20]         ;3273  ; sum_c
                  |L1.620|
00026c  f9941003          LDRSB    r1,[r4,#3]            ;3272
000270  f9943002          LDRSB    r3,[r4,#2]            ;3272
000274  2200              MOVS     r2,#0
000276  1ac9              SUBS     r1,r1,r3              ;3272
000278  1c49              ADDS     r1,r1,#1              ;3272
00027a  1049              ASRS     r1,r1,#1              ;3272
00027c  bf18              IT       NE                    ;3218
00027e  4b61              LDRNE    r3,|L1.1028|
000280  d00c              BEQ      |L1.668|
000282  bf00              NOP                            ;3273
                  |L1.644|
000284  f930cfa8          LDRSH    r12,[r0,#0xa8]!       ;3273
000288  f8d3b020          LDR      r11,[r3,#0x20]        ;3273  ; sum_c
00028c  1e49              SUBS     r1,r1,#1              ;3273
00028e  44dc              ADD      r12,r12,r11           ;3273
000290  f8c3c020          STR      r12,[r3,#0x20]        ;3273  ; sum_c
000294  f930cfa8          LDRSH    r12,[r0,#0xa8]!       ;3273
000298  4462              ADD      r2,r2,r12             ;3273
00029a  d1f3              BNE      |L1.644|
                  |L1.668|
00029c  4859              LDR      r0,|L1.1028|
00029e  e000              B        |L1.674|
                  |L1.672|
0002a0  e00b              B        |L1.698|
                  |L1.674|
0002a2  6a01              LDR      r1,[r0,#0x20]  ; sum_c
0002a4  4411              ADD      r1,r1,r2
0002a6  6201              STR      r1,[r0,#0x20]         ;3275  ; sum_c
0002a8  2964              CMP      r1,#0x64              ;3275
0002aa  da06              BGE      |L1.698|
                  |L1.684|
0002ac  f8b56114          LDRH     r6,[r5,#0x114]        ;3278
0002b0  2001              MOVS     r0,#1                 ;3279
0002b2  f04f0854          MOV      r8,#0x54              ;3277
0002b6  f88e0003          STRB     r0,[lr,#3]            ;3279
                  |L1.698|
0002ba  b187              CBZ      r7,|L1.734|
0002bc  bb06              CBNZ     r6,|L1.768|
0002be  f994000a          LDRSB    r0,[r4,#0xa]          ;3285
0002c2  2802              CMP      r0,#2                 ;3285
0002c4  bfdc              ITT      LE                    ;3285
0002c6  f8b56112          LDRHLE   r6,[r5,#0x112]        ;3285
0002ca  f04f38ff          MOVLE    r8,#0xffffffff        ;3285
0002ce  dd17              BLE      |L1.768|
0002d0  2851              CMP      r0,#0x51              ;3286
0002d2  bfa4              ITT      GE                    ;3286
0002d4  f8b56114          LDRHGE   r6,[r5,#0x114]        ;3286
0002d8  f04f0854          MOVGE    r8,#0x54              ;3286
0002dc  e010              B        |L1.768|
                  |L1.734|
0002de  b17e              CBZ      r6,|L1.768|
0002e0  f994000b          LDRSB    r0,[r4,#0xb]          ;3290
0002e4  2802              CMP      r0,#2                 ;3290
0002e6  bfdc              ITT      LE                    ;3290
0002e8  f8b57116          LDRHLE   r7,[r5,#0x116]        ;3290
0002ec  f04f30ff          MOVLE    r0,#0xffffffff        ;3290
0002f0  dd05              BLE      |L1.766|
0002f2  282d              CMP      r0,#0x2d              ;3291
0002f4  bfa4              ITT      GE                    ;3291
0002f6  f8b57118          LDRHGE   r7,[r5,#0x118]        ;3291
0002fa  2030              MOVGE    r0,#0x30              ;3291
0002fc  db00              BLT      |L1.768|
                  |L1.766|
0002fe  9007              STR      r0,[sp,#0x1c]         ;3291
                  |L1.768|
000300  ea570006          ORRS     r0,r7,r6              ;3294
000304  d055              BEQ      |L1.946|
000306  69a0              LDR      r0,[r4,#0x18]         ;3296
000308  9010              STR      r0,[sp,#0x40]         ;3297
00030a  f8b5011c          LDRH     r0,[r5,#0x11c]        ;3297
00030e  9006              STR      r0,[sp,#0x18]         ;3298
000310  9011              STR      r0,[sp,#0x44]         ;3299
000312  2f00              CMP      r7,#0                 ;3299
000314  d075              BEQ      |L1.1026|
000316  b3e6              CBZ      r6,|L1.914|
000318  9907              LDR      r1,[sp,#0x1c]         ;3301
00031a  f1b13fff          CMP      r1,#0xffffffff        ;3301
00031e  f1080101          ADD      r1,r8,#1              ;3358
000322  d077              BEQ      |L1.1044|
000324  2900              CMP      r1,#0                 ;3358
000326  990c              LDR      r1,[sp,#0x30]         ;3358
000328  f0008132          BEQ.W    |L1.1424|
00032c  9b0c              LDR      r3,[sp,#0x30]         ;3387
00032e  f9b1158e          LDRSH    r1,[r1,#0x58e]        ;3386  ; FullSharedBuff
000332  4a34              LDR      r2,|L1.1028|
000334  f9b33590          LDRSH    r3,[r3,#0x590]        ;3387  ; FullSharedBuff
000338  4419              ADD      r1,r1,r3              ;3387
00033a  9b0c              LDR      r3,[sp,#0x30]         ;3388
00033c  f9b33636          LDRSH    r3,[r3,#0x636]        ;3388  ; FullSharedBuff
000340  4419              ADD      r1,r1,r3              ;3388
000342  9b0c              LDR      r3,[sp,#0x30]         ;3389
000344  f9b33638          LDRSH    r3,[r3,#0x638]        ;3389  ; FullSharedBuff
000348  4419              ADD      r1,r1,r3              ;3389
00034a  6251              STR      r1,[r2,#0x24]         ;3389  ; sum_TB
00034c  990c              LDR      r1,[sp,#0x30]         ;3390
00034e  9b0c              LDR      r3,[sp,#0x30]         ;3391
000350  f9b1139c          LDRSH    r1,[r1,#0x39c]        ;3390  ; FullSharedBuff
000354  f9b3339e          LDRSH    r3,[r3,#0x39e]        ;3391  ; FullSharedBuff
000358  4419              ADD      r1,r1,r3              ;3391
00035a  9b0c              LDR      r3,[sp,#0x30]         ;3392
00035c  f9b33444          LDRSH    r3,[r3,#0x444]        ;3392  ; FullSharedBuff
000360  4419              ADD      r1,r1,r3              ;3392
000362  9b0c              LDR      r3,[sp,#0x30]         ;3393
000364  f9b33446          LDRSH    r3,[r3,#0x446]        ;3393  ; FullSharedBuff
000368  4419              ADD      r1,r1,r3              ;3393
00036a  6291              STR      r1,[r2,#0x28]         ;3393  ; sum_LR
                  |L1.876|
00036c  4925              LDR      r1,|L1.1028|
00036e  e9d13209          LDRD     r3,r2,[r1,#0x24]      ;3416
000372  1a99              SUBS     r1,r3,r2              ;3416
000374  bf48              IT       MI                    ;3416
000376  4249              RSBMI    r1,r1,#0              ;3416
000378  293c              CMP      r1,#0x3c              ;3416
00037a  db15              BLT      |L1.936|
00037c  eb09018a          ADD      r1,r9,r10,LSL #2      ;3416
000380  f991c273          LDRSB    r12,[r1,#0x273]       ;3416
000384  f991b272          LDRSB    r11,[r1,#0x272]       ;3416
000388  ebac0c0b          SUB      r12,r12,r11           ;3416
00038c  f1bc0f02          CMP      r12,#2                ;3416
000390  e000              B        |L1.916|
                  |L1.914|
000392  e00e              B        |L1.946|
                  |L1.916|
000394  f300811d          BGT.W    |L1.1490|
000398  f991c275          LDRSB    r12,[r1,#0x275]       ;3416
00039c  f9911274          LDRSB    r1,[r1,#0x274]        ;3416
0003a0  ebac0101          SUB      r1,r12,r1             ;3416
0003a4  2902              CMP      r1,#2                 ;3416
0003a6  dc7d              BGT      |L1.1188|
                  |L1.936|
0003a8  383e              SUBS     r0,r0,#0x3e           ;3416
0003aa  b281              UXTH     r1,r0                 ;3422
0003ac  b280              UXTH     r0,r0                 ;3423
0003ae  9111              STR      r1,[sp,#0x44]         ;3423
0003b0  9006              STR      r0,[sp,#0x18]         ;3423
                  |L1.946|
0003b2  2f00              CMP      r7,#0                 ;3466
0003b4  dd4b              BLE      |L1.1102|
0003b6  f8b5011a          LDRH     r0,[r5,#0x11a]        ;3469
0003ba  f9b41008          LDRSH    r1,[r4,#8]            ;3469
0003be  f9942005          LDRSB    r2,[r4,#5]            ;3471
0003c2  1a40              SUBS     r0,r0,r1              ;3469
0003c4  fb00f100          MUL      r1,r0,r0              ;3470
0003c8  f9940004          LDRSB    r0,[r4,#4]            ;3471
0003cc  f04f0b00          MOV      r11,#0                ;3468
0003d0  1a10              SUBS     r0,r2,r0              ;3471
0003d2  9a10              LDR      r2,[sp,#0x40]         ;3471
0003d4  4350              MULS     r0,r2,r0              ;3471
0003d6  eb09024a          ADD      r2,r9,r10,LSL #1      ;3471
0003da  f8b222f2          LDRH     r2,[r2,#0x2f2]        ;3471
0003de  4342              MULS     r2,r0,r2              ;3471
0003e0  9806              LDR      r0,[sp,#0x18]         ;3471
0003e2  fbb2f0f0          UDIV     r0,r2,r0              ;3471
0003e6  4340              MULS     r0,r0,r0              ;3472
0003e8  2800              CMP      r0,#0                 ;3473
0003ea  dd04              BLE      |L1.1014|
0003ec  fb91f0f0          SDIV     r0,r1,r0              ;3475
0003f0  ebb70b00          SUBS     r11,r7,r0             ;3477
0003f4  d47e              BMI      |L1.1268|
                  |L1.1014|
0003f6  4658              MOV      r0,r11                ;3481
0003f8  f7fffffe          BL       __aeabi_i2f
0003fc  900d              STR      r0,[sp,#0x34]         ;3481
0003fe  9810              LDR      r0,[sp,#0x40]         ;3481
000400  e009              B        |L1.1046|
                  |L1.1026|
000402  e024              B        |L1.1102|
                  |L1.1028|
                          DCD      ||.data||
                  |L1.1032|
                          DCD      FullSharedBuff+0x11000
                  |L1.1036|
                          DCD      ||.data||+0x14
                  |L1.1040|
                          DCD      FullSharedBuff
                  |L1.1044|
000414  e076              B        |L1.1284|
                  |L1.1046|
000416  f7fffffe          BL       __aeabi_ui2f
00041a  9009              STR      r0,[sp,#0x24]         ;3481
00041c  68e0              LDR      r0,[r4,#0xc]          ;3481
00041e  f7fffffe          BL       __aeabi_i2f
000422  9012              STR      r0,[sp,#0x48]         ;3481
000424  9909              LDR      r1,[sp,#0x24]         ;3481
000426  f7fffffe          BL       __aeabi_fdiv
00042a  990d              LDR      r1,[sp,#0x34]         ;3481
00042c  f7fffffe          BL       __aeabi_fmul
000430  4601              MOV      r1,r0                 ;3481
000432  9812              LDR      r0,[sp,#0x48]         ;3481
000434  f7fffffe          BL       __aeabi_fadd
000438  f7fffffe          BL       __aeabi_f2iz
00043c  60e0              STR      r0,[r4,#0xc]          ;3481
00043e  6921              LDR      r1,[r4,#0x10]         ;3482
000440  9807              LDR      r0,[sp,#0x1c]         ;3482
000442  fb00100b          MLA      r0,r0,r11,r1          ;3482
000446  6120              STR      r0,[r4,#0x10]         ;3482
000448  69a0              LDR      r0,[r4,#0x18]         ;3483
00044a  4458              ADD      r0,r0,r11             ;3483
00044c  61a0              STR      r0,[r4,#0x18]         ;3483
                  |L1.1102|
00044e  2e00              CMP      r6,#0                 ;3524
000450  dd41              BLE      |L1.1238|
000452  f8b5111a          LDRH     r1,[r5,#0x11a]        ;3527
000456  f9b40008          LDRSH    r0,[r4,#8]            ;3527
00045a  f9942002          LDRSB    r2,[r4,#2]            ;3529
00045e  1a08              SUBS     r0,r1,r0              ;3527
000460  fb00f100          MUL      r1,r0,r0              ;3528
000464  f9940003          LDRSB    r0,[r4,#3]            ;3529
000468  f04f0b00          MOV      r11,#0                ;3526
00046c  1a82              SUBS     r2,r0,r2              ;3529
00046e  9810              LDR      r0,[sp,#0x40]         ;3529
000470  4350              MULS     r0,r2,r0              ;3529
000472  eb09024a          ADD      r2,r9,r10,LSL #1      ;3529
000476  f8b222f2          LDRH     r2,[r2,#0x2f2]        ;3529
00047a  4342              MULS     r2,r0,r2              ;3529
00047c  9811              LDR      r0,[sp,#0x44]         ;3529
00047e  fbb2f0f0          UDIV     r0,r2,r0              ;3529
000482  4340              MULS     r0,r0,r0              ;3530
000484  2800              CMP      r0,#0                 ;3531
000486  dd04              BLE      |L1.1170|
000488  fb91f0f0          SDIV     r0,r1,r0              ;3533
00048c  ebb60b00          SUBS     r11,r6,r0             ;3535
000490  d47d              BMI      |L1.1422|
                  |L1.1170|
000492  68e0              LDR      r0,[r4,#0xc]          ;3539
000494  fb08000b          MLA      r0,r8,r11,r0          ;3539
000498  60e0              STR      r0,[r4,#0xc]          ;3539
00049a  4658              MOV      r0,r11                ;3540
00049c  f7fffffe          BL       __aeabi_i2f
0004a0  9000              STR      r0,[sp,#0]            ;3540
0004a2  e000              B        |L1.1190|
                  |L1.1188|
0004a4  e095              B        |L1.1490|
                  |L1.1190|
0004a6  9810              LDR      r0,[sp,#0x40]         ;3540
0004a8  f7fffffe          BL       __aeabi_ui2f
0004ac  900d              STR      r0,[sp,#0x34]         ;3540
0004ae  6920              LDR      r0,[r4,#0x10]         ;3540
0004b0  f7fffffe          BL       __aeabi_i2f
0004b4  9012              STR      r0,[sp,#0x48]         ;3540
0004b6  990d              LDR      r1,[sp,#0x34]         ;3540
0004b8  f7fffffe          BL       __aeabi_fdiv
0004bc  9900              LDR      r1,[sp,#0]            ;3540
0004be  f7fffffe          BL       __aeabi_fmul
0004c2  4601              MOV      r1,r0                 ;3540
0004c4  9812              LDR      r0,[sp,#0x48]         ;3540
0004c6  f7fffffe          BL       __aeabi_fadd
0004ca  f7fffffe          BL       __aeabi_f2iz
0004ce  6120              STR      r0,[r4,#0x10]         ;3540
0004d0  69a0              LDR      r0,[r4,#0x18]         ;3541
0004d2  4458              ADD      r0,r0,r11             ;3541
0004d4  61a0              STR      r0,[r4,#0x18]         ;3541
                  |L1.1238|
0004d6  f1ba0a01          SUBS     r10,r10,#1            ;3541
0004da  f4bfada7          BCS      |L1.44|
0004de  bf00              NOP                            ;3589
                  |L1.1248|
0004e0  f8990271          LDRB     r0,[r9,#0x271]        ;3589
0004e4  2800              CMP      r0,#0                 ;3589
0004e6  bf1c              ITT      NE
0004e8  b013              ADDNE    sp,sp,#0x4c
0004ea  e8bd8ff0          POPNE    {r4-r11,pc}
0004ee  2000              MOVS     r0,#0                 ;3591
0004f0  4942              LDR      r1,|L1.1532|
0004f2  e000              B        |L1.1270|
                  |L1.1268|
0004f4  e07b              B        |L1.1518|
                  |L1.1270|
0004f6  70c8              STRB     r0,[r1,#3]            ;3591
0004f8  7088              STRB     r0,[r1,#2]            ;3591
0004fa  7048              STRB     r0,[r1,#1]            ;3591
0004fc  7008              STRB     r0,[r1,#0]            ;3591
0004fe  b013              ADD      sp,sp,#0x4c
000500  e8bd8ff0          POP      {r4-r11,pc}
                  |L1.1284|
000504  2900              CMP      r1,#0                 ;3303
000506  990b              LDR      r1,[sp,#0x2c]         ;3303
000508  d020              BEQ      |L1.1356|
00050a  9b0b              LDR      r3,[sp,#0x2c]         ;3332
00050c  f9b1275e          LDRSH    r2,[r1,#0x75e]        ;3331  ; FullSharedBuff
000510  493b              LDR      r1,|L1.1536|
000512  f9b33760          LDRSH    r3,[r3,#0x760]        ;3332  ; FullSharedBuff
000516  441a              ADD      r2,r2,r3              ;3332
000518  9b0b              LDR      r3,[sp,#0x2c]         ;3333
00051a  f9b33806          LDRSH    r3,[r3,#0x806]        ;3333  ; FullSharedBuff
00051e  441a              ADD      r2,r2,r3              ;3333
000520  9b0b              LDR      r3,[sp,#0x2c]         ;3334
000522  f9b33808          LDRSH    r3,[r3,#0x808]        ;3334  ; FullSharedBuff
000526  441a              ADD      r2,r2,r3              ;3334
000528  624a              STR      r2,[r1,#0x24]         ;3334  ; sum_TB
00052a  9a0b              LDR      r2,[sp,#0x2c]         ;3335
00052c  9b0b              LDR      r3,[sp,#0x2c]         ;3336
00052e  f9b2295c          LDRSH    r2,[r2,#0x95c]        ;3335  ; FullSharedBuff
000532  f9b3395e          LDRSH    r3,[r3,#0x95e]        ;3336  ; FullSharedBuff
000536  441a              ADD      r2,r2,r3              ;3336
000538  9b0b              LDR      r3,[sp,#0x2c]         ;3337
00053a  f9b33a04          LDRSH    r3,[r3,#0xa04]        ;3337  ; FullSharedBuff
00053e  441a              ADD      r2,r2,r3              ;3337
000540  9b0b              LDR      r3,[sp,#0x2c]         ;3338
000542  f9b33a06          LDRSH    r3,[r3,#0xa06]        ;3338  ; FullSharedBuff
000546  441a              ADD      r2,r2,r3              ;3338
000548  628a              STR      r2,[r1,#0x28]         ;3338  ; sum_LR
00054a  e70f              B        |L1.876|
                  |L1.1356|
00054c  9b0b              LDR      r3,[sp,#0x2c]         ;3306
00054e  f9b116c6          LDRSH    r1,[r1,#0x6c6]        ;3305  ; FullSharedBuff
000552  4a2b              LDR      r2,|L1.1536|
000554  f9b336c8          LDRSH    r3,[r3,#0x6c8]        ;3306  ; FullSharedBuff
000558  4419              ADD      r1,r1,r3              ;3306
00055a  9b0b              LDR      r3,[sp,#0x2c]         ;3307
00055c  f9b3376e          LDRSH    r3,[r3,#0x76e]        ;3307  ; FullSharedBuff
000560  4419              ADD      r1,r1,r3              ;3307
000562  9b0b              LDR      r3,[sp,#0x2c]         ;3308
000564  f9b33770          LDRSH    r3,[r3,#0x770]        ;3308  ; FullSharedBuff
000568  4419              ADD      r1,r1,r3              ;3308
00056a  6251              STR      r1,[r2,#0x24]         ;3308  ; sum_TB
00056c  990b              LDR      r1,[sp,#0x2c]         ;3309
00056e  9b0b              LDR      r3,[sp,#0x2c]         ;3310
000570  f9b118b8          LDRSH    r1,[r1,#0x8b8]        ;3309  ; FullSharedBuff
000574  f9b338ba          LDRSH    r3,[r3,#0x8ba]        ;3310  ; FullSharedBuff
000578  440b              ADD      r3,r3,r1              ;3310
00057a  990b              LDR      r1,[sp,#0x2c]         ;3311
00057c  f9b11960          LDRSH    r1,[r1,#0x960]        ;3311  ; FullSharedBuff
000580  4419              ADD      r1,r1,r3              ;3311
000582  9b0b              LDR      r3,[sp,#0x2c]         ;3312
000584  f9b33962          LDRSH    r3,[r3,#0x962]        ;3312  ; FullSharedBuff
000588  4419              ADD      r1,r1,r3              ;3312
00058a  6291              STR      r1,[r2,#0x28]         ;3312  ; sum_LR
00058c  e6ee              B        |L1.876|
                  |L1.1422|
00058e  e031              B        |L1.1524|
                  |L1.1424|
000590  9b0c              LDR      r3,[sp,#0x30]         ;3361
000592  f9b124f6          LDRSH    r2,[r1,#0x4f6]        ;3360  ; FullSharedBuff
000596  491a              LDR      r1,|L1.1536|
000598  f9b334f8          LDRSH    r3,[r3,#0x4f8]        ;3361  ; FullSharedBuff
00059c  441a              ADD      r2,r2,r3              ;3361
00059e  9b0c              LDR      r3,[sp,#0x30]         ;3362
0005a0  f9b3359e          LDRSH    r3,[r3,#0x59e]        ;3362  ; FullSharedBuff
0005a4  441a              ADD      r2,r2,r3              ;3362
0005a6  9b0c              LDR      r3,[sp,#0x30]         ;3363
0005a8  f9b335a0          LDRSH    r3,[r3,#0x5a0]        ;3363  ; FullSharedBuff
0005ac  441a              ADD      r2,r2,r3              ;3363
0005ae  624a              STR      r2,[r1,#0x24]         ;3363  ; sum_TB
0005b0  9a0c              LDR      r2,[sp,#0x30]         ;3364
0005b2  9b0c              LDR      r3,[sp,#0x30]         ;3365
0005b4  f9b222f8          LDRSH    r2,[r2,#0x2f8]        ;3364  ; FullSharedBuff
0005b8  f9b332fa          LDRSH    r3,[r3,#0x2fa]        ;3365  ; FullSharedBuff
0005bc  441a              ADD      r2,r2,r3              ;3365
0005be  9b0c              LDR      r3,[sp,#0x30]         ;3366
0005c0  f9b333a0          LDRSH    r3,[r3,#0x3a0]        ;3366  ; FullSharedBuff
0005c4  441a              ADD      r2,r2,r3              ;3366
0005c6  9b0c              LDR      r3,[sp,#0x30]         ;3367
0005c8  f9b333a2          LDRSH    r3,[r3,#0x3a2]        ;3367  ; FullSharedBuff
0005cc  441a              ADD      r2,r2,r3              ;3367
0005ce  628a              STR      r2,[r1,#0x28]         ;3367  ; sum_LR
0005d0  e6cc              B        |L1.876|
                  |L1.1490|
0005d2  f1a0011e          SUB      r1,r0,#0x1e           ;3454
0005d6  429a              CMP      r2,r3                 ;3447
0005d8  b289              UXTH     r1,r1                 ;3454
0005da  bfcc              ITE      GT                    ;3449
0005dc  9111              STRGT    r1,[sp,#0x44]         ;3449
0005de  9106              STRLE    r1,[sp,#0x18]         ;3454
0005e0  f1a0000a          SUB      r0,r0,#0xa            ;3454
0005e4  b280              UXTH     r0,r0                 ;3455
0005e6  bfcc              ITE      GT                    ;3450
0005e8  9006              STRGT    r0,[sp,#0x18]         ;3450
0005ea  9011              STRLE    r0,[sp,#0x44]         ;3455
0005ec  e6e1              B        |L1.946|
                  |L1.1518|
0005ee  f04f0b00          MOV      r11,#0                ;3480
0005f2  e700              B        |L1.1014|
                  |L1.1524|
0005f4  f04f0b00          MOV      r11,#0                ;3538
0005f8  e74b              B        |L1.1170|
;;;3594   #endif
                          ENDP

0005fa  0000              DCW      0x0000
                  |L1.1532|
                          DCD      ||.data||+0x14
                  |L1.1536|
                          DCD      ||.data||

                          AREA ||i.algorithm_coord_IsEdgeArea||, CODE, READONLY, ALIGN=2

                  algorithm_coord_IsEdgeArea PROC
;;;831    }
;;;832    int8_t algorithm_coord_IsEdgeArea(tXY_t * pos, int offset)
000000  4b14              LDR      r3,|L2.84|
;;;833    {
000002  b430              PUSH     {r4,r5}
;;;834    	int8_t cRet = 0;
;;;835    
;;;836    	if( (pos->x < thisInfo->tCoord.iXEdgeStart + offset) || ((thisInfo->tCoord.iInternalXRes - pos->x) < thisInfo->tCoord.iXEdgeStart + offset) )
000004  68db              LDR      r3,[r3,#0xc]  ; thisInfo
000006  4602              MOV      r2,r0                 ;833
000008  2000              MOVS     r0,#0                 ;834
00000a  f8d3ce45          LDR      r12,[r3,#0xe45]
00000e  6814              LDR      r4,[r2,#0]
000010  448c              ADD      r12,r12,r1
;;;837    	{
;;;838    		if( ( pos->y < thisInfo->tCoord.iYEdgeStart + offset ) || ((thisInfo->tCoord.iInternalYRes - pos->y) < thisInfo->tCoord.iYEdgeStart + offset) )
000012  f8d35e49          LDR      r5,[r3,#0xe49]
000016  6852              LDR      r2,[r2,#4]
000018  4429              ADD      r1,r1,r5
00001a  4564              CMP      r4,r12                ;836
00001c  db04              BLT      |L2.40|
00001e  f8d35e35          LDR      r5,[r3,#0xe35]        ;836
000022  1b2c              SUBS     r4,r5,r4              ;836
000024  4564              CMP      r4,r12                ;836
000026  da0c              BGE      |L2.66|
                  |L2.40|
000028  428a              CMP      r2,r1
00002a  db04              BLT      |L2.54|
00002c  f8d30e39          LDR      r0,[r3,#0xe39]
000030  1a80              SUBS     r0,r0,r2
000032  4288              CMP      r0,r1
000034  da02              BGE      |L2.60|
                  |L2.54|
;;;839    		{
;;;840    			cRet = 2;
;;;841    		}
;;;842    		else
;;;843    		{
;;;844    			cRet = 1;
;;;845    		}
;;;846    	}
;;;847    	else if( (pos->y < thisInfo->tCoord.iYEdgeStart + offset) || ((thisInfo->tCoord.iInternalYRes - pos->y) < thisInfo->tCoord.iYEdgeStart + offset) )
;;;848    	{
;;;849    		cRet = 1;
;;;850    	}
;;;851    
;;;852    	return cRet;
;;;853    }
000036  bc30              POP      {r4,r5}
000038  2002              MOVS     r0,#2                 ;840
00003a  4770              BX       lr
                  |L2.60|
00003c  bc30              POP      {r4,r5}
00003e  2001              MOVS     r0,#1                 ;844
000040  4770              BX       lr
                  |L2.66|
000042  428a              CMP      r2,r1                 ;847
000044  dbfa              BLT      |L2.60|
000046  f8d33e39          LDR      r3,[r3,#0xe39]        ;847
00004a  1a9a              SUBS     r2,r3,r2              ;847
00004c  4291              CMP      r1,r2                 ;847
00004e  dcf5              BGT      |L2.60|
000050  bc30              POP      {r4,r5}
000052  4770              BX       lr
;;;854    
                          ENDP

                  |L2.84|
                          DCD      ||.data||

                          AREA ||i.algorithm_coord_IsEdgeArea_Cell||, CODE, READONLY, ALIGN=1

                  algorithm_coord_IsEdgeArea_Cell PROC
;;;854    
;;;855    uint8_t algorithm_coord_IsEdgeArea_Cell(int8_t r, int8_t c, int8_t offset)
000000  4684              MOV      r12,r0
;;;856    {
000002  b410              PUSH     {r4}
;;;857    	uint8_t bRet = 0;
000004  2000              MOVS     r0,#0
;;;858    
;;;859    	if( (r <= 0 + offset) || (r >= ROW_MAX-1-offset) )
;;;860    	{
;;;861    		if((c <= 0 + offset) || (c >= COL_MAX-1-offset))bRet = 2;
000006  f1c20353          RSB      r3,r2,#0x53
00000a  4594              CMP      r12,r2                ;859
00000c  bfc4              ITT      GT                    ;859
00000e  f1c2042f          RSBGT    r4,r2,#0x2f           ;859
000012  4564              CMPGT    r4,r12                ;859
000014  dc08              BGT      |L3.40|
000016  4291              CMP      r1,r2
000018  bfcf              ITEEE    GT
00001a  428b              CMPGT    r3,r1
00001c  2002              MOVLE    r0,#2
;;;862    		else bRet = 1;
;;;863    	}
;;;864    	else if((c <= 0 + offset) || (c >= COL_MAX-1-offset))bRet = 1;
;;;865    	
;;;866    	return bRet;
;;;867    }
00001e  bc10              POPLE    {r4}
000020  4770              BXLE     lr
                  |L3.34|
000022  2001              MOVS     r0,#1                 ;862
000024  bc10              POP      {r4}
000026  4770              BX       lr
                  |L3.40|
000028  4291              CMP      r1,r2                 ;864
00002a  bfc8              IT       GT                    ;864
00002c  428b              CMPGT    r3,r1                 ;864
00002e  ddf8              BLE      |L3.34|
000030  bc10              POP      {r4}
000032  4770              BX       lr
;;;868    
                          ENDP


                          AREA ||i.algorithm_coord_OutInDrawing||, CODE, READONLY, ALIGN=2

                  algorithm_coord_OutInDrawing PROC
;;;2190   
;;;2191   void algorithm_coord_OutInDrawing(void)
000000  e92d4ff0          PUSH     {r4-r11,lr}
;;;2192   {
;;;2193   	int i;
;;;2194   	tXY_t	temp_pos, temp_pos2;
;;;2195   	int bound_th = thisModeConf->CoordEdge.usOutInDrawEdgeTh;
000004  488e              LDR      r0,|L4.576|
000006  b08b              SUB      sp,sp,#0x2c           ;2192
;;;2196   	int dis_th = thisModeConf->CoordEdge.ucOutInDrawDisTh;
;;;2197   	int PostProcess[MAX_TOUCH_] = {0, };
000008  f04f0a00          MOV      r10,#0
00000c  f8d08008          LDR      r8,[r0,#8]            ;2195  ; thisModeConf
;;;2198   	
;;;2199   	tCoordInfo_t 	*temp_coord;
;;;2200   
;;;2201   	temp_coord = &thisInfo->tCoord;
;;;2202   
;;;2203   	for( i=MAX_TOUCH_; i--; )
;;;2204   	{
;;;2205   		if( temp_coord->tPos.vusS[i] > 0 && temp_coord->tPastPos[0].vusS[i] == 0 )
;;;2206   		{
;;;2207   			if( (temp_coord->tFirstPos.tXY[i].x < thisModeConf->CoordEdge.usOutInDrawEdgeTh) || ((thisInfo->tCoord.iInternalXRes - temp_coord->tFirstPos.tXY[i].x) < thisModeConf->CoordEdge.usOutInDrawEdgeTh)
;;;2208   			|| (temp_coord->tFirstPos.tXY[i].y < thisModeConf->CoordEdge.usOutInDrawEdgeTh) || ((thisInfo->tCoord.iInternalYRes - temp_coord->tFirstPos.tXY[i].y) < thisModeConf->CoordEdge.usOutInDrawEdgeTh) )
;;;2209   			{
;;;2210   				if(temp_coord->tFirstPos.tXY[i].x == temp_coord->tOrgPos.tXY[i].x && temp_coord->tFirstPos.tXY[i].y == temp_coord->tOrgPos.tXY[i].y)
;;;2211   				{
;;;2212   					temp_coord->tPos.vusS[i] = 0;
;;;2213   					break;
;;;2214   				}
;;;2215   			}
;;;2216   			
;;;2217   			if(temp_coord->tFirstPos.tXY[i].x < bound_th)
;;;2218   			{
;;;2219   				temp_pos2.x = temp_coord->tOrgPos.tXY[i].x-temp_coord->tFirstPos.tXY[i].x;
;;;2220   				if(temp_pos2.x > dis_th)
;;;2221   				{
;;;2222   					PostProcess[i] = 1;
;;;2223   					temp_pos2.y = temp_coord->tOrgPos.tXY[i].y - temp_coord->tFirstPos.tXY[i].y;
;;;2224   					temp_pos.x = temp_coord->tFirstPos.tXY[i].x;
;;;2225   					temp_pos.y = (temp_pos.x*temp_pos2.y)/temp_pos2.x;
;;;2226   					temp_coord->tPos.tXY[i].x = -UNIT_DIST;
;;;2227   					temp_coord->tPos.tXY[i].y = temp_coord->tFirstPos.tXY[i].y - temp_pos.y;
;;;2228   				}
;;;2229   			}
;;;2230   			else if(temp_coord->tFirstPos.tXY[i].x > thisInfo->tCoord.iInternalXRes - bound_th)
;;;2231   			{
;;;2232   				temp_pos2.x = temp_coord->tFirstPos.tXY[i].x-temp_coord->tOrgPos.tXY[i].x;
;;;2233   				if(temp_pos2.x > dis_th)
;;;2234   				{
;;;2235   					PostProcess[i] = 1;
;;;2236   					temp_pos2.y = temp_coord->tOrgPos.tXY[i].y - temp_coord->tFirstPos.tXY[i].y;
;;;2237   					temp_pos.x = thisInfo->tCoord.iInternalXRes - temp_coord->tFirstPos.tXY[i].x;
;;;2238   					temp_pos.y = (temp_pos.x*temp_pos2.y)/temp_pos2.x;
;;;2239   					temp_coord->tPos.tXY[i].x = thisInfo->tCoord.iInternalXRes + UNIT_DIST;
;;;2240   					temp_coord->tPos.tXY[i].y = temp_coord->tFirstPos.tXY[i].y - temp_pos.y;
;;;2241   				}
;;;2242   			}	
;;;2243   			
;;;2244   			if(temp_coord->tFirstPos.tXY[i].y > thisInfo->tCoord.iInternalYRes - bound_th)
;;;2245   			{
;;;2246   				if(PostProcess[i] == 0 || ((temp_coord->tPos.tXY[i].x == -UNIT_DIST || temp_coord->tPos.tXY[i].x == (thisInfo->tCoord.iInternalXRes + UNIT_DIST)) && temp_coord->tPos.tXY[i].y > (thisInfo->tCoord.iInternalYRes + UNIT_DIST)))
;;;2247   				{
;;;2248   					temp_pos2.x = temp_coord->tOrgPos.tXY[i].x-temp_coord->tFirstPos.tXY[i].x;
;;;2249   					temp_pos2.y = temp_coord->tFirstPos.tXY[i].y-temp_coord->tOrgPos.tXY[i].y;
;;;2250   					if(temp_pos2.y > dis_th)
;;;2251   					{
;;;2252   						PostProcess[i] = 1;
;;;2253   						temp_pos.y = thisInfo->tCoord.iInternalYRes - temp_coord->tFirstPos.tXY[i].y;
;;;2254   						temp_pos.x = (temp_pos2.x*temp_pos.y)/temp_pos2.y;
;;;2255   						temp_coord->tPos.tXY[i].x = temp_coord->tFirstPos.tXY[i].x - temp_pos.x;
;;;2256   						temp_coord->tPos.tXY[i].y = thisInfo->tCoord.iInternalYRes + UNIT_DIST;
;;;2257   					}
;;;2258   				}
;;;2259   			}	
;;;2260   
;;;2261   			else if(temp_coord->tFirstPos.tXY[i].y < bound_th)
;;;2262   			{
;;;2263   				if(PostProcess[i] == 0 || ((temp_coord->tPos.tXY[i].x == -UNIT_DIST || temp_coord->tPos.tXY[i].x == (thisInfo->tCoord.iInternalXRes + UNIT_DIST)) && temp_coord->tPos.tXY[i].y < -UNIT_DIST))
;;;2264   				{
;;;2265   					PostProcess[i] = 1;
;;;2266   					temp_pos2.x = temp_coord->tOrgPos.tXY[i].x - temp_coord->tFirstPos.tXY[i].x;
;;;2267   					temp_pos2.y = temp_coord->tOrgPos.tXY[i].y - temp_coord->tFirstPos.tXY[i].y;
;;;2268   					if(temp_pos2.y > dis_th)
;;;2269   					{
;;;2270   						temp_pos.y = temp_coord->tFirstPos.tXY[i].y;
;;;2271   						temp_pos.x = (temp_pos2.x*temp_pos.y)/temp_pos2.y;
;;;2272   						temp_coord->tPos.tXY[i].x = temp_coord->tFirstPos.tXY[i].x - temp_pos.x;
;;;2273   						temp_coord->tPos.tXY[i].y = -UNIT_DIST;
;;;2274   					}
;;;2275   				}
;;;2276   			}
;;;2277   			
;;;2278   			if(PostProcess[i] == 1)
;;;2279   			{
;;;2280   				temp_coord->tFirstPos.tXY[i] = temp_coord->tOrgPos.tXY[i];
;;;2281   			}
;;;2282   		}
;;;2283   	}
;;;2284   }
000010  2109              MOVS     r1,#9
000012  466b              MOV      r3,sp                 ;2197
000014  f8b850e6          LDRH     r5,[r8,#0xe6]         ;2195
000018  f89870e8          LDRB     r7,[r8,#0xe8]         ;2196
00001c  f8cda000          STR      r10,[sp,#0]           ;2197
000020  f8cda004          STR      r10,[sp,#4]           ;2197
000024  f8cda008          STR      r10,[sp,#8]           ;2197
000028  f8cda00c          STR      r10,[sp,#0xc]         ;2197
00002c  f8cda010          STR      r10,[sp,#0x10]        ;2197
000030  f8cda014          STR      r10,[sp,#0x14]        ;2197
000034  f8cda018          STR      r10,[sp,#0x18]        ;2197
000038  f8cda01c          STR      r10,[sp,#0x1c]        ;2197
00003c  f8cda020          STR      r10,[sp,#0x20]        ;2197
000040  f8cda024          STR      r10,[sp,#0x24]        ;2201
000044  f8d0c00c          LDR      r12,[r0,#0xc]         ;2201  ; thisInfo
000048  f20c3669          ADD      r6,r12,#0x369         ;2201
                  |L4.76|
00004c  eb060041          ADD      r0,r6,r1,LSL #1       ;2205
000050  f8b02186          LDRH     r2,[r0,#0x186]        ;2205
000054  2a00              CMP      r2,#0                 ;2205
000056  d07d              BEQ      |L4.340|
000058  f8b00392          LDRH     r0,[r0,#0x392]        ;2205
00005c  2800              CMP      r0,#0                 ;2205
00005e  d179              BNE      |L4.340|
000060  eb0600c1          ADD      r0,r6,r1,LSL #3       ;2207
000064  f8b840e6          LDRH     r4,[r8,#0xe6]         ;2207
000068  f8d0224f          LDR      r2,[r0,#0x24f]        ;2207
00006c  42a2              CMP      r2,r4                 ;2207
00006e  db0f              BLT      |L4.144|
000070  f8dc9e35          LDR      r9,[r12,#0xe35]       ;2207
000074  eba90902          SUB      r9,r9,r2              ;2207
000078  45a1              CMP      r9,r4                 ;2207
00007a  bfa4              ITT      GE                    ;2208
00007c  f8d09253          LDRGE    r9,[r0,#0x253]        ;2208
000080  45a1              CMPGE    r9,r4                 ;2208
000082  db05              BLT      |L4.144|
000084  f8dcbe39          LDR      r11,[r12,#0xe39]      ;2208
000088  ebab0909          SUB      r9,r11,r9             ;2208
00008c  454c              CMP      r4,r9                 ;2208
00008e  dd10              BLE      |L4.178|
                  |L4.144|
000090  f8d0459f          LDR      r4,[r0,#0x59f]        ;2210
000094  42a2              CMP      r2,r4                 ;2210
000096  d10c              BNE      |L4.178|
000098  f8d04253          LDR      r4,[r0,#0x253]        ;2210
00009c  f8d095a3          LDR      r9,[r0,#0x5a3]        ;2210
0000a0  454c              CMP      r4,r9                 ;2210
0000a2  d106              BNE      |L4.178|
0000a4  eb060041          ADD      r0,r6,r1,LSL #1       ;2212
0000a8  f8a0a186          STRH     r10,[r0,#0x186]       ;2212
0000ac  b00b              ADD      sp,sp,#0x2c
0000ae  e8bd8ff0          POP      {r4-r11,pc}
                  |L4.178|
0000b2  42aa              CMP      r2,r5                 ;2217
0000b4  da19              BGE      |L4.234|
0000b6  f8d0459f          LDR      r4,[r0,#0x59f]        ;2219
0000ba  1aa4              SUBS     r4,r4,r2              ;2219
0000bc  42a7              CMP      r7,r4                 ;2220
0000be  da3b              BGE      |L4.312|
0000c0  f04f0901          MOV      r9,#1                 ;2222
0000c4  f8439021          STR      r9,[r3,r1,LSL #2]     ;2222
0000c8  f8d0b5a3          LDR      r11,[r0,#0x5a3]       ;2223
0000cc  f8d09253          LDR      r9,[r0,#0x253]        ;2223
0000d0  ebab0b09          SUB      r11,r11,r9            ;2223
0000d4  fb02fb0b          MUL      r11,r2,r11            ;2225
0000d8  fb9bf4f4          SDIV     r4,r11,r4             ;2225
0000dc  f06f0bff          MVN      r11,#0xff             ;2226
0000e0  f8c0b136          STR      r11,[r0,#0x136]       ;2226
0000e4  eba90404          SUB      r4,r9,r4              ;2227
0000e8  e024              B        |L4.308|
                  |L4.234|
0000ea  f8dc4e35          LDR      r4,[r12,#0xe35]       ;2230
0000ee  940a              STR      r4,[sp,#0x28]         ;2230
0000f0  1b64              SUBS     r4,r4,r5              ;2230
0000f2  42a2              CMP      r2,r4                 ;2230
0000f4  dd20              BLE      |L4.312|
0000f6  f8d0459f          LDR      r4,[r0,#0x59f]        ;2232
0000fa  eba20904          SUB      r9,r2,r4              ;2232
0000fe  45b9              CMP      r9,r7                 ;2233
000100  dd1a              BLE      |L4.312|
000102  2401              MOVS     r4,#1                 ;2235
000104  f8434021          STR      r4,[r3,r1,LSL #2]     ;2235
000108  f8d045a3          LDR      r4,[r0,#0x5a3]        ;2236
00010c  f8d0b253          LDR      r11,[r0,#0x253]       ;2236
000110  f8dde028          LDR      lr,[sp,#0x28]         ;2237
000114  eba4040b          SUB      r4,r4,r11             ;2236
000118  ebae0e02          SUB      lr,lr,r2              ;2237
00011c  fb0ef404          MUL      r4,lr,r4              ;2238
000120  fb94f4f9          SDIV     r4,r4,r9              ;2238
000124  f8dd9028          LDR      r9,[sp,#0x28]         ;2238
000128  ebab0404          SUB      r4,r11,r4             ;2240
00012c  f5097980          ADD      r9,r9,#0x100          ;2238
000130  f8c09136          STR      r9,[r0,#0x136]        ;2239
                  |L4.308|
000134  f8c0413a          STR      r4,[r0,#0x13a]        ;2240
                  |L4.312|
000138  f8dc9e39          LDR      r9,[r12,#0xe39]       ;2244
00013c  f8d04253          LDR      r4,[r0,#0x253]        ;2244
000140  eba90b05          SUB      r11,r9,r5             ;2244
000144  455c              CMP      r4,r11                ;2244
000146  dd37              BLE      |L4.440|
000148  f853b021          LDR      r11,[r3,r1,LSL #2]    ;2246
00014c  f1bb0f00          CMP      r11,#0                ;2246
000150  d012              BEQ      |L4.376|
000152  e000              B        |L4.342|
                  |L4.340|
000154  e06d              B        |L4.562|
                  |L4.342|
000156  f8d0b136          LDR      r11,[r0,#0x136]       ;2246
00015a  f51b7f80          CMN      r11,#0x100            ;2246
00015e  d005              BEQ      |L4.364|
000160  f8dcee35          LDR      lr,[r12,#0xe35]       ;2246
000164  f50e7e80          ADD      lr,lr,#0x100          ;2246
000168  45f3              CMP      r11,lr                ;2246
00016a  d156              BNE      |L4.538|
                  |L4.364|
00016c  f8d0b13a          LDR      r11,[r0,#0x13a]       ;2246
000170  f5097e80          ADD      lr,r9,#0x100          ;2246
000174  45f3              CMP      r11,lr                ;2246
000176  dd50              BLE      |L4.538|
                  |L4.376|
000178  f8d0b59f          LDR      r11,[r0,#0x59f]       ;2248
00017c  ebab0b02          SUB      r11,r11,r2            ;2248
000180  f8cdb028          STR      r11,[sp,#0x28]        ;2249
000184  f8d0b5a3          LDR      r11,[r0,#0x5a3]       ;2249
000188  eba40e0b          SUB      lr,r4,r11             ;2249
00018c  45be              CMP      lr,r7                 ;2250
00018e  dd44              BLE      |L4.538|
000190  f04f0b01          MOV      r11,#1                ;2252
000194  f843b021          STR      r11,[r3,r1,LSL #2]    ;2252
000198  eba90404          SUB      r4,r9,r4              ;2253
00019c  f8dd9028          LDR      r9,[sp,#0x28]         ;2254
0001a0  fb09f904          MUL      r9,r9,r4              ;2254
0001a4  fb99f4fe          SDIV     r4,r9,lr              ;2254
0001a8  1b12              SUBS     r2,r2,r4              ;2255
0001aa  f8c02136          STR      r2,[r0,#0x136]        ;2255
0001ae  f8dc2e39          LDR      r2,[r12,#0xe39]       ;2256
0001b2  f5027280          ADD      r2,r2,#0x100          ;2256
0001b6  e02d              B        |L4.532|
                  |L4.440|
0001b8  42a5              CMP      r5,r4                 ;2261
0001ba  dd2e              BLE      |L4.538|
0001bc  f8539021          LDR      r9,[r3,r1,LSL #2]     ;2263
0001c0  f1b90f00          CMP      r9,#0                 ;2263
0001c4  d00f              BEQ      |L4.486|
0001c6  f8d09136          LDR      r9,[r0,#0x136]        ;2263
0001ca  f5197f80          CMN      r9,#0x100             ;2263
0001ce  d005              BEQ      |L4.476|
0001d0  f8dcbe35          LDR      r11,[r12,#0xe35]      ;2263
0001d4  f50b7b80          ADD      r11,r11,#0x100        ;2263
0001d8  45d9              CMP      r9,r11                ;2263
0001da  d11e              BNE      |L4.538|
                  |L4.476|
0001dc  f8d0913a          LDR      r9,[r0,#0x13a]        ;2263
0001e0  f5197f80          CMN      r9,#0x100             ;2263
0001e4  da19              BGE      |L4.538|
                  |L4.486|
0001e6  f04f0901          MOV      r9,#1                 ;2265
0001ea  f8439021          STR      r9,[r3,r1,LSL #2]     ;2265
0001ee  f8d0959f          LDR      r9,[r0,#0x59f]        ;2266
0001f2  eba90b02          SUB      r11,r9,r2             ;2266
0001f6  f8d095a3          LDR      r9,[r0,#0x5a3]        ;2267
0001fa  eba90904          SUB      r9,r9,r4              ;2267
0001fe  45b9              CMP      r9,r7                 ;2268
000200  dd0f              BLE      |L4.546|
000202  fb0bf404          MUL      r4,r11,r4             ;2271
000206  fb94f4f9          SDIV     r4,r4,r9              ;2271
00020a  1b12              SUBS     r2,r2,r4              ;2272
00020c  f8c02136          STR      r2,[r0,#0x136]        ;2272
000210  f06f02ff          MVN      r2,#0xff              ;2273
                  |L4.532|
000214  f8c0213a          STR      r2,[r0,#0x13a]        ;2256
000218  e003              B        |L4.546|
                  |L4.538|
00021a  f8532021          LDR      r2,[r3,r1,LSL #2]     ;2278
00021e  2a01              CMP      r2,#1                 ;2278
000220  d107              BNE      |L4.562|
                  |L4.546|
000222  f8d0259f          LDR      r2,[r0,#0x59f]        ;2280
000226  f8c0224f          STR      r2,[r0,#0x24f]        ;2280
00022a  f8d025a3          LDR      r2,[r0,#0x5a3]        ;2280
00022e  f8c02253          STR      r2,[r0,#0x253]        ;2280
                  |L4.562|
000232  1e49              SUBS     r1,r1,#1              ;2280
000234  f4bfaf0a          BCS      |L4.76|
000238  b00b              ADD      sp,sp,#0x2c
00023a  e8bd8ff0          POP      {r4-r11,pc}
;;;2285   void algorithm_coord_PostProcess(int mode)
                          ENDP

00023e  0000              DCW      0x0000
                  |L4.576|
                          DCD      ||.data||

                          AREA ||i.algorithm_coord_PostProcess||, CODE, READONLY, ALIGN=2

                  algorithm_coord_PostProcess PROC
;;;2284   }
;;;2285   void algorithm_coord_PostProcess(int mode)
000000  e92d4ff0          PUSH     {r4-r11,lr}
;;;2286   {
;;;2287   	int i;
;;;2288   	tXY_t	temp_pos;
;;;2289   
;;;2290   	tCoordInfo_t 	*temp_coord;
;;;2291   
;;;2292   	temp_coord = &thisInfo->tCoord;
000004  4ffe              LDR      r7,|L5.1024|
000006  b093              SUB      sp,sp,#0x4c           ;2286
;;;2293   
;;;2294   	for( i=MAX_TOUCH_; i--; )
;;;2295   	{
;;;2296   		if( temp_coord->tPos.vusS[i] > 0 && temp_coord->tPastPos[0].vusS[i] == 0 )
;;;2297   		{
;;;2298   			if( temp_coord->cScreenDebCnt[i] > 2 )
;;;2299   			{
;;;2300   				if( algorithm_coord_IsEdgeArea(&temp_coord->tFirstPos.tXY[i], 0) > 0 )
;;;2301   				{
;;;2302   					int dist;
;;;2303   
;;;2304   					dist = algorithm_coord_calc_distance(temp_coord->tFirstPos.tXY[i], temp_coord->tOrgPos.tXY[i]);
;;;2305   
;;;2306   					if( dist > _BV(6) )
;;;2307   					{
;;;2308   						temp_coord->ucPostProcessRun[i] = 1;
;;;2309   						temp_pos = temp_coord->tPos.tXY[i];
;;;2310   						temp_coord->tPos.tXY[i] = temp_coord->tFirstPos.tXY[i];
;;;2311   						temp_coord->tFirstPos.tXY[i] = temp_pos;
;;;2312   					}
;;;2313   				}
;;;2314   			}
;;;2315   		}
;;;2316   
;;;2317   		if(thisModeConf->CoordEdge.usPostProcessEdgeTH > 0)
;;;2318   		{
;;;2319   			if(temp_coord->tOrgPos.vusS[i] == 0 && temp_coord->tOrgPastPos[1].vusS[i] > 0 && temp_coord->tOrgPastPos[0].vusS[i] > 0 && temp_coord->tOrgPastPos[2].vusS[i] > 0) 
;;;2320   			{
;;;2321   				int ExpandTH = thisModeConf->CoordEdge.usPostProcessEdgeTH;
;;;2322   				uint8_t x_edge_f = 0;
;;;2323   				uint8_t y_edge_f = 0;
;;;2324   				
;;;2325   				if(temp_coord->tOrgPastPos[0].tXY[i].x < ExpandTH)x_edge_f = 1;
;;;2326   				else if(thisInfo->tCoord.iInternalXRes - temp_coord->tOrgPastPos[0].tXY[i].x < ExpandTH)x_edge_f = 2;
;;;2327   				
;;;2328   				if(temp_coord->tOrgPastPos[0].tXY[i].y < ExpandTH)y_edge_f = 1;
;;;2329   				else if(thisInfo->tCoord.iInternalYRes - temp_coord->tOrgPastPos[0].tXY[i].y < ExpandTH)y_edge_f = 2;
;;;2330   				
;;;2331   				if(x_edge_f || y_edge_f)
;;;2332   				{
;;;2333   					int dist_y[3] = {0,};			
;;;2334   					int dist_x[3] = {0,};      
;;;2335   				
;;;2336   					dist_y[0] = temp_coord->tPastPos[0].tXY[i].y - temp_coord->tPastPos[1].tXY[i].y;			
;;;2337   					dist_x[0] = temp_coord->tPastPos[0].tXY[i].x - temp_coord->tPastPos[1].tXY[i].x;				
;;;2338   
;;;2339   					dist_y[1] = temp_coord->tPastPos[0].tXY[i].y - temp_coord->tPastPos[2].tXY[i].y;
;;;2340   					dist_x[1] = temp_coord->tPastPos[0].tXY[i].x - temp_coord->tPastPos[2].tXY[i].x;		
;;;2341   				
;;;2342   					dist_y[2] = temp_coord->tPastPos[1].tXY[i].y - temp_coord->tPastPos[2].tXY[i].y;
;;;2343   					dist_x[2] = temp_coord->tPastPos[1].tXY[i].x - temp_coord->tPastPos[2].tXY[i].x;	
;;;2344   					
;;;2345   					if( (dist_x[0] < -thisModeConf->CoordEdge.ucPostProcessDisTH && dist_x[1] < -thisModeConf->CoordEdge.ucPostProcessDisTH && dist_x[2] < -thisModeConf->CoordEdge.ucPostProcessDisTH && x_edge_f == 1)
;;;2346   					|| (dist_x[0] > thisModeConf->CoordEdge.ucPostProcessDisTH   && dist_x[1] > thisModeConf->CoordEdge.ucPostProcessDisTH && dist_x[2] > thisModeConf->CoordEdge.ucPostProcessDisTH &&x_edge_f == 2)
;;;2347   					|| (dist_y[0] < -thisModeConf->CoordEdge.ucPostProcessDisTH  && dist_y[1] < -thisModeConf->CoordEdge.ucPostProcessDisTH && dist_y[2] < -thisModeConf->CoordEdge.ucPostProcessDisTH && y_edge_f == 1)
;;;2348   					|| (dist_y[0] > thisModeConf->CoordEdge.ucPostProcessDisTH   && dist_y[2] > thisModeConf->CoordEdge.ucPostProcessDisTH && dist_y[2] > thisModeConf->CoordEdge.ucPostProcessDisTH && y_edge_f == 2) )
;;;2349   					{
;;;2350   						temp_coord->tPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x + dist_x[0]/thisModeConf->CoordEdge.ucPostProcessExpendDiv;
;;;2351   						temp_coord->tPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y + dist_y[0]/thisModeConf->CoordEdge.ucPostProcessExpendDiv;
;;;2352   						
;;;2353   						uint8_t max_idx = 0;
;;;2354   						if(x_edge_f == 1 && temp_coord->tPos.tXY[i].x > -thisModeConf->CoordEdge.cPostProcessEndMargin)
;;;2355   						{
;;;2356   							temp_coord->tPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x + MIN(dist_x[0],MIN(dist_x[1], dist_x[2]));
;;;2357   							
;;;2358   							if(abs(dist_y[0]) >= abs(dist_y[1]) && abs(dist_y[0]) >= abs(dist_y[2]))max_idx = 0;
;;;2359   							else if(abs(dist_y[1]) >= abs(dist_y[0]) && abs(dist_y[1]) >= abs(dist_y[2]))max_idx = 1;
;;;2360   							else if(abs(dist_y[2]) >= abs(dist_y[0]) && abs(dist_y[2]) >= abs(dist_y[1]))max_idx = 2;
;;;2361   							
;;;2362   							temp_coord->tPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y + dist_y[max_idx];
;;;2363   						}
;;;2364   						else if(x_edge_f == 2 && temp_coord->tPos.tXY[i].x < thisInfo->tCoord.iInternalXRes + thisModeConf->CoordEdge.cPostProcessEndMargin)
;;;2365   						{
;;;2366   							temp_coord->tPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x + MAX(dist_x[0],MAX(dist_x[1], dist_x[2]));
;;;2367   																	
;;;2368   							if(abs(dist_y[0]) >= abs(dist_y[1]) && abs(dist_y[0]) >= abs(dist_y[2]))max_idx = 0;
;;;2369   							else if(abs(dist_y[1]) >= abs(dist_y[0]) && abs(dist_y[1]) >= abs(dist_y[2]))max_idx = 1;
;;;2370   							else if(abs(dist_y[2]) >= abs(dist_y[0]) && abs(dist_y[2]) >= abs(dist_y[1]))max_idx = 2;
;;;2371   							
;;;2372   							temp_coord->tPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y + dist_y[max_idx];
;;;2373   						}
;;;2374   						
;;;2375   						max_idx = 0;
;;;2376   						if(y_edge_f == 1 && temp_coord->tPos.tXY[i].y > -thisModeConf->CoordEdge.cPostProcessEndMargin)
;;;2377   						{
;;;2378   							temp_coord->tPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y + MIN(dist_y[0],MIN(dist_y[1], dist_y[2]));
;;;2379   																	
;;;2380   							if(abs(dist_x[0]) >= abs(dist_x[1]) && abs(dist_x[0]) >= abs(dist_x[2]))max_idx = 0;
;;;2381   							else if(abs(dist_x[1]) >= abs(dist_x[0]) && abs(dist_x[1]) >= abs(dist_x[2]))max_idx = 1;
;;;2382   							else if(abs(dist_x[2]) >= abs(dist_x[0]) && abs(dist_x[2]) >= abs(dist_x[1]))max_idx = 2;
;;;2383   							
;;;2384   							temp_coord->tPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x + dist_x[max_idx];
;;;2385   						}
;;;2386   						else if(y_edge_f == 2 && temp_coord->tPos.tXY[i].y < thisInfo->tCoord.iInternalYRes + thisModeConf->CoordEdge.cPostProcessEndMargin)
;;;2387   						{
;;;2388   							temp_coord->tPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y + MAX(dist_y[0],MAX(dist_y[1], dist_y[2]));
;;;2389   							
;;;2390   							if(abs(dist_x[0]) >= abs(dist_x[1]) && abs(dist_x[0]) >= abs(dist_x[2]))max_idx = 0;
;;;2391   							else if(abs(dist_x[1]) >= abs(dist_x[0]) && abs(dist_x[1]) >= abs(dist_x[2]))max_idx = 1;
;;;2392   							else if(abs(dist_x[2]) >= abs(dist_x[0]) && abs(dist_x[2]) >= abs(dist_x[1]))max_idx = 2;
;;;2393   							
;;;2394   							temp_coord->tPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x + dist_x[max_idx];
;;;2395   						}
;;;2396   							
;;;2397   						temp_coord->tPos.vusS[i]  =  temp_coord->tOrgPastPos[0].vusS[i];
;;;2398   						temp_coord->tPos.vusR[i]  =  temp_coord->tOrgPastPos[0].vusR[i];						
;;;2399   					}
;;;2400   				}
;;;2401   			}
;;;2402   		}
;;;2403   	}
;;;2404   }
000008  2509              MOVS     r5,#9
00000a  68f8              LDR      r0,[r7,#0xc]          ;2292  ; thisInfo
00000c  f04f0901          MOV      r9,#1                 ;2308
000010  f2003669          ADD      r6,r0,#0x369          ;2292
000014  ea4f080d          MOV.W    r8,sp                 ;2333
                  |L5.24|
000018  eb060445          ADD      r4,r6,r5,LSL #1       ;2296
00001c  f8b40186          LDRH     r0,[r4,#0x186]        ;2296
000020  b3a8              CBZ      r0,|L5.142|
000022  f8b40392          LDRH     r0,[r4,#0x392]        ;2296
000026  bb90              CBNZ     r0,|L5.142|
000028  eb060b05          ADD      r11,r6,r5             ;2298
00002c  f99b0a64          LDRSB    r0,[r11,#0xa64]       ;2298
000030  2802              CMP      r0,#2                 ;2298
000032  dd2c              BLE      |L5.142|
000034  eb060ac5          ADD      r10,r6,r5,LSL #3      ;2300
000038  f20a204f          ADD      r0,r10,#0x24f         ;2300
00003c  2100              MOVS     r1,#0                 ;2300
00003e  f7fffffe          BL       algorithm_coord_IsEdgeArea
000042  2800              CMP      r0,#0                 ;2300
000044  dd23              BLE      |L5.142|
000046  f8da324f          LDR      r3,[r10,#0x24f]       ;2304
00004a  f8da059f          LDR      r0,[r10,#0x59f]       ;2304
00004e  f8da1253          LDR      r1,[r10,#0x253]       ;2304
000052  f8da25a3          LDR      r2,[r10,#0x5a3]       ;2304
000056  1a18              SUBS     r0,r3,r0              ;2304
000058  fb00f300          MUL      r3,r0,r0              ;2304
00005c  1a88              SUBS     r0,r1,r2              ;2304
00005e  fb003000          MLA      r0,r0,r0,r3           ;2304
000062  f7fffffe          BL       algorithm_calc_sqrt
000066  2840              CMP      r0,#0x40              ;2306
000068  dd11              BLE      |L5.142|
00006a  f88b9a78          STRB     r9,[r11,#0xa78]       ;2308
00006e  f8da0136          LDR      r0,[r10,#0x136]       ;2309
000072  f8da113a          LDR      r1,[r10,#0x13a]       ;2309
000076  f8da224f          LDR      r2,[r10,#0x24f]       ;2310
00007a  f8ca2136          STR      r2,[r10,#0x136]       ;2310
00007e  f8da2253          LDR      r2,[r10,#0x253]       ;2310
000082  f8ca213a          STR      r2,[r10,#0x13a]       ;2310
000086  f8ca024f          STR      r0,[r10,#0x24f]       ;2311
00008a  f8ca1253          STR      r1,[r10,#0x253]       ;2311
                  |L5.142|
00008e  68b9              LDR      r1,[r7,#8]            ;2317  ; thisModeConf
000090  f8b1a0e0          LDRH     r10,[r1,#0xe0]        ;2317
000094  f1ba0f00          CMP      r10,#0                ;2317
000098  f0008263          BEQ.W    |L5.1378|
00009c  f8b405ef          LDRH     r0,[r4,#0x5ef]        ;2319
0000a0  2800              CMP      r0,#0                 ;2319
0000a2  f040825e          BNE.W    |L5.1378|
0000a6  f8b40781          LDRH     r0,[r4,#0x781]        ;2319
0000aa  2800              CMP      r0,#0                 ;2319
0000ac  bf1f              ITTTT    NE                    ;2319
0000ae  f8b40708          LDRHNE   r0,[r4,#0x708]        ;2319
0000b2  2800              CMPNE    r0,#0                 ;2319
0000b4  f8b407fa          LDRHNE   r0,[r4,#0x7fa]        ;2319
0000b8  2800              CMPNE    r0,#0                 ;2319
0000ba  f0008252          BEQ.W    |L5.1378|
0000be  eb0600c5          ADD      r0,r6,r5,LSL #3       ;2325
0000c2  f04f0300          MOV      r3,#0                 ;2322
0000c6  f8d0c6b8          LDR      r12,[r0,#0x6b8]       ;2325
0000ca  461a              MOV      r2,r3                 ;2323
0000cc  f8cdc048          STR      r12,[sp,#0x48]        ;2325
0000d0  45d4              CMP      r12,r10               ;2325
0000d2  bfb8              IT       LT                    ;2325
0000d4  2301              MOVLT    r3,#1                 ;2325
0000d6  db0a              BLT      |L5.238|
0000d8  f8d7c00c          LDR      r12,[r7,#0xc]         ;2326  ; thisInfo
0000dc  f8dcbe35          LDR      r11,[r12,#0xe35]      ;2326
0000e0  f8ddc048          LDR      r12,[sp,#0x48]        ;2326
0000e4  ebab0c0c          SUB      r12,r11,r12           ;2326
0000e8  45d4              CMP      r12,r10               ;2326
0000ea  bfb8              IT       LT                    ;2326
0000ec  2302              MOVLT    r3,#2                 ;2326
                  |L5.238|
0000ee  f8d0c6bc          LDR      r12,[r0,#0x6bc]       ;2328
0000f2  45d4              CMP      r12,r10               ;2328
0000f4  bfb8              IT       LT                    ;2328
0000f6  2201              MOVLT    r2,#1                 ;2328
0000f8  db08              BLT      |L5.268|
0000fa  f8d7b00c          LDR      r11,[r7,#0xc]         ;2329  ; thisInfo
0000fe  f8dbbe39          LDR      r11,[r11,#0xe39]      ;2329
000102  ebab0b0c          SUB      r11,r11,r12           ;2329
000106  45d3              CMP      r11,r10               ;2329
000108  bfb8              IT       LT                    ;2329
00010a  2202              MOVLT    r2,#2                 ;2329
                  |L5.268|
00010c  ea530a02          ORRS     r10,r3,r2             ;2331
000110  f0008227          BEQ.W    |L5.1378|
000114  f8d0a346          LDR      r10,[r0,#0x346]       ;2336
000118  f8d0e3bf          LDR      lr,[r0,#0x3bf]        ;2336
00011c  f8cde02c          STR      lr,[sp,#0x2c]         ;2337
000120  ebaa0b0e          SUB      r11,r10,lr            ;2336
000124  f8cdb000          STR      r11,[sp,#0]           ;2337
000128  f8d0e342          LDR      lr,[r0,#0x342]        ;2337
00012c  f8d0b3bb          LDR      r11,[r0,#0x3bb]       ;2337
000130  f8cdb024          STR      r11,[sp,#0x24]        ;2337
000134  ebae0b0b          SUB      r11,lr,r11            ;2337
000138  f8cdb00c          STR      r11,[sp,#0xc]         ;2339
00013c  f8d0b438          LDR      r11,[r0,#0x438]       ;2339
000140  ebaa0a0b          SUB      r10,r10,r11           ;2339
000144  f8cda004          STR      r10,[sp,#4]           ;2340
000148  f8d0a434          LDR      r10,[r0,#0x434]       ;2340
00014c  f8cda018          STR      r10,[sp,#0x18]        ;2340
000150  ebae0a0a          SUB      r10,lr,r10            ;2340
000154  f8dde02c          LDR      lr,[sp,#0x2c]         ;2342
000158  f8cda010          STR      r10,[sp,#0x10]        ;2340
00015c  ebae0a0b          SUB      r10,lr,r11            ;2342
000160  f8cda008          STR      r10,[sp,#8]           ;2342
000164  f8ddb024          LDR      r11,[sp,#0x24]        ;2343
000168  f8dda018          LDR      r10,[sp,#0x18]        ;2343
00016c  ebab0a0a          SUB      r10,r11,r10           ;2343
000170  f8cda014          STR      r10,[sp,#0x14]        ;2345
000174  f891a0e2          LDRB     r10,[r1,#0xe2]        ;2345
000178  f8ddb00c          LDR      r11,[sp,#0xc]         ;2345
00017c  f1ca0e00          RSB      lr,r10,#0             ;2345
000180  45de              CMP      lr,r11                ;2345
000182  bfc1              ITTTT    GT                    ;2345
000184  f8ddb010          LDRGT    r11,[sp,#0x10]        ;2345
000188  45de              CMPGT    lr,r11                ;2345
00018a  f8ddb014          LDRGT    r11,[sp,#0x14]        ;2345
00018e  45de              CMPGT    lr,r11                ;2345
000190  dd01              BLE      |L5.406|
000192  2b01              CMP      r3,#1                 ;2345
000194  d025              BEQ      |L5.482|
                  |L5.406|
000196  f8ddb00c          LDR      r11,[sp,#0xc]         ;2346
00019a  45d3              CMP      r11,r10               ;2346
00019c  bfc1              ITTTT    GT                    ;2346
00019e  f8ddb010          LDRGT    r11,[sp,#0x10]        ;2346
0001a2  45d3              CMPGT    r11,r10               ;2346
0001a4  f8ddb014          LDRGT    r11,[sp,#0x14]        ;2346
0001a8  45d3              CMPGT    r11,r10               ;2346
0001aa  dd01              BLE      |L5.432|
0001ac  2b02              CMP      r3,#2                 ;2346
0001ae  d018              BEQ      |L5.482|
                  |L5.432|
0001b0  f8ddb000          LDR      r11,[sp,#0]           ;2347
0001b4  45f3              CMP      r11,lr                ;2347
0001b6  bfbf              ITTTT    LT                    ;2347
0001b8  f8ddb004          LDRLT    r11,[sp,#4]           ;2347
0001bc  45f3              CMPLT    r11,lr                ;2347
0001be  f8ddb008          LDRLT    r11,[sp,#8]           ;2347
0001c2  45f3              CMPLT    r11,lr                ;2347
0001c4  da01              BGE      |L5.458|
0001c6  2a01              CMP      r2,#1                 ;2347
0001c8  d00b              BEQ      |L5.482|
                  |L5.458|
0001ca  f8ddb000          LDR      r11,[sp,#0]           ;2348
0001ce  45d3              CMP      r11,r10               ;2348
0001d0  bfc4              ITT      GT                    ;2348
0001d2  f8ddb008          LDRGT    r11,[sp,#8]           ;2348
0001d6  45d3              CMPGT    r11,r10               ;2348
0001d8  f34081c3          BLE.W    |L5.1378|
0001dc  2a02              CMP      r2,#2                 ;2348
0001de  f04081c0          BNE.W    |L5.1378|
                  |L5.482|
0001e2  f891b0e3          LDRB     r11,[r1,#0xe3]        ;2350
0001e6  f8dda00c          LDR      r10,[sp,#0xc]         ;2350
0001ea  2b01              CMP      r3,#1                 ;2354
0001ec  fb9afbfb          SDIV     r11,r10,r11           ;2350
0001f0  f8dda048          LDR      r10,[sp,#0x48]        ;2350
0001f4  44da              ADD      r10,r10,r11           ;2350
0001f6  f8c0a136          STR      r10,[r0,#0x136]       ;2350
0001fa  f891e0e3          LDRB     lr,[r1,#0xe3]         ;2351
0001fe  f8ddb000          LDR      r11,[sp,#0]           ;2351
000202  fb9bfbfe          SDIV     r11,r11,lr            ;2351
000206  44e3              ADD      r11,r11,r12           ;2351
000208  f8c0b13a          STR      r11,[r0,#0x13a]       ;2351
00020c  f04f0b00          MOV      r11,#0                ;2353
000210  d002              BEQ      |L5.536|
000212  2b02              CMP      r3,#2                 ;2364
000214  d076              BEQ      |L5.772|
000216  e06c              B        |L5.754|
                  |L5.536|
000218  f99130e4          LDRSB    r3,[r1,#0xe4]         ;2354
00021c  425b              RSBS     r3,r3,#0              ;2354
00021e  459a              CMP      r10,r3                ;2354
000220  dd67              BLE      |L5.754|
000222  e9dd3a04          LDRD     r3,r10,[sp,#0x10]     ;2354
000226  459a              CMP      r10,r3                ;2356
000228  bfd8              IT       LE                    ;2356
00022a  4653              MOVLE    r3,r10                ;2356
00022c  f8dda00c          LDR      r10,[sp,#0xc]         ;2356
000230  4553              CMP      r3,r10                ;2356
000232  dc03              BGT      |L5.572|
000234  e9dd3a04          LDRD     r3,r10,[sp,#0x10]     ;2356
000238  459a              CMP      r10,r3                ;2356
00023a  dc00              BGT      |L5.574|
                  |L5.572|
00023c  4653              MOV      r3,r10                ;2356
                  |L5.574|
00023e  f8dda048          LDR      r10,[sp,#0x48]        ;2356
000242  4453              ADD      r3,r3,r10             ;2356
000244  f8c03136          STR      r3,[r0,#0x136]        ;2356
000248  e9dda300          LDRD     r10,r3,[sp,#0]        ;2356
00024c  f1ba0f00          CMP      r10,#0                ;2358
000250  bfb8              IT       LT                    ;2358
000252  f1ca0a00          RSBLT    r10,r10,#0            ;2358
000256  2b00              CMP      r3,#0                 ;2358
000258  bfb8              IT       LT                    ;2358
00025a  425b              RSBLT    r3,r3,#0              ;2358
00025c  4553              CMP      r3,r10                ;2358
00025e  dc0c              BGT      |L5.634|
000260  f8dda000          LDR      r10,[sp,#0]           ;2358
000264  9b02              LDR      r3,[sp,#8]            ;2358
000266  f1ba0f00          CMP      r10,#0                ;2358
00026a  bfb8              IT       LT                    ;2358
00026c  f1ca0a00          RSBLT    r10,r10,#0            ;2358
000270  2b00              CMP      r3,#0                 ;2358
000272  bfb8              IT       LT                    ;2358
000274  425b              RSBLT    r3,r3,#0              ;2358
000276  459a              CMP      r10,r3                ;2358
000278  da36              BGE      |L5.744|
                  |L5.634|
00027a  e9dd3a00          LDRD     r3,r10,[sp,#0]        ;2358
00027e  f1ba0f00          CMP      r10,#0                ;2359
000282  bfb8              IT       LT                    ;2359
000284  f1ca0a00          RSBLT    r10,r10,#0            ;2359
000288  2b00              CMP      r3,#0                 ;2359
00028a  bfb8              IT       LT                    ;2359
00028c  425b              RSBLT    r3,r3,#0              ;2359
00028e  4553              CMP      r3,r10                ;2359
000290  dc0f              BGT      |L5.690|
000292  e9dda301          LDRD     r10,r3,[sp,#4]        ;2359
000296  f1ba0f00          CMP      r10,#0                ;2359
00029a  bfb8              IT       LT                    ;2359
00029c  f1ca0a00          RSBLT    r10,r10,#0            ;2359
0002a0  2b00              CMP      r3,#0                 ;2359
0002a2  bfb8              IT       LT                    ;2359
0002a4  425b              RSBLT    r3,r3,#0              ;2359
0002a6  459a              CMP      r10,r3                ;2359
0002a8  db03              BLT      |L5.690|
0002aa  bf00              NOP                            ;2359
                  |L5.684|
0002ac  f04f0b01          MOV      r11,#1                ;2359
0002b0  e01a              B        |L5.744|
                  |L5.690|
0002b2  f8dda008          LDR      r10,[sp,#8]           ;2360
0002b6  9b00              LDR      r3,[sp,#0]            ;2360
0002b8  f1ba0f00          CMP      r10,#0                ;2360
0002bc  bfb8              IT       LT                    ;2360
0002be  f1ca0a00          RSBLT    r10,r10,#0            ;2360
0002c2  2b00              CMP      r3,#0                 ;2360
0002c4  bfb8              IT       LT                    ;2360
0002c6  425b              RSBLT    r3,r3,#0              ;2360
0002c8  4553              CMP      r3,r10                ;2360
0002ca  dc0d              BGT      |L5.744|
0002cc  e9dda301          LDRD     r10,r3,[sp,#4]        ;2360
0002d0  2b00              CMP      r3,#0                 ;2360
0002d2  bfb8              IT       LT                    ;2360
0002d4  425b              RSBLT    r3,r3,#0              ;2360
0002d6  f1ba0f00          CMP      r10,#0                ;2360
0002da  bfb8              IT       LT                    ;2360
0002dc  f1ca0a00          RSBLT    r10,r10,#0            ;2360
0002e0  4553              CMP      r3,r10                ;2360
0002e2  db01              BLT      |L5.744|
                  |L5.740|
0002e4  f04f0b02          MOV      r11,#2                ;2360
                  |L5.744|
0002e8  f858302b          LDR      r3,[r8,r11,LSL #2]    ;2372
0002ec  4463              ADD      r3,r3,r12             ;2372
0002ee  f8c0313a          STR      r3,[r0,#0x13a]        ;2372
                  |L5.754|
0002f2  2300              MOVS     r3,#0                 ;2375
0002f4  2a01              CMP      r2,#1                 ;2376
0002f6  d06b              BEQ      |L5.976|
0002f8  2a02              CMP      r2,#2                 ;2386
0002fa  f00080ca          BEQ.W    |L5.1170|
0002fe  f000b928          B.W      |L5.1362|
000302  e7ff              B        |L5.772|
                  |L5.772|
000304  68fb              LDR      r3,[r7,#0xc]          ;2364  ; thisInfo
000306  f991e0e4          LDRSB    lr,[r1,#0xe4]         ;2364
00030a  f8d33e35          LDR      r3,[r3,#0xe35]        ;2364
00030e  4473              ADD      r3,r3,lr              ;2364
000310  4553              CMP      r3,r10                ;2364
000312  ddee              BLE      |L5.754|
000314  e9dd3a04          LDRD     r3,r10,[sp,#0x10]     ;2364
000318  4553              CMP      r3,r10                ;2366
00031a  bfd8              IT       LE                    ;2366
00031c  4653              MOVLE    r3,r10                ;2366
00031e  f8dda00c          LDR      r10,[sp,#0xc]         ;2366
000322  4553              CMP      r3,r10                ;2366
000324  db03              BLT      |L5.814|
000326  e9dd3a04          LDRD     r3,r10,[sp,#0x10]     ;2366
00032a  459a              CMP      r10,r3                ;2366
00032c  db00              BLT      |L5.816|
                  |L5.814|
00032e  4653              MOV      r3,r10                ;2366
                  |L5.816|
000330  f8dda048          LDR      r10,[sp,#0x48]        ;2366
000334  4453              ADD      r3,r3,r10             ;2366
000336  f8c03136          STR      r3,[r0,#0x136]        ;2366
00033a  e9dda300          LDRD     r10,r3,[sp,#0]        ;2366
00033e  f1ba0f00          CMP      r10,#0                ;2368
000342  bfb8              IT       LT                    ;2368
000344  f1ca0a00          RSBLT    r10,r10,#0            ;2368
000348  2b00              CMP      r3,#0                 ;2368
00034a  bfb8              IT       LT                    ;2368
00034c  425b              RSBLT    r3,r3,#0              ;2368
00034e  4553              CMP      r3,r10                ;2368
000350  dc0c              BGT      |L5.876|
000352  f8dda000          LDR      r10,[sp,#0]           ;2368
000356  9b02              LDR      r3,[sp,#8]            ;2368
000358  f1ba0f00          CMP      r10,#0                ;2368
00035c  bfb8              IT       LT                    ;2368
00035e  f1ca0a00          RSBLT    r10,r10,#0            ;2368
000362  2b00              CMP      r3,#0                 ;2368
000364  bfb8              IT       LT                    ;2368
000366  425b              RSBLT    r3,r3,#0              ;2368
000368  459a              CMP      r10,r3                ;2368
00036a  dabd              BGE      |L5.744|
                  |L5.876|
00036c  e9dd3a00          LDRD     r3,r10,[sp,#0]        ;2368
000370  f1ba0f00          CMP      r10,#0                ;2369
000374  bfb8              IT       LT                    ;2369
000376  f1ca0a00          RSBLT    r10,r10,#0            ;2369
00037a  2b00              CMP      r3,#0                 ;2369
00037c  bfb8              IT       LT                    ;2369
00037e  425b              RSBLT    r3,r3,#0              ;2369
000380  4553              CMP      r3,r10                ;2369
000382  dc0b              BGT      |L5.924|
000384  e9dda301          LDRD     r10,r3,[sp,#4]        ;2369
000388  f1ba0f00          CMP      r10,#0                ;2369
00038c  bfb8              IT       LT                    ;2369
00038e  f1ca0a00          RSBLT    r10,r10,#0            ;2369
000392  2b00              CMP      r3,#0                 ;2369
000394  bfb8              IT       LT                    ;2369
000396  425b              RSBLT    r3,r3,#0              ;2369
000398  459a              CMP      r10,r3                ;2369
00039a  da87              BGE      |L5.684|
                  |L5.924|
00039c  f8dda008          LDR      r10,[sp,#8]           ;2370
0003a0  9b00              LDR      r3,[sp,#0]            ;2370
0003a2  f1ba0f00          CMP      r10,#0                ;2370
0003a6  bfb8              IT       LT                    ;2370
0003a8  f1ca0a00          RSBLT    r10,r10,#0            ;2370
0003ac  2b00              CMP      r3,#0                 ;2370
0003ae  bfb8              IT       LT                    ;2370
0003b0  425b              RSBLT    r3,r3,#0              ;2370
0003b2  4553              CMP      r3,r10                ;2370
0003b4  dc98              BGT      |L5.744|
0003b6  e9dd3a01          LDRD     r3,r10,[sp,#4]        ;2370
0003ba  f1ba0f00          CMP      r10,#0                ;2370
0003be  bfb8              IT       LT                    ;2370
0003c0  f1ca0a00          RSBLT    r10,r10,#0            ;2370
0003c4  2b00              CMP      r3,#0                 ;2370
0003c6  bfb8              IT       LT                    ;2370
0003c8  425b              RSBLT    r3,r3,#0              ;2370
0003ca  459a              CMP      r10,r3                ;2370
0003cc  db8c              BLT      |L5.744|
0003ce  e789              B        |L5.740|
                  |L5.976|
0003d0  f99110e4          LDRSB    r1,[r1,#0xe4]         ;2376
0003d4  f8d0213a          LDR      r2,[r0,#0x13a]        ;2376
0003d8  4249              RSBS     r1,r1,#0              ;2376
0003da  428a              CMP      r2,r1                 ;2376
0003dc  f34080b9          BLE.W    |L5.1362|
0003e0  e9dd1201          LDRD     r1,r2,[sp,#4]         ;2376
0003e4  428a              CMP      r2,r1                 ;2378
0003e6  bfd8              IT       LE                    ;2378
0003e8  4611              MOVLE    r1,r2                 ;2378
0003ea  9a00              LDR      r2,[sp,#0]            ;2378
0003ec  4291              CMP      r1,r2                 ;2378
0003ee  dc03              BGT      |L5.1016|
0003f0  e9dd1201          LDRD     r1,r2,[sp,#4]         ;2378
0003f4  428a              CMP      r2,r1                 ;2378
0003f6  dc00              BGT      |L5.1018|
                  |L5.1016|
0003f8  4611              MOV      r1,r2                 ;2378
                  |L5.1018|
0003fa  4461              ADD      r1,r1,r12             ;2378
0003fc  e002              B        |L5.1028|
0003fe  0000              DCW      0x0000
                  |L5.1024|
                          DCD      ||.data||
                  |L5.1028|
000404  f8c0113a          STR      r1,[r0,#0x13a]        ;2378
000408  e9dd2103          LDRD     r2,r1,[sp,#0xc]       ;2378
00040c  2a00              CMP      r2,#0                 ;2380
00040e  bfb8              IT       LT                    ;2380
000410  4252              RSBLT    r2,r2,#0              ;2380
000412  2900              CMP      r1,#0                 ;2380
000414  bfb8              IT       LT                    ;2380
000416  4249              RSBLT    r1,r1,#0              ;2380
000418  4291              CMP      r1,r2                 ;2380
00041a  dc09              BGT      |L5.1072|
00041c  9903              LDR      r1,[sp,#0xc]          ;2380
00041e  9a05              LDR      r2,[sp,#0x14]         ;2380
000420  2900              CMP      r1,#0                 ;2380
000422  bfb8              IT       LT                    ;2380
000424  4249              RSBLT    r1,r1,#0              ;2380
000426  2a00              CMP      r2,#0                 ;2380
000428  bfb8              IT       LT                    ;2380
00042a  4252              RSBLT    r2,r2,#0              ;2380
00042c  4291              CMP      r1,r2                 ;2380
00042e  da2a              BGE      |L5.1158|
                  |L5.1072|
000430  e9dd1203          LDRD     r1,r2,[sp,#0xc]       ;2380
000434  2a00              CMP      r2,#0                 ;2381
000436  bfb8              IT       LT                    ;2381
000438  4252              RSBLT    r2,r2,#0              ;2381
00043a  2900              CMP      r1,#0                 ;2381
00043c  bfb8              IT       LT                    ;2381
00043e  4249              RSBLT    r1,r1,#0              ;2381
000440  4291              CMP      r1,r2                 ;2381
000442  dc0b              BGT      |L5.1116|
000444  e9dd2104          LDRD     r2,r1,[sp,#0x10]      ;2381
000448  2a00              CMP      r2,#0                 ;2381
00044a  bfb8              IT       LT                    ;2381
00044c  4252              RSBLT    r2,r2,#0              ;2381
00044e  2900              CMP      r1,#0                 ;2381
000450  bfb8              IT       LT                    ;2381
000452  4249              RSBLT    r1,r1,#0              ;2381
000454  428a              CMP      r2,r1                 ;2381
000456  bfa8              IT       GE                    ;2381
000458  2301              MOVGE    r3,#1                 ;2381
00045a  da14              BGE      |L5.1158|
                  |L5.1116|
00045c  9a05              LDR      r2,[sp,#0x14]         ;2382
00045e  9903              LDR      r1,[sp,#0xc]          ;2382
000460  2a00              CMP      r2,#0                 ;2382
000462  bfb8              IT       LT                    ;2382
000464  4252              RSBLT    r2,r2,#0              ;2382
000466  2900              CMP      r1,#0                 ;2382
000468  bfb8              IT       LT                    ;2382
00046a  4249              RSBLT    r1,r1,#0              ;2382
00046c  4291              CMP      r1,r2                 ;2382
00046e  dc0a              BGT      |L5.1158|
000470  e9dd1204          LDRD     r1,r2,[sp,#0x10]      ;2382
000474  2a00              CMP      r2,#0                 ;2382
000476  bfb8              IT       LT                    ;2382
000478  4252              RSBLT    r2,r2,#0              ;2382
00047a  2900              CMP      r1,#0                 ;2382
00047c  bfb8              IT       LT                    ;2382
00047e  4249              RSBLT    r1,r1,#0              ;2382
000480  428a              CMP      r2,r1                 ;2382
000482  bfa8              IT       GE                    ;2382
000484  2302              MOVGE    r3,#2                 ;2382
                  |L5.1158|
000486  a903              ADD      r1,sp,#0xc            ;2384
000488  9a12              LDR      r2,[sp,#0x48]         ;2384
00048a  f8511023          LDR      r1,[r1,r3,LSL #2]     ;2384
00048e  4411              ADD      r1,r1,r2              ;2384
000490  e05d              B        |L5.1358|
                  |L5.1170|
000492  68fa              LDR      r2,[r7,#0xc]          ;2386  ; thisInfo
000494  f99110e4          LDRSB    r1,[r1,#0xe4]         ;2386
000498  f8d22e39          LDR      r2,[r2,#0xe39]        ;2386
00049c  4411              ADD      r1,r1,r2              ;2386
00049e  f8d0213a          LDR      r2,[r0,#0x13a]        ;2386
0004a2  4291              CMP      r1,r2                 ;2386
0004a4  dd55              BLE      |L5.1362|
0004a6  e9dd1201          LDRD     r1,r2,[sp,#4]         ;2386
0004aa  4291              CMP      r1,r2                 ;2388
0004ac  bfd8              IT       LE                    ;2388
0004ae  4611              MOVLE    r1,r2                 ;2388
0004b0  9a00              LDR      r2,[sp,#0]            ;2388
0004b2  4291              CMP      r1,r2                 ;2388
0004b4  db03              BLT      |L5.1214|
0004b6  e9dd1201          LDRD     r1,r2,[sp,#4]         ;2388
0004ba  428a              CMP      r2,r1                 ;2388
0004bc  db00              BLT      |L5.1216|
                  |L5.1214|
0004be  4611              MOV      r1,r2                 ;2388
                  |L5.1216|
0004c0  4461              ADD      r1,r1,r12             ;2388
0004c2  f8c0113a          STR      r1,[r0,#0x13a]        ;2388
0004c6  e9dd2103          LDRD     r2,r1,[sp,#0xc]       ;2388
0004ca  2a00              CMP      r2,#0                 ;2390
0004cc  bfb8              IT       LT                    ;2390
0004ce  4252              RSBLT    r2,r2,#0              ;2390
0004d0  2900              CMP      r1,#0                 ;2390
0004d2  bfb8              IT       LT                    ;2390
0004d4  4249              RSBLT    r1,r1,#0              ;2390
0004d6  4291              CMP      r1,r2                 ;2390
0004d8  dc09              BGT      |L5.1262|
0004da  9a03              LDR      r2,[sp,#0xc]          ;2390
0004dc  9905              LDR      r1,[sp,#0x14]         ;2390
0004de  2a00              CMP      r2,#0                 ;2390
0004e0  bfb8              IT       LT                    ;2390
0004e2  4252              RSBLT    r2,r2,#0              ;2390
0004e4  2900              CMP      r1,#0                 ;2390
0004e6  bfb8              IT       LT                    ;2390
0004e8  4249              RSBLT    r1,r1,#0              ;2390
0004ea  428a              CMP      r2,r1                 ;2390
0004ec  da2a              BGE      |L5.1348|
                  |L5.1262|
0004ee  e9dd1203          LDRD     r1,r2,[sp,#0xc]       ;2390
0004f2  2a00              CMP      r2,#0                 ;2391
0004f4  bfb8              IT       LT                    ;2391
0004f6  4252              RSBLT    r2,r2,#0              ;2391
0004f8  2900              CMP      r1,#0                 ;2391
0004fa  bfb8              IT       LT                    ;2391
0004fc  4249              RSBLT    r1,r1,#0              ;2391
0004fe  4291              CMP      r1,r2                 ;2391
000500  dc0b              BGT      |L5.1306|
000502  e9dd2104          LDRD     r2,r1,[sp,#0x10]      ;2391
000506  2a00              CMP      r2,#0                 ;2391
000508  bfb8              IT       LT                    ;2391
00050a  4252              RSBLT    r2,r2,#0              ;2391
00050c  2900              CMP      r1,#0                 ;2391
00050e  bfb8              IT       LT                    ;2391
000510  4249              RSBLT    r1,r1,#0              ;2391
000512  428a              CMP      r2,r1                 ;2391
000514  bfa8              IT       GE                    ;2391
000516  2301              MOVGE    r3,#1                 ;2391
000518  da14              BGE      |L5.1348|
                  |L5.1306|
00051a  9a05              LDR      r2,[sp,#0x14]         ;2392
00051c  9903              LDR      r1,[sp,#0xc]          ;2392
00051e  2a00              CMP      r2,#0                 ;2392
000520  bfb8              IT       LT                    ;2392
000522  4252              RSBLT    r2,r2,#0              ;2392
000524  2900              CMP      r1,#0                 ;2392
000526  bfb8              IT       LT                    ;2392
000528  4249              RSBLT    r1,r1,#0              ;2392
00052a  4291              CMP      r1,r2                 ;2392
00052c  dc0a              BGT      |L5.1348|
00052e  e9dd1204          LDRD     r1,r2,[sp,#0x10]      ;2392
000532  2a00              CMP      r2,#0                 ;2392
000534  bfb8              IT       LT                    ;2392
000536  4252              RSBLT    r2,r2,#0              ;2392
000538  2900              CMP      r1,#0                 ;2392
00053a  bfb8              IT       LT                    ;2392
00053c  4249              RSBLT    r1,r1,#0              ;2392
00053e  428a              CMP      r2,r1                 ;2392
000540  bfa8              IT       GE                    ;2392
000542  2302              MOVGE    r3,#2                 ;2392
                  |L5.1348|
000544  aa03              ADD      r2,sp,#0xc            ;2394
000546  9912              LDR      r1,[sp,#0x48]         ;2394
000548  f8522023          LDR      r2,[r2,r3,LSL #2]     ;2394
00054c  4411              ADD      r1,r1,r2              ;2394
                  |L5.1358|
00054e  f8c01136          STR      r1,[r0,#0x136]        ;2394
                  |L5.1362|
000552  f8b40708          LDRH     r0,[r4,#0x708]        ;2397
000556  f8a40186          STRH     r0,[r4,#0x186]        ;2397
00055a  f8b4071c          LDRH     r0,[r4,#0x71c]        ;2398
00055e  f8a4019a          STRH     r0,[r4,#0x19a]        ;2398
                  |L5.1378|
000562  1e6d              SUBS     r5,r5,#1              ;2398
000564  f4bfad58          BCS      |L5.24|
000568  b013              ADD      sp,sp,#0x4c
00056a  e8bd8ff0          POP      {r4-r11,pc}
;;;2405   
                          ENDP


                          AREA ||i.algorithm_coord_PostProcess_1||, CODE, READONLY, ALIGN=2

                  algorithm_coord_PostProcess_1 PROC
;;;2405   
;;;2406   void algorithm_coord_PostProcess_1(void)
000000  e92d4ff0          PUSH     {r4-r11,lr}
;;;2407   {
;;;2408   	int i;
;;;2409   	tXY_t	temp_pos;
;;;2410   
;;;2411   	tCoordInfo_t 	*temp_coord;
;;;2412   
;;;2413   	temp_coord = &thisInfo->tCoord;
000004  4cfe              LDR      r4,|L6.1024|
000006  b097              SUB      sp,sp,#0x5c           ;2407
;;;2414   
;;;2415   	for( i=MAX_TOUCH_; i--; )
;;;2416   	{
;;;2417   		if(!thisModeConf->CoordEdge.bPostProcessInterpolationMode)
;;;2418   		{
;;;2419   			if( temp_coord->tPos.vusS[i] > 0 && temp_coord->tPastPos[0].vusS[i] == 0 )
;;;2420   			{
;;;2421   				if( temp_coord->cScreenDebCnt[i] > 2 )
;;;2422   				{
;;;2423   					if( algorithm_coord_IsEdgeArea(&temp_coord->tFirstPos.tXY[i], 0) > 0 )
;;;2424   					{
;;;2425   						int dist;
;;;2426   
;;;2427   						dist = algorithm_coord_calc_distance(temp_coord->tFirstPos.tXY[i], temp_coord->tOrgPos.tXY[i]);
;;;2428   
;;;2429   						if( dist > _BV(6) )
;;;2430   						{
;;;2431   							temp_coord->ucPostProcessRun[i] = 1;
;;;2432   							temp_pos = temp_coord->tPos.tXY[i];
;;;2433   							temp_coord->tPos.tXY[i] = temp_coord->tFirstPos.tXY[i];
;;;2434   							temp_coord->tFirstPos.tXY[i] = temp_pos;
;;;2435   						}
;;;2436   					}
;;;2437   				}
;;;2438   			}
;;;2439   		}
;;;2440   
;;;2441   		if(thisModeConf->CoordEdge.usPostProcessEdgeTH > 0)
;;;2442   		{
;;;2443   			if( ((temp_coord->tOrgPos.vusS[i] == 0 && temp_coord->tPastPos[2].vusS[i] > 0 && temp_coord->tPastPos[0].vusS[i] > 0 && temp_coord->tPastPos[4].vusS[i] > 0) && thisModeConf->CoordEdge.bPostProcessInterpolationMode)
;;;2444   			|| ((temp_coord->tOrgPos.vusS[i] == 0 && temp_coord->tPastPos[1].vusS[i] > 0 && temp_coord->tPastPos[0].vusS[i] > 0 && temp_coord->tPastPos[2].vusS[i] > 0) && !thisModeConf->CoordEdge.bPostProcessInterpolationMode) )
;;;2445   			{
;;;2446   				tXY_t pos;
;;;2447   				pos = temp_coord->tPastPos[0].tXY[i];				
;;;2448   				pos.x = ( (pos.x + thisInfo->tCoord.iXOffset ) * (thisCommonConf->iXResolution+thisModeConf->Coord.sFingerGlobalCoordiXResolutionOffset) ) / (thisInfo->tCoord.iInternalXRes + 2*thisInfo->tCoord.iXOffset);
;;;2449   				pos.y = ( (pos.y + thisInfo->tCoord.iYOffset ) * (thisCommonConf->iYResolution+thisModeConf->Coord.sFingerGlobalCoordiYResolutionOffset) ) / (thisInfo->tCoord.iInternalYRes + 2*thisInfo->tCoord.iYOffset);
;;;2450   				pos.x += thisModeConf->Coord.sFingerGlobalCoordiOffsetX;
;;;2451   				pos.y += thisModeConf->Coord.sFingerGlobalCoordiOffsetY;	
;;;2452   				
;;;2453   				if( (pos.x < 5 || pos.x > 32762 || pos.y < 5 || pos.y > 32762) && thisModeConf->CoordEdge.cPostProcessEndMargin == 0)
;;;2454   				{
;;;2455   				}
;;;2456   				else
;;;2457   				{				
;;;2458   					int ExpandTH = thisModeConf->CoordEdge.usPostProcessEdgeTH;
;;;2459   					uint8_t x_edge_f = 0;
;;;2460   					uint8_t y_edge_f = 0;
;;;2461   					
;;;2462   					if(temp_coord->tOrgPastPos[0].tXY[i].x < ExpandTH)x_edge_f = 1;
;;;2463   					else if(thisInfo->tCoord.iInternalXRes - temp_coord->tOrgPastPos[0].tXY[i].x < ExpandTH)x_edge_f = 2;
;;;2464   					
;;;2465   					if(temp_coord->tOrgPastPos[0].tXY[i].y < ExpandTH)y_edge_f = 1;
;;;2466   					else if(thisInfo->tCoord.iInternalYRes - temp_coord->tOrgPastPos[0].tXY[i].y < ExpandTH)y_edge_f = 2;
;;;2467   					
;;;2468   					if(x_edge_f || y_edge_f)
;;;2469   					{
;;;2470   						int dist_y[3] = {0,};			
;;;2471   						int dist_x[3] = {0,};      
;;;2472   						
;;;2473   						tXY_t temp_dist1 = temp_coord->tPastPos[0].tXY[i], temp_dist2, temp_dist3;
;;;2474   						if(thisModeConf->CoordEdge.bPostProcessInterpolationMode)
;;;2475   						{
;;;2476   							temp_dist2 = temp_coord->tPastPos[2].tXY[i];
;;;2477   							temp_dist3 = temp_coord->tPastPos[4].tXY[i];
;;;2478   						}
;;;2479   						else
;;;2480   						{
;;;2481   							temp_dist2 = temp_coord->tPastPos[1].tXY[i];
;;;2482   							temp_dist3 = temp_coord->tPastPos[2].tXY[i];
;;;2483   						}
;;;2484   					
;;;2485   						dist_y[0] = temp_dist1.y - temp_dist2.y;
;;;2486   						dist_x[0] = temp_dist1.x - temp_dist2.x;
;;;2487   
;;;2488   						dist_y[1] = temp_dist1.y - temp_dist3.y;
;;;2489   						dist_x[1] = temp_dist1.x - temp_dist3.x;
;;;2490   					
;;;2491   						dist_y[2] = temp_dist2.y - temp_dist3.y;
;;;2492   						dist_x[2] = temp_dist2.x - temp_dist3.x;
;;;2493   						
;;;2494   						if( (dist_x[0] < -thisModeConf->CoordEdge.ucPostProcessDisTH && dist_x[1] < -thisModeConf->CoordEdge.ucPostProcessDisTH && dist_x[2] < -thisModeConf->CoordEdge.ucPostProcessDisTH && x_edge_f == 1)
;;;2495   						|| (dist_x[0] > thisModeConf->CoordEdge.ucPostProcessDisTH   && dist_x[1] > thisModeConf->CoordEdge.ucPostProcessDisTH && dist_x[2] > thisModeConf->CoordEdge.ucPostProcessDisTH &&x_edge_f == 2)
;;;2496   						|| (dist_y[0] < -thisModeConf->CoordEdge.ucPostProcessDisTH  && dist_y[1] < -thisModeConf->CoordEdge.ucPostProcessDisTH && dist_y[2] < -thisModeConf->CoordEdge.ucPostProcessDisTH && y_edge_f == 1)
;;;2497   						|| (dist_y[0] > thisModeConf->CoordEdge.ucPostProcessDisTH   && dist_y[2] > thisModeConf->CoordEdge.ucPostProcessDisTH && dist_y[2] > thisModeConf->CoordEdge.ucPostProcessDisTH && y_edge_f == 2) )
;;;2498   						{
;;;2499   							temp_coord->tPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x + dist_x[0]/thisModeConf->CoordEdge.ucPostProcessExpendDiv;
;;;2500   							temp_coord->tPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y + dist_y[0]/thisModeConf->CoordEdge.ucPostProcessExpendDiv;
;;;2501   							
;;;2502   							uint8_t max_idx = 0;
;;;2503   							if(x_edge_f == 1 && temp_coord->tPos.tXY[i].x > -thisModeConf->CoordEdge.cPostProcessEndMargin)
;;;2504   							{
;;;2505   								temp_coord->tPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x + MIN(dist_x[0],MIN(dist_x[1], dist_x[2]));
;;;2506   							}
;;;2507   							else if(x_edge_f == 2 && temp_coord->tPos.tXY[i].x < thisInfo->tCoord.iInternalXRes + thisModeConf->CoordEdge.cPostProcessEndMargin)
;;;2508   							{
;;;2509   								temp_coord->tPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x + MAX(dist_x[0],MAX(dist_x[1], dist_x[2]));																		
;;;2510   							}
;;;2511   							
;;;2512   							if((x_edge_f == 1 || x_edge_f == 2) && y_edge_f == 0)
;;;2513   							{
;;;2514   								if(abs(dist_y[0]) >= abs(dist_y[1]) && abs(dist_y[0]) >= abs(dist_y[2]))max_idx = 0;
;;;2515   								else if(abs(dist_y[1]) >= abs(dist_y[0]) && abs(dist_y[1]) >= abs(dist_y[2]))max_idx = 1;
;;;2516   								else if(abs(dist_y[2]) >= abs(dist_y[0]) && abs(dist_y[2]) >= abs(dist_y[1]))max_idx = 2;
;;;2517   								
;;;2518   								temp_coord->tPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y + dist_y[max_idx];								
;;;2519   							}
;;;2520   							
;;;2521   							max_idx = 0;
;;;2522   							if(y_edge_f == 1 && temp_coord->tPos.tXY[i].y > -thisModeConf->CoordEdge.cPostProcessEndMargin)
;;;2523   							{
;;;2524   								temp_coord->tPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y + MIN(dist_y[0],MIN(dist_y[1], dist_y[2]));
;;;2525   							}
;;;2526   							else if(y_edge_f == 2 && temp_coord->tPos.tXY[i].y < thisInfo->tCoord.iInternalYRes + thisModeConf->CoordEdge.cPostProcessEndMargin)
;;;2527   							{
;;;2528   								temp_coord->tPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y + MAX(dist_y[0],MAX(dist_y[1], dist_y[2]));
;;;2529   							}
;;;2530   
;;;2531   							if((y_edge_f == 1 || y_edge_f == 2) && x_edge_f == 0)
;;;2532   							{		
;;;2533   								if(abs(dist_x[0]) >= abs(dist_x[1]) && abs(dist_x[0]) >= abs(dist_x[2]))max_idx = 0;
;;;2534   								else if(abs(dist_x[1]) >= abs(dist_x[0]) && abs(dist_x[1]) >= abs(dist_x[2]))max_idx = 1;
;;;2535   								else if(abs(dist_x[2]) >= abs(dist_x[0]) && abs(dist_x[2]) >= abs(dist_x[1]))max_idx = 2;
;;;2536   								
;;;2537   								temp_coord->tPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x + dist_x[max_idx];								
;;;2538   							}
;;;2539   								
;;;2540   							temp_coord->tPos.vusS[i]  =  temp_coord->tOrgPastPos[0].vusS[i];
;;;2541   							temp_coord->tPos.vusR[i]  =  temp_coord->tOrgPastPos[0].vusR[i];	
;;;2542   							
;;;2543   						}   
;;;2544   					}
;;;2545   				}
;;;2546   			}
;;;2547   		}
;;;2548   	}
;;;2549   }
000008  2509              MOVS     r5,#9
00000a  68e0              LDR      r0,[r4,#0xc]          ;2413  ; thisInfo
00000c  f04f0b01          MOV      r11,#1                ;2431
000010  f2003669          ADD      r6,r0,#0x369          ;2413
000014  f6477af6          MOV      r10,#0x7ff6           ;2453
000018  f04f0800          MOV      r8,#0                 ;2453
                  |L6.28|
00001c  68a0              LDR      r0,[r4,#8]            ;2417  ; thisModeConf
00001e  f89000e5          LDRB     r0,[r0,#0xe5]         ;2417
000022  bbd0              CBNZ     r0,|L6.154|
000024  eb060045          ADD      r0,r6,r5,LSL #1       ;2419
000028  f8b01186          LDRH     r1,[r0,#0x186]        ;2419
00002c  b3a9              CBZ      r1,|L6.154|
00002e  f8b00392          LDRH     r0,[r0,#0x392]        ;2419
000032  bb90              CBNZ     r0,|L6.154|
000034  eb060905          ADD      r9,r6,r5              ;2421
000038  f9990a64          LDRSB    r0,[r9,#0xa64]        ;2421
00003c  2802              CMP      r0,#2                 ;2421
00003e  dd2c              BLE      |L6.154|
000040  eb0607c5          ADD      r7,r6,r5,LSL #3       ;2423
000044  f207204f          ADD      r0,r7,#0x24f          ;2423
000048  2100              MOVS     r1,#0                 ;2423
00004a  f7fffffe          BL       algorithm_coord_IsEdgeArea
00004e  2800              CMP      r0,#0                 ;2423
000050  dd23              BLE      |L6.154|
000052  f8d7024f          LDR      r0,[r7,#0x24f]        ;2427
000056  f8d7359f          LDR      r3,[r7,#0x59f]        ;2427
00005a  f8d72253          LDR      r2,[r7,#0x253]        ;2427
00005e  f8d715a3          LDR      r1,[r7,#0x5a3]        ;2427
000062  1ac0              SUBS     r0,r0,r3              ;2427
000064  fb00f300          MUL      r3,r0,r0              ;2427
000068  1a50              SUBS     r0,r2,r1              ;2427
00006a  fb003000          MLA      r0,r0,r0,r3           ;2427
00006e  f7fffffe          BL       algorithm_calc_sqrt
000072  2840              CMP      r0,#0x40              ;2429
000074  dd11              BLE      |L6.154|
000076  f889ba78          STRB     r11,[r9,#0xa78]       ;2431
00007a  f8d71136          LDR      r1,[r7,#0x136]        ;2432
00007e  f8d7013a          LDR      r0,[r7,#0x13a]        ;2432
000082  f8d7224f          LDR      r2,[r7,#0x24f]        ;2433
000086  f8c72136          STR      r2,[r7,#0x136]        ;2433
00008a  f8d72253          LDR      r2,[r7,#0x253]        ;2433
00008e  f8c7213a          STR      r2,[r7,#0x13a]        ;2433
000092  f8c7124f          STR      r1,[r7,#0x24f]        ;2434
000096  f8c70253          STR      r0,[r7,#0x253]        ;2434
                  |L6.154|
00009a  68a0              LDR      r0,[r4,#8]            ;2441  ; thisModeConf
00009c  f8b020e0          LDRH     r2,[r0,#0xe0]         ;2441
0000a0  2a00              CMP      r2,#0                 ;2441
0000a2  f000826f          BEQ.W    |L6.1412|
0000a6  eb060145          ADD      r1,r6,r5,LSL #1       ;2443
0000aa  f8b135ef          LDRH     r3,[r1,#0x5ef]        ;2443
0000ae  2b00              CMP      r3,#0                 ;2443
0000b0  f0408268          BNE.W    |L6.1412|
0000b4  f8b13484          LDRH     r3,[r1,#0x484]        ;2443
0000b8  2b00              CMP      r3,#0                 ;2443
0000ba  bf1c              ITT      NE                    ;2443
0000bc  f8b1c392          LDRHNE   r12,[r1,#0x392]       ;2443
0000c0  f1bc0f00          CMPNE    r12,#0                ;2443
0000c4  d009              BEQ      |L6.218|
0000c6  f8b1c576          LDRH     r12,[r1,#0x576]       ;2443
0000ca  f1bc0f00          CMP      r12,#0                ;2443
0000ce  bf1c              ITT      NE                    ;2443
0000d0  f890c0e5          LDRBNE   r12,[r0,#0xe5]        ;2443
0000d4  f1bc0f00          CMPNE    r12,#0                ;2443
0000d8  d110              BNE      |L6.252|
                  |L6.218|
0000da  f8b1c40b          LDRH     r12,[r1,#0x40b]       ;2444
0000de  f1bc0f00          CMP      r12,#0                ;2444
0000e2  bf1e              ITTT     NE                    ;2444
0000e4  f8b1c392          LDRHNE   r12,[r1,#0x392]       ;2444
0000e8  f1bc0f00          CMPNE    r12,#0                ;2444
0000ec  2b00              CMPNE    r3,#0                 ;2444
0000ee  f0008249          BEQ.W    |L6.1412|
0000f2  f89030e5          LDRB     r3,[r0,#0xe5]         ;2444
0000f6  2b00              CMP      r3,#0                 ;2444
0000f8  f0408244          BNE.W    |L6.1412|
                  |L6.252|
0000fc  eb0603c5          ADD      r3,r6,r5,LSL #3       ;2447
000100  f8d37342          LDR      r7,[r3,#0x342]        ;2447
000104  9709              STR      r7,[sp,#0x24]         ;2447
000106  f8d39346          LDR      r9,[r3,#0x346]        ;2447
00010a  f8cd9020          STR      r9,[sp,#0x20]         ;2447
00010e  f8cd901c          STR      r9,[sp,#0x1c]         ;2448
000112  f8d4c00c          LDR      r12,[r4,#0xc]         ;2448  ; thisInfo
000116  f8cdc03c          STR      r12,[sp,#0x3c]        ;2448
00011a  46e6              MOV      lr,r12                ;2448
00011c  f8dcce2d          LDR      r12,[r12,#0xe2d]      ;2448
000120  f8cdc008          STR      r12,[sp,#8]           ;2448
000124  4467              ADD      r7,r7,r12             ;2448
000126  f8d4c004          LDR      r12,[r4,#4]           ;2448  ; thisCommonConf
00012a  f8cdc014          STR      r12,[sp,#0x14]        ;2448
00012e  f9b09099          LDRSH    r9,[r0,#0x99]         ;2448
000132  f8dcc000          LDR      r12,[r12,#0]          ;2448
000136  44cc              ADD      r12,r12,r9            ;2448
000138  fb07f90c          MUL      r9,r7,r12             ;2448
00013c  f8de7e35          LDR      r7,[lr,#0xe35]        ;2448
000140  f8ddc008          LDR      r12,[sp,#8]           ;2448
000144  9703              STR      r7,[sp,#0xc]          ;2448
000146  eb070c4c          ADD      r12,r7,r12,LSL #1     ;2448
00014a  fb99f9fc          SDIV     r9,r9,r12             ;2448
00014e  f8cd9008          STR      r9,[sp,#8]            ;2449
000152  f8dd901c          LDR      r9,[sp,#0x1c]         ;2449
000156  f8dece31          LDR      r12,[lr,#0xe31]       ;2449
00015a  f8cdc018          STR      r12,[sp,#0x18]        ;2449
00015e  eb09070c          ADD      r7,r9,r12             ;2449
000162  f8ddc014          LDR      r12,[sp,#0x14]        ;2449
000166  f9b0909b          LDRSH    r9,[r0,#0x9b]         ;2449
00016a  f8dcc004          LDR      r12,[r12,#4]          ;2449
00016e  44cc              ADD      r12,r12,r9            ;2449
000170  fb07f90c          MUL      r9,r7,r12             ;2449
000174  f8de7e39          LDR      r7,[lr,#0xe39]        ;2449
000178  f8ddc018          LDR      r12,[sp,#0x18]        ;2449
00017c  f9b0e09d          LDRSH    lr,[r0,#0x9d]         ;2450
000180  eb070c4c          ADD      r12,r7,r12,LSL #1     ;2449
000184  fb99fcfc          SDIV     r12,r9,r12            ;2449
000188  f8dd9008          LDR      r9,[sp,#8]            ;2450
00018c  44f1              ADD      r9,r9,lr              ;2450
00018e  f9b0e09f          LDRSH    lr,[r0,#0x9f]         ;2451
000192  f1a90905          SUB      r9,r9,#5              ;2451
000196  44f4              ADD      r12,r12,lr            ;2451
000198  45d1              CMP      r9,r10                ;2453
00019a  d206              BCS      |L6.426|
00019c  f1bc0f05          CMP      r12,#5                ;2453
0001a0  db03              BLT      |L6.426|
0001a2  f64779fa          MOV      r9,#0x7ffa            ;2453
0001a6  45cc              CMP      r12,r9                ;2453
0001a8  dd05              BLE      |L6.438|
                  |L6.426|
0001aa  f890c0e4          LDRB     r12,[r0,#0xe4]        ;2453
0001ae  f1bc0f00          CMP      r12,#0                ;2453
0001b2  f00081e7          BEQ.W    |L6.1412|
                  |L6.438|
0001b6  f04f0c00          MOV      r12,#0                ;2459
0001ba  f8cdc048          STR      r12,[sp,#0x48]        ;2460
0001be  f8cdc044          STR      r12,[sp,#0x44]        ;2462
0001c2  f8d3c6b8          LDR      r12,[r3,#0x6b8]       ;2462
0001c6  f8cdc040          STR      r12,[sp,#0x40]        ;2462
0001ca  4594              CMP      r12,r2                ;2462
0001cc  bfb8              IT       LT                    ;2462
0001ce  f04f0c01          MOVLT    r12,#1                ;2462
0001d2  db0a              BLT      |L6.490|
0001d4  f8ddc00c          LDR      r12,[sp,#0xc]         ;2463
0001d8  f8dd9040          LDR      r9,[sp,#0x40]         ;2463
0001dc  ebac0c09          SUB      r12,r12,r9            ;2463
0001e0  4562              CMP      r2,r12                ;2463
0001e2  bfc8              IT       GT                    ;2463
0001e4  f04f0c02          MOVGT    r12,#2                ;2463
0001e8  dd01              BLE      |L6.494|
                  |L6.490|
0001ea  f8cdc048          STR      r12,[sp,#0x48]        ;2463
                  |L6.494|
0001ee  f8d3c6bc          LDR      r12,[r3,#0x6bc]       ;2465
0001f2  f8cdc04c          STR      r12,[sp,#0x4c]        ;2465
0001f6  4594              CMP      r12,r2                ;2465
0001f8  bfb8              IT       LT                    ;2465
0001fa  2201              MOVLT    r2,#1                 ;2465
0001fc  db05              BLT      |L6.522|
0001fe  eba70c0c          SUB      r12,r7,r12            ;2466
000202  4562              CMP      r2,r12                ;2466
000204  bfc8              IT       GT                    ;2466
000206  2202              MOVGT    r2,#2                 ;2466
000208  dd00              BLE      |L6.524|
                  |L6.522|
00020a  9211              STR      r2,[sp,#0x44]         ;2466
                  |L6.524|
00020c  e9ddc211          LDRD     r12,r2,[sp,#0x44]     ;2466
000210  ea52020c          ORRS     r2,r2,r12             ;2468
000214  f00081b6          BEQ.W    |L6.1412|
000218  f8cd8010          STR      r8,[sp,#0x10]         ;2471
00021c  f8cd8008          STR      r8,[sp,#8]            ;2470
000220  9a09              LDR      r2,[sp,#0x24]         ;2473
000222  f8cd8004          STR      r8,[sp,#4]            ;2470
000226  f8cd800c          STR      r8,[sp,#0xc]          ;2471
00022a  920c              STR      r2,[sp,#0x30]         ;2473
00022c  f8cd8018          STR      r8,[sp,#0x18]         ;2471
000230  9a08              LDR      r2,[sp,#0x20]         ;2473
000232  f8cd8014          STR      r8,[sp,#0x14]         ;2471
000236  920b              STR      r2,[sp,#0x2c]         ;2474
000238  f89020e5          LDRB     r2,[r0,#0xe5]         ;2474
00023c  b142              CBZ      r2,|L6.592|
00023e  f8d3e434          LDR      lr,[r3,#0x434]        ;2476
000242  f8d37438          LDR      r7,[r3,#0x438]        ;2476
000246  f8d32526          LDR      r2,[r3,#0x526]        ;2477
00024a  f8d3c52a          LDR      r12,[r3,#0x52a]       ;2477
00024e  e007              B        |L6.608|
                  |L6.592|
000250  f8d3e3bb          LDR      lr,[r3,#0x3bb]        ;2481
000254  f8d373bf          LDR      r7,[r3,#0x3bf]        ;2481
000258  f8d32434          LDR      r2,[r3,#0x434]        ;2482
00025c  f8d3c438          LDR      r12,[r3,#0x438]       ;2482
                  |L6.608|
000260  f8dd902c          LDR      r9,[sp,#0x2c]         ;2485
000264  eba90907          SUB      r9,r9,r7              ;2485
000268  f8cd9004          STR      r9,[sp,#4]            ;2486
00026c  f8dd9030          LDR      r9,[sp,#0x30]         ;2486
000270  eba9090e          SUB      r9,r9,lr              ;2486
000274  f8cd9010          STR      r9,[sp,#0x10]         ;2488
000278  f8dd902c          LDR      r9,[sp,#0x2c]         ;2488
00027c  eba9090c          SUB      r9,r9,r12             ;2488
000280  f8cd9008          STR      r9,[sp,#8]            ;2489
000284  f8dd9030          LDR      r9,[sp,#0x30]         ;2489
000288  eba70c0c          SUB      r12,r7,r12            ;2491
00028c  eba90902          SUB      r9,r9,r2              ;2489
000290  ebae0202          SUB      r2,lr,r2              ;2492
000294  f8cdc00c          STR      r12,[sp,#0xc]         ;2492
000298  e9cd9205          STRD     r9,r2,[sp,#0x14]      ;2492
00029c  f890c0e2          LDRB     r12,[r0,#0xe2]        ;2494
0002a0  9f04              LDR      r7,[sp,#0x10]         ;2494
0002a2  f1cc0200          RSB      r2,r12,#0             ;2494
0002a6  4297              CMP      r7,r2                 ;2494
0002a8  bfbe              ITTT     LT                    ;2494
0002aa  4591              CMPLT    r9,r2                 ;2494
0002ac  9f06              LDRLT    r7,[sp,#0x18]         ;2494
0002ae  4297              CMPLT    r7,r2                 ;2494
0002b0  da02              BGE      |L6.696|
0002b2  9f12              LDR      r7,[sp,#0x48]         ;2494
0002b4  2f01              CMP      r7,#1                 ;2494
0002b6  d01f              BEQ      |L6.760|
                  |L6.696|
0002b8  9f04              LDR      r7,[sp,#0x10]         ;2495
0002ba  4567              CMP      r7,r12                ;2495
0002bc  bfc2              ITTT     GT                    ;2495
0002be  45e1              CMPGT    r9,r12                ;2495
0002c0  9f06              LDRGT    r7,[sp,#0x18]         ;2495
0002c2  4567              CMPGT    r7,r12                ;2495
0002c4  dd02              BLE      |L6.716|
0002c6  9f12              LDR      r7,[sp,#0x48]         ;2495
0002c8  2f02              CMP      r7,#2                 ;2495
0002ca  d015              BEQ      |L6.760|
                  |L6.716|
0002cc  9f01              LDR      r7,[sp,#4]            ;2496
0002ce  4297              CMP      r7,r2                 ;2496
0002d0  bfbf              ITTTT    LT                    ;2496
0002d2  9f02              LDRLT    r7,[sp,#8]            ;2496
0002d4  4297              CMPLT    r7,r2                 ;2496
0002d6  9f03              LDRLT    r7,[sp,#0xc]          ;2496
0002d8  4297              CMPLT    r7,r2                 ;2496
0002da  da02              BGE      |L6.738|
0002dc  9a11              LDR      r2,[sp,#0x44]         ;2496
0002de  2a01              CMP      r2,#1                 ;2496
0002e0  d00a              BEQ      |L6.760|
                  |L6.738|
0002e2  9a01              LDR      r2,[sp,#4]            ;2497
0002e4  4562              CMP      r2,r12                ;2497
0002e6  bfc4              ITT      GT                    ;2497
0002e8  9a03              LDRGT    r2,[sp,#0xc]          ;2497
0002ea  4562              CMPGT    r2,r12                ;2497
0002ec  f340814a          BLE.W    |L6.1412|
0002f0  9a11              LDR      r2,[sp,#0x44]         ;2497
0002f2  2a02              CMP      r2,#2                 ;2497
0002f4  f0408146          BNE.W    |L6.1412|
                  |L6.760|
0002f8  f890c0e3          LDRB     r12,[r0,#0xe3]        ;2499
0002fc  9a04              LDR      r2,[sp,#0x10]         ;2499
0002fe  fb92fcfc          SDIV     r12,r2,r12            ;2499
000302  9a10              LDR      r2,[sp,#0x40]         ;2499
000304  4494              ADD      r12,r12,r2            ;2499
000306  f8c3c136          STR      r12,[r3,#0x136]       ;2499
00030a  f89070e3          LDRB     r7,[r0,#0xe3]         ;2500
00030e  9a01              LDR      r2,[sp,#4]            ;2500
000310  fb92f7f7          SDIV     r7,r2,r7              ;2500
000314  9a13              LDR      r2,[sp,#0x4c]         ;2500
000316  4417              ADD      r7,r7,r2              ;2500
000318  f8c3713a          STR      r7,[r3,#0x13a]        ;2500
00031c  f8dd9048          LDR      r9,[sp,#0x48]         ;2503
000320  2200              MOVS     r2,#0                 ;2502
000322  f1b90f01          CMP      r9,#1                 ;2503
000326  d003              BEQ      |L6.816|
000328  f1b90f02          CMP      r9,#2                 ;2507
00032c  d015              BEQ      |L6.858|
00032e  e034              B        |L6.922|
                  |L6.816|
000330  f99090e4          LDRSB    r9,[r0,#0xe4]         ;2503
000334  f1c90900          RSB      r9,r9,#0              ;2503
000338  45cc              CMP      r12,r9                ;2503
00033a  dd29              BLE      |L6.912|
00033c  e9ddc905          LDRD     r12,r9,[sp,#0x14]     ;2503
000340  45e1              CMP      r9,r12                ;2505
000342  bfd8              IT       LE                    ;2505
000344  46cc              MOVLE    r12,r9                ;2505
000346  f8dd9010          LDR      r9,[sp,#0x10]         ;2505
00034a  45cc              CMP      r12,r9                ;2505
00034c  dc03              BGT      |L6.854|
00034e  e9ddc905          LDRD     r12,r9,[sp,#0x14]     ;2505
000352  45e1              CMP      r9,r12                ;2505
000354  dc17              BGT      |L6.902|
                  |L6.854|
000356  46cc              MOV      r12,r9                ;2505
000358  e015              B        |L6.902|
                  |L6.858|
00035a  f8dd903c          LDR      r9,[sp,#0x3c]         ;2507
00035e  f990e0e4          LDRSB    lr,[r0,#0xe4]         ;2507
000362  f8d99e35          LDR      r9,[r9,#0xe35]        ;2507
000366  44f1              ADD      r9,r9,lr              ;2507
000368  45e1              CMP      r9,r12                ;2507
00036a  dd11              BLE      |L6.912|
00036c  e9ddc905          LDRD     r12,r9,[sp,#0x14]     ;2507
000370  45cc              CMP      r12,r9                ;2509
000372  bfd8              IT       LE                    ;2509
000374  46cc              MOVLE    r12,r9                ;2509
000376  f8dd9010          LDR      r9,[sp,#0x10]         ;2509
00037a  45cc              CMP      r12,r9                ;2509
00037c  dbeb              BLT      |L6.854|
00037e  e9ddc905          LDRD     r12,r9,[sp,#0x14]     ;2509
000382  45e1              CMP      r9,r12                ;2509
000384  dae7              BGE      |L6.854|
                  |L6.902|
000386  f8dd9040          LDR      r9,[sp,#0x40]         ;2509
00038a  44cc              ADD      r12,r12,r9            ;2509
00038c  f8c3c136          STR      r12,[r3,#0x136]       ;2509
                  |L6.912|
000390  f8ddc044          LDR      r12,[sp,#0x44]        ;2512
000394  f1bc0f00          CMP      r12,#0                ;2512
000398  d009              BEQ      |L6.942|
                  |L6.922|
00039a  f8ddc044          LDR      r12,[sp,#0x44]        ;2522
00039e  f1bc0f01          CMP      r12,#1                ;2522
0003a2  d05e              BEQ      |L6.1122|
0003a4  f1bc0f02          CMP      r12,#2                ;2526
0003a8  d070              BEQ      |L6.1164|
0003aa  f000b8e3          B.W      |L6.1396|
                  |L6.942|
0003ae  e9ddc001          LDRD     r12,r0,[sp,#4]        ;2526
0003b2  f1bc0f00          CMP      r12,#0                ;2514
0003b6  bfb8              IT       LT                    ;2514
0003b8  f1cc0c00          RSBLT    r12,r12,#0            ;2514
0003bc  2800              CMP      r0,#0                 ;2514
0003be  bfb8              IT       LT                    ;2514
0003c0  4240              RSBLT    r0,r0,#0              ;2514
0003c2  4560              CMP      r0,r12                ;2514
0003c4  dc0c              BGT      |L6.992|
0003c6  f8ddc004          LDR      r12,[sp,#4]           ;2514
0003ca  9803              LDR      r0,[sp,#0xc]          ;2514
0003cc  f1bc0f00          CMP      r12,#0                ;2514
0003d0  bfb8              IT       LT                    ;2514
0003d2  f1cc0c00          RSBLT    r12,r12,#0            ;2514
0003d6  2800              CMP      r0,#0                 ;2514
0003d8  bfb8              IT       LT                    ;2514
0003da  4240              RSBLT    r0,r0,#0              ;2514
0003dc  4584              CMP      r12,r0                ;2514
0003de  da37              BGE      |L6.1104|
                  |L6.992|
0003e0  e9dd0c01          LDRD     r0,r12,[sp,#4]        ;2514
0003e4  f1bc0f00          CMP      r12,#0                ;2515
0003e8  bfb8              IT       LT                    ;2515
0003ea  f1cc0c00          RSBLT    r12,r12,#0            ;2515
0003ee  2800              CMP      r0,#0                 ;2515
0003f0  bfb8              IT       LT                    ;2515
0003f2  4240              RSBLT    r0,r0,#0              ;2515
0003f4  4560              CMP      r0,r12                ;2515
0003f6  dc11              BGT      |L6.1052|
0003f8  e9ddc002          LDRD     r12,r0,[sp,#8]        ;2515
0003fc  e002              B        |L6.1028|
0003fe  0000              DCW      0x0000
                  |L6.1024|
                          DCD      ||.data||
                  |L6.1028|
000404  f1bc0f00          CMP      r12,#0                ;2515
000408  bfb8              IT       LT                    ;2515
00040a  f1cc0c00          RSBLT    r12,r12,#0            ;2515
00040e  2800              CMP      r0,#0                 ;2515
000410  bfb8              IT       LT                    ;2515
000412  4240              RSBLT    r0,r0,#0              ;2515
000414  4584              CMP      r12,r0                ;2515
000416  bfa8              IT       GE                    ;2515
000418  2201              MOVGE    r2,#1                 ;2515
00041a  da19              BGE      |L6.1104|
                  |L6.1052|
00041c  9803              LDR      r0,[sp,#0xc]          ;2516
00041e  f8ddc004          LDR      r12,[sp,#4]           ;2516
000422  2800              CMP      r0,#0                 ;2516
000424  bfb8              IT       LT                    ;2516
000426  4240              RSBLT    r0,r0,#0              ;2516
000428  f1bc0f00          CMP      r12,#0                ;2516
00042c  bfb8              IT       LT                    ;2516
00042e  f1cc0c00          RSBLT    r12,r12,#0            ;2516
000432  4584              CMP      r12,r0                ;2516
000434  dc0c              BGT      |L6.1104|
000436  e9dd0c02          LDRD     r0,r12,[sp,#8]        ;2516
00043a  f1bc0f00          CMP      r12,#0                ;2516
00043e  bfb8              IT       LT                    ;2516
000440  f1cc0c00          RSBLT    r12,r12,#0            ;2516
000444  2800              CMP      r0,#0                 ;2516
000446  bfb8              IT       LT                    ;2516
000448  4240              RSBLT    r0,r0,#0              ;2516
00044a  4584              CMP      r12,r0                ;2516
00044c  bfa8              IT       GE                    ;2516
00044e  2202              MOVGE    r2,#2                 ;2516
                  |L6.1104|
000450  a801              ADD      r0,sp,#4              ;2518
000452  f8ddc04c          LDR      r12,[sp,#0x4c]        ;2518
000456  f8500022          LDR      r0,[r0,r2,LSL #2]     ;2518
00045a  4460              ADD      r0,r0,r12             ;2518
00045c  f8c3013a          STR      r0,[r3,#0x13a]        ;2518
000460  e088              B        |L6.1396|
                  |L6.1122|
000462  f99000e4          LDRSB    r0,[r0,#0xe4]         ;2522
000466  4240              RSBS     r0,r0,#0              ;2522
000468  4287              CMP      r7,r0                 ;2522
00046a  dd2a              BLE      |L6.1218|
00046c  e9dd0c02          LDRD     r0,r12,[sp,#8]        ;2522
000470  4584              CMP      r12,r0                ;2524
000472  bfd8              IT       LE                    ;2524
000474  4660              MOVLE    r0,r12                ;2524
000476  f8ddc004          LDR      r12,[sp,#4]           ;2524
00047a  4560              CMP      r0,r12                ;2524
00047c  dc03              BGT      |L6.1158|
00047e  e9dd0c02          LDRD     r0,r12,[sp,#8]        ;2524
000482  4584              CMP      r12,r0                ;2524
000484  dc18              BGT      |L6.1208|
                  |L6.1158|
000486  4660              MOV      r0,r12                ;2524
000488  e016              B        |L6.1208|
00048a  e7ff              B        |L6.1164|
                  |L6.1164|
00048c  f8ddc03c          LDR      r12,[sp,#0x3c]        ;2526
000490  f99000e4          LDRSB    r0,[r0,#0xe4]         ;2526
000494  f8dcce39          LDR      r12,[r12,#0xe39]      ;2526
000498  4460              ADD      r0,r0,r12             ;2526
00049a  42b8              CMP      r0,r7                 ;2526
00049c  dd11              BLE      |L6.1218|
00049e  e9dd0c02          LDRD     r0,r12,[sp,#8]        ;2526
0004a2  4560              CMP      r0,r12                ;2528
0004a4  bfd8              IT       LE                    ;2528
0004a6  4660              MOVLE    r0,r12                ;2528
0004a8  f8ddc004          LDR      r12,[sp,#4]           ;2528
0004ac  4560              CMP      r0,r12                ;2528
0004ae  dbea              BLT      |L6.1158|
0004b0  e9dd0c02          LDRD     r0,r12,[sp,#8]        ;2528
0004b4  4584              CMP      r12,r0                ;2528
0004b6  dae6              BGE      |L6.1158|
                  |L6.1208|
0004b8  f8ddc04c          LDR      r12,[sp,#0x4c]        ;2528
0004bc  4460              ADD      r0,r0,r12             ;2528
0004be  f8c3013a          STR      r0,[r3,#0x13a]        ;2528
                  |L6.1218|
0004c2  9812              LDR      r0,[sp,#0x48]         ;2531
0004c4  bbd8              CBNZ     r0,|L6.1342|
0004c6  e9ddc004          LDRD     r12,r0,[sp,#0x10]     ;2531
0004ca  f1bc0f00          CMP      r12,#0                ;2533
0004ce  bfb8              IT       LT                    ;2533
0004d0  f1cc0c00          RSBLT    r12,r12,#0            ;2533
0004d4  2800              CMP      r0,#0                 ;2533
0004d6  bfb8              IT       LT                    ;2533
0004d8  4240              RSBLT    r0,r0,#0              ;2533
0004da  4560              CMP      r0,r12                ;2533
0004dc  dc0c              BGT      |L6.1272|
0004de  9804              LDR      r0,[sp,#0x10]         ;2533
0004e0  f8ddc018          LDR      r12,[sp,#0x18]        ;2533
0004e4  2800              CMP      r0,#0                 ;2533
0004e6  bfb8              IT       LT                    ;2533
0004e8  4240              RSBLT    r0,r0,#0              ;2533
0004ea  f1bc0f00          CMP      r12,#0                ;2533
0004ee  bfb8              IT       LT                    ;2533
0004f0  f1cc0c00          RSBLT    r12,r12,#0            ;2533
0004f4  4560              CMP      r0,r12                ;2533
0004f6  da35              BGE      |L6.1380|
                  |L6.1272|
0004f8  e9dd0c04          LDRD     r0,r12,[sp,#0x10]     ;2533
0004fc  f1bc0f00          CMP      r12,#0                ;2534
000500  bfb8              IT       LT                    ;2534
000502  f1cc0c00          RSBLT    r12,r12,#0            ;2534
000506  2800              CMP      r0,#0                 ;2534
000508  bfb8              IT       LT                    ;2534
00050a  4240              RSBLT    r0,r0,#0              ;2534
00050c  4560              CMP      r0,r12                ;2534
00050e  dc0d              BGT      |L6.1324|
000510  e9ddc005          LDRD     r12,r0,[sp,#0x14]     ;2534
000514  f1bc0f00          CMP      r12,#0                ;2534
000518  bfb8              IT       LT                    ;2534
00051a  f1cc0c00          RSBLT    r12,r12,#0            ;2534
00051e  2800              CMP      r0,#0                 ;2534
000520  bfb8              IT       LT                    ;2534
000522  4240              RSBLT    r0,r0,#0              ;2534
000524  4584              CMP      r12,r0                ;2534
000526  bfa8              IT       GE                    ;2534
000528  2201              MOVGE    r2,#1                 ;2534
00052a  da1b              BGE      |L6.1380|
                  |L6.1324|
00052c  9806              LDR      r0,[sp,#0x18]         ;2535
00052e  f8ddc010          LDR      r12,[sp,#0x10]        ;2535
000532  2800              CMP      r0,#0                 ;2535
000534  bfb8              IT       LT                    ;2535
000536  4240              RSBLT    r0,r0,#0              ;2535
000538  f1bc0f00          CMP      r12,#0                ;2535
00053c  e000              B        |L6.1344|
                  |L6.1342|
00053e  e019              B        |L6.1396|
                  |L6.1344|
000540  bfb8              IT       LT                    ;2535
000542  f1cc0c00          RSBLT    r12,r12,#0            ;2535
000546  4584              CMP      r12,r0                ;2535
000548  dc0c              BGT      |L6.1380|
00054a  e9dd0c05          LDRD     r0,r12,[sp,#0x14]     ;2535
00054e  f1bc0f00          CMP      r12,#0                ;2535
000552  bfb8              IT       LT                    ;2535
000554  f1cc0c00          RSBLT    r12,r12,#0            ;2535
000558  2800              CMP      r0,#0                 ;2535
00055a  bfb8              IT       LT                    ;2535
00055c  4240              RSBLT    r0,r0,#0              ;2535
00055e  4584              CMP      r12,r0                ;2535
000560  bfa8              IT       GE                    ;2535
000562  2202              MOVGE    r2,#2                 ;2535
                  |L6.1380|
000564  a804              ADD      r0,sp,#0x10           ;2537
000566  f8ddc040          LDR      r12,[sp,#0x40]        ;2537
00056a  f8500022          LDR      r0,[r0,r2,LSL #2]     ;2537
00056e  4460              ADD      r0,r0,r12             ;2537
000570  f8c30136          STR      r0,[r3,#0x136]        ;2537
                  |L6.1396|
000574  f8b10708          LDRH     r0,[r1,#0x708]        ;2540
000578  f8a10186          STRH     r0,[r1,#0x186]        ;2540
00057c  f8b1071c          LDRH     r0,[r1,#0x71c]        ;2541
000580  f8a1019a          STRH     r0,[r1,#0x19a]        ;2541
                  |L6.1412|
000584  1e6d              SUBS     r5,r5,#1              ;2541
000586  f4bfad49          BCS      |L6.28|
00058a  b017              ADD      sp,sp,#0x5c
00058c  e8bd8ff0          POP      {r4-r11,pc}
;;;2550   
                          ENDP


                          AREA ||i.algorithm_coord_UpdatePosHistoryInfo||, CODE, READONLY, ALIGN=2

                  algorithm_coord_UpdatePosHistoryInfo PROC
;;;2683   
;;;2684   void algorithm_coord_UpdatePosHistoryInfo(void)
000000  484f              LDR      r0,|L7.320|
;;;2685   {
000002  b410              PUSH     {r4}
;;;2686   	int i;
;;;2687   
;;;2688   	tCoordInfo_t 	*temp_coord;
;;;2689   
;;;2690   	temp_coord = &thisInfo->tCoord;
000004  68c0              LDR      r0,[r0,#0xc]  ; thisInfo
;;;2691   	
;;;2692   #if (INTERPOLATION_VER1_En == YES || INTERPOLATION_VER2_En == YES || INTERPOLATION_VER3_En == YES)	
;;;2693   	if(temp_coord->bInterpolation_On)
;;;2694   	{
;;;2695   		temp_coord->tPastPos[4].sFinger_ 	    = temp_coord->tPastPos[3].sFinger_;
;;;2696   		temp_coord->tPastPos[3].sFinger_ 	    = temp_coord->tPastPos[2].sFinger_;
;;;2697   		
;;;2698   		temp_coord->tOrgPastPos[4].sFinger_ 	= temp_coord->tOrgPastPos[3].sFinger_;
;;;2699   		temp_coord->tOrgPastPos[3].sFinger_ 	= temp_coord->tOrgPastPos[2].sFinger_;
;;;2700   	}
;;;2701   #endif
;;;2702   
;;;2703   	temp_coord->tPastPos[2].sFinger_ 	    = temp_coord->tPastPos[1].sFinger_;
;;;2704   	temp_coord->tPastPos[1].sFinger_ 	    = temp_coord->tPastPos[0].sFinger_;
;;;2705   	temp_coord->tPastPos[0].sFinger_ 	    = temp_coord->tPos.sFinger_;
;;;2706   
;;;2707   	temp_coord->tOrgPastPos[2].sFinger_ 	= temp_coord->tOrgPastPos[1].sFinger_;
;;;2708   	temp_coord->tOrgPastPos[1].sFinger_ 	= temp_coord->tOrgPastPos[0].sFinger_;
;;;2709   	temp_coord->tOrgPastPos[0].sFinger_ 	= temp_coord->tOrgPos.sFinger_;
;;;2710   
;;;2711   	for( i=MAX_TOUCH_; i--; )
;;;2712   	{
;;;2713   #if (INTERPOLATION_VER1_En == YES || INTERPOLATION_VER2_En == YES || INTERPOLATION_VER3_En == YES)
;;;2714   		if(temp_coord->bInterpolation_On)
;;;2715   		{
;;;2716   			temp_coord->tPastPos[4].tXY[i]         = temp_coord->tPastPos[3].tXY[i];
;;;2717   			temp_coord->tPastPos[4].vusR[i]        = temp_coord->tPastPos[3].vusR[i];
;;;2718   			temp_coord->tPastPos[4].vusS[i]        = temp_coord->tPastPos[3].vusS[i];
;;;2719   			
;;;2720   			temp_coord->tPastPos[3].tXY[i]         = temp_coord->tPastPos[2].tXY[i];
;;;2721   			temp_coord->tPastPos[3].vusR[i]        = temp_coord->tPastPos[2].vusR[i];
;;;2722   			temp_coord->tPastPos[3].vusS[i]        = temp_coord->tPastPos[2].vusS[i];
;;;2723   			
;;;2724   			temp_coord->tOrgPastPos[4].tXY[i]      = temp_coord->tOrgPastPos[3].tXY[i];
;;;2725   			temp_coord->tOrgPastPos[4].vusR[i]     = temp_coord->tOrgPastPos[3].vusR[i];
;;;2726   			temp_coord->tOrgPastPos[4].vusS[i]     = temp_coord->tOrgPastPos[3].vusS[i];
;;;2727   			
;;;2728   			temp_coord->tOrgPastPos[3].tXY[i]      = temp_coord->tOrgPastPos[2].tXY[i];
;;;2729   			temp_coord->tOrgPastPos[3].vusR[i]     = temp_coord->tOrgPastPos[2].vusR[i];
;;;2730   			temp_coord->tOrgPastPos[3].vusS[i]     = temp_coord->tOrgPastPos[2].vusS[i];
;;;2731   		}
;;;2732   #endif
;;;2733   		temp_coord->tPastPos[2].tXY[i]         = temp_coord->tPastPos[1].tXY[i];
;;;2734   		temp_coord->tPastPos[2].vusR[i]        = temp_coord->tPastPos[1].vusR[i];
;;;2735   		temp_coord->tPastPos[2].vusS[i]        = temp_coord->tPastPos[1].vusS[i];
;;;2736   		
;;;2737   		temp_coord->tPastPos[1].tXY[i]         = temp_coord->tPastPos[0].tXY[i];
;;;2738   		temp_coord->tPastPos[1].vusR[i]        = temp_coord->tPastPos[0].vusR[i];
;;;2739   		temp_coord->tPastPos[1].vusS[i]        = temp_coord->tPastPos[0].vusS[i];
;;;2740   
;;;2741   		if(temp_coord->ucPostProcessRun[i] == 1)
;;;2742   		{
;;;2743   			temp_coord->tPastPos[0].tXY[i] 	    = temp_coord->tFirstPos.tXY[i];
;;;2744   			temp_coord->tPastPos[0].vusR[i] 	    = temp_coord->tPos.vusR[i];
;;;2745   			temp_coord->tPastPos[0].vusS[i] 	    = temp_coord->tPos.vusS[i];
;;;2746   		}
;;;2747   		else
;;;2748   		{
;;;2749   			temp_coord->tPastPos[0].tXY[i] 	    = temp_coord->tPos.tXY[i];
;;;2750   			temp_coord->tPastPos[0].vusR[i] 	    = temp_coord->tPos.vusR[i];
;;;2751   			temp_coord->tPastPos[0].vusS[i] 	    = temp_coord->tPos.vusS[i];
;;;2752   		}
;;;2753   		
;;;2754   		temp_coord->tOrgPastPos[2].tXY[i]      = temp_coord->tOrgPastPos[1].tXY[i];
;;;2755   		temp_coord->tOrgPastPos[2].vusR[i]     = temp_coord->tOrgPastPos[1].vusR[i];
;;;2756   		temp_coord->tOrgPastPos[2].vusS[i]     = temp_coord->tOrgPastPos[1].vusS[i];
;;;2757   
;;;2758   		temp_coord->tOrgPastPos[1].tXY[i]      = temp_coord->tOrgPastPos[0].tXY[i];
;;;2759   		temp_coord->tOrgPastPos[1].vusR[i]     = temp_coord->tOrgPastPos[0].vusR[i];
;;;2760   		temp_coord->tOrgPastPos[1].vusS[i]     = temp_coord->tOrgPastPos[0].vusS[i];
;;;2761   
;;;2762   		temp_coord->tOrgPastPos[0].tXY[i] 	    = temp_coord->tOrgPos.tXY[i];
;;;2763   		temp_coord->tOrgPastPos[0].vusR[i] 	= temp_coord->tOrgPos.vusR[i];
;;;2764   		temp_coord->tOrgPastPos[0].vusS[i] 	= temp_coord->tOrgPos.vusS[i];
;;;2765   	}
;;;2766   }
000006  2309              MOVS     r3,#9
000008  f2003169          ADD      r1,r0,#0x369          ;2690
00000c  f8900723          LDRB     r0,[r0,#0x723]        ;2703
000010  f8810433          STRB     r0,[r1,#0x433]        ;2703
000014  f8910341          LDRB     r0,[r1,#0x341]        ;2704
000018  f88103ba          STRB     r0,[r1,#0x3ba]        ;2704
00001c  f8910135          LDRB     r0,[r1,#0x135]        ;2705
000020  f8810341          STRB     r0,[r1,#0x341]        ;2705
000024  f8910730          LDRB     r0,[r1,#0x730]        ;2707
000028  f88107a9          STRB     r0,[r1,#0x7a9]        ;2707
00002c  f89106b7          LDRB     r0,[r1,#0x6b7]        ;2708
000030  f8810730          STRB     r0,[r1,#0x730]        ;2708
000034  f891059e          LDRB     r0,[r1,#0x59e]        ;2709
000038  f88106b7          STRB     r0,[r1,#0x6b7]        ;2709
                  |L7.60|
00003c  eb0102c3          ADD      r2,r1,r3,LSL #3       ;2733
000040  f5026c80          ADD      r12,r2,#0x400         ;2733
000044  f8d203bb          LDR      r0,[r2,#0x3bb]        ;2733
000048  f8c20434          STR      r0,[r2,#0x434]        ;2733
00004c  f8d203bf          LDR      r0,[r2,#0x3bf]        ;2733
000050  f8c20438          STR      r0,[r2,#0x438]        ;2733
000054  eb010043          ADD      r0,r1,r3,LSL #1       ;2734
000058  f8b0441f          LDRH     r4,[r0,#0x41f]        ;2734
00005c  f8a04498          STRH     r4,[r0,#0x498]        ;2734
000060  f8b0440b          LDRH     r4,[r0,#0x40b]        ;2735
000064  f8a04484          STRH     r4,[r0,#0x484]        ;2735
000068  f8d24342          LDR      r4,[r2,#0x342]        ;2737
00006c  f8c243bb          STR      r4,[r2,#0x3bb]        ;2737
000070  f8d24346          LDR      r4,[r2,#0x346]        ;2737
000074  f8c243bf          STR      r4,[r2,#0x3bf]        ;2737
000078  f8b043a6          LDRH     r4,[r0,#0x3a6]        ;2738
00007c  f8a0441f          STRH     r4,[r0,#0x41f]        ;2738
000080  f8b04392          LDRH     r4,[r0,#0x392]        ;2739
000084  f8a0440b          STRH     r4,[r0,#0x40b]        ;2739
000088  18cc              ADDS     r4,r1,r3              ;2741
00008a  f8944a78          LDRB     r4,[r4,#0xa78]        ;2741
00008e  2c01              CMP      r4,#1                 ;2741
000090  d044              BEQ      |L7.284|
000092  f8d24136          LDR      r4,[r2,#0x136]        ;2749
000096  f8c24342          STR      r4,[r2,#0x342]        ;2749
00009a  f8d2413a          LDR      r4,[r2,#0x13a]        ;2749
00009e  f8c24346          STR      r4,[r2,#0x346]        ;2749
0000a2  f8b0419a          LDRH     r4,[r0,#0x19a]        ;2750
0000a6  f8a043a6          STRH     r4,[r0,#0x3a6]        ;2750
0000aa  f8b04186          LDRH     r4,[r0,#0x186]        ;2751
0000ae  f8a04392          STRH     r4,[r0,#0x392]        ;2751
0000b2  bf00              NOP                            ;2754
                  |L7.180|
0000b4  f8dc4331          LDR      r4,[r12,#0x331]       ;2754
0000b8  f8c247aa          STR      r4,[r2,#0x7aa]        ;2754
0000bc  f8dc4335          LDR      r4,[r12,#0x335]       ;2754
0000c0  f8c247ae          STR      r4,[r2,#0x7ae]        ;2754
0000c4  f8b02795          LDRH     r2,[r0,#0x795]        ;2755
0000c8  f8a0280e          STRH     r2,[r0,#0x80e]        ;2755
0000cc  f8b02781          LDRH     r2,[r0,#0x781]        ;2756
0000d0  f8a027fa          STRH     r2,[r0,#0x7fa]        ;2756
0000d4  f8dc22b8          LDR      r2,[r12,#0x2b8]       ;2758
0000d8  f8cc2331          STR      r2,[r12,#0x331]       ;2758
0000dc  f8dc22bc          LDR      r2,[r12,#0x2bc]       ;2758
0000e0  f8cc2335          STR      r2,[r12,#0x335]       ;2758
0000e4  f8b0271c          LDRH     r2,[r0,#0x71c]        ;2759
0000e8  f8a02795          STRH     r2,[r0,#0x795]        ;2759
0000ec  f8b02708          LDRH     r2,[r0,#0x708]        ;2760
0000f0  f8a02781          STRH     r2,[r0,#0x781]        ;2760
0000f4  f8dc219f          LDR      r2,[r12,#0x19f]       ;2762
0000f8  f8cc22b8          STR      r2,[r12,#0x2b8]       ;2762
0000fc  f8dc21a3          LDR      r2,[r12,#0x1a3]       ;2762
000100  f8cc22bc          STR      r2,[r12,#0x2bc]       ;2762
000104  f8b02603          LDRH     r2,[r0,#0x603]        ;2763
000108  f8a0271c          STRH     r2,[r0,#0x71c]        ;2763
00010c  f8b025ef          LDRH     r2,[r0,#0x5ef]        ;2764
000110  f8a02708          STRH     r2,[r0,#0x708]        ;2764
000114  1e5b              SUBS     r3,r3,#1              ;2764
000116  d291              BCS      |L7.60|
000118  bc10              POP      {r4}
00011a  4770              BX       lr
                  |L7.284|
00011c  f8d2424f          LDR      r4,[r2,#0x24f]        ;2743
000120  f8c24342          STR      r4,[r2,#0x342]        ;2743
000124  f8d24253          LDR      r4,[r2,#0x253]        ;2743
000128  f8c24346          STR      r4,[r2,#0x346]        ;2743
00012c  f8b0419a          LDRH     r4,[r0,#0x19a]        ;2744
000130  f8a043a6          STRH     r4,[r0,#0x3a6]        ;2744
000134  f8b04186          LDRH     r4,[r0,#0x186]        ;2745
000138  f8a04392          STRH     r4,[r0,#0x392]        ;2745
00013c  e7ba              B        |L7.180|
;;;2767   
                          ENDP

00013e  0000              DCW      0x0000
                  |L7.320|
                          DCD      ||.data||

                          AREA ||i.algorithm_coord_calc_comp_distance||, CODE, READONLY, ALIGN=1

                  algorithm_coord_calc_comp_distance PROC
;;;2778   
;;;2779   int32_t algorithm_coord_calc_comp_distance(tXY_t pos1, tXY_t pos2, tXY_t comp)
000000  b430              PUSH     {r4,r5}
;;;2780   {
;;;2781   	int32_t dist;
;;;2782   
;;;2783   	dist = (pos1.x - pos2.x - comp.x)*(pos1.x - pos2.x - comp.x) + (pos1.y - pos2.y - comp.y)*(pos1.y - pos2.y - comp.y);
000002  1a80              SUBS     r0,r0,r2
000004  e9dd4c02          LDRD     r4,r12,[sp,#8]        ;2780
000008  1b00              SUBS     r0,r0,r4
00000a  fb00f200          MUL      r2,r0,r0
00000e  1ac8              SUBS     r0,r1,r3
000010  eba0000c          SUB      r0,r0,r12
000014  fb002000          MLA      r0,r0,r0,r2
;;;2784   
;;;2785       dist = algorithm_calc_sqrt(dist);
000018  bc30              POP      {r4,r5}
00001a  f7ffbffe          B.W      algorithm_calc_sqrt
;;;2786   
;;;2787   	return dist;
;;;2788   }
;;;2789   
                          ENDP


                          AREA ||i.algorithm_coord_calc_distance||, CODE, READONLY, ALIGN=1

                  algorithm_coord_calc_distance PROC
;;;2767   
;;;2768   int32_t algorithm_coord_calc_distance(tXY_t pos1, tXY_t pos2)
000000  1a80              SUBS     r0,r0,r2
;;;2769   {
;;;2770   	int32_t dist;
;;;2771   
;;;2772   	dist = (pos1.x - pos2.x)*(pos1.x - pos2.x) + (pos1.y - pos2.y)*(pos1.y - pos2.y);
000002  fb00f200          MUL      r2,r0,r0
000006  1ac8              SUBS     r0,r1,r3
000008  fb002000          MLA      r0,r0,r0,r2
;;;2773   
;;;2774       dist = algorithm_calc_sqrt(dist);
00000c  f7ffbffe          B.W      algorithm_calc_sqrt
;;;2775   
;;;2776   	return dist;
;;;2777   }
;;;2778   
                          ENDP


                          AREA ||i.algorithm_coord_calc_pos||, CODE, READONLY, ALIGN=2

                  algorithm_coord_calc_pos PROC
;;;238    uint8_t PrevMaxTouchNum = 0;
;;;239    void algorithm_coord_calc_pos(int mode)
000000  b4f0              PUSH     {r4-r7}
;;;240    {
;;;241    	int l;
;;;242    
;;;243    	tLabelInfo_t	*temp_label;
;;;244    	tCoordInfo_t 	*temp_coord;
;;;245    
;;;246    	{
;;;247    		temp_coord = &thisInfo->tCoord;
000002  4845              LDR      r0,|L10.280|
000004  68c2              LDR      r2,[r0,#0xc]  ; thisInfo
000006  f2023069          ADD      r0,r2,#0x369
;;;248    		temp_label = &thisInfo->tLabel;
;;;249    	}
;;;250    
;;;251    	for(l=temp_label->ucNum;l--;)
00000a  f8121f45          LDRB     r1,[r2,#0x45]!
00000e  1e4c              SUBS     r4,r1,#1
;;;252    	{
;;;253    		if( temp_label->tTable[l].ulStrength )
;;;254    		{
;;;255    			temp_coord->tTempPos.tXY[temp_coord->tTempPos.sFinger_].x  = (temp_label->tTable[l].tCoord.x << POS_BOOST_SHIFT_)/(signed)temp_label->tTable[l].ulExtStrength;
;;;256    			temp_coord->tTempPos.tXY[temp_coord->tTempPos.sFinger_].y  = (temp_label->tTable[l].tCoord.y << POS_BOOST_SHIFT_)/(signed)temp_label->tTable[l].ulExtStrength;
;;;257    		
;;;258    			//MaxDelta Compensation
;;;259    			{
;;;260    				int16_t coef_x=0,coef_y=0;
;;;261    				
;;;262    				coef_x = (temp_coord->tTempPos.tXY[temp_coord->tTempPos.sFinger_].x%UNIT_DIST);
;;;263    				coef_y = (temp_coord->tTempPos.tXY[temp_coord->tTempPos.sFinger_].y%UNIT_DIST);
;;;264    				if(coef_x > (UNIT_DIST>>1) )
;;;265    					coef_x = UNIT_DIST - coef_x;
;;;266    				if(coef_y > (UNIT_DIST>>1) )
;;;267    					coef_y = UNIT_DIST - coef_y;
;;;268    				
;;;269    				temp_coord->RealMaxDelta[temp_coord->tTempPos.sFinger_] = (uint16_t)(temp_label->tTable[l].sMaxCellVal 
;;;270    																			+ (((int)(temp_label->tTable[l].sMaxCellVal) * (coef_x+coef_y) )>>(POS_BOOST_SHIFT_+1)) );
;;;271    			}
;;;272    			
;;;273    			temp_coord->tTempPos.vusR[temp_coord->tTempPos.sFinger_]   = temp_label->tTable[l].usCellNum;
;;;274    			temp_coord->tTempPos.vusS[temp_coord->tTempPos.sFinger_]   = temp_label->tTable[l].ulStrength;
;;;275    			temp_coord->tTempPos.rect[temp_coord->tTempPos.sFinger_]   = temp_label->tTable[l].tRect;
;;;276    			temp_coord->tTempPos.MaxDelta[temp_coord->tTempPos.sFinger_] = temp_label->tTable[l].sMaxCellVal;
;;;277    #if (PENnPalm_PalmAreaMaintain_EN == YES || PalmCandidateTouchCut_EN == YES)
;;;278    			temp_coord->tTempPos.MaxPos[temp_coord->tTempPos.sFinger_].c = temp_label->tTable[l].tMaxCell.c;
;;;279    			temp_coord->tTempPos.MaxPos[temp_coord->tTempPos.sFinger_].r = temp_label->tTable[l].tMaxCell.r;
;;;280    #endif /* (PENnPalm_PalmAreaMaintain_EN == YES) */
;;;281    
;;;282    			temp_coord->cRemap[temp_coord->tTempPos.sFinger_] = temp_coord->tTempPos.sFinger_;
000010  bf2e              ITEE     CS
000012  f6002682          ADDCS    r6,r0,#0xa82
;;;283    
;;;284    			temp_coord->tTempPos.sFinger_++;
;;;285    		}
;;;286    	}
;;;287    	
;;;288    #if (PalmDrawingOn_En == YES)
;;;289    	if(thisModeConf->Palm.ucPalmDrawingOn && thisInfo->bIsPalm){
;;;290    		int pl;
;;;291    		int r,c;
;;;292    		for(pl=0;pl<PalmRegionNum;pl++)
;;;293    		{
;;;294    			if(PalmRectEnable[pl])
;;;295    			{
;;;296    				int X=0,Y=0,delta = 0, MaxDelta = 0;
;;;297    				int32_t StrengthSum = 0;
;;;298    				for(r=PalmRect[pl].rs;r<=PalmRect[pl].re;r++)
;;;299    				for(c=PalmRect[pl].cs;c<=PalmRect[pl].ce;c++)
;;;300    				{
;;;301    					delta = (HAL_READ_DELTA_IMAGE(r,c)>>3);
;;;302    					if(delta > 1)
;;;303    					{
;;;304    						X += delta * c;
;;;305    						Y += delta * r;
;;;306    						StrengthSum += delta;
;;;307    						if(MaxDelta < delta)	MaxDelta = delta;
;;;308    					}
;;;309    				}
;;;310    				X = (X << POS_BOOST_SHIFT_)/StrengthSum;
;;;311    				Y = (Y << POS_BOOST_SHIFT_)/StrengthSum;
;;;312    		
;;;313    				temp_coord->tTempPos.tXY[temp_coord->tTempPos.sFinger_].x = X;//((X + (((PalmRect[pl].cs + PalmRect[pl].ce)<<POS_BOOST_SHIFT_)>>1))>>1);
;;;314    				temp_coord->tTempPos.tXY[temp_coord->tTempPos.sFinger_].y = Y;//((Y + (((PalmRect[pl].rs + PalmRect[pl].re)<<POS_BOOST_SHIFT_)>>1))>>1);
;;;315    				
;;;316    				temp_coord->tTempPos.vusR[temp_coord->tTempPos.sFinger_]   = thisInfo->tDelta.iPosCnt;
;;;317    				temp_coord->tTempPos.vusS[temp_coord->tTempPos.sFinger_]   = StrengthSum;//thisInfo->tDelta.iPosSum;
;;;318    				temp_coord->tTempPos.rect[temp_coord->tTempPos.sFinger_]   = PalmRect[pl];
;;;319    				temp_coord->tTempPos.MaxDelta[temp_coord->tTempPos.sFinger_] = MaxDelta;//thisInfo->tDelta.iMaxStrength;
;;;320    				
;;;321    				//TEST_CODE
;;;322    //				HAL_WRITE_DELTA_IMAGE(0,temp_coord->tTempPos.sFinger_,temp_coord->tTempPos.rect[temp_coord->tTempPos.sFinger_].cs);
;;;323    //				HAL_WRITE_DELTA_IMAGE(1,temp_coord->tTempPos.sFinger_,temp_coord->tTempPos.rect[temp_coord->tTempPos.sFinger_].ce);
;;;324    //				HAL_WRITE_DELTA_IMAGE(2,temp_coord->tTempPos.sFinger_,temp_coord->tTempPos.rect[temp_coord->tTempPos.sFinger_].rs);
;;;325    //				HAL_WRITE_DELTA_IMAGE(3,temp_coord->tTempPos.sFinger_,temp_coord->tTempPos.rect[temp_coord->tTempPos.sFinger_].re);
;;;326    
;;;327    				temp_coord->cRemap[temp_coord->tTempPos.sFinger_] = temp_coord->tTempPos.sFinger_;
;;;328    				
;;;329    				temp_coord->tTempPos.sFinger_++;
;;;330    			}
;;;331    		}
;;;332    		return;
;;;333    	}
;;;334    #endif
;;;335    	
;;;336    #if WinCertAssistance_En	
;;;337    	int i,cl,match_cl,match_pl;
;;;338    //	int _d;
;;;339    //	uint32_t ulStrength = 0;
;;;340    //	uint8_t PrevFinger_ = 0;
;;;341    	int MaxDist = 0, dist = 0, MinDist = 0;
;;;342    	uint8_t MaxTouchNum = 0;
;;;343    	
;;;344    	if(thisModeConf->Coord.ucWinCertAssistance)
;;;345    	{
;;;346    		if(temp_coord->tTempPos.sFinger_ > 1)
;;;347    		{
;;;348    			int cl,pl;
;;;349    			for(cl=0;cl<temp_coord->tTempPos.sFinger_;cl++){
;;;350    				for(pl=0;pl<temp_coord->tTempPos.sFinger_;pl++){
;;;351    					if(cl == pl)	continue;
;;;352    					if(abs(temp_coord->tTempPos.tXY[cl].x - temp_coord->tTempPos.tXY[pl].x)+abs(temp_coord->tTempPos.tXY[cl].y - temp_coord->tTempPos.tXY[pl].y) < (3<<POS_BOOST_SHIFT_) ){
;;;353    						temp_label->LabelSplitCnt++;
;;;354    						break;
;;;355    					}
;;;356    					
;;;357    				}
;;;358    			}
;;;359    		}
;;;360    
;;;361    		if(temp_label->LabelSplitCnt)
;;;362    			temp_label->LabelSplitFrmCnt++;
;;;363    		else if(temp_label->LabelSplitFrmCnt)
;;;364    			temp_label->LabelSplitFrmCnt--;
;;;365    		
;;;366    	}
;;;367    	
;;;368    	if(thisModeConf->Coord.ucWinCertAssistance == 1)
;;;369    	{
;;;370    		if(temp_coord->tTempPos.sFinger_ == 0 || temp_coord->tTempPos.sFinger_ > 5){
;;;371    			WrongSeparationCnt = 0;
;;;372    			memset(TouchNumHisto,0,sizeof(TouchNumHisto));
;;;373    			FixTouchNum = 0;
;;;374    		}
;;;375    		else{
;;;376    			int i,MaxNumCnt = 0;
;;;377    			//Counting touchnum
;;;378    			if(FixTouchNum == 0){
;;;379    				for(i=0;i<POSBUF_;i++)
;;;380    				{
;;;381    					if(i == temp_coord->tTempPos.sFinger_-1){
;;;382    							TouchNumHisto[i]++;
;;;383    					}
;;;384    					else if(TouchNumHisto[i]>0)
;;;385    						TouchNumHisto[i]--;
;;;386    
;;;387    					if(TouchNumHisto[i] >thisModeConf->Coord.ucTouchCountMax){
;;;388    						TouchNumHisto[i] = thisModeConf->Coord.ucTouchCountMax;
;;;389    						FixTouchNum = i+1;
;;;390    					}
;;;391    					if(TouchNumHisto[i] > MaxNumCnt)
;;;392    					{
;;;393    						MaxNumCnt = TouchNumHisto[i];
;;;394    						MaxTouchNum = i+1;
;;;395    					}
;;;396    				}
;;;397    			}
;;;398    			else{
;;;399    				MaxTouchNum = FixTouchNum;
;;;400    			}
;;;401    		}
;;;402    		
;;;403    		if(temp_coord->tTempPos.sFinger_ > 1)
;;;404    		{
;;;405    			int cl,pl;
;;;406    			uint8_t connected = 0;
;;;407    			MinDist = (thisModeConf->CoordTracking.usCenterMatchDistanceThd<<POS_BOOST_SHIFT_);
;;;408    			for(cl=0;cl<temp_coord->tTempPos.sFinger_;cl++){
;;;409    				connected = NO;
;;;410    				for(pl=0;pl<temp_coord->tTempPos.sFinger_;pl++){
;;;411    					if(cl == pl)	continue;
;;;412    					if(MinDist > algorithm_coord_calc_distance(temp_coord->tTempPos.tXY[cl],temp_coord->tTempPos.tXY[pl])){
;;;413    						connected = YES;
;;;414    						break;
;;;415    					}
;;;416    				}
;;;417    				if(connected == NO)
;;;418    				{
;;;419    					WrongSeparationCnt = 0;
;;;420    					memset(TouchNumHisto,0,sizeof(TouchNumHisto));
;;;421    					FixTouchNum = 0;
;;;422    					break;
;;;423    				}
;;;424    			}
;;;425    		}
;;;426    		
;;;427    		if(FixTouchNum && temp_coord->tTempPos.sFinger_ > 0 && FixTouchNum != temp_coord->tTempPos.sFinger_)
;;;428    		{
;;;429    			tXY_t Vector;
;;;430    //			uint8_t VectorCnt = 0;
;;;431    			
;;;432    			if(WrongSeparationCnt++ < thisModeConf->Coord.ucMaxExtendFrameNum)
;;;433    			{
;;;434    				//search vector
;;;435    				Vector.x = 0, Vector.y = 0;
;;;436    				match_cl = -1, match_pl = -1;
;;;437    				MinDist = (7<<POS_BOOST_SHIFT_);
;;;438    				for(cl=0;cl<temp_coord->tTempPos.sFinger_;cl++){
;;;439    					if(temp_coord->tTempPos.vusR[cl]!=0){
;;;440    		//				if(algorithm_nearby_rect_point(BigLabelRect[i], temp_coord->tTempPos.tXY[cl], 3))	//Margin 3
;;;441    						{
;;;442    	//						MinDist = (10<<POS_BOOST_SHIFT_);
;;;443    	//						match_pl = -1;
;;;444    							for(pl=0;pl<MAX_TOUCH_;pl++){
;;;445    								if(temp_coord->tOrgPastPos[0].vusR[pl]!=0){
;;;446    									
;;;447    									tXY_t Pred;
;;;448    									if(temp_coord->tPastPos[2].vusR[pl]>0){
;;;449    			//							Pred.x = (temp_coord->tPastPos[0].tXY[pl].x<<1) - temp_coord->tPastPos[2].tXY[pl].x;
;;;450    			//							Pred.y = (temp_coord->tPastPos[0].tXY[pl].y<<1) - temp_coord->tPastPos[2].tXY[pl].y;
;;;451    										Pred.x = temp_coord->tOrgPastPos[0].tXY[pl].x + (temp_coord->tPastPos[0].tXY[pl].x - temp_coord->tPastPos[2].tXY[pl].x);
;;;452    										Pred.y = temp_coord->tOrgPastPos[0].tXY[pl].y + (temp_coord->tPastPos[0].tXY[pl].y - temp_coord->tPastPos[2].tXY[pl].y);
;;;453    									}
;;;454    									else{
;;;455    										Pred = temp_coord->tOrgPastPos[0].tXY[pl];
;;;456    									}
;;;457    									dist = algorithm_coord_calc_distance(Pred,temp_coord->tTempPos.tXY[cl]);
;;;458    									if(dist < MinDist)
;;;459    									{
;;;460    										MinDist = dist;
;;;461    										match_pl = pl;
;;;462    										match_cl = cl;
;;;463    									}
;;;464    								}
;;;465    							}
;;;466    						}
;;;467    					}
;;;468    				}
;;;469    				if(match_pl != -1 && match_cl != -1)
;;;470    				{
;;;471    //					Vector.x += temp_coord->tTempPos.tXY[match_cl].x - temp_coord->tOrgPastPos[0].tXY[match_pl].x;
;;;472    //					Vector.y += temp_coord->tTempPos.tXY[match_cl].y - temp_coord->tOrgPastPos[0].tXY[match_pl].y;
;;;473    					
;;;474    					Vector.x = 0, Vector.y = 0;
;;;475    					if(temp_coord->tPastPos[0].vusR[match_pl]>0 && temp_coord->tPastPos[2].vusR[match_pl]>0){
;;;476    						Vector.x = ((temp_coord->tPastPos[0].tXY[match_pl].x - temp_coord->tPastPos[2].tXY[match_pl].x)>>1);
;;;477    						Vector.y = ((temp_coord->tPastPos[0].tXY[match_pl].y - temp_coord->tPastPos[2].tXY[match_pl].y)>>1);
;;;478    					}
;;;479    					
;;;480    					for(i=0;i<POSBUF_;i++){
;;;481    						temp_coord->tTempPos.vusR[i]   = 0;
;;;482    						temp_coord->tTempPos.vusS[i]   = 0;
;;;483    					}
;;;484    					temp_coord->tTempPos.sFinger_ = 0;
;;;485    					for(pl=0;pl<MAX_TOUCH_;pl++){
;;;486    						if(temp_coord->tOrgPastPos[0].vusR[pl]!=0 ){	//&& temp_coord->DrawingFlag[pl] == YES){
;;;487    							
;;;488    							temp_coord->tTempPos.tXY[temp_coord->tTempPos.sFinger_] = temp_coord->tOrgPastPos[0].tXY[pl];
;;;489    							temp_coord->tTempPos.tXY[temp_coord->tTempPos.sFinger_].x += Vector.x;
;;;490    							temp_coord->tTempPos.tXY[temp_coord->tTempPos.sFinger_].y += Vector.y;
;;;491    
;;;492    							temp_coord->tTempPos.vusR[temp_coord->tTempPos.sFinger_]   = temp_coord->tOrgPastPos[0].vusR[pl];
;;;493    							temp_coord->tTempPos.vusS[temp_coord->tTempPos.sFinger_]   = temp_coord->tOrgPastPos[0].vusS[pl];
;;;494    			//				temp_coord->tTempPos.rect[temp_coord->tTempPos.sFinger_]   = 
;;;495    							temp_coord->RealMaxDelta[temp_coord->tTempPos.sFinger_] = 0; 
;;;496    							temp_coord->cRemap[temp_coord->tTempPos.sFinger_] = temp_coord->tTempPos.sFinger_;
;;;497    							temp_coord->tTempPos.sFinger_++;
;;;498    						}
;;;499    					}
;;;500    				}
;;;501    				
;;;502    			}
;;;503    			else{
;;;504    				WrongSeparationCnt = 0;
;;;505    				memset(TouchNumHisto,0,sizeof(TouchNumHisto));
;;;506    		//		PrevMaxTouchNum = 0;
;;;507    				FixTouchNum = 0;
;;;508    			}
;;;509    		}
;;;510    		else{
;;;511    			WrongSeparationCnt = 0;
;;;512    		}
;;;513    		
;;;514    //		if(temp_coord->tTempPos.sFinger_ > 1)
;;;515    //		{
;;;516    //			int cl,pl;
;;;517    //			for(cl=0;cl<temp_coord->tTempPos.sFinger_;cl++){
;;;518    //				for(pl=0;pl<temp_coord->tTempPos.sFinger_;pl++){
;;;519    //					if(cl == pl)	continue;
;;;520    //					if(abs(temp_coord->tTempPos.tXY[cl].x - temp_coord->tTempPos.tXY[pl].x)+abs(temp_coord->tTempPos.tXY[cl].y - temp_coord->tTempPos.tXY[pl].y) < (3<<POS_BOOST_SHIFT_) ){
;;;521    //						temp_label->LabelSplitCnt++;
;;;522    //						break;
;;;523    //					}
;;;524    //					
;;;525    //				}
;;;526    //			}
;;;527    //		}
;;;528    
;;;529    //		if(temp_label->LabelSplitCnt)
;;;530    //			temp_label->LabelSplitFrmCnt++;
;;;531    //		else if(temp_label->LabelSplitFrmCnt)
;;;532    //			temp_label->LabelSplitFrmCnt--;
;;;533    	}
;;;534    	else if(thisModeConf->Coord.ucWinCertAssistance == 2)
;;;535    	{
;;;536    		if(temp_coord->tTempPos.sFinger_ == 0){
;;;537    			WrongSeparationCnt = 0;
;;;538    			memset(TouchNumHisto,0,sizeof(TouchNumHisto));
;;;539    			PrevMaxTouchNum = 0;
;;;540    	//		temp_label->LabelNearbyFrmCnt = 0;
;;;541    		}
;;;542    		else{
;;;543    			int i,MaxNumCnt = 0;
;;;544    			//Counting touchnum
;;;545    			for(i=0;i<POSBUF_;i++)
;;;546    			{
;;;547    				if(i == temp_coord->tTempPos.sFinger_-1)
;;;548    					TouchNumHisto[i]++;
;;;549    				else if(TouchNumHisto[i]>0)
;;;550    					TouchNumHisto[i]--;
;;;551    				if(TouchNumHisto[i] >thisModeConf->Coord.ucTouchCountMax){
;;;552    					TouchNumHisto[i] = thisModeConf->Coord.ucTouchCountMax;
;;;553    				}
;;;554    				if(TouchNumHisto[i] > MaxNumCnt)
;;;555    				{
;;;556    					MaxNumCnt = TouchNumHisto[i];
;;;557    					MaxTouchNum = i+1;
;;;558    				}
;;;559    			}
;;;560    		}
;;;561    		
;;;562    //		temp_label->LabelNearbyCnt = 0;
;;;563    		if(temp_coord->tTempPos.sFinger_ > 1)
;;;564    		{
;;;565    			int cl,pl;
;;;566    //			uint8_t SplitFlag = 0;
;;;567    			for(cl=0;cl<temp_coord->tTempPos.sFinger_;cl++){
;;;568    				for(pl=0;pl<temp_coord->tTempPos.sFinger_;pl++){
;;;569    					if(cl == pl)	continue;
;;;570    	//				dist = abs(temp_coord->tTempPos.tXY[cl].x - temp_coord->tTempPos.tXY[pl].x)+abs(temp_coord->tTempPos.tXY[cl].y - temp_coord->tTempPos.tXY[pl].y);
;;;571    					dist = algorithm_coord_calc_distance(temp_coord->tTempPos.tXY[cl], temp_coord->tTempPos.tXY[pl]);
;;;572    					if(dist < (4<<POS_BOOST_SHIFT_) ){
;;;573    //						SplitFlag = YES;
;;;574    					}
;;;575    					if(MaxDist < dist)
;;;576    						MaxDist = dist;
;;;577    				}
;;;578    			}
;;;579    //			if(SplitFlag)	temp_label->LabelNearbyCnt++;
;;;580    		}
;;;581    		
;;;582    		if( temp_coord->tPastPos[0].sFinger_ > 1 && temp_coord->tTempPos.sFinger_ && MaxDist < (6<<POS_BOOST_SHIFT_) && temp_label->LabelSplitFrmCnt)
;;;583    		{
;;;584    			if(MaxTouchNum == PrevMaxTouchNum && TouchNumHisto[MaxTouchNum-1] > (thisModeConf->Coord.ucTouchCountMax>>1)){
;;;585    				if(temp_coord->tPastPos[0].sFinger_ !=  temp_coord->tTempPos.sFinger_)
;;;586    				{
;;;587    					tXY_t Vector[2];
;;;588    					uint16_t cnt[2];
;;;589    					
;;;590    					if(temp_label->LabelSplitCnt)
;;;591    					{
;;;592    						Vector[1].x = 0, Vector[1].y = 0, cnt[1] = 0;
;;;593    						for(i=0;i<temp_coord->tPastPos[0].sFinger_;i++){
;;;594    							if(temp_coord->tPastPos[0].vusR[i]!=0){
;;;595    								Vector[1].x += temp_coord->tOrgPastPos[0].tXY[i].x;
;;;596    								Vector[1].y += temp_coord->tOrgPastPos[0].tXY[i].y;
;;;597    								cnt[1]++;
;;;598    							}
;;;599    						}
;;;600    						if(cnt[1]){
;;;601    							Vector[1].x /= cnt[1];
;;;602    							Vector[1].y /= cnt[1];
;;;603    						}
;;;604    						
;;;605    						Vector[0].x = 0, Vector[0].y = 0, cnt[0] = 0;
;;;606    						for(i=0;i<temp_coord->tTempPos.sFinger_;i++){
;;;607    							Vector[0].x += temp_coord->tTempPos.tXY[i].x;
;;;608    							Vector[0].y += temp_coord->tTempPos.tXY[i].y;
;;;609    							cnt[0]++;
;;;610    						}
;;;611    						if(cnt[0]){
;;;612    							Vector[0].x /= cnt[0];
;;;613    							Vector[0].y /= cnt[0];
;;;614    						}
;;;615    						if(cnt[0] && cnt[1])
;;;616    						{
;;;617    							Vector[0].x -= Vector[1].x;
;;;618    							Vector[0].y -= Vector[1].y;
;;;619    						}
;;;620    						else{
;;;621    							Vector[0].x = 0;
;;;622    							Vector[0].y = 0;
;;;623    						}
;;;624    					}
;;;625    					else{
;;;626    						Vector[0].x = 0;
;;;627    						Vector[0].y = 0;
;;;628    					}
;;;629    					
;;;630    					
;;;631    					if(WrongSeparationCnt++ < thisModeConf->Coord.ucMaxExtendFrameNum)
;;;632    					{
;;;633    						for(i=0;i<POSBUF_;i++){
;;;634    							temp_coord->tTempPos.vusR[i]   = 0;
;;;635    							temp_coord->tTempPos.vusS[i]   = 0;
;;;636    						}
;;;637    						for(i=0;i<temp_coord->tPastPos[0].sFinger_;i++){
;;;638    							if(temp_coord->tPastPos[0].vusR[i]!=0){
;;;639    				//				temp_coord->tTempPos.tXY[i] = temp_coord->tOrgPastPos[0].tXY[i];
;;;640    	//							temp_coord->tTempPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x;
;;;641    	//							temp_coord->tTempPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y;
;;;642    	//							temp_coord->tTempPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x + (temp_coord->tTempPos.tXY[0].x - temp_coord->tOrgPastPos[0].tXY[i].x);
;;;643    	//							temp_coord->tTempPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y + (temp_coord->tTempPos.tXY[0].y - temp_coord->tOrgPastPos[0].tXY[i].y);
;;;644    								temp_coord->tTempPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x + Vector[0].x;
;;;645    								temp_coord->tTempPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y + Vector[0].y;
;;;646    
;;;647    								
;;;648    				//				temp_coord->tTempPos.tXY[i].x = (temp_coord->tOrgPastPos[0].tXY[i].x<<1) - temp_coord->tOrgPastPos[1].tXY[i].x;
;;;649    				//				temp_coord->tTempPos.tXY[i].y = (temp_coord->tOrgPastPos[0].tXY[i].y<<1) - temp_coord->tOrgPastPos[1].tXY[i].y;
;;;650    								
;;;651    								temp_coord->tTempPos.vusR[i]   = 1;//temp_coord->tPastPos[0].vusR[0];
;;;652    								temp_coord->tTempPos.vusS[i]   = 1;//temp_coord->tPastPos[0].vusS[0];
;;;653    								temp_coord->cRemap[i] = i;
;;;654    							}
;;;655    						}
;;;656    						temp_coord->tTempPos.sFinger_ = temp_coord->tPastPos[0].sFinger_;
;;;657    					}
;;;658    					else
;;;659    						WrongSeparationCnt = 0;
;;;660    				}
;;;661    				else
;;;662    				{
;;;663    					if(WrongSeparationCnt)	WrongSeparationCnt--;
;;;664    					
;;;665    				}
;;;666    			}
;;;667    		}
;;;668    		PrevMaxTouchNum = MaxTouchNum;
;;;669    		
;;;670    	}
;;;671    #endif
;;;672    }
000016  bcf0              POPCC    {r4-r7}
000018  4770              BXCC     lr
00001a  bf00              NOP                            ;253
                  |L10.28|
00001c  ebc401c4          RSB      r1,r4,r4,LSL #3       ;253
000020  eb011144          ADD      r1,r1,r4,LSL #5       ;253
000024  4411              ADD      r1,r1,r2              ;253
000026  694b              LDR      r3,[r1,#0x14]         ;253
000028  2b00              CMP      r3,#0                 ;253
00002a  d071              BEQ      |L10.272|
00002c  68cb              LDR      r3,[r1,#0xc]          ;255
00002e  f8d1c018          LDR      r12,[r1,#0x18]        ;255
000032  021b              LSLS     r3,r3,#8              ;255
000034  fb93fcfc          SDIV     r12,r3,r12            ;255
000038  7803              LDRB     r3,[r0,#0]            ;255
00003a  eb0003c3          ADD      r3,r0,r3,LSL #3       ;255
00003e  f8c3c001          STR      r12,[r3,#1]           ;255
000042  690b              LDR      r3,[r1,#0x10]         ;256
000044  f8d1c018          LDR      r12,[r1,#0x18]        ;256
000048  021b              LSLS     r3,r3,#8              ;256
00004a  fb93f3fc          SDIV     r3,r3,r12             ;256
00004e  f890c000          LDRB     r12,[r0,#0]           ;256
000052  eb000ccc          ADD      r12,r0,r12,LSL #3     ;256
000056  f8cc3005          STR      r3,[r12,#5]           ;256
00005a  7807              LDRB     r7,[r0,#0]            ;262
00005c  eb000cc7          ADD      r12,r0,r7,LSL #3      ;262
000060  f8dcc001          LDR      r12,[r12,#1]          ;262
000064  ea4f75ec          ASR      r5,r12,#31            ;262
000068  eb0c6515          ADD      r5,r12,r5,LSR #24     ;262
00006c  f02505ff          BIC      r5,r5,#0xff           ;262
000070  ebac0c05          SUB      r12,r12,r5            ;262
000074  17dd              ASRS     r5,r3,#31             ;263
000076  eb036515          ADD      r5,r3,r5,LSR #24      ;263
00007a  f02505ff          BIC      r5,r5,#0xff           ;263
00007e  1b5b              SUBS     r3,r3,r5              ;263
000080  fa0ffc8c          SXTH     r12,r12               ;262
000084  b21b              SXTH     r3,r3                 ;263
000086  f1bc0f80          CMP      r12,#0x80             ;264
00008a  bfc4              ITT      GT                    ;265
00008c  f5cc7c80          RSBGT    r12,r12,#0x100        ;265
000090  fa0ffc8c          SXTHGT   r12,r12               ;265
000094  2b80              CMP      r3,#0x80              ;266
000096  bfc4              ITT      GT                    ;267
000098  f5c37380          RSBGT    r3,r3,#0x100          ;267
00009c  b21b              SXTHGT   r3,r3                 ;267
00009e  f9b15008          LDRSH    r5,[r1,#8]            ;269
0000a2  4463              ADD      r3,r3,r12             ;269
0000a4  436b              MULS     r3,r5,r3              ;269
0000a6  eb000c47          ADD      r12,r0,r7,LSL #1      ;269
0000aa  eb052363          ADD      r3,r5,r3,ASR #9       ;269
0000ae  f8ac3b5c          STRH     r3,[r12,#0xb5c]       ;269
0000b2  f890c000          LDRB     r12,[r0,#0]           ;273
0000b6  88cb              LDRH     r3,[r1,#6]            ;273
0000b8  eb000c4c          ADD      r12,r0,r12,LSL #1     ;273
0000bc  f8ac30a1          STRH     r3,[r12,#0xa1]        ;273
0000c0  f890c000          LDRB     r12,[r0,#0]           ;274
0000c4  8a8b              LDRH     r3,[r1,#0x14]         ;274
0000c6  eb000c4c          ADD      r12,r0,r12,LSL #1     ;274
0000ca  f8ac3081          STRH     r3,[r12,#0x81]        ;274
0000ce  7803              LDRB     r3,[r0,#0]            ;275
0000d0  f8d1c002          LDR      r12,[r1,#2]           ;275
0000d4  eb000383          ADD      r3,r0,r3,LSL #2       ;275
0000d8  f8c3c0c1          STR      r12,[r3,#0xc1]        ;275
0000dc  f890c000          LDRB     r12,[r0,#0]           ;276
0000e0  890b              LDRH     r3,[r1,#8]            ;276
0000e2  eb000c4c          ADD      r12,r0,r12,LSL #1     ;276
0000e6  f8ac3101          STRH     r3,[r12,#0x101]       ;276
0000ea  f890c000          LDRB     r12,[r0,#0]           ;278
0000ee  7a8b              LDRB     r3,[r1,#0xa]          ;278
0000f0  eb000c4c          ADD      r12,r0,r12,LSL #1     ;278
0000f4  f88c3121          STRB     r3,[r12,#0x121]       ;278
0000f8  7803              LDRB     r3,[r0,#0]            ;279
0000fa  7ac9              LDRB     r1,[r1,#0xb]          ;279
0000fc  eb000343          ADD      r3,r0,r3,LSL #1       ;279
000100  f8831122          STRB     r1,[r3,#0x122]        ;279
000104  7801              LDRB     r1,[r0,#0]            ;282
000106  b2cb              UXTB     r3,r1                 ;282
000108  5599              STRB     r1,[r3,r6]            ;282
00010a  7801              LDRB     r1,[r0,#0]            ;284
00010c  1c49              ADDS     r1,r1,#1              ;284
00010e  7001              STRB     r1,[r0,#0]            ;284
                  |L10.272|
000110  1e64              SUBS     r4,r4,#1              ;284
000112  d283              BCS      |L10.28|
000114  bcf0              POP      {r4-r7}
000116  4770              BX       lr
;;;673    void algorithm_coord_drawing_assistance(int mode)
                          ENDP

                  |L10.280|
                          DCD      ||.data||

                          AREA ||i.algorithm_coord_compensation||, CODE, READONLY, ALIGN=2

                  algorithm_coord_compensation PROC
;;;3024   
;;;3025   void algorithm_coord_compensation(int mode)
000000  2800              CMP      r0,#0
;;;3026   {
;;;3027   	if(mode == FULL_MODE)
;;;3028   		return;
;;;3029   
;;;3030   	int coefA,coefB;
;;;3031   
;;;3032   	if(mode == LOCAL_MODE)
;;;3033   	{
;;;3034   		coefA = thisModeConf->PenCoord.ucCompenCoefA;
;;;3035   		coefB = thisModeConf->PenCoord.ucCompenCoefB;
;;;3036   	}
;;;3037   	else if(mode == LOCAL_RING_MODE)
;;;3038   	{
;;;3039   		coefA = thisModeConf->PenTilt.ucRingCompenCoefA;
;;;3040   		coefB = thisModeConf->PenTilt.ucRingCompenCoefB;
;;;3041   	}
;;;3042   	else if(mode == LOCAL_HOVER_MODE)
;;;3043   	{
;;;3044   		coefA = thisModeConf->PenCoord.ucHoverCompenCoefA;
;;;3045   		coefB = thisModeConf->PenCoord.ucHoverCompenCoefB;	
;;;3046   	}	
;;;3047   	
;;;3048   	if(coefA > 0)
;;;3049   	{
;;;3050   		if( thisInfo->tCoord_local_dsp.tPos.vusR > 0 )
;;;3051   		{
;;;3052   			tXY_t TmpPos;
;;;3053   			TmpPos.x = thisInfo->tCoord_local_dsp.tPos.tXY.x + (UNIT_DIST>>1);
;;;3054   			TmpPos.y = thisInfo->tCoord_local_dsp.tPos.tXY.y + (UNIT_DIST>>1);
;;;3055   //			int x = thisInfo->tCoord_local_dsp.tPos.tXY.x + (UNIT_DIST>>1);
;;;3056   //			int y = thisInfo->tCoord_local_dsp.tPos.tXY.y + (UNIT_DIST>>1);
;;;3057   			
;;;3058   			// Compensation		
;;;3059   			int XResol = UNIT_DIST;
;;;3060   			int YResol = UNIT_DIST;
;;;3061   
;;;3062   			bool_t Op_Flag = 0;
;;;3063   			if(thisModeConf->PenCoord.bCompenEdgeOn)Op_Flag = 1;
;;;3064   			else 
;;;3065   			{
;;;3066   				if(!algorithm_coord_IsEdgeArea(&TmpPos,0))Op_Flag = 1;
;;;3067   //				if(TmpPos.x > (1<<POS_BOOST_SHIFT_) && TmpPos.x < ((COL_MAX-1)<<POS_BOOST_SHIFT_))Op_Flag = 1;
;;;3068   			}
;;;3069   			
;;;3070   			if(Op_Flag == 1)
;;;3071   			{
;;;3072   				int OneCellPos = TmpPos.x - (((int)TmpPos.x/(XResol))*(XResol));
;;;3073   				uint8_t Mm = (XResol)/FPITCH_X;
;;;3074   				int OneCellMm = OneCellPos * (1/FPITCH_X);
;;;3075   				if(OneCellPos < (XResol)*0.25) TmpPos.x -= (OneCellMm)*coefA/coefB;
;;;3076   				else if((XResol)*0.25 <= OneCellPos && OneCellPos < (XResol)*0.75) TmpPos.x += (OneCellMm - Mm/2)*coefA/coefB;
;;;3077   				else TmpPos.x += (-OneCellMm+Mm)*coefA/coefB;
;;;3078   //			}
;;;3079   
;;;3080   //			Op_Flag = 0;
;;;3081   //			if(thisModeConf->PenCoord.bCompenEdgeOn)Op_Flag = 1;
;;;3082   //			else 
;;;3083   //			{
;;;3084   //				if(TmpPos.y > (1<<POS_BOOST_SHIFT_) && TmpPos.y < ((ROW_MAX -1)<<POS_BOOST_SHIFT_))Op_Flag = 1;
;;;3085   //			}
;;;3086   			
;;;3087   //			if(Op_Flag == 1)
;;;3088   //			{
;;;3089   				OneCellPos = TmpPos.y - (((int)TmpPos.y/(YResol))*(YResol));
;;;3090   				Mm = (YResol)/FPITCH_Y;  
;;;3091   				OneCellMm = OneCellPos * (1/FPITCH_Y);
;;;3092   				
;;;3093   				if(OneCellPos < (YResol)*0.25)TmpPos.y -= (OneCellMm)*coefA/coefB;
;;;3094   				else if((YResol)*0.25 <= OneCellPos && OneCellPos < (YResol)*0.75)TmpPos.y += (OneCellMm - Mm/2)*coefA/coefB;
;;;3095   				else TmpPos.y += (-OneCellMm+Mm)*coefA/coefB;
;;;3096   			}
;;;3097   			
;;;3098   			thisInfo->tCoord_local_dsp.tPos.tXY.x = TmpPos.x - (UNIT_DIST>>1);
;;;3099   			thisInfo->tCoord_local_dsp.tPos.tXY.y = TmpPos.y - (UNIT_DIST>>1);
;;;3100   			thisInfo->tCoord_local_dsp.tOrgPos.tXY.x = thisInfo->tCoord_local_dsp.tPos.tXY.x;
;;;3101   			thisInfo->tCoord_local_dsp.tOrgPos.tXY.y = thisInfo->tCoord_local_dsp.tPos.tXY.y;
;;;3102   		}
;;;3103   	}
;;;3104   }
000002  bf08              IT       EQ
000004  4770              BXEQ     lr
000006  e92d4ff0          PUSH     {r4-r11,lr}           ;3026
00000a  f8df81cc          LDR      r8,|L11.472|
00000e  b085              SUB      sp,sp,#0x14           ;3026
000010  2801              CMP      r0,#1                 ;3032
000012  f8d81008          LDR      r1,[r8,#8]            ;3032
000016  bf04              ITT      EQ                    ;3034
000018  f8914123          LDRBEQ   r4,[r1,#0x123]        ;3034
00001c  f8915124          LDRBEQ   r5,[r1,#0x124]        ;3035
000020  d00c              BEQ      |L11.60|
000022  2805              CMP      r0,#5                 ;3037
000024  bf04              ITT      EQ                    ;3039
000026  f8914152          LDRBEQ   r4,[r1,#0x152]        ;3039
00002a  f8915153          LDRBEQ   r5,[r1,#0x153]        ;3040
00002e  d005              BEQ      |L11.60|
000030  2803              CMP      r0,#3                 ;3042
000032  bf04              ITT      EQ                    ;3044
000034  f8914125          LDRBEQ   r4,[r1,#0x125]        ;3044
000038  f8915126          LDRBEQ   r5,[r1,#0x126]        ;3045
                  |L11.60|
00003c  2c00              CMP      r4,#0                 ;3048
00003e  bfdc              ITT      LE
000040  b005              ADDLE    sp,sp,#0x14
000042  e8bd8ff0          POPLE    {r4-r11,pc}
000046  f8d8000c          LDR      r0,[r8,#0xc]          ;3050  ; thisInfo
00004a  f8b02f9e          LDRH     r2,[r0,#0xf9e]        ;3050
00004e  2a00              CMP      r2,#0                 ;3050
000050  bf04              ITT      EQ
000052  b005              ADDEQ    sp,sp,#0x14
000054  e8bd8ff0          POPEQ    {r4-r11,pc}
000058  f8d02f94          LDR      r2,[r0,#0xf94]        ;3053
00005c  f44f7680          MOV      r6,#0x100             ;3059
000060  3280              ADDS     r2,r2,#0x80           ;3053
000062  9200              STR      r2,[sp,#0]            ;3054
000064  f8d00f98          LDR      r0,[r0,#0xf98]        ;3054
000068  4f5c              LDR      r7,|L11.476|
00006a  3080              ADDS     r0,r0,#0x80           ;3054
00006c  9001              STR      r0,[sp,#4]            ;3063
00006e  f8910127          LDRB     r0,[r1,#0x127]        ;3063
000072  46b2              MOV      r10,r6                ;3060
000074  b928              CBNZ     r0,|L11.130|
000076  2100              MOVS     r1,#0                 ;3066
000078  4668              MOV      r0,sp                 ;3066
00007a  f7fffffe          BL       algorithm_coord_IsEdgeArea
00007e  2800              CMP      r0,#0                 ;3066
000080  d177              BNE      |L11.370|
                  |L11.130|
000082  9800              LDR      r0,[sp,#0]            ;3072
000084  9900              LDR      r1,[sp,#0]            ;3072
000086  fb90f0f6          SDIV     r0,r0,r6              ;3072
00008a  fb001616          MLS      r6,r0,r6,r1           ;3072
00008e  f8df9150          LDR      r9,|L11.480|
000092  4954              LDR      r1,|L11.484|
000094  4648              MOV      r0,r9                 ;3073
000096  f7fffffe          BL       __aeabi_d2uiz
00009a  f0000bff          AND      r11,r0,#0xff          ;3073
00009e  4630              MOV      r0,r6                 ;3074
0000a0  f7fffffe          BL       __aeabi_i2d
0000a4  9102              STR      r1,[sp,#8]            ;3074
0000a6  4606              MOV      r6,r0                 ;3074
0000a8  464a              MOV      r2,r9                 ;3074
0000aa  4b4f              LDR      r3,|L11.488|
0000ac  9103              STR      r1,[sp,#0xc]          ;3074
0000ae  f7fffffe          BL       __aeabi_dmul
0000b2  f7fffffe          BL       __aeabi_d2iz
0000b6  4681              MOV      r9,r0                 ;3074
0000b8  f06f0201          MVN      r2,#1                 ;3075
0000bc  2000              MOVS     r0,#0                 ;3075
0000be  4639              MOV      r1,r7                 ;3075
0000c0  f7fffffe          BL       __ARM_scalbn
0000c4  4607              MOV      r7,r0                 ;3075
0000c6  460b              MOV      r3,r1                 ;3075
0000c8  9104              STR      r1,[sp,#0x10]         ;3075
0000ca  463a              MOV      r2,r7                 ;3075
0000cc  4630              MOV      r0,r6                 ;3075
0000ce  9903              LDR      r1,[sp,#0xc]          ;3075
0000d0  f7fffffe          BL       __aeabi_cdcmple
0000d4  d206              BCS      |L11.228|
0000d6  fb09f004          MUL      r0,r9,r4              ;3075
0000da  fb90f0f5          SDIV     r0,r0,r5              ;3075
0000de  9900              LDR      r1,[sp,#0]            ;3075
0000e0  1a08              SUBS     r0,r1,r0              ;3075
0000e2  e014              B        |L11.270|
                  |L11.228|
0000e4  4632              MOV      r2,r6                 ;3076
0000e6  4638              MOV      r0,r7                 ;3076
0000e8  9b02              LDR      r3,[sp,#8]            ;3076
0000ea  9904              LDR      r1,[sp,#0x10]         ;3076
0000ec  f7fffffe          BL       __aeabi_cdcmple
0000f0  d80f              BHI      |L11.274|
0000f2  4630              MOV      r0,r6                 ;3076
0000f4  2200              MOVS     r2,#0                 ;3076
0000f6  4b3d              LDR      r3,|L11.492|
0000f8  9902              LDR      r1,[sp,#8]            ;3076
0000fa  f7fffffe          BL       __aeabi_cdcmple
0000fe  d208              BCS      |L11.274|
000100  eba9005b          SUB      r0,r9,r11,LSR #1      ;3076
000104  4360              MULS     r0,r4,r0              ;3076
000106  fb90f0f5          SDIV     r0,r0,r5              ;3076
00010a  9900              LDR      r1,[sp,#0]            ;3076
00010c  4408              ADD      r0,r0,r1              ;3076
                  |L11.270|
00010e  9000              STR      r0,[sp,#0]            ;3076
000110  e007              B        |L11.290|
                  |L11.274|
000112  ebab0009          SUB      r0,r11,r9             ;3077
000116  4360              MULS     r0,r4,r0              ;3077
000118  fb90f0f5          SDIV     r0,r0,r5              ;3077
00011c  9900              LDR      r1,[sp,#0]            ;3077
00011e  4408              ADD      r0,r0,r1              ;3077
000120  9000              STR      r0,[sp,#0]            ;3077
                  |L11.290|
000122  9801              LDR      r0,[sp,#4]            ;3089
000124  9901              LDR      r1,[sp,#4]            ;3089
000126  fb90f0fa          SDIV     r0,r0,r10             ;3089
00012a  fb00161a          MLS      r6,r0,r10,r1          ;3089
00012e  f8df90c0          LDR      r9,|L11.496|
000132  4930              LDR      r1,|L11.500|
000134  4648              MOV      r0,r9                 ;3090
000136  f7fffffe          BL       __aeabi_d2uiz
00013a  f0000aff          AND      r10,r0,#0xff          ;3090
00013e  4630              MOV      r0,r6                 ;3091
000140  f7fffffe          BL       __aeabi_i2d
000144  4606              MOV      r6,r0                 ;3091
000146  468b              MOV      r11,r1                ;3091
000148  464a              MOV      r2,r9                 ;3091
00014a  4b2b              LDR      r3,|L11.504|
00014c  f7fffffe          BL       __aeabi_dmul
000150  f7fffffe          BL       __aeabi_d2iz
000154  4681              MOV      r9,r0                 ;3091
000156  463a              MOV      r2,r7                 ;3093
000158  4630              MOV      r0,r6                 ;3093
00015a  4659              MOV      r1,r11                ;3093
00015c  9b04              LDR      r3,[sp,#0x10]         ;3093
00015e  f7fffffe          BL       __aeabi_cdcmple
000162  d207              BCS      |L11.372|
000164  fb09f004          MUL      r0,r9,r4              ;3093
000168  fb90f0f5          SDIV     r0,r0,r5              ;3093
00016c  9901              LDR      r1,[sp,#4]            ;3093
00016e  1a08              SUBS     r0,r1,r0              ;3093
000170  e015              B        |L11.414|
                  |L11.370|
000172  e01e              B        |L11.434|
                  |L11.372|
000174  4632              MOV      r2,r6                 ;3094
000176  465b              MOV      r3,r11                ;3094
000178  4638              MOV      r0,r7                 ;3094
00017a  9904              LDR      r1,[sp,#0x10]         ;3094
00017c  f7fffffe          BL       __aeabi_cdcmple
000180  d80f              BHI      |L11.418|
000182  4630              MOV      r0,r6                 ;3094
000184  4659              MOV      r1,r11                ;3094
000186  2200              MOVS     r2,#0                 ;3094
000188  4b18              LDR      r3,|L11.492|
00018a  f7fffffe          BL       __aeabi_cdcmple
00018e  d208              BCS      |L11.418|
000190  eba9005a          SUB      r0,r9,r10,LSR #1      ;3094
000194  4360              MULS     r0,r4,r0              ;3094
000196  fb90f0f5          SDIV     r0,r0,r5              ;3094
00019a  9901              LDR      r1,[sp,#4]            ;3094
00019c  4408              ADD      r0,r0,r1              ;3094
                  |L11.414|
00019e  9001              STR      r0,[sp,#4]            ;3093
0001a0  e007              B        |L11.434|
                  |L11.418|
0001a2  ebaa0009          SUB      r0,r10,r9             ;3095
0001a6  4360              MULS     r0,r4,r0              ;3095
0001a8  fb90f0f5          SDIV     r0,r0,r5              ;3095
0001ac  9901              LDR      r1,[sp,#4]            ;3095
0001ae  4408              ADD      r0,r0,r1              ;3095
0001b0  9001              STR      r0,[sp,#4]            ;3095
                  |L11.434|
0001b2  9800              LDR      r0,[sp,#0]            ;3098
0001b4  f1a00180          SUB      r1,r0,#0x80           ;3098
0001b8  f8d8000c          LDR      r0,[r8,#0xc]          ;3098  ; thisInfo
0001bc  f8c01f94          STR      r1,[r0,#0xf94]        ;3099
0001c0  9a01              LDR      r2,[sp,#4]            ;3099
0001c2  3a80              SUBS     r2,r2,#0x80           ;3099
0001c4  f8c02f98          STR      r2,[r0,#0xf98]        ;3101
0001c8  f8c02fd8          STR      r2,[r0,#0xfd8]        ;3101
0001cc  f8c01fd4          STR      r1,[r0,#0xfd4]        ;3101
0001d0  b005              ADD      sp,sp,#0x14
0001d2  e8bd8ff0          POP      {r4-r11,pc}
;;;3105   #if (INTERPOLATION_VER1_En == YES || INTERPOLATION_VER2_En == YES || INTERPOLATION_VER3_En == YES)
                          ENDP

0001d6  0000              DCW      0x0000
                  |L11.472|
                          DCD      ||.data||
                  |L11.476|
                          DCD      0x40700000
                  |L11.480|
                          DCD      0xf3831f39
                  |L11.484|
                          DCD      0x404f3831
                  |L11.488|
                          DCD      0x3fcf3831
                  |L11.492|
                          DCD      0x40680000
                  |L11.496|
                          DCD      0xdc14868e
                  |L11.500|
                          DCD      0x404c81fe
                  |L11.504|
                          DCD      0x3fcc81fe

                          AREA ||i.algorithm_coord_drawing_assistance||, CODE, READONLY, ALIGN=2

                  algorithm_coord_drawing_assistance PROC
;;;672    }
;;;673    void algorithm_coord_drawing_assistance(int mode)
000000  e92d4ff0          PUSH     {r4-r11,lr}
;;;674    {
;;;675    	int l,i,j;
;;;676    //	int r,c,_d;
;;;677    //	uint32_t ulStrength = 0;
;;;678    	tXY_t CoordAry[5], CoordTmp;//, PredCoord[5],ProjectionVector;
;;;679    	uint8_t ColMinLabelIdx=0,  ColMaxLabelIdx=0,  RowMinLabelIdx=0,  RowMaxLabelIdx=0;
000004  2000              MOVS     r0,#0
000006  b09b              SUB      sp,sp,#0x6c           ;674
;;;680    	int ColMin=INT32_MAX, ColMax=0, RowMin=INT32_MAX, RowMax=0, Width=0, Height=0;
000008  4681              MOV      r9,r0
00000a  900b              STR      r0,[sp,#0x2c]         ;679
00000c  9011              STR      r0,[sp,#0x44]         ;679
00000e  9010              STR      r0,[sp,#0x40]         ;679
000010  4683              MOV      r11,r0
;;;681    	int idx,JitterSum=0;
000012  4607              MOV      r7,r0
;;;682    
;;;683    //	tLabelInfo_t	*temp_label;
;;;684    	tCoordInfo_t 	*temp_coord;
;;;685    
;;;686    	{
;;;687    		temp_coord = &thisInfo->tCoord;
000014  900f              STR      r0,[sp,#0x3c]
000016  48f2              LDR      r0,|L12.992|
000018  f06f4a00          MVN      r10,#0x80000000       ;680
00001c  46d0              MOV      r8,r10                ;680
00001e  68c6              LDR      r6,[r0,#0xc]  ; thisInfo
000020  f2063469          ADD      r4,r6,#0x369
;;;688    //		temp_label = &thisInfo->tLabel;
;;;689    	}
;;;690    	
;;;691    	if(temp_coord->tTempPos.sFinger_ == 0){
000024  f8960369          LDRB     r0,[r6,#0x369]
;;;692    		thisInfo->WinCertMode = 0;
000028  f5065580          ADD      r5,r6,#0x1000
00002c  900d              STR      r0,[sp,#0x34]         ;674
00002e  b150              CBZ      r0,|L12.70|
;;;693    		thisInfo->DrawingDirection = 0;
;;;694    		thisInfo->WinCertTrackingDist = 0;
;;;695    		thisInfo->TouchNumCnt = 0;
;;;696    	}
;;;697    	else if(temp_coord->tTempPos.sFinger_ == temp_coord->tOrgPastPos[0].sFinger_)
000030  f89416b7          LDRB     r1,[r4,#0x6b7]
000034  4288              CMP      r0,r1
;;;698    		thisInfo->TouchNumCnt++;
000036  bf06              ITTE     EQ
000038  f8b502a4          LDRHEQ   r0,[r5,#0x2a4]
00003c  1c40              ADDEQ    r0,r0,#1
;;;699    	else
;;;700    		thisInfo->TouchNumCnt = 0;
00003e  2000              MOVNE    r0,#0
000040  f8a502a4          STRH     r0,[r5,#0x2a4]        ;698
000044  e008              B        |L12.88|
                  |L12.70|
000046  2000              MOVS     r0,#0                 ;692
000048  f88502a0          STRB     r0,[r5,#0x2a0]        ;692
00004c  f88502a1          STRB     r0,[r5,#0x2a1]        ;693
000050  f8a502a2          STRH     r0,[r5,#0x2a2]        ;694
000054  f8a502a4          STRH     r0,[r5,#0x2a4]        ;695
                  |L12.88|
000058  980d              LDR      r0,[sp,#0x34]         ;695
00005a  900c              STR      r0,[sp,#0x30]         ;687
;;;701    	
;;;702    	//detect win cert state
;;;703    //	if( temp_coord->tTempPos.sFinger_ == 5 && thisInfo->WinCertMode == 0 &&
;;;704    //	   (thisInfo->tDelta.tValidRect.re - thisInfo->tDelta.tValidRect.rs + 1) < (thisModeConf->CoordTracking.usCenterMatchDistanceThd << 1) && (thisInfo->tDelta.tValidRect.ce - thisInfo->tDelta.tValidRect.cs + 1) < (thisModeConf->CoordTracking.usCenterMatchDistanceThd << 1) )
;;;705    	if(temp_coord->tTempPos.sFinger_ > 1 && temp_coord->tTempPos.sFinger_ <= 5 && thisInfo->WinCertMode == 0)
00005c  1e81              SUBS     r1,r0,#2
00005e  48e0              LDR      r0,|L12.992|
000060  2903              CMP      r1,#3
;;;706    	{	
;;;707    		memcpy(CoordAry, temp_coord->tTempPos.tXY, sizeof(CoordAry));
;;;708    		for(l = temp_coord->tTempPos.sFinger_; l--;)
;;;709    		{
;;;710    			if(temp_coord->tTempPos.tXY[l].x < ColMin)	ColMin = temp_coord->tTempPos.tXY[l].x, ColMinLabelIdx = l;
;;;711    			if(temp_coord->tTempPos.tXY[l].x > ColMax)	ColMax = temp_coord->tTempPos.tXY[l].x, ColMaxLabelIdx = l;
;;;712    			if(temp_coord->tTempPos.tXY[l].y < RowMin)	RowMin = temp_coord->tTempPos.tXY[l].y, RowMinLabelIdx = l;
;;;713    			if(temp_coord->tTempPos.tXY[l].y > RowMax)	RowMax = temp_coord->tTempPos.tXY[l].y, RowMaxLabelIdx = l;
;;;714    			
;;;715    		}
;;;716    		Width = abs(temp_coord->tTempPos.tXY[ColMaxLabelIdx].x - temp_coord->tTempPos.tXY[ColMinLabelIdx].x);
;;;717    		Height = abs(temp_coord->tTempPos.tXY[RowMaxLabelIdx].y - temp_coord->tTempPos.tXY[RowMinLabelIdx].y);
;;;718    		
;;;719    		if(Width > Height){
;;;720    			CoordTmp = CoordAry[ColMinLabelIdx];
;;;721    			CoordAry[ColMinLabelIdx] = CoordAry[0];
;;;722    			CoordAry[0] = CoordTmp;
;;;723    			
;;;724    			CoordTmp = CoordAry[ColMaxLabelIdx];
;;;725    			CoordAry[ColMaxLabelIdx] = CoordAry[1];
;;;726    			CoordAry[1] = CoordTmp;
;;;727    			
;;;728    			for(idx=1; idx<temp_coord->tTempPos.sFinger_;idx++){
;;;729    				if(CoordAry[idx].x == CoordAry[0].x)
;;;730    					JitterSum += CoordAry[idx].y - CoordAry[0].y;
;;;731    				else
;;;732    					JitterSum += abs(Height - (abs(CoordAry[idx].y - CoordAry[0].y) * Width / abs(CoordAry[idx].x - CoordAry[0].x)));
;;;733    			}
;;;734    //			TotalRect = algorithm_merge_rect(temp_coord->tTempPos.rect[ColMinLabelIdx], temp_coord->tTempPos.rect[ColMaxLabelIdx]);
;;;735    		}
;;;736    		else{
;;;737    			CoordTmp = CoordAry[RowMinLabelIdx];
;;;738    			CoordAry[RowMinLabelIdx] = CoordAry[0];
;;;739    			CoordAry[0] = CoordTmp;
;;;740    			
;;;741    			CoordTmp = CoordAry[RowMaxLabelIdx];
;;;742    			CoordAry[RowMaxLabelIdx] = CoordAry[1];
;;;743    			CoordAry[1] = CoordTmp;
;;;744    			
;;;745    			for(idx=1; idx<temp_coord->tTempPos.sFinger_;idx++){
;;;746    				if(CoordAry[idx].y == CoordAry[0].y)
;;;747    					JitterSum += abs(CoordAry[idx].x - CoordAry[0].x);
;;;748    				else
;;;749    					JitterSum += abs(Width - (abs(CoordAry[idx].x - CoordAry[0].x) * Height / abs(CoordAry[idx].y - CoordAry[0].y)));
;;;750    			}
;;;751    //			TotalRect = algorithm_merge_rect(temp_coord->tTempPos.rect[RowMinLabelIdx], temp_coord->tTempPos.rect[RowMaxLabelIdx]);
;;;752    		}
;;;753    		
;;;754    		if(JitterSum < 500)
;;;755    		{
;;;756    			if( temp_coord->tTempPos.sFinger_ == 5 && thisInfo->WinCertMode == 0 &&
000062  6880              LDR      r0,[r0,#8]
000064  9016              STR      r0,[sp,#0x58]         ;705
000066  bf9c              ITT      LS                    ;705
000068  f89502a0          LDRBLS   r0,[r5,#0x2a0]        ;705
00006c  2800              CMPLS    r0,#0                 ;705
00006e  f040810b          BNE.W    |L12.648|
000072  f04f0228          MOV      r2,#0x28              ;707
000076  f1040101          ADD      r1,r4,#1              ;707
00007a  4668              MOV      r0,sp                 ;707
00007c  f7fffffe          BL       __aeabi_memcpy
000080  980c              LDR      r0,[sp,#0x30]         ;707
000082  990d              LDR      r1,[sp,#0x34]         ;708
000084  1e40              SUBS     r0,r0,#1              ;707
000086  b1d9              CBZ      r1,|L12.192|
                  |L12.136|
000088  eb0402c0          ADD      r2,r4,r0,LSL #3       ;710
00008c  f8d21001          LDR      r1,[r2,#1]            ;710
000090  4551              CMP      r1,r10                ;710
000092  da02              BGE      |L12.154|
000094  b2c3              UXTB     r3,r0                 ;710
000096  468a              MOV      r10,r1                ;710
000098  9311              STR      r3,[sp,#0x44]         ;710
                  |L12.154|
00009a  4549              CMP      r1,r9                 ;711
00009c  dd02              BLE      |L12.164|
00009e  4689              MOV      r9,r1                 ;711
0000a0  b2c1              UXTB     r1,r0                 ;711
0000a2  910b              STR      r1,[sp,#0x2c]         ;711
                  |L12.164|
0000a4  f8d21005          LDR      r1,[r2,#5]            ;712
0000a8  4541              CMP      r1,r8                 ;712
0000aa  da02              BGE      |L12.178|
0000ac  b2c2              UXTB     r2,r0                 ;712
0000ae  4688              MOV      r8,r1                 ;712
0000b0  9210              STR      r2,[sp,#0x40]         ;712
                  |L12.178|
0000b2  4559              CMP      r1,r11                ;713
0000b4  dd02              BLE      |L12.188|
0000b6  468b              MOV      r11,r1                ;713
0000b8  b2c1              UXTB     r1,r0                 ;713
0000ba  910f              STR      r1,[sp,#0x3c]         ;713
                  |L12.188|
0000bc  1e40              SUBS     r0,r0,#1              ;713
0000be  d2e3              BCS      |L12.136|
                  |L12.192|
0000c0  980b              LDR      r0,[sp,#0x2c]         ;716
0000c2  eb0400c0          ADD      r0,r4,r0,LSL #3       ;716
0000c6  f8d01001          LDR      r1,[r0,#1]            ;716
0000ca  9811              LDR      r0,[sp,#0x44]         ;716
0000cc  eb0400c0          ADD      r0,r4,r0,LSL #3       ;716
0000d0  f8d00001          LDR      r0,[r0,#1]            ;716
0000d4  1a0a              SUBS     r2,r1,r0              ;716
0000d6  bf48              IT       MI                    ;716
0000d8  4252              RSBMI    r2,r2,#0              ;716
0000da  980f              LDR      r0,[sp,#0x3c]         ;717
0000dc  eb0400c0          ADD      r0,r4,r0,LSL #3       ;717
0000e0  f8d01005          LDR      r1,[r0,#5]            ;717
0000e4  9810              LDR      r0,[sp,#0x40]         ;717
0000e6  eb0400c0          ADD      r0,r4,r0,LSL #3       ;717
0000ea  f8d00005          LDR      r0,[r0,#5]            ;717
0000ee  1a09              SUBS     r1,r1,r0              ;717
0000f0  bf48              IT       MI                    ;717
0000f2  4249              RSBMI    r1,r1,#0              ;717
0000f4  46ec              MOV      r12,sp                ;678
0000f6  428a              CMP      r2,r1                 ;719
0000f8  dd48              BLE      |L12.396|
0000fa  9811              LDR      r0,[sp,#0x44]         ;720
0000fc  e9dd9a00          LDRD     r9,r10,[sp,#0]        ;720
000100  eb0c03c0          ADD      r3,r12,r0,LSL #3      ;720
000104  e9d30800          LDRD     r0,r8,[r3,#0]         ;720
000108  e9c39a00          STRD     r9,r10,[r3,#0]        ;720
00010c  e9cd0800          STRD     r0,r8,[sp,#0]         ;720
000110  980b              LDR      r0,[sp,#0x2c]         ;724
000112  e9dd9a02          LDRD     r9,r10,[sp,#8]        ;724
000116  eb0c00c0          ADD      r0,r12,r0,LSL #3      ;724
00011a  e9d03800          LDRD     r3,r8,[r0,#0]         ;724
00011e  e9c09a00          STRD     r9,r10,[r0,#0]        ;724
000122  e9cd3802          STRD     r3,r8,[sp,#8]         ;728
000126  7823              LDRB     r3,[r4,#0]            ;728
000128  2001              MOVS     r0,#1                 ;728
00012a  2b01              CMP      r3,#1                 ;728
00012c  dd61              BLE      |L12.498|
00012e  bf00              NOP                            ;729
                  |L12.304|
000130  f85c9030          LDR      r9,[r12,r0,LSL #3]    ;729
000134  f8dd8000          LDR      r8,[sp,#0]            ;729
000138  45c1              CMP      r9,r8                 ;729
00013a  eb0c08c0          ADD      r8,r12,r0,LSL #3      ;732
00013e  f8d88004          LDR      r8,[r8,#4]            ;732
000142  d108              BNE      |L12.342|
000144  f8dd9004          LDR      r9,[sp,#4]            ;730
000148  eba80809          SUB      r8,r8,r9              ;730
00014c  4447              ADD      r7,r7,r8              ;730
                  |L12.334|
00014e  1c40              ADDS     r0,r0,#1              ;730
000150  4283              CMP      r3,r0                 ;732
000152  dced              BGT      |L12.304|
000154  e04a              B        |L12.492|
                  |L12.342|
000156  f8dda004          LDR      r10,[sp,#4]           ;732
00015a  ebb8080a          SUBS     r8,r8,r10             ;732
00015e  f8dda000          LDR      r10,[sp,#0]           ;732
000162  eba9090a          SUB      r9,r9,r10             ;732
000166  bf48              IT       MI                    ;732
000168  f1c80800          RSBMI    r8,r8,#0              ;732
00016c  fb08f802          MUL      r8,r8,r2              ;732
000170  f1b90f00          CMP      r9,#0                 ;732
000174  bfb8              IT       LT                    ;732
000176  f1c90900          RSBLT    r9,r9,#0              ;732
00017a  fb98f8f9          SDIV     r8,r8,r9              ;732
00017e  ebb10808          SUBS     r8,r1,r8              ;732
000182  bf48              IT       MI                    ;732
000184  f1c80800          RSBMI    r8,r8,#0              ;732
000188  4447              ADD      r7,r7,r8              ;732
00018a  e7e0              B        |L12.334|
                  |L12.396|
00018c  9810              LDR      r0,[sp,#0x40]         ;737
00018e  e9dd9a00          LDRD     r9,r10,[sp,#0]        ;737
000192  eb0c00c0          ADD      r0,r12,r0,LSL #3      ;737
000196  e9d03800          LDRD     r3,r8,[r0,#0]         ;737
00019a  e9c09a00          STRD     r9,r10,[r0,#0]        ;737
00019e  e9cd3800          STRD     r3,r8,[sp,#0]         ;737
0001a2  980f              LDR      r0,[sp,#0x3c]         ;741
0001a4  e9dd9a02          LDRD     r9,r10,[sp,#8]        ;741
0001a8  eb0c00c0          ADD      r0,r12,r0,LSL #3      ;741
0001ac  e9d03800          LDRD     r3,r8,[r0,#0]         ;741
0001b0  e9c09a00          STRD     r9,r10,[r0,#0]        ;741
0001b4  e9cd3802          STRD     r3,r8,[sp,#8]         ;745
0001b8  7823              LDRB     r3,[r4,#0]            ;745
0001ba  2001              MOVS     r0,#1                 ;745
0001bc  2b01              CMP      r3,#1                 ;745
0001be  dd18              BLE      |L12.498|
                  |L12.448|
0001c0  eb0c08c0          ADD      r8,r12,r0,LSL #3      ;746
0001c4  f8dd9004          LDR      r9,[sp,#4]            ;746
0001c8  f8d88004          LDR      r8,[r8,#4]            ;746
0001cc  45c8              CMP      r8,r9                 ;746
0001ce  d119              BNE      |L12.516|
0001d0  f85c8030          LDR      r8,[r12,r0,LSL #3]    ;747
0001d4  f8dd9000          LDR      r9,[sp,#0]            ;747
0001d8  ebb80809          SUBS     r8,r8,r9              ;747
0001dc  d502              BPL      |L12.484|
0001de  bf00              NOP                            ;747
                  |L12.480|
0001e0  f1c80800          RSB      r8,r8,#0              ;747
                  |L12.484|
0001e4  1c40              ADDS     r0,r0,#1              ;749
0001e6  4447              ADD      r7,r7,r8              ;749
0001e8  4283              CMP      r3,r0                 ;749
0001ea  dce9              BGT      |L12.448|
                  |L12.492|
0001ec  f5b77ffa          CMP      r7,#0x1f4             ;754
0001f0  da4a              BGE      |L12.648|
                  |L12.498|
0001f2  b2d8              UXTB     r0,r3
0001f4  2301              MOVS     r3,#1                 ;728
0001f6  2805              CMP      r0,#5
0001f8  bf04              ITT      EQ
0001fa  f89502a0          LDRBEQ   r0,[r5,#0x2a0]
0001fe  2800              CMPEQ    r0,#0
000200  d135              BNE      |L12.622|
000202  e019              B        |L12.568|
                  |L12.516|
000204  f85c9030          LDR      r9,[r12,r0,LSL #3]    ;749
000208  f8dda000          LDR      r10,[sp,#0]           ;749
00020c  ebb9090a          SUBS     r9,r9,r10             ;749
000210  f8dda004          LDR      r10,[sp,#4]           ;749
000214  eba8080a          SUB      r8,r8,r10             ;749
000218  bf48              IT       MI                    ;749
00021a  f1c90900          RSBMI    r9,r9,#0              ;749
00021e  fb09f901          MUL      r9,r9,r1              ;749
000222  f1b80f00          CMP      r8,#0                 ;749
000226  bfb8              IT       LT                    ;749
000228  f1c80800          RSBLT    r8,r8,#0              ;749
00022c  fb99f8f8          SDIV     r8,r9,r8              ;749
000230  ebb20808          SUBS     r8,r2,r8              ;749
000234  d5d6              BPL      |L12.484|
000236  e7d3              B        |L12.480|
                  |L12.568|
000238  f996000e          LDRSB    r0,[r6,#0xe]
00023c  f996c00d          LDRSB    r12,[r6,#0xd]
000240  eba0000c          SUB      r0,r0,r12
000244  f1000c01          ADD      r12,r0,#1
000248  9816              LDR      r0,[sp,#0x58]
00024a  f8d000c9          LDR      r0,[r0,#0xc9]
00024e  ebbc0f40          CMP      r12,r0,LSL #1
000252  d20c              BCS      |L12.622|
000254  f996c010          LDRSB    r12,[r6,#0x10]
000258  f996700f          LDRSB    r7,[r6,#0xf]
00025c  ebac0c07          SUB      r12,r12,r7
000260  f10c0c01          ADD      r12,r12,#1
000264  ebbc0f40          CMP      r12,r0,LSL #1
;;;757    				(thisInfo->tDelta.tValidRect.re - thisInfo->tDelta.tValidRect.rs + 1) < (thisModeConf->CoordTracking.usCenterMatchDistanceThd << 1) && 
;;;758    				(thisInfo->tDelta.tValidRect.ce - thisInfo->tDelta.tValidRect.cs + 1) < (thisModeConf->CoordTracking.usCenterMatchDistanceThd << 1) )
;;;759    					thisInfo->WinCertMode = YES;
000268  bf38              IT       CC
00026a  f88532a0          STRBCC   r3,[r5,#0x2a0]
                  |L12.622|
;;;760    
;;;761    			if(Width > (Height<<4))				//Horizontal
00026e  ebb21f01          CMP      r2,r1,LSL #4
;;;762    				thisInfo->DrawingDirection = 1;
000272  bfc8              IT       GT
000274  f88532a1          STRBGT   r3,[r5,#0x2a1]
000278  dc06              BGT      |L12.648|
;;;763    			else if(Height > (Width<<4))		//Vertical
00027a  ebb11f02          CMP      r1,r2,LSL #4
;;;764    				thisInfo->DrawingDirection = 2;
00027e  bfcc              ITE      GT
000280  2002              MOVGT    r0,#2
;;;765    			else
;;;766    				thisInfo->DrawingDirection = 3;		//Diagonal
000282  2003              MOVLE    r0,#3
000284  f88502a1          STRB     r0,[r5,#0x2a1]        ;764
                  |L12.648|
;;;767    		}
;;;768    	}
;;;769    	
;;;770    	if( (thisInfo->tDelta.tValidRect.re - thisInfo->tDelta.tValidRect.rs + 1) >= (thisModeConf->CoordTracking.usCenterMatchDistanceThd +5) ||
000288  f996000e          LDRSB    r0,[r6,#0xe]
00028c  f996100d          LDRSB    r1,[r6,#0xd]
000290  1a40              SUBS     r0,r0,r1
000292  1c41              ADDS     r1,r0,#1
000294  9816              LDR      r0,[sp,#0x58]
000296  f8d000c9          LDR      r0,[r0,#0xc9]
00029a  1d40              ADDS     r0,r0,#5
00029c  4281              CMP      r1,r0
00029e  d207              BCS      |L12.688|
0002a0  f9961010          LDRSB    r1,[r6,#0x10]
0002a4  f996200f          LDRSB    r2,[r6,#0xf]
0002a8  1a89              SUBS     r1,r1,r2
0002aa  1c49              ADDS     r1,r1,#1
0002ac  4281              CMP      r1,r0
0002ae  d307              BCC      |L12.704|
                  |L12.688|
;;;771    		(thisInfo->tDelta.tValidRect.ce - thisInfo->tDelta.tValidRect.cs + 1) >= (thisModeConf->CoordTracking.usCenterMatchDistanceThd +5) )
;;;772    	{
;;;773    		thisInfo->WinCertMode = 0;
0002b0  2000              MOVS     r0,#0
0002b2  f88502a0          STRB     r0,[r5,#0x2a0]
;;;774    		thisInfo->DrawingDirection = 0;
0002b6  f88502a1          STRB     r0,[r5,#0x2a1]
;;;775    	}
;;;776    	
;;;777    	if(thisInfo->WinCertMode && temp_coord->tTempPos.sFinger_)
;;;778    	{
;;;779    		if(temp_coord->tTempPos.sFinger_ != 5)
;;;780    		{
;;;781    			tXY_t Center[2];
;;;782    			int dist_min = INT32_MAX,tmp;
;;;783    			//int min_cl, min_pl;
;;;784    			
;;;785    			Center[0].x = 0, Center[0].y = 0;
;;;786    			for(i=0;i<temp_coord->tTempPos.sFinger_;i++){
;;;787    				Center[0].x += temp_coord->tTempPos.tXY[i].x;
;;;788    				Center[0].y += temp_coord->tTempPos.tXY[i].y;
;;;789    			}
;;;790    			Center[0].x /= temp_coord->tTempPos.sFinger_;
;;;791    			Center[0].y /= temp_coord->tTempPos.sFinger_;
;;;792    			
;;;793    			Center[1].x = 0, Center[1].y = 0;
;;;794    			for(i=0;i<5;i++){
;;;795    				Center[1].x +=  temp_coord->tOrgPastPos[0].tXY[i].x;
;;;796    				Center[1].y +=  temp_coord->tOrgPastPos[0].tXY[i].y;
;;;797    			}
;;;798    			Center[1].x /= 5;
;;;799    			Center[1].y /= 5;
;;;800    			
;;;801    			for(i=0;i<temp_coord->tTempPos.sFinger_;i++){
;;;802    				for(j=0;j<5;j++){
;;;803    					tmp = algorithm_coord_calc_distance(temp_coord->tTempPos.tXY[i],temp_coord->tOrgPastPos[0].tXY[j]);
;;;804    					if(tmp < dist_min){
;;;805    						dist_min = tmp;
;;;806    //						min_cl = i;
;;;807    //						min_pl = j;
;;;808    					}
;;;809    					
;;;810    				}
;;;811    			}
;;;812    					
;;;813    			for(i=0;i<POSBUF_;i++){
;;;814    				temp_coord->tTempPos.vusR[i]   = 0;
;;;815    				temp_coord->tTempPos.vusS[i]   = 0;
;;;816    			}
;;;817    			for(i=0;i<temp_coord->tOrgPastPos[0].sFinger_;i++){
;;;818    				if(temp_coord->tOrgPastPos[0].vusR[i]>0){
;;;819    					temp_coord->tTempPos.tXY[i] = temp_coord->tOrgPastPos[0].tXY[i];
;;;820    	//					temp_coord->tTempPos.tXY[i].x = temp_coord->tOrgPastPos[0].tXY[i].x + ((temp_coord->tTempPos.tXY[i].x - temp_coord->tOrgPastPos[0].tXY[j].x)>>2);
;;;821    	//					temp_coord->tTempPos.tXY[i].y = temp_coord->tOrgPastPos[0].tXY[i].y + ((temp_coord->tTempPos.tXY[i].y - temp_coord->tOrgPastPos[0].tXY[j].y)>>2);
;;;822    					
;;;823    					temp_coord->tTempPos.vusR[i]   = temp_coord->tOrgPastPos[0].vusR[i];
;;;824    					temp_coord->tTempPos.vusS[i]   = temp_coord->tOrgPastPos[0].vusS[i];
;;;825    					temp_coord->cRemap[i] = i;
;;;826    					temp_coord->tTempPos.sFinger_ = temp_coord->tOrgPastPos[0].sFinger_;
;;;827    				}
;;;828    			}
;;;829    		}
;;;830    	}	
;;;831    }
0002ba  b01b              ADD      sp,sp,#0x6c
0002bc  e8bd8ff0          POP      {r4-r11,pc}
                  |L12.704|
0002c0  f89502a0          LDRB     r0,[r5,#0x2a0]        ;777
0002c4  2800              CMP      r0,#0                 ;777
0002c6  bf1d              ITTTE    NE                    ;777
0002c8  7822              LDRBNE   r2,[r4,#0]            ;777
0002ca  2a00              CMPNE    r2,#0                 ;777
0002cc  2a05              CMPNE    r2,#5                 ;779
0002ce  b01b              ADDEQ    sp,sp,#0x6c
0002d0  bf08              IT       EQ
0002d2  e8bd8ff0          POPEQ    {r4-r11,pc}
0002d6  f06f4600          MVN      r6,#0x80000000        ;782
0002da  f04f0900          MOV      r9,#0                 ;785
0002de  4648              MOV      r0,r9                 ;785
0002e0  464b              MOV      r3,r9                 ;785
0002e2  f0120101          ANDS     r1,r2,#1              ;789
0002e6  bf1c              ITT      NE                    ;787
0002e8  f8d40001          LDRNE    r0,[r4,#1]            ;787
0002ec  f8d43005          LDRNE    r3,[r4,#5]            ;788
0002f0  428a              CMP      r2,r1                 ;786
0002f2  dd11              BLE      |L12.792|
                  |L12.756|
0002f4  eb040cc1          ADD      r12,r4,r1,LSL #3      ;787
0002f8  4605              MOV      r5,r0                 ;787
0002fa  f8dc0001          LDR      r0,[r12,#1]           ;787
0002fe  1c89              ADDS     r1,r1,#2              ;788
000300  4428              ADD      r0,r0,r5              ;787
000302  f8dc5005          LDR      r5,[r12,#5]           ;788
000306  428a              CMP      r2,r1                 ;788
000308  442b              ADD      r3,r3,r5              ;788
00030a  f8dc5009          LDR      r5,[r12,#9]           ;787
00030e  f8dcc00d          LDR      r12,[r12,#0xd]        ;788
000312  4428              ADD      r0,r0,r5              ;787
000314  4463              ADD      r3,r3,r12             ;788
000316  dced              BGT      |L12.756|
                  |L12.792|
000318  fb90f0f2          SDIV     r0,r0,r2              ;790
00031c  fb93f0f2          SDIV     r0,r3,r2              ;791
000320  2700              MOVS     r7,#0                 ;801
000322  2a00              CMP      r2,#0                 ;801
000324  dd1e              BLE      |L12.868|
                  |L12.806|
000326  2500              MOVS     r5,#0                 ;802
000328  eb0408c7          ADD      r8,r4,r7,LSL #3       ;787
                  |L12.812|
00032c  eb0401c5          ADD      r1,r4,r5,LSL #3       ;803
000330  f8d82001          LDR      r2,[r8,#1]            ;803
000334  f8d136b8          LDR      r3,[r1,#0x6b8]        ;803
000338  f8d80005          LDR      r0,[r8,#5]            ;803
00033c  f8d116bc          LDR      r1,[r1,#0x6bc]        ;803
000340  1ad2              SUBS     r2,r2,r3              ;803
000342  4352              MULS     r2,r2,r2              ;803
000344  1a40              SUBS     r0,r0,r1              ;803
000346  fb002000          MLA      r0,r0,r0,r2           ;803
00034a  f7fffffe          BL       algorithm_calc_sqrt
00034e  42b0              CMP      r0,r6                 ;805
000350  bfc8              IT       GT                    ;805
000352  4630              MOVGT    r0,r6                 ;805
000354  4606              MOV      r6,r0                 ;805
000356  1c6d              ADDS     r5,r5,#1              ;805
000358  2d05              CMP      r5,#5                 ;805
00035a  dbe7              BLT      |L12.812|
00035c  7820              LDRB     r0,[r4,#0]            ;805
00035e  1c7f              ADDS     r7,r7,#1              ;805
000360  4287              CMP      r7,r0                 ;805
000362  dbe0              BLT      |L12.806|
                  |L12.868|
000364  f05f0100          MOVS.W   r1,#0                 ;813
                  |L12.872|
000368  eb040041          ADD      r0,r4,r1,LSL #1       ;814
00036c  1c89              ADDS     r1,r1,#2              ;815
00036e  f8a090a1          STRH     r9,[r0,#0xa1]         ;814
000372  f8a09081          STRH     r9,[r0,#0x81]         ;815
000376  f8a090a3          STRH     r9,[r0,#0xa3]         ;814
00037a  f8a09083          STRH     r9,[r0,#0x83]         ;815
00037e  290a              CMP      r1,#0xa               ;815
000380  dbf2              BLT      |L12.872|
000382  f89416b7          LDRB     r1,[r4,#0x6b7]        ;817
000386  2000              MOVS     r0,#0                 ;817
000388  2900              CMP      r1,#0                 ;817
00038a  bfdc              ITT      LE
00038c  b01b              ADDLE    sp,sp,#0x6c
00038e  e8bd8ff0          POPLE    {r4-r11,pc}
000392  bf00              NOP                            ;818
                  |L12.916|
000394  eb040140          ADD      r1,r4,r0,LSL #1       ;818
000398  f8b1271c          LDRH     r2,[r1,#0x71c]        ;818
00039c  b1ba              CBZ      r2,|L12.974|
00039e  eb0402c0          ADD      r2,r4,r0,LSL #3       ;819
0003a2  f8d236b8          LDR      r3,[r2,#0x6b8]        ;819
0003a6  f8c23001          STR      r3,[r2,#1]            ;819
0003aa  f8d236bc          LDR      r3,[r2,#0x6bc]        ;819
0003ae  f8c23005          STR      r3,[r2,#5]            ;819
0003b2  f8b1271c          LDRH     r2,[r1,#0x71c]        ;823
0003b6  f8a120a1          STRH     r2,[r1,#0xa1]         ;823
0003ba  f8b12708          LDRH     r2,[r1,#0x708]        ;824
0003be  f8a12081          STRH     r2,[r1,#0x81]         ;824
0003c2  1821              ADDS     r1,r4,r0              ;825
0003c4  f8810a82          STRB     r0,[r1,#0xa82]        ;825
0003c8  f89416b7          LDRB     r1,[r4,#0x6b7]        ;826
0003cc  7021              STRB     r1,[r4,#0]            ;826
                  |L12.974|
0003ce  f89416b7          LDRB     r1,[r4,#0x6b7]        ;826
0003d2  1c40              ADDS     r0,r0,#1              ;826
0003d4  4281              CMP      r1,r0                 ;826
0003d6  dcdd              BGT      |L12.916|
0003d8  b01b              ADD      sp,sp,#0x6c
0003da  e8bd8ff0          POP      {r4-r11,pc}
;;;832    int8_t algorithm_coord_IsEdgeArea(tXY_t * pos, int offset)
                          ENDP

0003de  0000              DCW      0x0000
                  |L12.992|
                          DCD      ||.data||

                          AREA ||i.algorithm_coord_init||, CODE, READONLY, ALIGN=2

                  algorithm_coord_init PROC
;;;69     
;;;70     void algorithm_coord_init(void)
000000  b510              PUSH     {r4,lr}
;;;71     {
;;;72     	int l;
;;;73     
;;;74     	thisCommonConf = algorithm_GetCommonConfig();
000002  f7fffffe          BL       algorithm_GetCommonConfig
000006  4c54              LDR      r4,|L13.344|
;;;75     	thisModeConf   = algorithm_GetModeConfig();
000008  6060              STR      r0,[r4,#4]  ; thisCommonConf
00000a  f7fffffe          BL       algorithm_GetModeConfig
;;;76     	thisInfo       = algorithm_GetInfo();
00000e  60a0              STR      r0,[r4,#8]  ; thisModeConf
000010  f7fffffe          BL       algorithm_GetInfo
;;;77     #if USED_NOISE_HOPPING_FREQ
;;;78     	ptAppInfo      = app_GetInfo();
000014  60e0              STR      r0,[r4,#0xc]  ; thisInfo
000016  f7fffffe          BL       app_GetInfo
;;;79     #endif
;;;80     //	_ptModuleCommonConf = module_GetCommonConfig();
;;;81     //	algorithm_coord_init_param();
;;;82     
;;;83     	thisInfo->tCoord.tPastPos[0].sFinger_    = 0;
00001a  6120              STR      r0,[r4,#0x10]  ; ptAppInfo
00001c  68e3              LDR      r3,[r4,#0xc]  ; thisInfo
00001e  2000              MOVS     r0,#0
;;;84     	thisInfo->tCoord.tOrgPastPos[0].sFinger_ = 0;
;;;85     
;;;86     	for(l=MAX_TOUCH_; l--; )
;;;87     	{
;;;88     		thisInfo->tCoord.tPastPos[0].tXY[l].x    = 0;
;;;89     		thisInfo->tCoord.tPastPos[0].tXY[l].y    = 0;
;;;90     		thisInfo->tCoord.tPastPos[0].vusR[l]     = 0;
;;;91     		thisInfo->tCoord.tPastPos[0].vusS[l]     = 0;
;;;92     
;;;93     		thisInfo->tCoord.tPastPos[1].tXY[l].x    = 0;
;;;94     		thisInfo->tCoord.tPastPos[1].tXY[l].y    = 0;
;;;95     		thisInfo->tCoord.tPastPos[1].vusR[l]     = 0;
;;;96     		thisInfo->tCoord.tPastPos[1].vusS[l]     = 0;
;;;97     		
;;;98     		thisInfo->tCoord.tPastPos[2].tXY[l].x    = 0;
;;;99     		thisInfo->tCoord.tPastPos[2].tXY[l].y    = 0;
;;;100    		thisInfo->tCoord.tPastPos[2].vusR[l]     = 0;
;;;101    		thisInfo->tCoord.tPastPos[2].vusS[l]     = 0;
;;;102    
;;;103    		thisInfo->tCoord.tPastPos[3].tXY[l].x    = 0;
;;;104    		thisInfo->tCoord.tPastPos[3].tXY[l].y    = 0;
;;;105    		thisInfo->tCoord.tPastPos[3].vusR[l]     = 0;
;;;106    		thisInfo->tCoord.tPastPos[3].vusS[l]     = 0;
;;;107    		
;;;108    		thisInfo->tCoord.tPastPos[4].tXY[l].x    = 0;
;;;109    		thisInfo->tCoord.tPastPos[4].tXY[l].y    = 0;
;;;110    		thisInfo->tCoord.tPastPos[4].vusR[l]     = 0;
;;;111    		thisInfo->tCoord.tPastPos[4].vusS[l]     = 0;
;;;112    		
;;;113    		thisInfo->tCoord.tOrgPastPos[0].tXY[l].x = 0;
;;;114    		thisInfo->tCoord.tOrgPastPos[0].tXY[l].y = 0;
;;;115    		thisInfo->tCoord.tOrgPastPos[0].vusR[l]  = 0;
;;;116    		thisInfo->tCoord.tOrgPastPos[0].vusS[l]  = 0;
;;;117    
;;;118    		thisInfo->tCoord.tOrgPastPos[1].tXY[l].x = 0;
;;;119    		thisInfo->tCoord.tOrgPastPos[1].tXY[l].y = 0;
;;;120    		thisInfo->tCoord.tOrgPastPos[1].vusR[l]  = 0;
;;;121    		thisInfo->tCoord.tOrgPastPos[1].vusS[l]  = 0;
;;;122    		
;;;123    		thisInfo->tCoord.tOrgPastPos[2].tXY[l].x = 0;
;;;124    		thisInfo->tCoord.tOrgPastPos[2].tXY[l].y = 0;
;;;125    		thisInfo->tCoord.tOrgPastPos[2].vusR[l]  = 0;
;;;126    		thisInfo->tCoord.tOrgPastPos[2].vusS[l]  = 0;
;;;127    
;;;128    		thisInfo->tCoord.tOrgPastPos[3].tXY[l].x = 0;
;;;129    		thisInfo->tCoord.tOrgPastPos[3].tXY[l].y = 0;
;;;130    		thisInfo->tCoord.tOrgPastPos[3].vusR[l]  = 0;
;;;131    		thisInfo->tCoord.tOrgPastPos[3].vusS[l]  = 0;
;;;132    		
;;;133    		thisInfo->tCoord.tOrgPastPos[4].tXY[l].x = 0;
;;;134    		thisInfo->tCoord.tOrgPastPos[4].tXY[l].y = 0;
;;;135    		thisInfo->tCoord.tOrgPastPos[4].vusR[l]  = 0;
;;;136    		thisInfo->tCoord.tOrgPastPos[4].vusS[l]  = 0;
;;;137    		
;;;138    		thisInfo->tCoord.ucIdMappedCnt[l] = 0;
;;;139    		thisInfo->tCoord.cScreenDebCnt[l] = 0;
;;;140    		
;;;141    		thisInfo->tCoord.cIsbefor[l] = 0;
;;;142    	}
;;;143    
;;;144        thisInfo->tCoord.iXOffset = ( UNIT_DIST * (2*thisCommonConf->iXEdgeNum - thisCommonConf->iXEdgeDen) ) / (2*thisCommonConf->iXEdgeDen);
;;;145        thisInfo->tCoord.iYOffset = ( UNIT_DIST * (2*thisCommonConf->iYEdgeNum - thisCommonConf->iYEdgeDen) ) / (2*thisCommonConf->iYEdgeDen);
;;;146    
;;;147        thisInfo->tCoord.iXExpandStart = 1*UNIT_DIST;// + thisModeConf->EdgeExpand.sXExpandStartOffset;
;;;148        thisInfo->tCoord.iYExpandStart = 1*UNIT_DIST;// + thisModeConf->EdgeExpand.sYExpandStartOffset;
;;;149    
;;;150        thisInfo->tCoord.iXEdgeStart = 1*UNIT_DIST;
;;;151    	thisInfo->tCoord.iYEdgeStart = 1*UNIT_DIST;
;;;152    
;;;153        if( thisModeConf->Coord.bSwapXY )
;;;154    	{
;;;155        	thisInfo->tCoord.iInternalXRes = (ROW_MAX - 1) << POS_BOOST_SHIFT_;
;;;156        	thisInfo->tCoord.iInternalYRes = (COL_MAX - 1) << POS_BOOST_SHIFT_;
;;;157    	}
;;;158    	else
;;;159    	{
;;;160    		thisInfo->tCoord.iInternalXRes = (COL_MAX - 1) << POS_BOOST_SHIFT_;
;;;161    		thisInfo->tCoord.iInternalYRes = (ROW_MAX - 1) << POS_BOOST_SHIFT_;
;;;162    	}
;;;163    
;;;164    	thisInfo->tCoord.slScaledMoveDistThd = (thisModeConf->CoordTracking.usMoveDistanceThd << POS_BOOST_SHIFT_);
;;;165    
;;;166    }
000020  f04f0c09          MOV      r12,#9
000024  f88306aa          STRB     r0,[r3,#0x6aa]        ;83
000028  f8830a20          STRB     r0,[r3,#0xa20]        ;84
                  |L13.44|
00002c  eb0301cc          ADD      r1,r3,r12,LSL #3      ;88
000030  eb03024c          ADD      r2,r3,r12,LSL #1      ;90
000034  f8c106ab          STR      r0,[r1,#0x6ab]        ;88
000038  f8c106af          STR      r0,[r1,#0x6af]        ;89
00003c  f8a2070f          STRH     r0,[r2,#0x70f]        ;90
000040  f8a206fb          STRH     r0,[r2,#0x6fb]        ;91
000044  f8c10724          STR      r0,[r1,#0x724]        ;94
000048  f8c10728          STR      r0,[r1,#0x728]        ;95
00004c  f8a20788          STRH     r0,[r2,#0x788]        ;95
000050  f8a20774          STRH     r0,[r2,#0x774]        ;96
000054  f8c1079d          STR      r0,[r1,#0x79d]        ;98
000058  f8c107a1          STR      r0,[r1,#0x7a1]        ;99
00005c  f8a20801          STRH     r0,[r2,#0x801]        ;100
000060  f8a207ed          STRH     r0,[r2,#0x7ed]        ;101
000064  f8c10816          STR      r0,[r1,#0x816]        ;103
000068  f8c1081a          STR      r0,[r1,#0x81a]        ;104
00006c  f8a2087a          STRH     r0,[r2,#0x87a]        ;105
000070  f8a20866          STRH     r0,[r2,#0x866]        ;106
000074  f8c1088f          STR      r0,[r1,#0x88f]        ;108
000078  f8c10893          STR      r0,[r1,#0x893]        ;109
00007c  f8a208f3          STRH     r0,[r2,#0x8f3]        ;110
000080  f8a208df          STRH     r0,[r2,#0x8df]        ;111
000084  f8c10a21          STR      r0,[r1,#0xa21]        ;113
000088  f8c10a25          STR      r0,[r1,#0xa25]        ;114
00008c  f8a20a85          STRH     r0,[r2,#0xa85]        ;115
000090  f8a20a71          STRH     r0,[r2,#0xa71]        ;116
000094  f8c10a9a          STR      r0,[r1,#0xa9a]        ;118
000098  f8c10a9e          STR      r0,[r1,#0xa9e]        ;119
00009c  f8a20afe          STRH     r0,[r2,#0xafe]        ;120
0000a0  f8a20aea          STRH     r0,[r2,#0xaea]        ;121
0000a4  f8c10b13          STR      r0,[r1,#0xb13]        ;123
0000a8  f8c10b17          STR      r0,[r1,#0xb17]        ;124
0000ac  f8a20b77          STRH     r0,[r2,#0xb77]        ;125
0000b0  f8a20b63          STRH     r0,[r2,#0xb63]        ;126
0000b4  f8c10b8c          STR      r0,[r1,#0xb8c]        ;129
0000b8  f8c10b90          STR      r0,[r1,#0xb90]        ;130
0000bc  f8a20bf0          STRH     r0,[r2,#0xbf0]        ;130
0000c0  f8a20bdc          STRH     r0,[r2,#0xbdc]        ;131
0000c4  f8c10c05          STR      r0,[r1,#0xc05]        ;133
0000c8  f8c10c09          STR      r0,[r1,#0xc09]        ;134
0000cc  f8a20c69          STRH     r0,[r2,#0xc69]        ;135
0000d0  eb03010c          ADD      r1,r3,r12             ;138
0000d4  f8a20c55          STRH     r0,[r2,#0xc55]        ;136
0000d8  f8810dc3          STRB     r0,[r1,#0xdc3]        ;138
0000dc  f8810dcd          STRB     r0,[r1,#0xdcd]        ;139
0000e0  f8810e6b          STRB     r0,[r1,#0xe6b]        ;141
0000e4  f1bc0c01          SUBS     r12,r12,#1            ;141
0000e8  d2a0              BCS      |L13.44|
0000ea  6860              LDR      r0,[r4,#4]            ;144  ; thisCommonConf
0000ec  68c1              LDR      r1,[r0,#0xc]          ;144
0000ee  6882              LDR      r2,[r0,#8]            ;144
0000f0  ebc10242          RSB      r2,r1,r2,LSL #1       ;144
0000f4  0212              LSLS     r2,r2,#8              ;144
0000f6  0049              LSLS     r1,r1,#1              ;144
0000f8  fb92f1f1          SDIV     r1,r2,r1              ;144
0000fc  f8c31e2d          STR      r1,[r3,#0xe2d]        ;144
000100  6941              LDR      r1,[r0,#0x14]         ;145
000102  6900              LDR      r0,[r0,#0x10]         ;145
000104  f44f42a6          MOV      r2,#0x5300            ;156
000108  ebc10040          RSB      r0,r1,r0,LSL #1       ;145
00010c  0200              LSLS     r0,r0,#8              ;145
00010e  0049              LSLS     r1,r1,#1              ;145
000110  fb90f0f1          SDIV     r0,r0,r1              ;145
000114  f8c30e31          STR      r0,[r3,#0xe31]        ;145
000118  f44f7080          MOV      r0,#0x100             ;147
00011c  f8c30e3d          STR      r0,[r3,#0xe3d]        ;147
000120  f8c30e41          STR      r0,[r3,#0xe41]        ;148
000124  f8c30e45          STR      r0,[r3,#0xe45]        ;150
000128  f8c30e49          STR      r0,[r3,#0xe49]        ;151
00012c  68a0              LDR      r0,[r4,#8]            ;153  ; thisModeConf
00012e  f44f513c          MOV      r1,#0x2f00            ;155
000132  f890c0aa          LDRB     r12,[r0,#0xaa]        ;153
000136  f1bc0f00          CMP      r12,#0                ;153
00013a  bf19              ITTEE    NE                    ;155
00013c  f8c31e35          STRNE    r1,[r3,#0xe35]        ;155
000140  f8c32e39          STRNE    r2,[r3,#0xe39]        ;156
000144  f8c32e35          STREQ    r2,[r3,#0xe35]        ;160
000148  f8c31e39          STREQ    r1,[r3,#0xe39]        ;161
00014c  f8b000ae          LDRH     r0,[r0,#0xae]         ;164
000150  0200              LSLS     r0,r0,#8              ;164
000152  f8c30dbf          STR      r0,[r3,#0xdbf]        ;164
000156  bd10              POP      {r4,pc}
;;;167    
                          ENDP

                  |L13.344|
                          DCD      ||.data||

                          AREA ||i.algorithm_coord_init_param||, CODE, READONLY, ALIGN=2

                  algorithm_coord_init_param PROC
;;;167    
;;;168    void algorithm_coord_init_param(void)
000000  b510              PUSH     {r4,lr}
;;;169    {
;;;170    	thisModeConf   = algorithm_GetModeConfig();
000002  f7fffffe          BL       algorithm_GetModeConfig
000006  4901              LDR      r1,|L14.12|
000008  6088              STR      r0,[r1,#8]  ; thisModeConf
;;;171    //	thisInfo->tCoord.slScaledMoveDistThd = (thisModeConf->CoordTracking.usMoveDistanceThd << POS_BOOST_SHIFT_);
;;;172    }
00000a  bd10              POP      {r4,pc}
;;;173    
                          ENDP

                  |L14.12|
                          DCD      ||.data||

                          AREA ||i.algorithm_coord_initialise_pos_buffer||, CODE, READONLY, ALIGN=2

                  algorithm_coord_initialise_pos_buffer PROC
;;;173    
;;;174    void algorithm_coord_initialise_pos_buffer(void)
000000  4835              LDR      r0,|L15.216|
;;;175    {
000002  b430              PUSH     {r4,r5}
;;;176    	int l;
;;;177    	tCoordInfo_t *temp_coord;
;;;178    	
;;;179    //	memset((void *)&(thisInfo->tCoord.tOrgPosHist[0]), 0x00, sizeof(tPastPos_t) );
;;;180    
;;;181    	temp_coord = &thisInfo->tCoord;		
000004  68c2              LDR      r2,[r0,#0xc]  ; thisInfo
;;;182    	thisInfo->tDelta.iMaxStrength = 0;
000006  2000              MOVS     r0,#0
000008  f2023169          ADD      r1,r2,#0x369          ;181
00000c  f8c20015          STR      r0,[r2,#0x15]
;;;183    
;;;184    	temp_coord->tTempPos.sFinger_ = 0;
000010  f8820369          STRB     r0,[r2,#0x369]
;;;185    	for( l=LOOSE_POSBUF_; l--; )
000014  2210              MOVS     r2,#0x10
000016  2301              MOVS     r3,#1
;;;186    	{
;;;187    		temp_coord->tTempPos.tXY[l].x = 0;
;;;188    		temp_coord->tTempPos.tXY[l].y = 0;
;;;189    		temp_coord->tTempPos.rect[l].cs = 0;
;;;190    		temp_coord->tTempPos.rect[l].ce = 0;
;;;191    		temp_coord->tTempPos.rect[l].rs = 0;
;;;192    		temp_coord->tTempPos.rect[l].re = 0;
;;;193    		temp_coord->tTempPos.vusR[l] = 0;
;;;194    		temp_coord->tTempPos.vusS[l] = 0;
;;;195    		temp_coord->tTempPos.MaxDelta[l] = (uint16_t)INT16_MIN; // NOTE : warning  -    ????
;;;196    
;;;197    		temp_coord->cRemap[l] = -1;
000018  1e45              SUBS     r5,r0,#1
00001a  02d4              LSLS     r4,r2,#11             ;195
                  |L15.28|
00001c  1e52              SUBS     r2,r2,#1              ;195
00001e  eb010cc2          ADD      r12,r1,r2,LSL #3      ;187
000022  1c5b              ADDS     r3,r3,#1
000024  f8cc0001          STR      r0,[r12,#1]           ;187
000028  f8cc0005          STR      r0,[r12,#5]           ;188
00002c  eb010c82          ADD      r12,r1,r2,LSL #2      ;189
000030  2b10              CMP      r3,#0x10
000032  f88c00c3          STRB     r0,[r12,#0xc3]        ;189
000036  f88c00c4          STRB     r0,[r12,#0xc4]        ;190
00003a  f88c00c1          STRB     r0,[r12,#0xc1]        ;191
00003e  f88c00c2          STRB     r0,[r12,#0xc2]        ;192
000042  eb010c42          ADD      r12,r1,r2,LSL #1      ;193
000046  f8ac00a1          STRH     r0,[r12,#0xa1]        ;193
00004a  f8ac0081          STRH     r0,[r12,#0x81]        ;194
00004e  f8ac4101          STRH     r4,[r12,#0x101]       ;195
000052  eb010c02          ADD      r12,r1,r2
000056  f88c5a82          STRB     r5,[r12,#0xa82]
00005a  dddf              BLE      |L15.28|
;;;198    	}
;;;199    
;;;200    	temp_coord->tPos.sFinger_ = 0;
00005c  f8810135          STRB     r0,[r1,#0x135]
;;;201    	temp_coord->tOrgPos.sFinger_ = 0;
000060  f881059e          STRB     r0,[r1,#0x59e]
;;;202    	for( l=POSBUF_; l--; )
;;;203    	{
;;;204    		if(temp_coord->tPos.vusR[l] == 0)
;;;205    		{
;;;206    			temp_coord->ucEdgeExpandCoef[l] = 0;
;;;207    #if (REMOVE_EDGE_EN == YES)
;;;208    			temp_coord->bRemoveEdge[l] = 0;
;;;209    #endif
;;;210    		}
;;;211    		
;;;212    		temp_coord->tPos.tXY[l].x = 0;
;;;213    		temp_coord->tPos.tXY[l].y = 0;
;;;214    		temp_coord->tPos.rect[l].cs = 0;
;;;215    		temp_coord->tPos.rect[l].ce = 0;
;;;216    		temp_coord->tPos.rect[l].rs = 0;
;;;217    		temp_coord->tPos.rect[l].re = 0;
;;;218    		temp_coord->tPos.vusR[l] = 0;
;;;219    		temp_coord->tPos.vusS[l] = 0;
;;;220    		temp_coord->tPos.MaxDelta[l] = (uint16_t)INT16_MIN; // NOTE : warning  -    ????
;;;221    
;;;222    		temp_coord->tOrgPos.tXY[l].x = 0;
;;;223    		temp_coord->tOrgPos.tXY[l].y = 0;
;;;224    		temp_coord->tOrgPos.rect[l].cs = 0;
;;;225    		temp_coord->tOrgPos.rect[l].ce = 0;
;;;226    		temp_coord->tOrgPos.rect[l].rs = 0;
;;;227    		temp_coord->tOrgPos.rect[l].re = 0;
;;;228    		temp_coord->tOrgPos.vusR[l] = 0;
;;;229    		temp_coord->tOrgPos.vusS[l] = 0;
;;;230    
;;;231    		temp_coord->ucPostProcessRun[l] = 0;
;;;232    	}
;;;233    }
000064  f05f0209          MOVS.W   r2,#9
                  |L15.104|
000068  eb010c42          ADD      r12,r1,r2,LSL #1      ;204
00006c  f8bc319a          LDRH     r3,[r12,#0x19a]       ;204
000070  b923              CBNZ     r3,|L15.124|
000072  188b              ADDS     r3,r1,r2              ;206
000074  f8830bb6          STRB     r0,[r3,#0xbb6]        ;206
000078  f8830bc6          STRB     r0,[r3,#0xbc6]        ;208
                  |L15.124|
00007c  eb0105c2          ADD      r5,r1,r2,LSL #3       ;212
000080  eb010382          ADD      r3,r1,r2,LSL #2       ;214
000084  f8c50136          STR      r0,[r5,#0x136]        ;212
000088  f8c5013a          STR      r0,[r5,#0x13a]        ;213
00008c  f88301b0          STRB     r0,[r3,#0x1b0]        ;214
000090  f88301b1          STRB     r0,[r3,#0x1b1]        ;215
000094  f88301ae          STRB     r0,[r3,#0x1ae]        ;216
000098  f88301af          STRB     r0,[r3,#0x1af]        ;217
00009c  f8ac019a          STRH     r0,[r12,#0x19a]       ;218
0000a0  f8ac0186          STRH     r0,[r12,#0x186]       ;219
0000a4  f8ac41d6          STRH     r4,[r12,#0x1d6]       ;220
0000a8  f8c5059f          STR      r0,[r5,#0x59f]        ;222
0000ac  f8c505a3          STR      r0,[r5,#0x5a3]        ;223
0000b0  f8830619          STRB     r0,[r3,#0x619]        ;224
0000b4  f883061a          STRB     r0,[r3,#0x61a]        ;225
0000b8  f8830617          STRB     r0,[r3,#0x617]        ;226
0000bc  f8830618          STRB     r0,[r3,#0x618]        ;227
0000c0  f8ac0603          STRH     r0,[r12,#0x603]       ;228
0000c4  188b              ADDS     r3,r1,r2              ;231
0000c6  f8ac05ef          STRH     r0,[r12,#0x5ef]       ;229
0000ca  f8830a78          STRB     r0,[r3,#0xa78]        ;231
0000ce  1e52              SUBS     r2,r2,#1              ;231
0000d0  d2ca              BCS      |L15.104|
0000d2  bc30              POP      {r4,r5}
0000d4  4770              BX       lr
;;;234    
                          ENDP

0000d6  0000              DCW      0x0000
                  |L15.216|
                          DCD      ||.data||

                          AREA ||i.algorithm_coord_process||, CODE, READONLY, ALIGN=2

                  algorithm_coord_process PROC
;;;4238   
;;;4239   void algorithm_coord_process(int mode)
000000  b510              PUSH     {r4,lr}
;;;4240   {
000002  4604              MOV      r4,r0
;;;4241   	//Edge_Expand_Finger LYB_190109
;;;4242   	algorithm_label_EdgeExpand_Finger(mode);
000004  f7fffffe          BL       algorithm_label_EdgeExpand_Finger
;;;4243   
;;;4244   #if BIG_FINGER_EDGE_EXPAND_ALGO_EN
;;;4245   	algorithm_coord_EdgeExpand_BigFinger(); 
000008  f7fffffe          BL       algorithm_coord_EdgeExpand_BigFinger
;;;4246   #endif
;;;4247   	////////////////////////////////////////////////////////////////////////////////////////////////////////////////
;;;4248   	// Algorithm Coord. Calculation
;;;4249   	////////////////////////////////////////////////////////////////////////////////////////////////////////////////
;;;4250   	algorithm_coord_calc_pos(mode);
00000c  4620              MOV      r0,r4
00000e  f7fffffe          BL       algorithm_coord_calc_pos
;;;4251   
;;;4252   #if WinCertAssistance_En	
;;;4253   	if(thisModeConf->Coord.ucWinCertAssistance == 1)
;;;4254   		algorithm_coord_drawing_assistance(mode);
;;;4255   #endif
;;;4256   	////////////////////////////////////////////////////////////////////////////////////////////////////////////////
;;;4257   	// Algorithm Coord. Tracking
;;;4258   	////////////////////////////////////////////////////////////////////////////////////////////////////////////////
;;;4259       algorithm_coord_tracking_pos(mode);
000012  4620              MOV      r0,r4
000014  f7fffffe          BL       algorithm_coord_tracking_pos
;;;4260   		
;;;4261   //#ifndef COVER_GLASS_USE
;;;4262   //	algorithm_coord_compensation(mode);
;;;4263   //#endif
;;;4264   	
;;;4265       algorithm_coord_smoothing_pos(mode);
000018  4620              MOV      r0,r4
00001a  f7fffffe          BL       algorithm_coord_smoothing_pos
;;;4266   	
;;;4267   	if(thisModeConf->CoordEdge.usOutInDrawEdgeTh)
00001e  4806              LDR      r0,|L16.56|
000020  6880              LDR      r0,[r0,#8]  ; thisModeConf
000022  f8b000e6          LDRH     r0,[r0,#0xe6]
000026  2800              CMP      r0,#0
;;;4268   		algorithm_coord_OutInDrawing();
000028  bf18              IT       NE
00002a  f7fffffe          BLNE     algorithm_coord_OutInDrawing
;;;4269   	
;;;4270   //	algorithm_coord_latency_cal_test();
;;;4271   	////////////////////////////////////////////////////////////////////////////////////////////////////////////////
;;;4272   	// Algorithm Coord. Post-Procssing
;;;4273   	////////////////////////////////////////////////////////////////////////////////////////////////////////////////
;;;4274   //	if(thisModeConf->CoordEdge.cPostProcessEndMargin == 0)
;;;4275   //		algorithm_coord_PostProcess(mode);
;;;4276   //	else
;;;4277   		algorithm_coord_PostProcess_1();
00002e  e8bd4010          POP      {r4,lr}
000032  f7ffbffe          B.W      algorithm_coord_PostProcess_1
;;;4278   }
                          ENDP

000036  0000              DCW      0x0000
                  |L16.56|
                          DCD      ||.data||

                          AREA ||i.algorithm_coord_smoothing_pos||, CODE, READONLY, ALIGN=2

                  algorithm_coord_smoothing_pos PROC
;;;1886   
;;;1887   void algorithm_coord_smoothing_pos(int mode)
000000  e92d4ff0          PUSH     {r4-r11,lr}
;;;1888   {
;;;1889   	int i;
;;;1890   	int prev_curr_dist;
;;;1891   //	tXY_t curr_pos;  // NOTE : not used
;;;1892   //	tXY_t prev_pos;
;;;1893   //	tXY_t avg_pos, pred_pos;
;;;1894   
;;;1895   	tCoordInfo_t 	*temp_coord;
;;;1896   
;;;1897   	temp_coord = &thisInfo->tCoord;
000004  4efe              LDR      r6,|L17.1024|
000006  b09f              SUB      sp,sp,#0x7c           ;1888
;;;1898   
;;;1899   	for( i=MAX_TOUCH_; i--; )
;;;1900   	{
;;;1901   		if( temp_coord->tPos.vusR[i] > 0 )
;;;1902   		{
;;;1903   			tXY_t coord_array[7];
;;;1904   
;;;1905   			if(thisModeConf->Coord.bFingerMeanSmoothing)
;;;1906   			{
;;;1907   #if (SMOOTH_PASTORG_INTER_EN == YES)
;;;1908   				if(thisModeConf->Coord.ucSmoothPastOrgInter > 0 && thisModeConf->Coord.ucSmoothPastOrgInter <= 4 && temp_coord->tOrgPastPos[0].vusS[i]>0 && temp_coord->tOrgPastPos[1].vusS[i]>0 && temp_coord->tOrgPastPos[2].vusS[i]>0 && temp_coord->cScreenDebCnt[i] >= 5)
;;;1909   				{
;;;1910   					coord_array[0] = temp_coord->tOrgPos.tXY[i];
;;;1911   					coord_array[1] = temp_coord->tPastPos[0].tXY[i];
;;;1912   					coord_array[2] = temp_coord->tPastPos[1].tXY[i];
;;;1913   					coord_array[3] = temp_coord->tPastPos[2].tXY[i];
;;;1914   					coord_array[4] = temp_coord->tOrgPastPos[0].tXY[i];	
;;;1915   					coord_array[5] = temp_coord->tOrgPastPos[1].tXY[i];	
;;;1916   					coord_array[6] = temp_coord->tOrgPastPos[2].tXY[i];	
;;;1917   				
;;;1918   					temp_coord->tPos.tXY[i] = meanInterpolate(coord_array, 0,thisModeConf->Coord.ucSmoothPastOrgInter+3);
;;;1919   				}
;;;1920   				else
;;;1921   #endif
;;;1922   				{
;;;1923   					if( temp_coord->tPastPos[2].vusS[i] > 0 && temp_coord->tPastPos[1].vusS[i] > 0 && temp_coord->tPastPos[0].vusS[i] > 0 && temp_coord->tPos.vusS[i] > 0 )
;;;1924   					{					
;;;1925   						coord_array[0].x = (temp_coord->tOrgPastPos[2].tXY[i].x + temp_coord->tOrgPastPos[1].tXY[i].x) / 2;
;;;1926   						coord_array[1].x = (temp_coord->tOrgPastPos[2].tXY[i].x + temp_coord->tOrgPastPos[1].tXY[i].x + temp_coord->tOrgPastPos[0].tXY[i].x) / 3;
;;;1927   						coord_array[2].x = (temp_coord->tOrgPastPos[2].tXY[i].x + temp_coord->tOrgPastPos[1].tXY[i].x + temp_coord->tOrgPastPos[0].tXY[i].x + temp_coord->tOrgPos.tXY[i].x) / 4;
;;;1928   						coord_array[3].x = (temp_coord->tOrgPastPos[1].tXY[i].x + temp_coord->tOrgPastPos[0].tXY[i].x + temp_coord->tOrgPos.tXY[i].x) / 3;
;;;1929   						coord_array[4].x = (temp_coord->tOrgPastPos[0].tXY[i].x + temp_coord->tOrgPos.tXY[i].x) / 2;
;;;1930   
;;;1931   						coord_array[0].y = (temp_coord->tOrgPastPos[2].tXY[i].y + temp_coord->tOrgPastPos[1].tXY[i].y) / 2;
;;;1932   						coord_array[1].y = (temp_coord->tOrgPastPos[2].tXY[i].y + temp_coord->tOrgPastPos[1].tXY[i].y + temp_coord->tOrgPastPos[0].tXY[i].y) / 3;
;;;1933   						coord_array[2].y = (temp_coord->tOrgPastPos[2].tXY[i].y + temp_coord->tOrgPastPos[1].tXY[i].y + temp_coord->tOrgPastPos[0].tXY[i].y + temp_coord->tOrgPos.tXY[i].y) / 4;
;;;1934   						coord_array[3].y = (temp_coord->tOrgPastPos[1].tXY[i].y + temp_coord->tOrgPastPos[0].tXY[i].y + temp_coord->tOrgPos.tXY[i].y) / 3;
;;;1935   						coord_array[4].y = (temp_coord->tOrgPastPos[0].tXY[i].y + temp_coord->tOrgPos.tXY[i].y) / 2 ;
;;;1936   
;;;1937   						temp_coord->tPos.tXY[i] = meanInterpolate(coord_array, 0,5);	
;;;1938   					}
;;;1939   					else if(temp_coord->tPastPos[1].vusS[i] > 0 && temp_coord->tPastPos[0].vusS[i] > 0 && temp_coord->tPos.vusS[i] > 0)
;;;1940   					{
;;;1941   						temp_coord->tPos.tXY[i].x = (temp_coord->tOrgPastPos[1].tXY[i].x + temp_coord->tOrgPastPos[0].tXY[i].x + temp_coord->tOrgPos.tXY[i].x)/3;
;;;1942   						temp_coord->tPos.tXY[i].y = (temp_coord->tOrgPastPos[1].tXY[i].y + temp_coord->tOrgPastPos[0].tXY[i].y + temp_coord->tOrgPos.tXY[i].y)/3;
;;;1943   					}
;;;1944   					else if(temp_coord->tPastPos[0].vusS[i] > 0 && temp_coord->tPos.vusS[i] > 0)
;;;1945   					{
;;;1946   						temp_coord->tPos.tXY[i].x = (temp_coord->tOrgPastPos[0].tXY[i].x + temp_coord->tOrgPos.tXY[i].x)/2;
;;;1947   						temp_coord->tPos.tXY[i].y = (temp_coord->tOrgPastPos[0].tXY[i].y + temp_coord->tOrgPos.tXY[i].y)/2;
;;;1948   					}
;;;1949   				}
;;;1950   			}
;;;1951   
;;;1952   			if( temp_coord->tPastPos[0].vusS[i] > 0 )
;;;1953   			{
;;;1954   				if(thisModeConf->Coord.cDisSmoothOffset != 0)
;;;1955   				{
;;;1956   					prev_curr_dist = algorithm_coord_calc_distance(temp_coord->tPastPos[0].tXY[i], temp_coord->tPos.tXY[i]);
;;;1957   
;;;1958   					prev_curr_dist += thisModeConf->Coord.cDisSmoothOffset;
;;;1959   					
;;;1960   					if(thisInfo->WinCertMode)
;;;1961   						prev_curr_dist >>= 3;
;;;1962   					
;;;1963   					if(prev_curr_dist < 10)
;;;1964   						prev_curr_dist = 10;
;;;1965   					
;;;1966   					if(prev_curr_dist > _BV(thisModeConf->Coord.lMoveSmoothingLevel))
;;;1967   						prev_curr_dist = _BV(thisModeConf->Coord.lMoveSmoothingLevel);
;;;1968   					
;;;1969   #if (VECTOR_PREDICTION_EN == YES)
;;;1970   					if(thisModeConf->Coord.ucVectorPredictionCoef > 0)
;;;1971   					{
;;;1972   						uint16_t dist = 0;
;;;1973   						tXY_t ProjectionVector, PrevVector, CurrVector, PredPos;
;;;1974   //						int InnerProduct,PrevScalar,CurrScalar,CosSeta;
;;;1975   //						tXY_t OriginPoint,VectorA,VectorB;
;;;1976   						tXY_t tPastPos = {0, 0};
;;;1977   #if (INTERPOLATION_VER1_En == YES || INTERPOLATION_VER2_En == YES || INTERPOLATION_VER3_En == YES)
;;;1978   						if(temp_coord->bInterpolation_On)
;;;1979   						{
;;;1980   							tPastPos.x = temp_coord->tPastPos[4].tXY[i].x;
;;;1981   							tPastPos.y = temp_coord->tPastPos[4].tXY[i].y;
;;;1982   						}
;;;1983   						else
;;;1984   #endif
;;;1985   						{
;;;1986   							tPastPos.x = temp_coord->tPastPos[2].tXY[i].x;
;;;1987   							tPastPos.y = temp_coord->tPastPos[2].tXY[i].y;
;;;1988   						}
;;;1989   
;;;1990   						ProjectionVector.x = 0, ProjectionVector.y = 0;
;;;1991   						PredPos = temp_coord->tPastPos[0].tXY[i];
;;;1992   						
;;;1993   						//Prediction based on projection
;;;1994   						if(
;;;1995   #if (INTERPOLATION_VER1_En == YES || INTERPOLATION_VER2_En == YES || INTERPOLATION_VER3_En == YES)
;;;1996   							(temp_coord->bInterpolation_On && temp_coord->tPastPos[4].vusR[i] > 0) || (!temp_coord->bInterpolation_On && temp_coord->tPastPos[2].vusR[i] > 0)
;;;1997   #else
;;;1998   							(temp_coord->tPastPos[2].vusR[i] > 0)
;;;1999   #endif
;;;2000   						)
;;;2001   						{
;;;2002   							if(ProjectionEnable[i] == NO && algorithm_coord_calc_distance(temp_coord->tPos.tXY[i],tPastPos) > thisModeConf->Coord.usDistThdStationaryToMoving)
;;;2003   								ProjectionEnable[i] = YES;
;;;2004   							else if(ProjectionEnable[i] == YES && algorithm_coord_calc_distance(temp_coord->tPos.tXY[i],tPastPos) < thisModeConf->Coord.usDistThdMovingToStationary)
;;;2005   								ProjectionEnable[i] = NO;
;;;2006   						}
;;;2007   //						if(temp_coord->tPastPos[4].vusR[i] > 0 && algorithm_coord_calc_distance(temp_coord->tPos.tXY[i],temp_coord->tPastPos[4].tXY[i]) > thisModeConf->Coord.usDistThdStationaryToMoving)
;;;2008   //							ProjectionEnable[i] = YES;
;;;2009   //						else
;;;2010   //							ProjectionEnable[i] = NO;
;;;2011   //						if( temp_coord->tPastPos[4].vusS[i] > 0 && temp_coord->DrawingFlag[i] )	//&& prev_curr_dist < (2<<POS_BOOST_SHIFT_))
;;;2012   						if(ProjectionEnable[i] == YES)
;;;2013   						{
;;;2014   //							tXY_t AccelPred;
;;;2015   //							PrevVector.x = (temp_coord->tPastPos[0].tXY[i].x - temp_coord->tPastPos[2].tXY[i].x)*3;
;;;2016   //							PrevVector.y = (temp_coord->tPastPos[0].tXY[i].y - temp_coord->tPastPos[2].tXY[i].y)*3;
;;;2017   							
;;;2018   							PrevVector.x = temp_coord->tPastPos[0].tXY[i].x - tPastPos.x;
;;;2019   							PrevVector.y = temp_coord->tPastPos[0].tXY[i].y - tPastPos.y;
;;;2020   							CurrVector.x = temp_coord->tPos.tXY[i].x - tPastPos.x;
;;;2021   							CurrVector.y = temp_coord->tPos.tXY[i].y - tPastPos.y;
;;;2022   							
;;;2023   //							if(IIRProjectionVector[i].x != 0 || IIRProjectionVector[i].y != 0){
;;;2024   //								tXY_t ScaleVector;
;;;2025   //								ScaleVector.x = PrevVector.x * (abs(IIRProjectionVector[i].x)+abs(IIRProjectionVector[i].y)+1) / (abs(PrevVector.x)+abs(PrevVector.y)+1);
;;;2026   //								ScaleVector.y = PrevVector.y * (abs(IIRProjectionVector[i].x)+abs(IIRProjectionVector[i].y)+1) / (abs(PrevVector.x)+abs(PrevVector.y)+1);
;;;2027   //								
;;;2028   //								PrevVector.x = ((IIRProjectionVector[i].x*3 + ScaleVector.x)>>2);
;;;2029   //								PrevVector.y = ((IIRProjectionVector[i].y*3 + ScaleVector.y)>>2);
;;;2030   //							}
;;;2031   
;;;2032   							ProjectionVector.x = (int)(PrevVector.x * (int64_t)(PrevVector.x*CurrVector.x + PrevVector.y*CurrVector.y) / (PrevVector.x*PrevVector.x+PrevVector.y*PrevVector.y));
;;;2033   							ProjectionVector.y = (int)(PrevVector.y * (int64_t)(PrevVector.x*CurrVector.x + PrevVector.y*CurrVector.y) / (PrevVector.x*PrevVector.x+PrevVector.y*PrevVector.y));
;;;2034   						
;;;2035   							PredPos.x = tPastPos.x + ProjectionVector.x;
;;;2036   							PredPos.y = tPastPos.y + ProjectionVector.y;
;;;2037   							
;;;2038   
;;;2039   							//////calculate inner product
;;;2040   //							OriginPoint.x = OriginPoint.y = 0;
;;;2041   //							VectorA.x = PredPos.x - temp_coord->tPastPos[0].tXY[i].x;
;;;2042   //							VectorA.y = PredPos.y - temp_coord->tPastPos[0].tXY[i].y;
;;;2043   //							VectorB.x = temp_coord->tPos.tXY[i].x - temp_coord->tPastPos[0].tXY[i].x;
;;;2044   //							VectorB.y = temp_coord->tPos.tXY[i].y - temp_coord->tPastPos[0].tXY[i].y;
;;;2045   //							
;;;2046   //							InnerProduct = ((VectorA.x * VectorB.x + VectorA.y * VectorB.y)<<7);
;;;2047   //							CosSeta = InnerProduct / (algorithm_coord_calc_distance(OriginPoint,VectorA) * algorithm_coord_calc_distance(OriginPoint,VectorB));
;;;2048   
;;;2049   							dist = algorithm_coord_calc_distance(temp_coord->tPos.tXY[i],PredPos);
;;;2050   
;;;2051   							if(dist < 10)	dist = 0;
;;;2052   							else if(dist > thisModeConf->Coord.ucVectorPredictionCoef)	dist = thisModeConf->Coord.ucVectorPredictionCoef;
;;;2053   							
;;;2054   							temp_coord->tPos.tXY[i].x = ((thisModeConf->Coord.ucVectorPredictionCoef - dist) * PredPos.x + dist * temp_coord->tPos.tXY[i].x + (thisModeConf->Coord.ucVectorPredictionCoef>>1)) / thisModeConf->Coord.ucVectorPredictionCoef;
;;;2055   							temp_coord->tPos.tXY[i].y = ((thisModeConf->Coord.ucVectorPredictionCoef - dist) * PredPos.y + dist * temp_coord->tPos.tXY[i].y + (thisModeConf->Coord.ucVectorPredictionCoef>>1)) / thisModeConf->Coord.ucVectorPredictionCoef;			
;;;2056   //							temp_coord->tPos.tXY[i].x = ((PredPos.x + temp_coord->tPos.tXY[i].x + 1)>>1);
;;;2057   //							temp_coord->tPos.tXY[i].y = ((PredPos.y + temp_coord->tPos.tXY[i].y + 1)>>1);
;;;2058   							
;;;2059   							
;;;2060   							
;;;2061   							if(temp_coord->DrawingFlag[i] && algorithm_coord_IsEdgeArea(&temp_coord->tPos.tXY[i], 0)){
;;;2062   								temp_coord->tPos.tXY[i].x = ((PredPos.x + temp_coord->tPos.tXY[i].x + 1)>>1);
;;;2063   								temp_coord->tPos.tXY[i].y = ((PredPos.y + temp_coord->tPos.tXY[i].y + 1)>>1);
;;;2064   							}
;;;2065   
;;;2066   							IIRProjectionVector[i] = ProjectionVector;
;;;2067   						}
;;;2068   						else{
;;;2069   							IIRProjectionVector[i].x = IIRProjectionVector[i].y = 0;
;;;2070   						}
;;;2071   //						else if(prev_curr_dist > (1<<POS_BOOST_SHIFT_)){
;;;2072   //							temp_coord->tPos.tXY[i].x = ((temp_coord->tPos.tXY[i].x + temp_coord->tOrgPos.tXY[i].x)>>1);
;;;2073   //							temp_coord->tPos.tXY[i].y = ((temp_coord->tPos.tXY[i].y + temp_coord->tOrgPos.tXY[i].y)>>1);
;;;2074   //						}
;;;2075   					}
;;;2076   #endif
;;;2077   
;;;2078   					temp_coord->tPos.tXY[i].x = ((_BV(thisModeConf->Coord.lMoveSmoothingLevel) - prev_curr_dist) * temp_coord->tPastPos[0].tXY[i].x + prev_curr_dist * temp_coord->tPos.tXY[i].x + _BV(thisModeConf->Coord.lMoveSmoothingLevel-1)) >> thisModeConf->Coord.lMoveSmoothingLevel;
;;;2079   					temp_coord->tPos.tXY[i].y = ((_BV(thisModeConf->Coord.lMoveSmoothingLevel) - prev_curr_dist) * temp_coord->tPastPos[0].tXY[i].y + prev_curr_dist * temp_coord->tPos.tXY[i].y + _BV(thisModeConf->Coord.lMoveSmoothingLevel-1)) >> thisModeConf->Coord.lMoveSmoothingLevel;
;;;2080   				
;;;2081   					if(thisModeConf->Coord.ucWinCertAssistance == 1 && temp_coord->tPos.sFinger_ <= 2)
;;;2082   					{
;;;2083   						int dist_th1 = 0;
;;;2084   						if(algorithm_coord_IsEdgeArea(&temp_coord->tPastPos[0].tXY[i],0)){
;;;2085   							dist_th1 = (1<<(POS_BOOST_SHIFT_));
;;;2086   						}
;;;2087   						else{
;;;2088   							dist_th1 = (1<<(POS_BOOST_SHIFT_-2));
;;;2089   						}
;;;2090   						
;;;2091   						if(prev_curr_dist > dist_th1){
;;;2092   							temp_coord->tPos.tXY[i].x = ((temp_coord->tPos.tXY[i].x + temp_coord->tOrgPos.tXY[i].x*3)>>2);
;;;2093   							temp_coord->tPos.tXY[i].y = ((temp_coord->tPos.tXY[i].y + temp_coord->tOrgPos.tXY[i].y*3)>>2);
;;;2094   						}
;;;2095   						
;;;2096   						if( temp_coord->tPastPos[2].vusS[i] > 0 && temp_coord->RealMaxDelta[i] > 0)
;;;2097   						{
;;;2098   							temp_coord->tPos.tXY[i].x = ((temp_coord->tPos.tXY[i].x*3 + ((temp_coord->tPastPos[0].tXY[i].x<<1) - temp_coord->tPastPos[2].tXY[i].x))>>2);
;;;2099   							temp_coord->tPos.tXY[i].y = ((temp_coord->tPos.tXY[i].y*3 + ((temp_coord->tPastPos[0].tXY[i].y<<1) - temp_coord->tPastPos[2].tXY[i].y))>>2);
;;;2100   						}
;;;2101   					}
;;;2102   				}
;;;2103   			}
;;;2104   			else{
;;;2105   				temp_coord->bIsMoving[i] = NO;
;;;2106   			}
;;;2107   			
;;;2108   			//Remove point touch jitter
;;;2109   			if(temp_coord->tPos.vusS[i] > 0)
;;;2110   			{
;;;2111   				if(thisModeConf->Coord.usFirstDrawingThd > 0 && temp_coord->tPos.vusR[i] > thisModeConf->Coord.ucFirstDrawingCellCnt)
;;;2112   				{
;;;2113   					if(temp_coord->DrawingFlag[i] == NO)
;;;2114   					{
;;;2115   						int dist_th = 0;
;;;2116   						
;;;2117   //						if(algorithm_coord_IsEdgeArea(&temp_coord->iStopPos[i])>0)
;;;2118   //							dist_th = (1<<POS_BOOST_SHIFT_);
;;;2119   //						else
;;;2120   							dist_th = thisModeConf->Coord.usFirstDrawingThd;
;;;2121   						
;;;2122   						if(algorithm_coord_IsEdgeArea(&temp_coord->iStopPos[i],0)>0)
;;;2123   							dist_th += AddDistTh;
;;;2124   						
;;;2125   						if( algorithm_coord_calc_distance(temp_coord->iStopPos[i],temp_coord->tPos.tXY[i]) < dist_th )
;;;2126   						{
;;;2127   							temp_coord->tPos.tXY[i] =temp_coord->iStopPos[i];
;;;2128   //							temp_coord->tPos.tXY[i].x = ((temp_coord->tFirstPos.tXY[i].x*7 + temp_coord->tPos.tXY[i].x)>>3);
;;;2129   //							temp_coord->tPos.tXY[i].y = ((temp_coord->tFirstPos.tXY[i].y*7 + temp_coord->tPos.tXY[i].y)>>3);
;;;2130   						}
;;;2131   						else{
;;;2132   							temp_coord->DrawingFlag[i] = YES;
;;;2133   							temp_coord->tPos.tXY[i].x = ((temp_coord->iStopPos[i].x + temp_coord->tPos.tXY[i].x)>>1);
;;;2134   							temp_coord->tPos.tXY[i].y = ((temp_coord->iStopPos[i].y + temp_coord->tPos.tXY[i].y)>>1);
;;;2135   						}
;;;2136   					}
;;;2137   				}
;;;2138   				else
;;;2139   				{
;;;2140   					temp_coord->DrawingFlag[i] = YES;
;;;2141   				}
;;;2142   			}
;;;2143   			
;;;2144   			// Finger Edge Smoothing
;;;2145   			if(thisModeConf->CoordEdge.cEdgeSmoothing_Finger_On > 0)
;;;2146   			{
;;;2147   				int MoveSmoothingLevel = thisModeConf->Coord.lMoveSmoothingLevel;
;;;2148   				if(temp_coord->tPos.tXY[i].x < (1<<(POS_BOOST_SHIFT_)) || temp_coord->tPos.tXY[i].y > thisInfo->tCoord.iInternalYRes-(1<<(POS_BOOST_SHIFT_))
;;;2149   					|| temp_coord->tPos.tXY[i].x > thisInfo->tCoord.iInternalXRes-(1<<(POS_BOOST_SHIFT_)) || temp_coord->tPos.tXY[i].y < (1<<(POS_BOOST_SHIFT_)))
;;;2150   				{
;;;2151   					prev_curr_dist = abs(temp_coord->tPastPos[0].tXY[i].x - temp_coord->tPos.tXY[i].x);
;;;2152   					prev_curr_dist += thisModeConf->CoordEdge.cEdgeSmoothing_Finger_On;					
;;;2153   					if(prev_curr_dist < 10) prev_curr_dist = 10;					
;;;2154   					if(prev_curr_dist > _BV(MoveSmoothingLevel)) prev_curr_dist = _BV(MoveSmoothingLevel);
;;;2155   
;;;2156   					temp_coord->tPos.tXY[i].x = ((_BV(MoveSmoothingLevel) - prev_curr_dist) * temp_coord->tPastPos[0].tXY[i].x + prev_curr_dist * temp_coord->tPos.tXY[i].x + _BV(MoveSmoothingLevel-1)) >> MoveSmoothingLevel;
;;;2157   					
;;;2158   					prev_curr_dist = abs(temp_coord->tPastPos[0].tXY[i].y - temp_coord->tPos.tXY[i].y);
;;;2159   					prev_curr_dist += thisModeConf->CoordEdge.cEdgeSmoothing_Finger_On;					
;;;2160   					if(prev_curr_dist < 10) prev_curr_dist = 10;					
;;;2161   					if(prev_curr_dist > _BV(MoveSmoothingLevel)) prev_curr_dist = _BV(MoveSmoothingLevel);
;;;2162   
;;;2163   
;;;2164   					temp_coord->tPos.tXY[i].y = ((_BV(MoveSmoothingLevel) - prev_curr_dist) * temp_coord->tPastPos[0].tXY[i].y + prev_curr_dist * temp_coord->tPos.tXY[i].y + _BV(MoveSmoothingLevel-1)) >> MoveSmoothingLevel;				
;;;2165   				}
;;;2166   			}				
;;;2167   		}
;;;2168   		else{
;;;2169   			if(thisModeConf->Coord.usFirstDrawingThd > 0 && temp_coord->tPastPos[0].vusR[i] > 0)
;;;2170   			{
;;;2171   				if(temp_coord->DrawingFlag[i]){
;;;2172   						AddDistTh-=10;
;;;2173   					if( AddDistTh < -32 )
;;;2174   						AddDistTh = -32;
;;;2175   				}
;;;2176   				else{
;;;2177   						AddDistTh+=10;
;;;2178   					if( AddDistTh > (1<<(POS_BOOST_SHIFT_-1)) )
;;;2179   						AddDistTh = (1<<(POS_BOOST_SHIFT_-1));
;;;2180   				}
;;;2181   				
;;;2182   			}
;;;2183   			
;;;2184   			temp_coord->bIsMoving[i] = NO;
;;;2185   			temp_coord->DrawingFlag[i] = NO;
;;;2186   		}
;;;2187   		
;;;2188   	}
;;;2189   }
000008  2509              MOVS     r5,#9
00000a  68f0              LDR      r0,[r6,#0xc]          ;1897  ; thisInfo
00000c  f04f0a00          MOV      r10,#0
000010  f2003869          ADD      r8,r0,#0x369          ;1897
                  |L17.20|
000014  eb080745          ADD      r7,r8,r5,LSL #1       ;1901
000018  f8b7019a          LDRH     r0,[r7,#0x19a]        ;1901
00001c  2800              CMP      r0,#0                 ;1901
00001e  f0008350          BEQ.W    |L17.1730|
000022  f8d69008          LDR      r9,[r6,#8]            ;1905  ; thisModeConf
000026  f89900a3          LDRB     r0,[r9,#0xa3]         ;1905
00002a  2800              CMP      r0,#0                 ;1905
00002c  f00080fe          BEQ.W    |L17.556|
000030  f8b70484          LDRH     r0,[r7,#0x484]        ;1923
000034  2800              CMP      r0,#0                 ;1923
000036  f8b7040b          LDRH     r0,[r7,#0x40b]        ;1939
00003a  d07d              BEQ      |L17.312|
00003c  2800              CMP      r0,#0                 ;1923
00003e  f00080d7          BEQ.W    |L17.496|
000042  f8b70392          LDRH     r0,[r7,#0x392]        ;1923
000046  2800              CMP      r0,#0                 ;1923
000048  f000828e          BEQ.W    |L17.1384|
00004c  f8b70186          LDRH     r0,[r7,#0x186]        ;1923
000050  2800              CMP      r0,#0                 ;1923
000052  f00080f2          BEQ.W    |L17.570|
000056  eb0800c5          ADD      r0,r8,r5,LSL #3       ;1925
00005a  9000              STR      r0,[sp,#0]            ;1925
00005c  f8d017aa          LDR      r1,[r0,#0x7aa]        ;1925
000060  f8d02731          LDR      r2,[r0,#0x731]        ;1925
000064  4411              ADD      r1,r1,r2              ;1925
000066  eb0171d1          ADD      r1,r1,r1,LSR #31      ;1925
00006a  1049              ASRS     r1,r1,#1              ;1925
00006c  910c              STR      r1,[sp,#0x30]         ;1926
00006e  f8d017aa          LDR      r1,[r0,#0x7aa]        ;1926
000072  f8d02731          LDR      r2,[r0,#0x731]        ;1926
000076  4411              ADD      r1,r1,r2              ;1926
000078  f8d026b8          LDR      r2,[r0,#0x6b8]        ;1926
00007c  440a              ADD      r2,r2,r1              ;1926
00007e  49e1              LDR      r1,|L17.1028|
000080  fb813202          SMULL    r3,r2,r1,r2           ;1926
000084  eba272e2          SUB      r2,r2,r2,ASR #31      ;1926
000088  920e              STR      r2,[sp,#0x38]         ;1927
00008a  f8d027aa          LDR      r2,[r0,#0x7aa]        ;1927
00008e  f8d03731          LDR      r3,[r0,#0x731]        ;1927
000092  f8d0c59f          LDR      r12,[r0,#0x59f]       ;1927
000096  441a              ADD      r2,r2,r3              ;1927
000098  f8d036b8          LDR      r3,[r0,#0x6b8]        ;1927
00009c  4463              ADD      r3,r3,r12             ;1927
00009e  441a              ADD      r2,r2,r3              ;1927
0000a0  17d3              ASRS     r3,r2,#31             ;1927
0000a2  eb027293          ADD      r2,r2,r3,LSR #30      ;1927
0000a6  1092              ASRS     r2,r2,#2              ;1927
0000a8  9210              STR      r2,[sp,#0x40]         ;1928
0000aa  f8d02731          LDR      r2,[r0,#0x731]        ;1928
0000ae  f8d036b8          LDR      r3,[r0,#0x6b8]        ;1928
0000b2  441a              ADD      r2,r2,r3              ;1928
0000b4  f8d0359f          LDR      r3,[r0,#0x59f]        ;1928
0000b8  441a              ADD      r2,r2,r3              ;1928
0000ba  fb813202          SMULL    r3,r2,r1,r2           ;1928
0000be  eba272e2          SUB      r2,r2,r2,ASR #31      ;1928
0000c2  9212              STR      r2,[sp,#0x48]         ;1929
0000c4  f8d026b8          LDR      r2,[r0,#0x6b8]        ;1929
0000c8  f8d0359f          LDR      r3,[r0,#0x59f]        ;1929
0000cc  441a              ADD      r2,r2,r3              ;1929
0000ce  eb0272d2          ADD      r2,r2,r2,LSR #31      ;1929
0000d2  1052              ASRS     r2,r2,#1              ;1929
0000d4  9214              STR      r2,[sp,#0x50]         ;1931
0000d6  f8d027ae          LDR      r2,[r0,#0x7ae]        ;1931
0000da  f8d03735          LDR      r3,[r0,#0x735]        ;1931
0000de  441a              ADD      r2,r2,r3              ;1931
0000e0  eb0272d2          ADD      r2,r2,r2,LSR #31      ;1931
0000e4  1052              ASRS     r2,r2,#1              ;1931
0000e6  920d              STR      r2,[sp,#0x34]         ;1932
0000e8  f8d027ae          LDR      r2,[r0,#0x7ae]        ;1932
0000ec  f8d03735          LDR      r3,[r0,#0x735]        ;1932
0000f0  441a              ADD      r2,r2,r3              ;1932
0000f2  f8d036bc          LDR      r3,[r0,#0x6bc]        ;1932
0000f6  441a              ADD      r2,r2,r3              ;1932
0000f8  fb813202          SMULL    r3,r2,r1,r2           ;1932
0000fc  eba272e2          SUB      r2,r2,r2,ASR #31      ;1932
000100  920f              STR      r2,[sp,#0x3c]         ;1933
000102  f8d027ae          LDR      r2,[r0,#0x7ae]        ;1933
000106  f8d03735          LDR      r3,[r0,#0x735]        ;1933
00010a  f8d0c5a3          LDR      r12,[r0,#0x5a3]       ;1933
00010e  441a              ADD      r2,r2,r3              ;1933
000110  f8d036bc          LDR      r3,[r0,#0x6bc]        ;1933
000114  4463              ADD      r3,r3,r12             ;1933
000116  441a              ADD      r2,r2,r3              ;1933
000118  17d3              ASRS     r3,r2,#31             ;1933
00011a  eb027293          ADD      r2,r2,r3,LSR #30      ;1933
00011e  1092              ASRS     r2,r2,#2              ;1933
000120  9211              STR      r2,[sp,#0x44]         ;1934
000122  f8d02735          LDR      r2,[r0,#0x735]        ;1934
000126  f8d036bc          LDR      r3,[r0,#0x6bc]        ;1934
00012a  441a              ADD      r2,r2,r3              ;1934
00012c  f8d035a3          LDR      r3,[r0,#0x5a3]        ;1934
000130  441a              ADD      r2,r2,r3              ;1934
000132  fb812102          SMULL    r2,r1,r1,r2           ;1934
000136  e000              B        |L17.314|
                  |L17.312|
000138  e033              B        |L17.418|
                  |L17.314|
00013a  eba171e1          SUB      r1,r1,r1,ASR #31      ;1934
00013e  9113              STR      r1,[sp,#0x4c]         ;1935
000140  f8d016bc          LDR      r1,[r0,#0x6bc]        ;1935
000144  f8d005a3          LDR      r0,[r0,#0x5a3]        ;1935
000148  e9dd230c          LDRD     r2,r3,[sp,#0x30]      ;1935
00014c  4408              ADD      r0,r0,r1              ;1935
00014e  eb0070d0          ADD      r0,r0,r0,LSR #31      ;1935
000152  1040              ASRS     r0,r0,#1              ;1935
000154  9015              STR      r0,[sp,#0x54]         ;1937
000156  a80a              ADD      r0,sp,#0x28           ;1937
000158  f04f0e05          MOV      lr,#5                 ;1937
00015c  9004              STR      r0,[sp,#0x10]         ;1937
00015e  ac0c              ADD      r4,sp,#0x30           ;1937
000160  2001              MOVS     r0,#1                 ;1937
000162  46f4              MOV      r12,lr                ;1937
                  |L17.356|
000164  eb0401c0          ADD      r1,r4,r0,LSL #3       ;1937
000168  1c80              ADDS     r0,r0,#2              ;1937
00016a  f8d1b000          LDR      r11,[r1,#0]           ;1937
00016e  4584              CMP      r12,r0                ;1937
000170  445a              ADD      r2,r2,r11             ;1937
000172  f8d1b004          LDR      r11,[r1,#4]           ;1937
000176  445b              ADD      r3,r3,r11             ;1937
000178  f8d1b008          LDR      r11,[r1,#8]           ;1937
00017c  68c9              LDR      r1,[r1,#0xc]          ;1937
00017e  445a              ADD      r2,r2,r11             ;1937
000180  440b              ADD      r3,r3,r1              ;1937
000182  dcef              BGT      |L17.356|
000184  fb92f1fe          SDIV     r1,r2,lr              ;1937
000188  fb93f0fe          SDIV     r0,r3,lr              ;1937
00018c  9a04              LDR      r2,[sp,#0x10]         ;1937
00018e  6011              STR      r1,[r2,#0]            ;1937
000190  6050              STR      r0,[r2,#4]            ;1937
000192  9800              LDR      r0,[sp,#0]            ;1937
000194  990a              LDR      r1,[sp,#0x28]         ;1937
000196  f8c01136          STR      r1,[r0,#0x136]        ;1937
00019a  990b              LDR      r1,[sp,#0x2c]         ;1937
00019c  f8c0113a          STR      r1,[r0,#0x13a]        ;1937
0001a0  e044              B        |L17.556|
                  |L17.418|
0001a2  b328              CBZ      r0,|L17.496|
0001a4  f8b70392          LDRH     r0,[r7,#0x392]        ;1939
0001a8  2800              CMP      r0,#0                 ;1939
0001aa  f00081dd          BEQ.W    |L17.1384|
0001ae  f8b70186          LDRH     r0,[r7,#0x186]        ;1939
0001b2  b3e0              CBZ      r0,|L17.558|
0001b4  eb0800c5          ADD      r0,r8,r5,LSL #3       ;1941
0001b8  f8d01731          LDR      r1,[r0,#0x731]        ;1941
0001bc  f8d026b8          LDR      r2,[r0,#0x6b8]        ;1941
0001c0  4411              ADD      r1,r1,r2              ;1941
0001c2  f8d0259f          LDR      r2,[r0,#0x59f]        ;1941
0001c6  440a              ADD      r2,r2,r1              ;1941
0001c8  498e              LDR      r1,|L17.1028|
0001ca  fb813202          SMULL    r3,r2,r1,r2           ;1941
0001ce  eba272e2          SUB      r2,r2,r2,ASR #31      ;1941
0001d2  f8c02136          STR      r2,[r0,#0x136]        ;1941
0001d6  f8d02735          LDR      r2,[r0,#0x735]        ;1942
0001da  f8d036bc          LDR      r3,[r0,#0x6bc]        ;1942
0001de  441a              ADD      r2,r2,r3              ;1942
0001e0  f8d035a3          LDR      r3,[r0,#0x5a3]        ;1942
0001e4  441a              ADD      r2,r2,r3              ;1942
0001e6  fb812102          SMULL    r2,r1,r1,r2           ;1942
0001ea  eba171e1          SUB      r1,r1,r1,ASR #31      ;1942
0001ee  e01b              B        |L17.552|
                  |L17.496|
0001f0  f8b70392          LDRH     r0,[r7,#0x392]        ;1944
0001f4  2800              CMP      r0,#0                 ;1944
0001f6  f00081b7          BEQ.W    |L17.1384|
0001fa  f8b70186          LDRH     r0,[r7,#0x186]        ;1944
0001fe  b1b0              CBZ      r0,|L17.558|
000200  eb0800c5          ADD      r0,r8,r5,LSL #3       ;1946
000204  f8d016b8          LDR      r1,[r0,#0x6b8]        ;1946
000208  f8d0259f          LDR      r2,[r0,#0x59f]        ;1946
00020c  4411              ADD      r1,r1,r2              ;1946
00020e  eb0171d1          ADD      r1,r1,r1,LSR #31      ;1946
000212  1049              ASRS     r1,r1,#1              ;1946
000214  f8c01136          STR      r1,[r0,#0x136]        ;1946
000218  f8d016bc          LDR      r1,[r0,#0x6bc]        ;1947
00021c  f8d025a3          LDR      r2,[r0,#0x5a3]        ;1947
000220  4411              ADD      r1,r1,r2              ;1947
000222  eb0171d1          ADD      r1,r1,r1,LSR #31      ;1947
000226  1049              ASRS     r1,r1,#1              ;1947
                  |L17.552|
000228  f8c0113a          STR      r1,[r0,#0x13a]        ;1947
                  |L17.556|
00022c  e000              B        |L17.560|
                  |L17.558|
00022e  e004              B        |L17.570|
                  |L17.560|
000230  f8b70392          LDRH     r0,[r7,#0x392]        ;1952
000234  2800              CMP      r0,#0                 ;1952
000236  f0008197          BEQ.W    |L17.1384|
                  |L17.570|
00023a  f8b900a1          LDRH     r0,[r9,#0xa1]         ;1954
00023e  2800              CMP      r0,#0                 ;1954
000240  f0008196          BEQ.W    |L17.1392|
000244  eb0804c5          ADD      r4,r8,r5,LSL #3       ;1956
000248  f8d41342          LDR      r1,[r4,#0x342]        ;1956
00024c  f8d43136          LDR      r3,[r4,#0x136]        ;1956
000250  f8d42346          LDR      r2,[r4,#0x346]        ;1956
000254  f8d4013a          LDR      r0,[r4,#0x13a]        ;1956
000258  1ac9              SUBS     r1,r1,r3              ;1956
00025a  4349              MULS     r1,r1,r1              ;1956
00025c  1a10              SUBS     r0,r2,r0              ;1956
00025e  fb001000          MLA      r0,r0,r0,r1           ;1956
000262  f7fffffe          BL       algorithm_calc_sqrt
000266  68b1              LDR      r1,[r6,#8]            ;1958  ; thisModeConf
000268  f9b120a1          LDRSH    r2,[r1,#0xa1]         ;1958
00026c  eb020900          ADD      r9,r2,r0              ;1958
000270  68f0              LDR      r0,[r6,#0xc]          ;1960  ; thisInfo
000272  f5005080          ADD      r0,r0,#0x1000         ;1960
000276  f89002a0          LDRB     r0,[r0,#0x2a0]        ;1960
00027a  2800              CMP      r0,#0                 ;1960
00027c  bf18              IT       NE                    ;1961
00027e  ea4f09e9          ASRNE    r9,r9,#3              ;1961
000282  f1b90f0a          CMP      r9,#0xa               ;1964
000286  f2c0824b          BLT.W    |L17.1824|
00028a  bf00              NOP                            ;1967
                  |L17.652|
00028c  f8910092          LDRB     r0,[r1,#0x92]         ;1967
000290  f04f0b01          MOV      r11,#1                ;1967
000294  fa0bf000          LSL      r0,r11,r0             ;1967
000298  4548              CMP      r0,r9                 ;1967
00029a  f2c08244          BLT.W    |L17.1830|
00029e  bf00              NOP                            ;1970
                  |L17.672|
0002a0  f8910096          LDRB     r0,[r1,#0x96]         ;1970
0002a4  2800              CMP      r0,#0                 ;1970
0002a6  d046              BEQ      |L17.822|
0002a8  f8d40434          LDR      r0,[r4,#0x434]        ;1986
0002ac  900a              STR      r0,[sp,#0x28]         ;1987
0002ae  f8d40438          LDR      r0,[r4,#0x438]        ;1987
0002b2  9008              STR      r0,[sp,#0x20]         ;1994
0002b4  f8b70498          LDRH     r0,[r7,#0x498]        ;1994
0002b8  b390              CBZ      r0,|L17.800|
0002ba  4853              LDR      r0,|L17.1032|
0002bc  5d40              LDRB     r0,[r0,r5]            ;2002
0002be  b9a8              CBNZ     r0,|L17.748|
0002c0  f8d42136          LDR      r2,[r4,#0x136]        ;2002
0002c4  980a              LDR      r0,[sp,#0x28]         ;2002
0002c6  f8d4313a          LDR      r3,[r4,#0x13a]        ;2002
0002ca  9908              LDR      r1,[sp,#0x20]         ;2002
0002cc  1a10              SUBS     r0,r2,r0              ;2002
0002ce  4340              MULS     r0,r0,r0              ;2002
0002d0  1a59              SUBS     r1,r3,r1              ;2002
0002d2  fb010001          MLA      r0,r1,r1,r0           ;2002
0002d6  f7fffffe          BL       algorithm_calc_sqrt
0002da  68b1              LDR      r1,[r6,#8]            ;2002  ; thisModeConf
0002dc  f8b11090          LDRH     r1,[r1,#0x90]         ;2002
0002e0  4288              CMP      r0,r1                 ;2002
0002e2  bfc4              ITT      GT                    ;2003
0002e4  4848              LDRGT    r0,|L17.1032|
0002e6  f800b005          STRBGT   r11,[r0,r5]           ;2003
0002ea  dc54              BGT      |L17.918|
                  |L17.748|
0002ec  4846              LDR      r0,|L17.1032|
0002ee  5d40              LDRB     r0,[r0,r5]            ;2004
0002f0  2801              CMP      r0,#1                 ;2004
0002f2  d119              BNE      |L17.808|
0002f4  f8d42136          LDR      r2,[r4,#0x136]        ;2004
0002f8  980a              LDR      r0,[sp,#0x28]         ;2004
0002fa  f8d4313a          LDR      r3,[r4,#0x13a]        ;2004
0002fe  9908              LDR      r1,[sp,#0x20]         ;2004
000300  1a10              SUBS     r0,r2,r0              ;2004
000302  4340              MULS     r0,r0,r0              ;2004
000304  1a59              SUBS     r1,r3,r1              ;2004
000306  fb010001          MLA      r0,r1,r1,r0           ;2004
00030a  f7fffffe          BL       algorithm_calc_sqrt
00030e  68b1              LDR      r1,[r6,#8]            ;2004  ; thisModeConf
000310  f8b1108e          LDRH     r1,[r1,#0x8e]         ;2004
000314  4288              CMP      r0,r1                 ;2004
000316  bfbc              ITT      LT                    ;2005
000318  483b              LDRLT    r0,|L17.1032|
00031a  f800a005          STRBLT   r10,[r0,r5]           ;2005
00031e  db03              BLT      |L17.808|
                  |L17.800|
000320  4839              LDR      r0,|L17.1032|
000322  5d40              LDRB     r0,[r0,r5]            ;2012
000324  2801              CMP      r0,#1                 ;2012
000326  d036              BEQ      |L17.918|
                  |L17.808|
000328  4838              LDR      r0,|L17.1036|
00032a  eb0000c5          ADD      r0,r0,r5,LSL #3       ;2069
00032e  f8c0a004          STR      r10,[r0,#4]           ;2069
000332  f8c0a000          STR      r10,[r0,#0]           ;2069
                  |L17.822|
000336  68b1              LDR      r1,[r6,#8]            ;2078  ; thisModeConf
000338  f8d43342          LDR      r3,[r4,#0x342]        ;2078
00033c  f8910092          LDRB     r0,[r1,#0x92]         ;2078
000340  fa0bf200          LSL      r2,r11,r0             ;2078
000344  eba20209          SUB      r2,r2,r9              ;2078
000348  435a              MULS     r2,r3,r2              ;2078
00034a  f8d43136          LDR      r3,[r4,#0x136]        ;2078
00034e  fb092203          MLA      r2,r9,r3,r2           ;2078
000352  1e43              SUBS     r3,r0,#1              ;2078
000354  fa0bf303          LSL      r3,r11,r3             ;2078
000358  441a              ADD      r2,r2,r3              ;2078
00035a  fa42f000          ASR      r0,r2,r0              ;2078
00035e  f8c40136          STR      r0,[r4,#0x136]        ;2078
000362  f8910092          LDRB     r0,[r1,#0x92]         ;2079
000366  fa0bf200          LSL      r2,r11,r0             ;2079
00036a  eba20309          SUB      r3,r2,r9              ;2079
00036e  f8d42346          LDR      r2,[r4,#0x346]        ;2079
000372  435a              MULS     r2,r3,r2              ;2079
000374  f8d4313a          LDR      r3,[r4,#0x13a]        ;2079
000378  fb092203          MLA      r2,r9,r3,r2           ;2079
00037c  1e43              SUBS     r3,r0,#1              ;2079
00037e  fa0bf303          LSL      r3,r11,r3             ;2079
000382  441a              ADD      r2,r2,r3              ;2079
000384  fa42f000          ASR      r0,r2,r0              ;2079
000388  f8c4013a          STR      r0,[r4,#0x13a]        ;2079
00038c  f89100a4          LDRB     r0,[r1,#0xa4]         ;2081
000390  2801              CMP      r0,#1                 ;2081
000392  d17d              BNE      |L17.1168|
000394  e09c              B        |L17.1232|
                  |L17.918|
000396  f8d41342          LDR      r1,[r4,#0x342]        ;2018
00039a  980a              LDR      r0,[sp,#0x28]         ;2018
00039c  f8d42346          LDR      r2,[r4,#0x346]        ;2019
0003a0  1a09              SUBS     r1,r1,r0              ;2018
0003a2  9808              LDR      r0,[sp,#0x20]         ;2019
0003a4  fb01f301          MUL      r3,r1,r1              ;2032
0003a8  1a10              SUBS     r0,r2,r0              ;2019
0003aa  9009              STR      r0,[sp,#0x24]         ;2020
0003ac  f8d42136          LDR      r2,[r4,#0x136]        ;2020
0003b0  980a              LDR      r0,[sp,#0x28]         ;2020
0003b2  921d              STR      r2,[sp,#0x74]         ;2020
0003b4  eba20c00          SUB      r12,r2,r0             ;2020
0003b8  f8d4013a          LDR      r0,[r4,#0x13a]        ;2021
0003bc  9a08              LDR      r2,[sp,#0x20]         ;2021
0003be  901b              STR      r0,[sp,#0x6c]         ;2021
0003c0  1a82              SUBS     r2,r0,r2              ;2021
0003c2  9809              LDR      r0,[sp,#0x24]         ;2032
0003c4  fb003000          MLA      r0,r0,r0,r3           ;2032
0003c8  9002              STR      r0,[sp,#8]            ;2032
0003ca  17c0              ASRS     r0,r0,#31             ;2032
0003cc  9003              STR      r0,[sp,#0xc]          ;2032
0003ce  9809              LDR      r0,[sp,#0x24]         ;2032
0003d0  fb01f30c          MUL      r3,r1,r12             ;2032
0003d4  fb003202          MLA      r2,r0,r2,r3           ;2032
0003d8  fb810102          SMULL    r0,r1,r1,r2           ;2032
0003dc  920b              STR      r2,[sp,#0x2c]         ;2032
0003de  e9dd2302          LDRD     r2,r3,[sp,#8]         ;2032
0003e2  f7fffffe          BL       __aeabi_ldivmod
0003e6  901c              STR      r0,[sp,#0x70]         ;2033
0003e8  9a0b              LDR      r2,[sp,#0x2c]         ;2033
0003ea  9809              LDR      r0,[sp,#0x24]         ;2033
0003ec  fb800102          SMULL    r0,r1,r0,r2           ;2033
0003f0  e9dd2302          LDRD     r2,r3,[sp,#8]         ;2033
0003f4  f7fffffe          BL       __aeabi_ldivmod
0003f8  9005              STR      r0,[sp,#0x14]         ;2035
0003fa  990a              LDR      r1,[sp,#0x28]         ;2035
0003fc  981c              LDR      r0,[sp,#0x70]         ;2035
0003fe  e007              B        |L17.1040|
                  |L17.1024|
                          DCD      ||.data||
                  |L17.1028|
                          DCD      0x55555556
                  |L17.1032|
                          DCD      ||area_number.25||+0x10
                  |L17.1036|
                          DCD      ||area_number.25||+0x20
                  |L17.1040|
000410  4401              ADD      r1,r1,r0              ;2035
000412  9102              STR      r1,[sp,#8]            ;2036
000414  9908              LDR      r1,[sp,#0x20]         ;2036
000416  9805              LDR      r0,[sp,#0x14]         ;2036
000418  9a1d              LDR      r2,[sp,#0x74]         ;2036
00041a  180b              ADDS     r3,r1,r0              ;2036
00041c  9902              LDR      r1,[sp,#8]            ;2036
00041e  981b              LDR      r0,[sp,#0x6c]         ;2036
000420  1a51              SUBS     r1,r2,r1              ;2036
000422  4349              MULS     r1,r1,r1              ;2036
000424  1ac0              SUBS     r0,r0,r3              ;2036
000426  fb001000          MLA      r0,r0,r0,r1           ;2036
00042a  9303              STR      r3,[sp,#0xc]          ;2036
00042c  f7fffffe          BL       algorithm_calc_sqrt
000430  b280              UXTH     r0,r0                 ;2049
000432  280a              CMP      r0,#0xa               ;2051
000434  bf38              IT       CC                    ;2051
000436  2000              MOVCC    r0,#0                 ;2051
000438  d305              BCC      |L17.1094|
00043a  68b1              LDR      r1,[r6,#8]            ;2052  ; thisModeConf
00043c  f8911096          LDRB     r1,[r1,#0x96]         ;2052
000440  4281              CMP      r1,r0                 ;2052
000442  bf38              IT       CC                    ;2052
000444  4608              MOVCC    r0,r1                 ;2052
                  |L17.1094|
000446  f8d6c008          LDR      r12,[r6,#8]           ;2054  ; thisModeConf
00044a  9a02              LDR      r2,[sp,#8]            ;2054
00044c  f89c1096          LDRB     r1,[r12,#0x96]        ;2054
000450  1a0b              SUBS     r3,r1,r0              ;2054
000452  435a              MULS     r2,r3,r2              ;2054
000454  f8d43136          LDR      r3,[r4,#0x136]        ;2054
000458  fb002203          MLA      r2,r0,r3,r2           ;2054
00045c  eb020251          ADD      r2,r2,r1,LSR #1       ;2054
000460  fb92f1f1          SDIV     r1,r2,r1              ;2054
000464  f8c41136          STR      r1,[r4,#0x136]        ;2054
000468  f89c1096          LDRB     r1,[r12,#0x96]        ;2055
00046c  9a03              LDR      r2,[sp,#0xc]          ;2055
00046e  1a0b              SUBS     r3,r1,r0              ;2055
000470  435a              MULS     r2,r3,r2              ;2055
000472  f8d4313a          LDR      r3,[r4,#0x13a]        ;2055
000476  fb002003          MLA      r0,r0,r3,r2           ;2055
00047a  eb000051          ADD      r0,r0,r1,LSR #1       ;2055
00047e  fb90f0f1          SDIV     r0,r0,r1              ;2055
000482  f8c4013a          STR      r0,[r4,#0x13a]        ;2055
000486  eb080005          ADD      r0,r8,r5              ;2061
00048a  f8900ba6          LDRB     r0,[r0,#0xba6]        ;2061
00048e  e000              B        |L17.1170|
                  |L17.1168|
000490  e068              B        |L17.1380|
                  |L17.1170|
000492  b1a8              CBZ      r0,|L17.1216|
000494  f504709b          ADD      r0,r4,#0x136          ;2061
000498  2100              MOVS     r1,#0                 ;2061
00049a  f7fffffe          BL       algorithm_coord_IsEdgeArea
00049e  b178              CBZ      r0,|L17.1216|
0004a0  9802              LDR      r0,[sp,#8]            ;2062
0004a2  f8d41136          LDR      r1,[r4,#0x136]        ;2062
0004a6  4408              ADD      r0,r0,r1              ;2062
0004a8  1c40              ADDS     r0,r0,#1              ;2062
0004aa  1040              ASRS     r0,r0,#1              ;2062
0004ac  f8c40136          STR      r0,[r4,#0x136]        ;2062
0004b0  9803              LDR      r0,[sp,#0xc]          ;2063
0004b2  f8d4113a          LDR      r1,[r4,#0x13a]        ;2063
0004b6  4408              ADD      r0,r0,r1              ;2063
0004b8  1c40              ADDS     r0,r0,#1              ;2063
0004ba  1040              ASRS     r0,r0,#1              ;2063
0004bc  f8c4013a          STR      r0,[r4,#0x13a]        ;2063
                  |L17.1216|
0004c0  489e              LDR      r0,|L17.1852|
0004c2  eb0001c5          ADD      r1,r0,r5,LSL #3       ;2066
0004c6  981c              LDR      r0,[sp,#0x70]         ;2066
0004c8  6008              STR      r0,[r1,#0]            ;2066
0004ca  9805              LDR      r0,[sp,#0x14]         ;2066
0004cc  6048              STR      r0,[r1,#4]            ;2066
0004ce  e732              B        |L17.822|
                  |L17.1232|
0004d0  f8980135          LDRB     r0,[r8,#0x135]        ;2081
0004d4  2802              CMP      r0,#2                 ;2081
0004d6  d84b              BHI      |L17.1392|
0004d8  f2043042          ADD      r0,r4,#0x342          ;2084
0004dc  2100              MOVS     r1,#0                 ;2084
0004de  f7fffffe          BL       algorithm_coord_IsEdgeArea
0004e2  2800              CMP      r0,#0                 ;2084
0004e4  bf14              ITE      NE                    ;2085
0004e6  f44f7080          MOVNE    r0,#0x100             ;2085
0004ea  2040              MOVEQ    r0,#0x40              ;2088
0004ec  4581              CMP      r9,r0                 ;2091
0004ee  dd13              BLE      |L17.1304|
0004f0  f8d4159f          LDR      r1,[r4,#0x59f]        ;2092
0004f4  f8d40136          LDR      r0,[r4,#0x136]        ;2092
0004f8  eb010141          ADD      r1,r1,r1,LSL #1       ;2092
0004fc  4408              ADD      r0,r0,r1              ;2092
0004fe  1080              ASRS     r0,r0,#2              ;2092
000500  f8c40136          STR      r0,[r4,#0x136]        ;2092
000504  f8d415a3          LDR      r1,[r4,#0x5a3]        ;2093
000508  f8d4013a          LDR      r0,[r4,#0x13a]        ;2093
00050c  eb010141          ADD      r1,r1,r1,LSL #1       ;2093
000510  4408              ADD      r0,r0,r1              ;2093
000512  1080              ASRS     r0,r0,#2              ;2093
000514  f8c4013a          STR      r0,[r4,#0x13a]        ;2093
                  |L17.1304|
000518  f8b70484          LDRH     r0,[r7,#0x484]        ;2096
00051c  2800              CMP      r0,#0                 ;2096
00051e  bf1c              ITT      NE                    ;2096
000520  f8b70b5c          LDRHNE   r0,[r7,#0xb5c]        ;2096
000524  2800              CMPNE    r0,#0                 ;2096
000526  d023              BEQ      |L17.1392|
000528  f8d40434          LDR      r0,[r4,#0x434]        ;2098
00052c  f8d41342          LDR      r1,[r4,#0x342]        ;2098
000530  ebc00041          RSB      r0,r0,r1,LSL #1       ;2098
000534  f8d41136          LDR      r1,[r4,#0x136]        ;2098
000538  eb010141          ADD      r1,r1,r1,LSL #1       ;2098
00053c  4408              ADD      r0,r0,r1              ;2098
00053e  ea4f00a0          ASR      r0,r0,#2              ;2098
000542  f8c40136          STR      r0,[r4,#0x136]        ;2098
000546  f8d40438          LDR      r0,[r4,#0x438]        ;2099
00054a  f8d41346          LDR      r1,[r4,#0x346]        ;2099
00054e  ebc00041          RSB      r0,r0,r1,LSL #1       ;2099
000552  f8d4113a          LDR      r1,[r4,#0x13a]        ;2099
000556  eb010141          ADD      r1,r1,r1,LSL #1       ;2099
00055a  4408              ADD      r0,r0,r1              ;2099
00055c  ea4f00a0          ASR      r0,r0,#2              ;2099
000560  f8c4013a          STR      r0,[r4,#0x13a]        ;2099
                  |L17.1380|
000564  e004              B        |L17.1392|
000566  bf00              NOP                            ;2105
                  |L17.1384|
000568  eb080005          ADD      r0,r8,r5              ;2105
00056c  f880aaf8          STRB     r10,[r0,#0xaf8]       ;2105
                  |L17.1392|
000570  f8b70186          LDRH     r0,[r7,#0x186]        ;2109
000574  b3a8              CBZ      r0,|L17.1506|
000576  68b0              LDR      r0,[r6,#8]            ;2111  ; thisModeConf
000578  f8b090a7          LDRH     r9,[r0,#0xa7]         ;2111
00057c  f1b90f00          CMP      r9,#0                 ;2111
000580  d044              BEQ      |L17.1548|
000582  f8b7119a          LDRH     r1,[r7,#0x19a]        ;2111
000586  f89000a9          LDRB     r0,[r0,#0xa9]         ;2111
00058a  4281              CMP      r1,r0                 ;2111
00058c  d93e              BLS      |L17.1548|
00058e  eb080705          ADD      r7,r8,r5              ;2113
000592  f8970ba6          LDRB     r0,[r7,#0xba6]        ;2113
000596  bb20              CBNZ     r0,|L17.1506|
000598  eb0804c5          ADD      r4,r8,r5,LSL #3       ;2122
00059c  f604300c          ADD      r0,r4,#0xb0c          ;2122
0005a0  2100              MOVS     r1,#0                 ;2122
0005a2  f7fffffe          BL       algorithm_coord_IsEdgeArea
0005a6  2800              CMP      r0,#0                 ;2122
0005a8  bfc4              ITT      GT                    ;2123
0005aa  f9b60000          LDRSHGT  r0,[r6,#0]            ;2123  ; AddDistTh
0005ae  4481              ADDGT    r9,r9,r0              ;2123
0005b0  f8d43b0c          LDR      r3,[r4,#0xb0c]        ;2125
0005b4  f8d40136          LDR      r0,[r4,#0x136]        ;2125
0005b8  f8d41b10          LDR      r1,[r4,#0xb10]        ;2125
0005bc  f8d4213a          LDR      r2,[r4,#0x13a]        ;2125
0005c0  1a18              SUBS     r0,r3,r0              ;2125
0005c2  fb00f300          MUL      r3,r0,r0              ;2125
0005c6  1a88              SUBS     r0,r1,r2              ;2125
0005c8  fb003000          MLA      r0,r0,r0,r3           ;2125
0005cc  f7fffffe          BL       algorithm_calc_sqrt
0005d0  4548              CMP      r0,r9                 ;2125
0005d2  da07              BGE      |L17.1508|
0005d4  f8d40b0c          LDR      r0,[r4,#0xb0c]        ;2127
0005d8  f8c40136          STR      r0,[r4,#0x136]        ;2127
0005dc  f8d40b10          LDR      r0,[r4,#0xb10]        ;2127
0005e0  e011              B        |L17.1542|
                  |L17.1506|
0005e2  e018              B        |L17.1558|
                  |L17.1508|
0005e4  2001              MOVS     r0,#1                 ;2132
0005e6  f8870ba6          STRB     r0,[r7,#0xba6]        ;2132
0005ea  f8d40b0c          LDR      r0,[r4,#0xb0c]        ;2133
0005ee  f8d41136          LDR      r1,[r4,#0x136]        ;2133
0005f2  4408              ADD      r0,r0,r1              ;2133
0005f4  1040              ASRS     r0,r0,#1              ;2133
0005f6  f8c40136          STR      r0,[r4,#0x136]        ;2133
0005fa  f8d40b10          LDR      r0,[r4,#0xb10]        ;2134
0005fe  f8d4113a          LDR      r1,[r4,#0x13a]        ;2134
000602  4408              ADD      r0,r0,r1              ;2134
000604  1040              ASRS     r0,r0,#1              ;2134
                  |L17.1542|
000606  f8c4013a          STR      r0,[r4,#0x13a]        ;2127
00060a  e004              B        |L17.1558|
                  |L17.1548|
00060c  eb080105          ADD      r1,r8,r5              ;2140
000610  2001              MOVS     r0,#1                 ;2140
000612  f8810ba6          STRB     r0,[r1,#0xba6]        ;2140
                  |L17.1558|
000616  68b7              LDR      r7,[r6,#8]            ;2145  ; thisModeConf
000618  f99710da          LDRSB    r1,[r7,#0xda]         ;2145
00061c  2900              CMP      r1,#0                 ;2145
00061e  dd70              BLE      |L17.1794|
000620  eb0802c5          ADD      r2,r8,r5,LSL #3       ;2148
000624  f8d73092          LDR      r3,[r7,#0x92]         ;2147
000628  f8d24136          LDR      r4,[r2,#0x136]        ;2148
00062c  f5b47f80          CMP      r4,#0x100             ;2148
000630  db12              BLT      |L17.1624|
000632  f8d6c00c          LDR      r12,[r6,#0xc]         ;2148  ; thisInfo
000636  f8d2013a          LDR      r0,[r2,#0x13a]        ;2148
00063a  f8dc9e39          LDR      r9,[r12,#0xe39]       ;2148
00063e  f5a97980          SUB      r9,r9,#0x100          ;2148
000642  4581              CMP      r9,r0                 ;2148
000644  db08              BLT      |L17.1624|
000646  f8dcce35          LDR      r12,[r12,#0xe35]      ;2148
00064a  f5ac7c80          SUB      r12,r12,#0x100        ;2148
00064e  45a4              CMP      r12,r4                ;2148
000650  bfa8              IT       GE                    ;2148
000652  f5b07f80          CMPGE    r0,#0x100             ;2148
000656  da54              BGE      |L17.1794|
                  |L17.1624|
000658  f8d29342          LDR      r9,[r2,#0x342]        ;2151
00065c  ebb90004          SUBS     r0,r9,r4              ;2151
000660  bf48              IT       MI                    ;2151
000662  4240              RSBMI    r0,r0,#0              ;2151
000664  4401              ADD      r1,r1,r0              ;2152
000666  290a              CMP      r1,#0xa               ;2153
000668  db5f              BLT      |L17.1834|
00066a  bf00              NOP                            ;2154
                  |L17.1644|
00066c  f04f0c01          MOV      r12,#1                ;2154
000670  fa0cf003          LSL      r0,r12,r3             ;2154
000674  4288              CMP      r0,r1                 ;2154
000676  db5a              BLT      |L17.1838|
                  |L17.1656|
000678  eba00b01          SUB      r11,r0,r1             ;2156
00067c  fb0bf909          MUL      r9,r11,r9             ;2156
000680  fb019104          MLA      r1,r1,r4,r9           ;2156
000684  1e5c              SUBS     r4,r3,#1              ;2156
000686  fa0cf904          LSL      r9,r12,r4             ;2156
00068a  4449              ADD      r1,r1,r9              ;2156
00068c  4119              ASRS     r1,r1,r3              ;2156
00068e  f8c21136          STR      r1,[r2,#0x136]        ;2156
000692  f8d24346          LDR      r4,[r2,#0x346]        ;2158
000696  f8d2c13a          LDR      r12,[r2,#0x13a]       ;2158
00069a  ebb4010c          SUBS     r1,r4,r12             ;2158
00069e  bf48              IT       MI                    ;2158
0006a0  4249              RSBMI    r1,r1,#0              ;2158
0006a2  f99770da          LDRSB    r7,[r7,#0xda]         ;2159
0006a6  4439              ADD      r1,r1,r7              ;2159
0006a8  290a              CMP      r1,#0xa               ;2160
0006aa  db42              BLT      |L17.1842|
                  |L17.1708|
0006ac  4288              CMP      r0,r1                 ;2161
0006ae  db42              BLT      |L17.1846|
                  |L17.1712|
0006b0  1a40              SUBS     r0,r0,r1              ;2164
0006b2  4360              MULS     r0,r4,r0              ;2164
0006b4  fb01000c          MLA      r0,r1,r12,r0          ;2164
0006b8  4448              ADD      r0,r0,r9              ;2164
0006ba  4118              ASRS     r0,r0,r3              ;2164
0006bc  f8c2013a          STR      r0,[r2,#0x13a]        ;2164
0006c0  e01f              B        |L17.1794|
                  |L17.1730|
0006c2  68b0              LDR      r0,[r6,#8]            ;2169  ; thisModeConf
0006c4  f8b000a7          LDRH     r0,[r0,#0xa7]         ;2169
0006c8  2800              CMP      r0,#0                 ;2169
0006ca  bf1c              ITT      NE                    ;2169
0006cc  f8b703a6          LDRHNE   r0,[r7,#0x3a6]        ;2169
0006d0  2800              CMPNE    r0,#0                 ;2169
0006d2  d010              BEQ      |L17.1782|
0006d4  eb080005          ADD      r0,r8,r5              ;2171
0006d8  f8900ba6          LDRB     r0,[r0,#0xba6]        ;2171
0006dc  2800              CMP      r0,#0                 ;2171
0006de  8830              LDRH     r0,[r6,#0]            ;2177  ; AddDistTh
0006e0  d015              BEQ      |L17.1806|
0006e2  380a              SUBS     r0,r0,#0xa            ;2171
0006e4  b200              SXTH     r0,r0                 ;2172
0006e6  8030              STRH     r0,[r6,#0]            ;2172
0006e8  f1100f20          CMN      r0,#0x20              ;2173
0006ec  bfb8              IT       LT                    ;2174
0006ee  f06f001f          MVNLT    r0,#0x1f              ;2174
0006f2  da00              BGE      |L17.1782|
                  |L17.1780|
0006f4  8030              STRH     r0,[r6,#0]            ;2179
                  |L17.1782|
0006f6  eb080005          ADD      r0,r8,r5              ;2184
0006fa  f880aaf8          STRB     r10,[r0,#0xaf8]       ;2184
0006fe  f880aba6          STRB     r10,[r0,#0xba6]       ;2185
                  |L17.1794|
000702  1e6d              SUBS     r5,r5,#1              ;2185
000704  f4bfac86          BCS      |L17.20|
000708  b01f              ADD      sp,sp,#0x7c
00070a  e8bd8ff0          POP      {r4-r11,pc}
                  |L17.1806|
00070e  300a              ADDS     r0,r0,#0xa
000710  b200              SXTH     r0,r0                 ;2177
000712  8030              STRH     r0,[r6,#0]            ;2177
000714  2880              CMP      r0,#0x80              ;2178
000716  bfc8              IT       GT                    ;2179
000718  2080              MOVGT    r0,#0x80              ;2179
00071a  ddec              BLE      |L17.1782|
00071c  e7ea              B        |L17.1780|
00071e  bf00              NOP                            ;1964
                  |L17.1824|
000720  f04f090a          MOV      r9,#0xa               ;1964
000724  e5b2              B        |L17.652|
                  |L17.1830|
000726  4681              MOV      r9,r0                 ;1967
000728  e5ba              B        |L17.672|
                  |L17.1834|
00072a  210a              MOVS     r1,#0xa               ;2153
00072c  e79e              B        |L17.1644|
                  |L17.1838|
00072e  4601              MOV      r1,r0                 ;2154
000730  e7a2              B        |L17.1656|
                  |L17.1842|
000732  210a              MOVS     r1,#0xa               ;2160
000734  e7ba              B        |L17.1708|
                  |L17.1846|
000736  4601              MOV      r1,r0                 ;2161
000738  e7ba              B        |L17.1712|
;;;2190   
                          ENDP

00073a  0000              DCW      0x0000
                  |L17.1852|
                          DCD      ||area_number.25||+0x20

                          AREA ||i.algorithm_coord_tracking_pos||, CODE, READONLY, ALIGN=2

                  algorithm_coord_tracking_pos PROC
;;;871    #endif
;;;872    void algorithm_coord_tracking_pos(int mode)
000000  e92d4ff1          PUSH     {r0,r4-r11,lr}
;;;873    {
;;;874        uint8_t pl, cl; // Index of Previous Label, Current Label
;;;875    //    int32_t iDist, iDist2, iMinDist; // NOTE : not used
;;;876        int32_t iDist, iMinDist;
;;;877    //    int match; // NOTE : not used
;;;878        int8_t cReorderRemap[LOOSE_POSBUF_];
;;;879        uint32_t ulPrematchedDist[LOOSE_POSBUF_];
;;;880        int32_t lDistanceMap[LOOSE_POSBUF_][LOOSE_POSBUF_];
;;;881    //    tXY_t pred_pos, avg_pos, curr_pos; // NOTE : not used
;;;882        tXY_t pred_pos;
;;;883        tXY_t curr_pos_sum;
;;;884        tXY_t prev_pos_sum;
;;;885        tXY_t comp_pos;
;;;886        int match_cl, match_pl;
;;;887        int iDistanceThd;
;;;888        tXY_t pos_max, pos_min;
;;;889        bool_t bCompFlag;
;;;890    #if (PalmCandidateTouchCut_EN == YES)
;;;891    	static uint16_t usPalmCandiShapeMatchingLearningCnt = 0;
;;;892    #endif
;;;893    	
;;;894    	tCoordInfo_t 	*temp_coord;
;;;895    	
;;;896    	temp_coord = &thisInfo->tCoord;
000004  48ff              LDR      r0,|L18.1028|
000006  f5ad6dd2          SUB      sp,sp,#0x690          ;873
00000a  68c0              LDR      r0,[r0,#0xc]  ; thisInfo
00000c  f2003069          ADD      r0,r0,#0x369
;;;897    
;;;898        temp_coord->tPos.sFinger_ = MIN(temp_coord->tTempPos.sFinger_, MAX_TOUCH_);
000010  f8cd05c8          STR      r0,[sp,#0x5c8]
000014  f890b000          LDRB     r11,[r0,#0]
000018  f1bb0f0a          CMP      r11,#0xa
00001c  bf28              IT       CS
00001e  f04f0b0a          MOVCS    r11,#0xa
000022  f880b135          STRB     r11,[r0,#0x135]
;;;899    
;;;900        memset(&cReorderRemap, -1, sizeof(cReorderRemap));
000026  f04f32ff          MOV      r2,#0xffffffff
00002a  2110              MOVS     r1,#0x10
00002c  f50d60c0          ADD      r0,sp,#0x600
000030  f7fffffe          BL       __aeabi_memset
;;;901        memset(&ulPrematchedDist, UINT8_MAX, sizeof(ulPrematchedDist));
000034  22ff              MOVS     r2,#0xff
000036  2140              MOVS     r1,#0x40
000038  f50d60c3          ADD      r0,sp,#0x618
00003c  f7fffffe          BL       __aeabi_memset
;;;902    
;;;903    #if 1
;;;904    	if( temp_coord->tPos.sFinger_ > 1 && temp_coord->tPastPos[0].sFinger_ == temp_coord->tPos.sFinger_ )
;;;905    	{
;;;906    		curr_pos_sum.x = 0;
;;;907    		curr_pos_sum.y = 0;
;;;908    		prev_pos_sum.x = 0;
;;;909    		prev_pos_sum.y = 0;
;;;910    		pos_min.x = INT32_MAX;
000040  f06f4e00          MVN      lr,#0x80000000
000044  f1bb0f01          CMP      r11,#1                ;904
000048  d96a              BLS      |L18.288|
00004a  f8dd05c8          LDR      r0,[sp,#0x5c8]        ;904
00004e  f8900341          LDRB     r0,[r0,#0x341]        ;904
000052  4558              CMP      r0,r11                ;904
000054  d164              BNE      |L18.288|
000056  2000              MOVS     r0,#0                 ;906
;;;911    		pos_max.x = 0;
;;;912    		pos_min.y = INT32_MAX;
;;;913    		pos_max.y = 0;
;;;914    
;;;915    		for( cl = 0; cl < temp_coord->tTempPos.sFinger_; cl++ )
000058  f8dd75c8          LDR      r7,[sp,#0x5c8]
00005c  4605              MOV      r5,r0                 ;906
00005e  462e              MOV      r6,r5                 ;907
000060  46b4              MOV      r12,r6                ;908
000062  f897a000          LDRB     r10,[r7,#0]
000066  4664              MOV      r4,r12                ;909
000068  4621              MOV      r1,r4                 ;911
00006a  4672              MOV      r2,lr                 ;912
00006c  4673              MOV      r3,lr                 ;912
00006e  4681              MOV      r9,r0
000070  f1ba0f00          CMP      r10,#0
000074  d923              BLS      |L18.190|
;;;916    		{
;;;917    			if( temp_coord->tTempPos.vusR[cl] != 0 )
000076  bf00              NOP      
                  |L18.120|
000078  f8dd75c8          LDR      r7,[sp,#0x5c8]
00007c  eb070749          ADD      r7,r7,r9,LSL #1
000080  f8b770a1          LDRH     r7,[r7,#0xa1]
000084  b1af              CBZ      r7,|L18.178|
;;;918    			{
;;;919    				curr_pos_sum.x += temp_coord->tTempPos.tXY[cl].x;
000086  f8dd75c8          LDR      r7,[sp,#0x5c8]
00008a  eb0708c9          ADD      r8,r7,r9,LSL #3
00008e  f8d87001          LDR      r7,[r8,#1]
;;;920    				curr_pos_sum.y += temp_coord->tTempPos.tXY[cl].y;
000092  f8d88005          LDR      r8,[r8,#5]
000096  443d              ADD      r5,r5,r7              ;919
000098  4446              ADD      r6,r6,r8
;;;921    
;;;922    				if( pos_min.x > temp_coord->tTempPos.tXY[cl].x )
;;;923    					pos_min.x = temp_coord->tTempPos.tXY[cl].x;
00009a  42ba              CMP      r2,r7
00009c  bfc8              IT       GT
00009e  463a              MOVGT    r2,r7
;;;924    				if( pos_max.x < temp_coord->tTempPos.tXY[cl].x )
;;;925    					pos_max.x = temp_coord->tTempPos.tXY[cl].x;
0000a0  42b9              CMP      r1,r7
0000a2  bfd8              IT       LE
0000a4  4639              MOVLE    r1,r7
;;;926    				if( pos_min.y > temp_coord->tTempPos.tXY[cl].y )
;;;927    					pos_min.y = temp_coord->tTempPos.tXY[cl].y;
0000a6  4543              CMP      r3,r8
0000a8  bfc8              IT       GT
0000aa  4643              MOVGT    r3,r8
;;;928    				if( pos_max.y < temp_coord->tTempPos.tXY[cl].y )
;;;929    					pos_max.y = temp_coord->tTempPos.tXY[cl].y;
0000ac  4540              CMP      r0,r8
0000ae  bfd8              IT       LE
0000b0  4640              MOVLE    r0,r8
                  |L18.178|
0000b2  f1090701          ADD      r7,r9,#1
0000b6  f00709ff          AND      r9,r7,#0xff
0000ba  45ca              CMP      r10,r9
0000bc  d8dc              BHI      |L18.120|
                  |L18.190|
;;;930    			}
;;;931    		}
;;;932    
;;;933    		for( pl = 0; pl < MAX_TOUCH_; pl++ )
0000be  2700              MOVS     r7,#0
                  |L18.192|
;;;934    		{
;;;935    			if( temp_coord->tPastPos[0].vusR[pl] != 0 )
0000c0  f8dd85c8          LDR      r8,[sp,#0x5c8]
0000c4  eb080847          ADD      r8,r8,r7,LSL #1
0000c8  f8b883a6          LDRH     r8,[r8,#0x3a6]
0000cc  f1b80f00          CMP      r8,#0
0000d0  d00a              BEQ      |L18.232|
;;;936    			{
;;;937    				prev_pos_sum.x += temp_coord->tOrgPastPos[0].tXY[pl].x;
0000d2  46e1              MOV      r9,r12
0000d4  f8ddc5c8          LDR      r12,[sp,#0x5c8]
0000d8  eb0c08c7          ADD      r8,r12,r7,LSL #3
0000dc  f8d8c6b8          LDR      r12,[r8,#0x6b8]
;;;938    				prev_pos_sum.y += temp_coord->tOrgPastPos[0].tXY[pl].y;
0000e0  f8d886bc          LDR      r8,[r8,#0x6bc]
0000e4  44cc              ADD      r12,r12,r9            ;937
0000e6  4444              ADD      r4,r4,r8
                  |L18.232|
0000e8  1c7f              ADDS     r7,r7,#1
0000ea  b2ff              UXTB     r7,r7
0000ec  2f0a              CMP      r7,#0xa
0000ee  d3e7              BCC      |L18.192|
;;;939    			}
;;;940    		}
;;;941    		comp_pos.x = curr_pos_sum.x - prev_pos_sum.x;
0000f0  eba50c0c          SUB      r12,r5,r12
;;;942    		comp_pos.y = curr_pos_sum.y - prev_pos_sum.y;
;;;943    		comp_pos.x = comp_pos.x / temp_coord->tPos.sFinger_;
0000f4  fb9cfcfb          SDIV     r12,r12,r11
0000f8  1b34              SUBS     r4,r6,r4              ;942
;;;944    		comp_pos.y = comp_pos.y / temp_coord->tPos.sFinger_;
0000fa  f8cdc028          STR      r12,[sp,#0x28]
0000fe  fb94fcfb          SDIV     r12,r4,r11
;;;945    
;;;946    		if( (pos_max.x - pos_min.x) < (thisModeConf->CoordTracking.usCenterMatchDistanceThd << POS_BOOST_SHIFT_)
000102  1a8a              SUBS     r2,r1,r2
000104  49bf              LDR      r1,|L18.1028|
000106  f8cdc020          STR      r12,[sp,#0x20]
00010a  6889              LDR      r1,[r1,#8]  ; thisModeConf
00010c  f8d110c9          LDR      r1,[r1,#0xc9]
000110  ebb22f01          CMP      r2,r1,LSL #8
000114  bf3e              ITTT     CC
000116  1ac0              SUBCC    r0,r0,r3
000118  ebb02f01          CMPCC    r0,r1,LSL #8
;;;947      		 && (pos_max.y - pos_min.y) < (thisModeConf->CoordTracking.usCenterMatchDistanceThd << POS_BOOST_SHIFT_) )
;;;948    		{
;;;949    			bCompFlag = 1;
00011c  2701              MOVCC    r7,#1
00011e  d300              BCC      |L18.290|
                  |L18.288|
;;;950    		}
;;;951    		else
;;;952    		{
;;;953    			bCompFlag = 0;
000120  2700              MOVS     r7,#0
                  |L18.290|
;;;954    		}
;;;955    	}
;;;956    	else
;;;957    	{
;;;958    		bCompFlag = 0;
;;;959    	}
;;;960    
;;;961    	for (pl = 0; pl < LOOSE_POSBUF_; pl++)
000122  2200              MOVS     r2,#0
000124  f50d73e4          ADD.W    r3,sp,#0x1c8          ;880
                  |L18.296|
;;;962    		for (cl = 0; cl < LOOSE_POSBUF_; cl++)
000128  eb031082          ADD      r0,r3,r2,LSL #6
00012c  1f01              SUBS     r1,r0,#4
00012e  2008              MOVS     r0,#8
                  |L18.304|
;;;963    			lDistanceMap[pl][cl] = INT32_MAX;
000130  f8c1e004          STR      lr,[r1,#4]
000134  f841ef08          STR      lr,[r1,#8]!
000138  1e40              SUBS     r0,r0,#1
00013a  d1f9              BNE      |L18.304|
00013c  1c50              ADDS     r0,r2,#1
00013e  b2c2              UXTB     r2,r0
000140  2a10              CMP      r2,#0x10
000142  d3f1              BCC      |L18.296|
;;;964    
;;;965        for (pl = 0; pl < MAX_TOUCH_; pl++)
000144  f05f0600          MOVS.W   r6,#0
                  |L18.328|
;;;966    	{
;;;967    		if (temp_coord->tPastPos[0].vusR[pl] != 0)
000148  f8dd05c8          LDR      r0,[sp,#0x5c8]
00014c  eb000846          ADD      r8,r0,r6,LSL #1
000150  f8b803a6          LDRH     r0,[r8,#0x3a6]
000154  2800              CMP      r0,#0
000156  d07d              BEQ      |L18.596|
;;;968    		{
;;;969    			for (cl = 0; cl < temp_coord->tTempPos.sFinger_; cl++)
000158  f8dd05c8          LDR      r0,[sp,#0x5c8]
00015c  2500              MOVS     r5,#0
00015e  7800              LDRB     r0,[r0,#0]
000160  2800              CMP      r0,#0
000162  d977              BLS      |L18.596|
000164  f8dd05c8          LDR      r0,[sp,#0x5c8]        ;937
000168  eb0004c6          ADD      r4,r0,r6,LSL #3       ;937
00016c  a872              ADD      r0,sp,#0x1c8          ;880
00016e  eb001086          ADD      r0,r0,r6,LSL #6       ;962
000172  9003              STR      r0,[sp,#0xc]          ;962
                  |L18.372|
;;;970    			{
;;;971    				if (temp_coord->tTempPos.vusR[cl]) //For unmatched fingers,
000174  f8dd05c8          LDR      r0,[sp,#0x5c8]
000178  eb000045          ADD      r0,r0,r5,LSL #1
00017c  f8b000a1          LDRH     r0,[r0,#0xa1]
000180  2800              CMP      r0,#0
000182  d068              BEQ      |L18.598|
;;;972    				{
;;;973    					uint16_t Check_vusR = 0;
;;;974    					tXY_t UsePastPos;
;;;975    #if (INTERPOLATION_VER1_En == YES || INTERPOLATION_VER2_En == YES || INTERPOLATION_VER3_En == YES)
;;;976    					if(temp_coord->bInterpolation_On)
;;;977    					{
;;;978    						Check_vusR = temp_coord->tPastPos[2].vusR[pl];
;;;979    						UsePastPos = temp_coord->tOrgPastPos[2].tXY[pl];
;;;980    					}
;;;981    					else
;;;982    #endif
;;;983    					{
;;;984    						Check_vusR = temp_coord->tPastPos[1].vusR[pl];
000184  f8b8041f          LDRH     r0,[r8,#0x41f]
;;;985    						UsePastPos = temp_coord->tOrgPastPos[1].tXY[pl];
000188  f8d43731          LDR      r3,[r4,#0x731]
00018c  f8d42735          LDR      r2,[r4,#0x735]
;;;986    					}
;;;987    					
;;;988    					if( Check_vusR )
000190  2800              CMP      r0,#0
;;;989    					{
;;;990    						pred_pos.x = (temp_coord->tOrgPastPos[0].tXY[pl].x << 1) - UsePastPos.x;
;;;991    						pred_pos.y = (temp_coord->tOrgPastPos[0].tXY[pl].y << 1) - UsePastPos.y;
;;;992    					}
;;;993    					else
;;;994    					{
;;;995    						pred_pos.x = temp_coord->tOrgPastPos[0].tXY[pl].x;
000192  bf04              ITT      EQ
000194  f8d406b8          LDREQ    r0,[r4,#0x6b8]
;;;996    						pred_pos.y = temp_coord->tOrgPastPos[0].tXY[pl].y;
000198  f8d416bc          LDREQ    r1,[r4,#0x6bc]
00019c  d007              BEQ      |L18.430|
00019e  f8d416b8          LDR      r1,[r4,#0x6b8]        ;990
0001a2  f8d4c6bc          LDR      r12,[r4,#0x6bc]       ;991
0001a6  ebc30041          RSB      r0,r3,r1,LSL #1       ;990
0001aa  ebc2014c          RSB      r1,r2,r12,LSL #1      ;991
                  |L18.430|
;;;997    					}
;;;998    					
;;;999    					Check_vusR = 0;
;;;1000   #if (INTERPOLATION_VER1_En == YES || INTERPOLATION_VER2_En == YES || INTERPOLATION_VER3_En == YES)
;;;1001   					if(temp_coord->bInterpolation_On)
;;;1002   						Check_vusR = temp_coord->tPastPos[4].vusR[pl];
;;;1003   					else
;;;1004   #endif
;;;1005   						Check_vusR = temp_coord->tPastPos[2].vusR[pl];
0001ae  f8b8c498          LDRH     r12,[r8,#0x498]
;;;1006   					
;;;1007   					if( Check_vusR )
0001b2  f1bc0f00          CMP      r12,#0
0001b6  d03b              BEQ      |L18.560|
;;;1008   					{
;;;1009   						int sPred_x, sPred_y;
;;;1010   						int fPred_x, fPred_y;
;;;1011   						int sub_x1, sub_y1, sub_x2, sub_y2;
;;;1012   						tXY_t pred_pos2;
;;;1013   					
;;;1014   #if (INTERPOLATION_VER1_En == YES || INTERPOLATION_VER2_En == YES || INTERPOLATION_VER3_En == YES)
;;;1015   						if(temp_coord->bInterpolation_On)
;;;1016   						{
;;;1017   							fPred_x = temp_coord->tOrgPastPos[4].tXY[pl].x - temp_coord->tOrgPastPos[2].tXY[pl].x;
;;;1018   							fPred_y = temp_coord->tOrgPastPos[4].tXY[pl].y - temp_coord->tOrgPastPos[2].tXY[pl].y;
;;;1019   							sPred_x = temp_coord->tOrgPastPos[2].tXY[pl].x - temp_coord->tOrgPastPos[0].tXY[pl].x;
;;;1020   							sPred_y = temp_coord->tOrgPastPos[2].tXY[pl].y - temp_coord->tOrgPastPos[0].tXY[pl].y;
;;;1021   						}
;;;1022   						else
;;;1023   #endif
;;;1024   						{
;;;1025   							fPred_x = temp_coord->tOrgPastPos[2].tXY[pl].x - temp_coord->tOrgPastPos[1].tXY[pl].x;
0001b8  f8d4c7aa          LDR      r12,[r4,#0x7aa]
;;;1026   							fPred_y = temp_coord->tOrgPastPos[2].tXY[pl].y - temp_coord->tOrgPastPos[1].tXY[pl].y;
;;;1027   							sPred_x = temp_coord->tOrgPastPos[1].tXY[pl].x - temp_coord->tOrgPastPos[0].tXY[pl].x;
;;;1028   							sPred_y = temp_coord->tOrgPastPos[1].tXY[pl].y - temp_coord->tOrgPastPos[0].tXY[pl].y;
0001bc  f8d4b6bc          LDR      r11,[r4,#0x6bc]
0001c0  ebac0a03          SUB      r10,r12,r3            ;1025
0001c4  f8d4c7ae          LDR      r12,[r4,#0x7ae]       ;1026
0001c8  ebac0902          SUB      r9,r12,r2             ;1026
0001cc  f8d4c6b8          LDR      r12,[r4,#0x6b8]       ;1027
0001d0  eba2020b          SUB      r2,r2,r11
;;;1029   						}
;;;1030   						
;;;1031   						pred_pos2.x = temp_coord->tOrgPastPos[0].tXY[pl].x - (sPred_x + sPred_x - fPred_x);
;;;1032   						pred_pos2.y = temp_coord->tOrgPastPos[0].tXY[pl].y - (sPred_y + sPred_y - fPred_y);
0001d4  ebc90242          RSB      r2,r9,r2,LSL #1
0001d8  eba3030c          SUB      r3,r3,r12             ;1027
0001dc  ebab0b02          SUB      r11,r11,r2
0001e0  ebca0343          RSB      r3,r10,r3,LSL #1      ;1031
;;;1033   						
;;;1034   						sub_x1 = pred_pos.x - temp_coord->tTempPos.tXY[cl].x;
0001e4  f8dd25c8          LDR      r2,[sp,#0x5c8]
0001e8  ebac0303          SUB      r3,r12,r3             ;1031
0001ec  eb020cc5          ADD      r12,r2,r5,LSL #3
0001f0  f8dc2001          LDR      r2,[r12,#1]
;;;1035   						sub_y1 = pred_pos.y - temp_coord->tTempPos.tXY[cl].y;
0001f4  f8dcc005          LDR      r12,[r12,#5]
0001f8  ebb00a02          SUBS     r10,r0,r2             ;1034
0001fc  eba1090c          SUB      r9,r1,r12
;;;1036   						if(sub_x1 < 0)	sub_x1 = -sub_x1;
000200  bf48              IT       MI
000202  f1ca0a00          RSBMI    r10,r10,#0
;;;1037   						if(sub_y1 < 0)	sub_y1 = -sub_y1;
000206  f1b90f00          CMP      r9,#0
00020a  bfb8              IT       LT
00020c  f1c90900          RSBLT    r9,r9,#0
;;;1038   						
;;;1039   						sub_x2 = pred_pos2.x - temp_coord->tTempPos.tXY[cl].x;
000210  1a9a              SUBS     r2,r3,r2
;;;1040   						sub_y2 = pred_pos2.y - temp_coord->tTempPos.tXY[cl].y;
000212  ebab0c0c          SUB      r12,r11,r12
;;;1041   						if(sub_x2 < 0)	sub_x2 = -sub_x2;
000216  bf48              IT       MI
000218  4252              RSBMI    r2,r2,#0
;;;1042   						if(sub_y2 < 0)	sub_y2 = -sub_y2;
00021a  f1bc0f00          CMP      r12,#0
00021e  bfb8              IT       LT
000220  f1cc0c00          RSBLT    r12,r12,#0
;;;1043   						
;;;1044   						sub_x1 += sub_y1;
000224  44d1              ADD      r9,r9,r10
;;;1045   						sub_x2 += sub_y2;
000226  4462              ADD      r2,r2,r12
;;;1046   						
;;;1047   						if(sub_x2 < sub_x1)
000228  454a              CMP      r2,r9
;;;1048   							pred_pos = pred_pos2;
00022a  bfbc              ITT      LT
00022c  4618              MOVLT    r0,r3
00022e  4659              MOVLT    r1,r11
                  |L18.560|
;;;1049   					}
;;;1050   
;;;1051   					if( bCompFlag )
000230  b1df              CBZ      r7,|L18.618|
;;;1052   					{
;;;1053   						iDist = algorithm_coord_calc_comp_distance(temp_coord->tTempPos.tXY[cl], temp_coord->tOrgPastPos[0].tXY[pl], comp_pos);
000232  f8dd05c8          LDR      r0,[sp,#0x5c8]
000236  f8d416b8          LDR      r1,[r4,#0x6b8]
00023a  eb0000c5          ADD      r0,r0,r5,LSL #3
00023e  f8d436bc          LDR      r3,[r4,#0x6bc]
000242  f8d09001          LDR      r9,[r0,#1]
000246  f8d0c005          LDR      r12,[r0,#5]
00024a  980a              LDR      r0,[sp,#0x28]
00024c  eba90101          SUB      r1,r9,r1
000250  1a08              SUBS     r0,r1,r0
000252  e001              B        |L18.600|
                  |L18.596|
000254  e024              B        |L18.672|
                  |L18.598|
000256  e01b              B        |L18.656|
                  |L18.600|
000258  fb00f100          MUL      r1,r0,r0
00025c  9a08              LDR      r2,[sp,#0x20]
00025e  ebac0003          SUB      r0,r12,r3
000262  1a80              SUBS     r0,r0,r2
000264  fb001000          MLA      r0,r0,r0,r1
000268  e00d              B        |L18.646|
                  |L18.618|
;;;1054   					}
;;;1055   					else
;;;1056   					{
;;;1057   						iDist = algorithm_coord_calc_distance(temp_coord->tTempPos.tXY[cl], pred_pos);
00026a  f8dd25c8          LDR      r2,[sp,#0x5c8]
00026e  eb0203c5          ADD      r3,r2,r5,LSL #3
000272  f8d32001          LDR      r2,[r3,#1]
000276  f8d33005          LDR      r3,[r3,#5]
00027a  1a10              SUBS     r0,r2,r0
00027c  fb00f200          MUL      r2,r0,r0
000280  1a58              SUBS     r0,r3,r1
000282  fb002000          MLA      r0,r0,r0,r2
                  |L18.646|
000286  f7fffffe          BL       algorithm_calc_sqrt
;;;1058   					}
;;;1059   					lDistanceMap[pl][cl] = iDist;
00028a  9903              LDR      r1,[sp,#0xc]
00028c  f8410025          STR      r0,[r1,r5,LSL #2]
                  |L18.656|
;;;1060   				}
000290  1c68              ADDS     r0,r5,#1
000292  b2c5              UXTB     r5,r0
000294  f8dd05c8          LDR      r0,[sp,#0x5c8]
000298  7800              LDRB     r0,[r0,#0]
00029a  42a8              CMP      r0,r5
00029c  f63faf6a          BHI      |L18.372|
                  |L18.672|
0002a0  1c70              ADDS     r0,r6,#1
0002a2  b2c6              UXTB     r6,r0
0002a4  2e0a              CMP      r6,#0xa
0002a6  f4ffaf4f          BCC      |L18.328|
0002aa  f8dfb158          LDR      r11,|L18.1028|
0002ae  ae72              ADD      r6,sp,#0x1c8          ;880
                  |L18.688|
;;;1061   			}
;;;1062   		}
;;;1063   	}
;;;1064   
;;;1065       do
;;;1066   	{
;;;1067       	match_cl = -1;
0002b0  f04f35ff          MOV      r5,#0xffffffff
;;;1068       	match_pl = -1;
0002b4  462c              MOV      r4,r5
;;;1069   
;;;1070   		iMinDist = INT32_MAX;
0002b6  f06f4800          MVN      r8,#0x80000000
;;;1071   
;;;1072   		for(pl = 0; pl < MAX_TOUCH_; pl++)
0002ba  f04f0900          MOV      r9,#0
;;;1073   		{
;;;1074   			if (temp_coord->tPastPos[0].vusR[pl] != 0)
0002be  bf00              NOP      
                  |L18.704|
0002c0  f8dd05c8          LDR      r0,[sp,#0x5c8]
0002c4  eb000049          ADD      r0,r0,r9,LSL #1
0002c8  f8b003a6          LDRH     r0,[r0,#0x3a6]
0002cc  b1e8              CBZ      r0,|L18.778|
;;;1075   			{
;;;1076   				for(cl = 0; cl < temp_coord->tTempPos.sFinger_; cl++)
0002ce  f8dd05c8          LDR      r0,[sp,#0x5c8]
0002d2  2100              MOVS     r1,#0
0002d4  7803              LDRB     r3,[r0,#0]
0002d6  2b00              CMP      r3,#0
0002d8  bf88              IT       HI                    ;962
0002da  eb061c89          ADDHI    r12,r6,r9,LSL #6      ;962
0002de  d914              BLS      |L18.778|
                  |L18.736|
;;;1077   				{
;;;1078   					if (temp_coord->tTempPos.vusR[cl]) //For unmatched fingers,
0002e0  f8dd25c8          LDR      r2,[sp,#0x5c8]
0002e4  eb020041          ADD      r0,r2,r1,LSL #1
0002e8  f8b000a1          LDRH     r0,[r0,#0xa1]
0002ec  2800              CMP      r0,#0
;;;1079   					{
;;;1080   						iDist = lDistanceMap[pl][cl];
0002ee  bf1e              ITTT     NE
0002f0  f85c0021          LDRNE    r0,[r12,r1,LSL #2]
;;;1081   						if(iDist == -1) continue;
0002f4  f1b03fff          CMPNE    r0,#0xffffffff
;;;1082   
;;;1083   						if(iDist < iMinDist)
0002f8  4540              CMPNE    r0,r8
0002fa  da02              BGE      |L18.770|
;;;1084   						{
;;;1085   							iMinDist = iDist;
0002fc  4680              MOV      r8,r0
;;;1086   							match_cl = cl;
0002fe  460d              MOV      r5,r1
;;;1087   							match_pl = pl;
000300  464c              MOV      r4,r9
                  |L18.770|
000302  1c48              ADDS     r0,r1,#1
000304  b2c1              UXTB     r1,r0
000306  428b              CMP      r3,r1
000308  d8ea              BHI      |L18.736|
                  |L18.778|
00030a  f1090001          ADD      r0,r9,#1
00030e  f00009ff          AND      r9,r0,#0xff
000312  f1b90f0a          CMP      r9,#0xa
000316  d3d3              BCC      |L18.704|
;;;1088   						}
;;;1089   					}
;;;1090   				}
;;;1091   			}
;;;1092   		}
;;;1093   
;;;1094   		if( bCompFlag )
000318  2f00              CMP      r7,#0
00031a  d06b              BEQ      |L18.1012|
;;;1095   		{
;;;1096   			uint16_t Check_vusR = 0;
;;;1097   			tXY_t UsePastPos;
;;;1098   #if (INTERPOLATION_VER1_En == YES || INTERPOLATION_VER2_En == YES || INTERPOLATION_VER3_En == YES)
;;;1099   			if(temp_coord->bInterpolation_On)
;;;1100   			{
;;;1101   				Check_vusR = temp_coord->tPastPos[2].vusR[match_pl];
;;;1102   				UsePastPos = temp_coord->tOrgPastPos[2].tXY[match_pl];
;;;1103   			}
;;;1104   			else
;;;1105   #endif
;;;1106   			{
;;;1107   				Check_vusR = temp_coord->tPastPos[1].vusR[match_pl];
00031c  f8dd05c8          LDR      r0,[sp,#0x5c8]
;;;1108   				UsePastPos = temp_coord->tOrgPastPos[1].tXY[match_pl];
000320  f8dd15c8          LDR      r1,[sp,#0x5c8]
000324  eb000844          ADD      r8,r0,r4,LSL #1       ;1107
000328  eb0102c4          ADD      r2,r1,r4,LSL #3
00032c  f8b8041f          LDRH     r0,[r8,#0x41f]        ;1107
000330  f8d2c731          LDR      r12,[r2,#0x731]
000334  f8d23735          LDR      r3,[r2,#0x735]
;;;1109   			}
;;;1110   
;;;1111   			if( Check_vusR )
000338  2800              CMP      r0,#0
;;;1112   			{
;;;1113   				pred_pos.x = (temp_coord->tOrgPastPos[0].tXY[match_pl].x << 1) - UsePastPos.x;
;;;1114   				pred_pos.y = (temp_coord->tOrgPastPos[0].tXY[match_pl].y << 1) - UsePastPos.y;
;;;1115   			}
;;;1116   			else
;;;1117   			{
;;;1118   				pred_pos.x = temp_coord->tOrgPastPos[0].tXY[match_pl].x;
00033a  bf04              ITT      EQ
00033c  f8d206b8          LDREQ    r0,[r2,#0x6b8]
;;;1119   				pred_pos.y = temp_coord->tOrgPastPos[0].tXY[match_pl].y;
000340  f8d216bc          LDREQ    r1,[r2,#0x6bc]
000344  d007              BEQ      |L18.854|
000346  f8d216b8          LDR      r1,[r2,#0x6b8]        ;1113
00034a  f8d296bc          LDR      r9,[r2,#0x6bc]        ;1114
00034e  ebcc0041          RSB      r0,r12,r1,LSL #1      ;1113
000352  ebc30149          RSB      r1,r3,r9,LSL #1       ;1114
                  |L18.854|
;;;1120   			}
;;;1121   			
;;;1122   			Check_vusR = 0;
;;;1123   #if (INTERPOLATION_VER1_En == YES || INTERPOLATION_VER2_En == YES || INTERPOLATION_VER3_En == YES)
;;;1124   			if(temp_coord->bInterpolation_On)
;;;1125   				Check_vusR = temp_coord->tPastPos[4].vusR[match_pl];
;;;1126   			else
;;;1127   #endif
;;;1128   				Check_vusR = temp_coord->tPastPos[2].vusR[match_pl];
000356  f8b88498          LDRH     r8,[r8,#0x498]
;;;1129   
;;;1130   			if( Check_vusR )
00035a  f1b80f00          CMP      r8,#0
00035e  d038              BEQ      |L18.978|
;;;1131   			{
;;;1132   				int sPred_x, sPred_y;
;;;1133   				int fPred_x, fPred_y;
;;;1134   				int sub_x1, sub_y1, sub_x2, sub_y2;
;;;1135   				tXY_t pred_pos2;
;;;1136   				
;;;1137   #if (INTERPOLATION_VER1_En == YES || INTERPOLATION_VER2_En == YES || INTERPOLATION_VER3_En == YES)
;;;1138   				if(temp_coord->bInterpolation_On)
;;;1139   				{					
;;;1140   					fPred_x = temp_coord->tOrgPastPos[4].tXY[match_pl].x - temp_coord->tOrgPastPos[2].tXY[match_pl].x;
;;;1141   					fPred_y = temp_coord->tOrgPastPos[4].tXY[match_pl].y - temp_coord->tOrgPastPos[2].tXY[match_pl].y;
;;;1142   					sPred_x = temp_coord->tOrgPastPos[2].tXY[match_pl].x - temp_coord->tOrgPastPos[0].tXY[match_pl].x;
;;;1143   					sPred_y = temp_coord->tOrgPastPos[2].tXY[match_pl].y - temp_coord->tOrgPastPos[0].tXY[match_pl].y;
;;;1144   				}
;;;1145   				else
;;;1146   #endif
;;;1147   				{
;;;1148   					fPred_x = temp_coord->tOrgPastPos[2].tXY[match_pl].x - temp_coord->tOrgPastPos[1].tXY[match_pl].x;
000360  f8d287aa          LDR      r8,[r2,#0x7aa]
000364  eba80a0c          SUB      r10,r8,r12
;;;1149   					fPred_y = temp_coord->tOrgPastPos[2].tXY[match_pl].y - temp_coord->tOrgPastPos[1].tXY[match_pl].y;
000368  f8d287ae          LDR      r8,[r2,#0x7ae]
00036c  eba80903          SUB      r9,r8,r3
;;;1150   					sPred_x = temp_coord->tOrgPastPos[1].tXY[match_pl].x - temp_coord->tOrgPastPos[0].tXY[match_pl].x;
000370  f8d286b8          LDR      r8,[r2,#0x6b8]
;;;1151   					sPred_y = temp_coord->tOrgPastPos[1].tXY[match_pl].y - temp_coord->tOrgPastPos[0].tXY[match_pl].y;
000374  f8d226bc          LDR      r2,[r2,#0x6bc]
000378  ebac0c08          SUB      r12,r12,r8            ;1150
00037c  1a9b              SUBS     r3,r3,r2
;;;1152   				}
;;;1153   				
;;;1154   				pred_pos2.x = temp_coord->tOrgPastPos[0].tXY[match_pl].x - (sPred_x + sPred_x - fPred_x);
;;;1155   				pred_pos2.y = temp_coord->tOrgPastPos[0].tXY[match_pl].y - (sPred_y + sPred_y - fPred_y);
00037e  ebc90343          RSB      r3,r9,r3,LSL #1
000382  eba20903          SUB      r9,r2,r3
;;;1156   				
;;;1157   				sub_x1 = pred_pos.x - temp_coord->tTempPos.tXY[match_cl].x;
000386  f8dd25c8          LDR      r2,[sp,#0x5c8]
00038a  ebca0c4c          RSB      r12,r10,r12,LSL #1    ;1154
00038e  eb0202c5          ADD      r2,r2,r5,LSL #3
000392  eba80c0c          SUB      r12,r8,r12            ;1154
000396  f8d2a001          LDR      r10,[r2,#1]
;;;1158   				sub_y1 = pred_pos.y - temp_coord->tTempPos.tXY[match_cl].y;
00039a  f8d22005          LDR      r2,[r2,#5]
00039e  ebb0080a          SUBS     r8,r0,r10             ;1157
0003a2  eba10302          SUB      r3,r1,r2
;;;1159   				if(sub_x1 < 0)	sub_x1 = -sub_x1;
0003a6  bf48              IT       MI
0003a8  f1c80800          RSBMI    r8,r8,#0
;;;1160   				if(sub_y1 < 0)	sub_y1 = -sub_y1;
0003ac  2b00              CMP      r3,#0
0003ae  bfb8              IT       LT
0003b0  425b              RSBLT    r3,r3,#0
;;;1161   				
;;;1162   				sub_x2 = pred_pos2.x - temp_coord->tTempPos.tXY[match_cl].x;
0003b2  ebbc0a0a          SUBS     r10,r12,r10
;;;1163   				sub_y2 = pred_pos2.y - temp_coord->tTempPos.tXY[match_cl].y;
0003b6  eba90202          SUB      r2,r9,r2
;;;1164   				if(sub_x2 < 0)	sub_x2 = -sub_x2;
0003ba  bf48              IT       MI
0003bc  f1ca0a00          RSBMI    r10,r10,#0
;;;1165   				if(sub_y2 < 0)	sub_y2 = -sub_y2;
0003c0  2a00              CMP      r2,#0
0003c2  bfb8              IT       LT
0003c4  4252              RSBLT    r2,r2,#0
;;;1166   				
;;;1167   				sub_x1 += sub_y1;
0003c6  4443              ADD      r3,r3,r8
;;;1168   				sub_x2 += sub_y2;
0003c8  4452              ADD      r2,r2,r10
;;;1169   				
;;;1170   				if(sub_x2 < sub_x1)
0003ca  429a              CMP      r2,r3
;;;1171   					pred_pos = pred_pos2;
0003cc  bfbc              ITT      LT
0003ce  4660              MOVLT    r0,r12
0003d0  4649              MOVLT    r1,r9
                  |L18.978|
;;;1172   			}
;;;1173   			
;;;1174   			iMinDist = algorithm_coord_calc_distance(temp_coord->tTempPos.tXY[match_cl], pred_pos);
0003d2  f8dd25c8          LDR      r2,[sp,#0x5c8]
0003d6  eb0202c5          ADD      r2,r2,r5,LSL #3
0003da  f8d23001          LDR      r3,[r2,#1]
0003de  f8d22005          LDR      r2,[r2,#5]
0003e2  1a18              SUBS     r0,r3,r0
0003e4  fb00f300          MUL      r3,r0,r0
0003e8  1a50              SUBS     r0,r2,r1
0003ea  fb003000          MLA      r0,r0,r0,r3
0003ee  f7fffffe          BL       algorithm_calc_sqrt
0003f2  4680              MOV      r8,r0
                  |L18.1012|
;;;1175   		}
;;;1176   
;;;1177   #if 0
;;;1178   		if (temp_coord->ucIdMappedCnt[match_pl] == 1)
;;;1179   		{
;;;1180   			iDistanceThd = (thisModeConf->CoordTracking.usFirstMoveDistanceThd << POS_BOOST_SHIFT_);
;;;1181   		}
;;;1182   		else
;;;1183   		{
;;;1184   			iDistanceThd = temp_coord->slScaledMoveDistThd;
;;;1185   			if (temp_coord->lPrevDist[match_pl] > temp_coord->slScaledMoveDistThd)
;;;1186   				iDistanceThd += (temp_coord->lPrevDist[match_pl] * 2);
;;;1187   		}
;;;1188   #endif		
;;;1189   		
;;;1190   		//Set tracking distance
;;;1191   		{
;;;1192   			uint8_t FirstMoveFrameNum = 0;
;;;1193   			if(thisModeConf->CoordTracking.ucFastDrawingMode)
0003f4  f8db1008          LDR      r1,[r11,#8]  ; thisModeConf
0003f8  46d9              MOV      r9,r11
0003fa  f89100ad          LDRB     r0,[r1,#0xad]
0003fe  2800              CMP      r0,#0
;;;1194   				FirstMoveFrameNum = 2;
000400  e002              B        |L18.1032|
000402  0000              DCW      0x0000
                  |L18.1028|
                          DCD      ||.data||
                  |L18.1032|
000408  bf14              ITE      NE
00040a  2002              MOVNE    r0,#2
;;;1195   			else
;;;1196   				FirstMoveFrameNum = 1;
00040c  2001              MOVEQ    r0,#1
;;;1197   	//		if (temp_coord->bIsMoving[match_pl] == NO)		//In tracking
;;;1198   			if (temp_coord->ucIdMappedCnt[match_pl] <= FirstMoveFrameNum)
00040e  f8dd25c8          LDR      r2,[sp,#0x5c8]
000412  4422              ADD      r2,r2,r4
000414  f8922a5a          LDRB     r2,[r2,#0xa5a]
000418  4282              CMP      r2,r0
;;;1199   			{
;;;1200   				iDistanceThd = (thisModeConf->CoordTracking.usFirstMoveDistanceThd << POS_BOOST_SHIFT_);
00041a  bf9c              ITT      LS
00041c  f8b100b0          LDRHLS   r0,[r1,#0xb0]
000420  0201              LSLLS    r1,r0,#8
000422  d911              BLS      |L18.1096|
;;;1201   			}
;;;1202   			else
;;;1203   			{
;;;1204   				//Dynamic tracking distance
;;;1205   				if(thisModeConf->CoordTracking.ucDynamicTrackingDistanceMode == 1)
000424  f89100ac          LDRB     r0,[r1,#0xac]
000428  2801              CMP      r0,#1
00042a  d02a              BEQ      |L18.1154|
;;;1206   				{
;;;1207   					if(thisInfo->WinCertMode){
;;;1208   						thisInfo->WinCertTrackingDist = MAX(thisInfo->WinCertTrackingDist, (temp_coord->lPrevDist[match_pl]<<3));
;;;1209   						iDistanceThd = MAX( (1<<(POS_BOOST_SHIFT_-1)), thisInfo->WinCertTrackingDist );
;;;1210   					}
;;;1211   					else{
;;;1212   						if(algorithm_coord_IsEdgeArea(&temp_coord->iStopPos[match_pl],0)>0)
;;;1213   							iDistanceThd = MAX( (3<<(POS_BOOST_SHIFT_)), (temp_coord->lPrevDist[match_pl]<<2) );
;;;1214   						else
;;;1215   							iDistanceThd = MAX( (1<<(POS_BOOST_SHIFT_))+(1<<(POS_BOOST_SHIFT_-1)), (temp_coord->lPrevDist[match_pl]<<2) );
;;;1216   						
;;;1217   		//				if(temp_coord->ucIdMappedCnt[match_pl] >= 4)
;;;1218   		//					iDistanceThd = (thisModeConf->CoordTracking.usMoveDistanceThd << POS_BOOST_SHIFT_);
;;;1219   					}
;;;1220   				}
;;;1221   				else if(thisModeConf->CoordTracking.ucDynamicTrackingDistanceMode == 2)
00042c  2802              CMP      r0,#2
00042e  d066              BEQ      |L18.1278|
;;;1222   				{
;;;1223   					iDistanceThd = MAX( ((temp_coord->ucIdMappedCnt[match_pl]+1)<<(POS_BOOST_SHIFT_)), (temp_coord->lPrevDist[match_pl]<<2) );
;;;1224   				}
;;;1225   				else
;;;1226   				{	
;;;1227   					iDistanceThd = temp_coord->slScaledMoveDistThd;
000430  f8dd05c8          LDR      r0,[sp,#0x5c8]
000434  f8d01a56          LDR      r1,[r0,#0xa56]
;;;1228   					if (temp_coord->lPrevDist[match_pl] > temp_coord->slScaledMoveDistThd)
000438  eb000084          ADD      r0,r0,r4,LSL #2
00043c  f8d00a92          LDR      r0,[r0,#0xa92]
000440  4288              CMP      r0,r1
;;;1229   						iDistanceThd += (temp_coord->lPrevDist[match_pl] * 2);
000442  bfc8              IT       GT
000444  eb010140          ADDGT    r1,r1,r0,LSL #1
                  |L18.1096|
;;;1230   				}
;;;1231   			}
;;;1232   #if USED_NOISE_HOPPING_FREQ
;;;1233   //			if(ptAppInfo->eHoppingStatus == FREQ_HOPPING_CHANGED)
;;;1234   			if(ptAppInfo->ucHoppFrameCnt)
000448  f8d90010          LDR      r0,[r9,#0x10]  ; ptAppInfo
00044c  7d42              LDRB     r2,[r0,#0x15]
00044e  b1a2              CBZ      r2,|L18.1146|
;;;1235   			{
;;;1236   //				iDistanceThd <<= 2;
;;;1237   				iDistanceThd = (thisModeConf->Noise.ucHoppingMoveDistanceThd << POS_BOOST_SHIFT_);
000450  f8d91008          LDR      r1,[r9,#8]  ; thisModeConf
;;;1238   				if (temp_coord->lPrevDist[match_pl] > iDistanceThd)
000454  f8dd25c8          LDR      r2,[sp,#0x5c8]
000458  eb020284          ADD      r2,r2,r4,LSL #2
00045c  f89111fa          LDRB     r1,[r1,#0x1fa]        ;1237
000460  f8d22a92          LDR      r2,[r2,#0xa92]
000464  0209              LSLS     r1,r1,#8              ;1237
000466  428a              CMP      r2,r1
;;;1239   						iDistanceThd += (temp_coord->lPrevDist[match_pl] * 2);
000468  bfc8              IT       GT
00046a  eb010142          ADDGT    r1,r1,r2,LSL #1
;;;1240   				
;;;1241   				iDistanceThd = MAX( (iDistanceThd), (temp_coord->lPrevDist[match_pl]<<2) );
00046e  ebb10f82          CMP      r1,r2,LSL #2
000472  bfd8              IT       LE
000474  0091              LSLLE    r1,r2,#2
;;;1242   				ptAppInfo->ucHoppFrameCnt = 0;
000476  2200              MOVS     r2,#0
000478  7542              STRB     r2,[r0,#0x15]
                  |L18.1146|
;;;1243   			}
;;;1244   #endif /* USED_NOISE_HOPPING_FREQ */
;;;1245   		}
;;;1246   
;;;1247   
;;;1248   		if(mode == FULL_MODE)
00047a  f8dd2690          LDR      r2,[sp,#0x690]
00047e  b3a2              CBZ      r2,|L18.1258|
000480  e052              B        |L18.1320|
                  |L18.1154|
000482  f8d9000c          LDR      r0,[r9,#0xc]          ;1207  ; thisInfo
000486  f5005280          ADD      r2,r0,#0x1000         ;1207
00048a  f89202a0          LDRB     r0,[r2,#0x2a0]        ;1207
00048e  b190              CBZ      r0,|L18.1206|
000490  f8dd15c8          LDR      r1,[sp,#0x5c8]        ;1208
000494  f8b202a2          LDRH     r0,[r2,#0x2a2]        ;1208
000498  eb010184          ADD      r1,r1,r4,LSL #2       ;1208
00049c  f8d11a92          LDR      r1,[r1,#0xa92]        ;1208
0004a0  ebb00fc1          CMP      r0,r1,LSL #3          ;1208
0004a4  bfd8              IT       LE                    ;1208
0004a6  00c8              LSLLE    r0,r1,#3              ;1208
0004a8  b281              UXTH     r1,r0                 ;1208
0004aa  f8a212a2          STRH     r1,[r2,#0x2a2]        ;1208
0004ae  2980              CMP      r1,#0x80              ;1209
0004b0  bf38              IT       CC                    ;1209
0004b2  2180              MOVCC    r1,#0x80              ;1209
0004b4  e7c8              B        |L18.1096|
                  |L18.1206|
0004b6  f8dd05c8          LDR      r0,[sp,#0x5c8]        ;1212
0004ba  2100              MOVS     r1,#0                 ;1212
0004bc  eb0000c4          ADD      r0,r0,r4,LSL #3       ;1212
0004c0  f600300c          ADD      r0,r0,#0xb0c          ;1212
0004c4  f7fffffe          BL       algorithm_coord_IsEdgeArea
0004c8  2800              CMP      r0,#0                 ;1212
0004ca  f8dd05c8          LDR      r0,[sp,#0x5c8]        ;1215
0004ce  eb000084          ADD      r0,r0,r4,LSL #2       ;1215
0004d2  f8d00a92          LDR      r0,[r0,#0xa92]        ;1215
0004d6  dd09              BLE      |L18.1260|
0004d8  f44f7140          MOV      r1,#0x300             ;1213
0004dc  ebb10f80          CMP      r1,r0,LSL #2          ;1213
0004e0  bfc8              IT       GT                    ;1213
0004e2  f44f7140          MOVGT    r1,#0x300             ;1213
0004e6  dd16              BLE      |L18.1302|
0004e8  e7ae              B        |L18.1096|
                  |L18.1258|
0004ea  e016              B        |L18.1306|
                  |L18.1260|
0004ec  f44f71c0          MOV      r1,#0x180             ;1215
0004f0  ebb10f80          CMP      r1,r0,LSL #2          ;1215
0004f4  bfc8              IT       GT                    ;1215
0004f6  f44f71c0          MOVGT    r1,#0x180             ;1215
0004fa  dca5              BGT      |L18.1096|
0004fc  e00b              B        |L18.1302|
                  |L18.1278|
0004fe  0210              LSLS     r0,r2,#8              ;1223
000500  f5007180          ADD      r1,r0,#0x100          ;1223
000504  f8dd05c8          LDR      r0,[sp,#0x5c8]        ;1223
000508  eb000084          ADD      r0,r0,r4,LSL #2       ;1223
00050c  f8d00a92          LDR      r0,[r0,#0xa92]        ;1223
000510  ebb10f80          CMP      r1,r0,LSL #2          ;1223
000514  dc98              BGT      |L18.1096|
                  |L18.1302|
000516  0081              LSLS     r1,r0,#2              ;1223
000518  e796              B        |L18.1096|
                  |L18.1306|
;;;1249   		{
;;;1250   			if(iMinDist > iDistanceThd)
00051a  4588              CMP      r8,r1
00051c  dc31              BGT      |L18.1410|
;;;1251   			{
;;;1252   				match_cl = -1;
;;;1253   				match_pl = -1;
;;;1254   			}
;;;1255   #if USED_NOISE_HOPPING_FREQ
;;;1256   			else if(ptAppInfo->eHoppingStatus == FREQ_HOPPING_CHANGED)
00051e  7d01              LDRB     r1,[r0,#0x14]
000520  2901              CMP      r1,#1
;;;1257   			{
;;;1258   				ptAppInfo->eHoppingStatus = FREQ_HOPPING_NONE;
000522  bf04              ITT      EQ
000524  2100              MOVEQ    r1,#0
000526  7501              STRBEQ   r1,[r0,#0x14]
                  |L18.1320|
;;;1259   			}
;;;1260   #endif /* USED_NOISE_HOPPING_FREQ */
;;;1261   		}
;;;1262   
;;;1263   		if(match_cl != -1)
000528  f1b53fff          CMP      r5,#0xffffffff
00052c  d029              BEQ      |L18.1410|
;;;1264   		{
;;;1265   			for(pl = 0; pl < MAX_TOUCH_; pl++)
00052e  2105              MOVS     r1,#5
000530  eb060085          ADD      r0,r6,r5,LSL #2
000534  1f8a              SUBS     r2,r1,#6              ;900
000536  3840              SUBS     r0,r0,#0x40           ;900
                  |L18.1336|
;;;1266   				lDistanceMap[pl][match_cl] = -1;
000538  1e49              SUBS     r1,r1,#1
00053a  6402              STR      r2,[r0,#0x40]
00053c  f8402f80          STR      r2,[r0,#0x80]!
000540  d1fa              BNE      |L18.1336|
;;;1267   
;;;1268   			for(cl = 0; cl < temp_coord->tTempPos.sFinger_; cl++)
000542  f8dd05c8          LDR      r0,[sp,#0x5c8]
000546  7800              LDRB     r0,[r0,#0]
000548  b188              CBZ      r0,|L18.1390|
00054a  eb061184          ADD      r1,r6,r4,LSL #6
00054e  1f09              SUBS     r1,r1,#4
;;;1269   				lDistanceMap[match_pl][cl] = -1;
;;;1270   
;;;1271               //if (match_cl != -1) // If the most near finger is found,
;;;1272               {
;;;1273   				ulPrematchedDist[match_cl] = iMinDist;
;;;1274   				cReorderRemap[match_cl] = match_pl;
;;;1275               }
;;;1276   		}
;;;1277   
;;;1278   	} while(match_cl != -1);
;;;1279   
;;;1280   #else
;;;1281       //cReorderRemap . Current Group Index --> Real Group Index(  ).
;;;1282       for (pl = 0; pl < MAX_TOUCH_; pl++)
;;;1283       {
;;;1284           if (temp_coord->tPastPos[0].vusR[pl] != 0)
;;;1285           {
;;;1286               //Increase minimum displacement according to prev-distance.
;;;1287   			iMinDist = (temp_coord->lPrevDist[pl])*2 + temp_coord->slScaledMoveDistThd;
;;;1288   
;;;1289               match = -1;
;;;1290               // Find the previous point to match the current point
;;;1291               for (cl = 0; cl < temp_coord->tTempPos.sFinger_; cl++)
;;;1292               {
;;;1293                   if (temp_coord->tTempPos.vusR[cl]) //For unmatched fingers,
;;;1294                   {
;;;1295                   	uint16_t Check_vusR = 0;
;;;1296   					tXY_t UsePastPos;
;;;1297   #if (INTERPOLATION_VER1_En == YES || INTERPOLATION_VER2_En == YES)
;;;1298   					if(temp_coord->bInterpolation_On)
;;;1299   					{
;;;1300   						Check_vusR = temp_coord->tPastPos[2].vusR[pl];
;;;1301   						UsePastPos = temp_coord->tOrgPastPos[2].tXY[pl];
;;;1302   					}
;;;1303   					else
;;;1304   #endif
;;;1305   					{
;;;1306   						Check_vusR = temp_coord->tPastPos[1].vusR[pl];
;;;1307   						UsePastPos = temp_coord->tOrgPastPos[1].tXY[pl];
;;;1308   					}
;;;1309   					
;;;1310                   	if( Check_vusR )
;;;1311                   	{
;;;1312                   		if(temp_coord->ucIdMappedCnt[cl] >= 2)
;;;1313                   		{
;;;1314                   			avg_pos.x = (temp_coord->tTempPos.tXY[cl].x + temp_coord->tOrgPastPos[0].tXY[pl].x + UsePastPos.x)/3;
;;;1315   							avg_pos.y = (temp_coord->tTempPos.tXY[cl].y + temp_coord->tOrgPastPos[0].tXY[pl].y + UsePastPos.y)/3;
;;;1316   							pred_pos.x = (avg_pos.x << 1) - temp_coord->tOrgAvgPos.tXY[pl].x;
;;;1317   							pred_pos.y = (avg_pos.y << 1) - temp_coord->tOrgAvgPos.tXY[pl].y;
;;;1318                   		}
;;;1319                   		else
;;;1320                   		{
;;;1321                   			avg_pos.x = (temp_coord->tTempPos.tXY[cl].x + temp_coord->tOrgPastPos[0].tXY[pl].x)/2;
;;;1322   							avg_pos.y = (temp_coord->tTempPos.tXY[cl].y + temp_coord->tOrgPastPos[0].tXY[pl].y)/2;
;;;1323                   		}
;;;1324   
;;;1325   						pred_pos.x = (avg_pos.x << 1) - temp_coord->tOrgAvgPos.tXY[pl].x;
;;;1326   						pred_pos.y = (avg_pos.y << 1) - temp_coord->tOrgAvgPos.tXY[pl].y;
;;;1327                   	}
;;;1328                   	else
;;;1329                   	{
;;;1330                   		pred_pos.x = temp_coord->tOrgPastPos[0].tXY[pl].x;
;;;1331                   		pred_pos.y = temp_coord->tOrgPastPos[0].tXY[pl].y;
;;;1332                   	}
;;;1333   
;;;1334                       iDist = algorithm_coord_calc_distance(temp_coord->tTempPos.tXY[cl], pred_pos);
;;;1335   
;;;1336                       if (iDist < iMinDist)
;;;1337                       {
;;;1338                           iMinDist = iDist;
;;;1339                           match = cl;
;;;1340                       }
;;;1341                   }
;;;1342               }
;;;1343   
;;;1344               if (match != -1) // If the most near finger is found,
;;;1345               {
;;;1346                   //    ,       ,
;;;1347                   if ((cReorderRemap[match] != -1) && ulPrematchedDist[match] > (uint32_t)iMinDist)
;;;1348                   {
;;;1349                       ulPrematchedDist[match] = iMinDist;
;;;1350                       cReorderRemap[match] = pl;
;;;1351                   }
;;;1352                   //    .
;;;1353                   else if (cReorderRemap[match] == -1)
;;;1354                   {
;;;1355                       ulPrematchedDist[match] = iMinDist;
;;;1356                       cReorderRemap[match] = pl;
;;;1357                   }
;;;1358               }
;;;1359           }
;;;1360       }
;;;1361   #endif
;;;1362   
;;;1363       //TODO:    iReorderRemap  , iReorderRemap  reordering    .
;;;1364       for (cl = 0; cl < temp_coord->tTempPos.sFinger_; cl++)
;;;1365       {
;;;1366           //Remap  ,
;;;1367           if (cReorderRemap[cl] != -1)
;;;1368           {
;;;1369               pl = cReorderRemap[cl];
;;;1370               temp_coord->tPos.tXY[pl]  = temp_coord->tTempPos.tXY[cl];
;;;1371               temp_coord->tPos.vusR[pl] = temp_coord->tTempPos.vusR[cl];
;;;1372               temp_coord->tPos.vusS[pl] = temp_coord->tTempPos.vusS[cl];
;;;1373               temp_coord->tPos.rect[pl] = temp_coord->tTempPos.rect[cl];
;;;1374               temp_coord->tPos.MaxDelta[pl] = temp_coord->tTempPos.MaxDelta[cl];
;;;1375   #if (PENnPalm_PalmAreaMaintain_EN == YES || PalmCandidateTouchCut_EN == YES)
;;;1376   			temp_coord->tPos.MaxPos[pl].c = temp_coord->tTempPos.MaxPos[cl].c;
;;;1377   			temp_coord->tPos.MaxPos[pl].r = temp_coord->tTempPos.MaxPos[cl].r;
;;;1378   #endif /* (PENnPalm_PalmAreaMaintain_EN == YES) */
;;;1379   			
;;;1380   			temp_coord->RealMaxDelta[pl] = temp_coord->RealMaxDelta[cl];
;;;1381   
;;;1382   			temp_coord->lPrevDist[pl] = algorithm_coord_calc_distance(temp_coord->tOrgPastPos[0].tXY[pl], temp_coord->tPos.tXY[pl]);
;;;1383           }
;;;1384       }
;;;1385   
;;;1386       /*
;;;1387        *    finger .
;;;1388        */
;;;1389       for (cl = 0; cl < temp_coord->tTempPos.sFinger_; cl++)
;;;1390       {
;;;1391           // For unmatched current points
;;;1392           if (cReorderRemap[cl] == -1 && temp_coord->tTempPos.vusR[cl])
;;;1393           {
;;;1394               for (pl = 0; pl < MAX_TOUCH_; pl++)
;;;1395               {
;;;1396                   // For an empty and new slot
;;;1397                   if (temp_coord->tPastPos[0].vusR[pl] == 0 && temp_coord->tPos.vusR[pl] == 0)
;;;1398                   {
;;;1399                       cReorderRemap[cl] = pl;
;;;1400                       temp_coord->tPos.tXY[pl]      = temp_coord->tTempPos.tXY[cl];
;;;1401                       temp_coord->tPos.vusR[pl]     = temp_coord->tTempPos.vusR[cl];
;;;1402                       temp_coord->tPos.vusS[pl]     = temp_coord->tTempPos.vusS[cl];
;;;1403                       temp_coord->tPos.rect[pl]     = temp_coord->tTempPos.rect[cl];
;;;1404                       temp_coord->tPos.MaxDelta[pl]  = temp_coord->tTempPos.MaxDelta[cl];
;;;1405   #if (PENnPalm_PalmAreaMaintain_EN == YES || PalmCandidateTouchCut_EN == YES)
;;;1406   					temp_coord->tPos.MaxPos[pl].c = temp_coord->tTempPos.MaxPos[cl].c;
;;;1407   					temp_coord->tPos.MaxPos[pl].r = temp_coord->tTempPos.MaxPos[cl].r;
;;;1408   #endif /* (PENnPalm_PalmAreaMaintain_EN == YES) */
;;;1409   					
;;;1410   					temp_coord->RealMaxDelta[pl] = temp_coord->RealMaxDelta[cl];
;;;1411   
;;;1412                       temp_coord->lPrevDist[pl]     = 0;
;;;1413                       break;
;;;1414                   }
;;;1415               }
;;;1416           }
;;;1417       }
;;;1418   
;;;1419       //Remap matrix . Group matrix      .
;;;1420       for (cl = 0; cl < LOOSE_POSBUF_; cl++)
;;;1421       {
;;;1422           pl = cReorderRemap[cl];
;;;1423           if (pl < MAX_TOUCH_)
;;;1424           	temp_coord->cRemap[pl] = cl;
;;;1425   //        else
;;;1426   //            //maxtouch    group index ,
;;;1427   //        	temp_coord->cRemap[cl] = -1;
;;;1428       }
;;;1429   
;;;1430   	temp_coord->tOrgPos.sFinger_ = temp_coord->tPos.sFinger_; 
;;;1431       for( cl=MAX_TOUCH_; cl--; )
;;;1432   	{
;;;1433   //		temp_coord->tOrgPosHist[0].tXY[cl]  = temp_coord->tPos.tXY[cl];
;;;1434   //		temp_coord->tOrgPosHist[0].vusS[cl] = temp_coord->tPos.vusS[cl];
;;;1435   //		temp_coord->tOrgPosHist[0].vusR[cl] = temp_coord->tPos.vusR[cl];
;;;1436   		
;;;1437   		temp_coord->tOrgPos.tXY[cl]  = temp_coord->tPos.tXY[cl];
;;;1438   		temp_coord->tOrgPos.vusS[cl] = temp_coord->tPos.vusS[cl];
;;;1439   		temp_coord->tOrgPos.vusR[cl] = temp_coord->tPos.vusR[cl];
;;;1440   		temp_coord->tOrgPos.rect[cl] = temp_coord->tPos.rect[cl];
;;;1441   
;;;1442   		if( temp_coord->tPos.vusR[cl] )
;;;1443   		{
;;;1444   			if(temp_coord->ucIdMappedCnt[cl] < COORD_HISTORY_NUM)
;;;1445   			{
;;;1446   				temp_coord->ucIdMappedCnt[cl]++;
;;;1447   			}
;;;1448   
;;;1449   			if( temp_coord->ucIdMappedCnt[cl] == 1 )
;;;1450   			{
;;;1451   				if(mode == FULL_MODE)
;;;1452   				{
;;;1453   					pl = thisInfo->tCoord.cRemap[cl];
;;;1454   #if USED_IDLE_CORNER_EDGE_DEBOUNC_DISABLE
;;;1455   					if((thisInfo->tLabel.tTable[pl].ulStrength*100)/thisInfo->tLabel.tTable[pl].ulExtStrength < 70 && !algorithm_coord_IsEdgeArea(&thisInfo->tCoord.tPos.tXY[cl], 0))//77)
;;;1456   #else /* USED_IDLE_CORNER_EDGE_DEBOUNC_DISABLE */
;;;1457   					if((thisInfo->tLabel.tTable[pl].ulStrength*100)/thisInfo->tLabel.tTable[pl].ulExtStrength < 70)//77)
;;;1458   #endif /* USED_IDLE_CORNER_EDGE_DEBOUNC_DISABLE */
;;;1459   					{
;;;1460   //						thisInfo->tCoord.ucIdMappedCnt[cl] = 0;
;;;1461   //						thisInfo->tCoord.tPos.vusR[cl] = 0;
;;;1462   						thisInfo->tCoord.tPos.vusS[cl] = 0;
;;;1463   //						continue;
;;;1464   					}
;;;1465   				}
;;;1466   				temp_coord->tFirstPos.tXY[cl] = temp_coord->tPos.tXY[cl];
;;;1467   				temp_coord->DrawingFlag[cl] = NO;
;;;1468   				FirstTouchEnable[cl] = NO;
;;;1469   #if (VECTOR_PREDICTION_EN == YES)
;;;1470   				ProjectionEnable[cl] = NO;
;;;1471   #endif
;;;1472   				
;;;1473   				temp_coord->iStopPos[cl] = temp_coord->tPos.tXY[cl];
;;;1474   			}
;;;1475   			
;;;1476   			if(thisModeConf->CoordTracking.sFirstTouchEnable1Touch > 0)
;;;1477   			{
;;;1478   				if(FirstTouchEnable[cl] == NO){
;;;1479   					int16_t FirstTouchThreshold = 0;
;;;1480   
;;;1481   					if(thisInfo->bIsPalm)					FirstTouchThreshold = thisModeConf->CoordTracking.sFirstTouchEnable5Touch;
;;;1482   					else if(temp_coord->tPos.sFinger_ == 1)	FirstTouchThreshold = thisModeConf->CoordTracking.sFirstTouchEnable1Touch;
;;;1483   					else if(temp_coord->tPos.sFinger_ == 2)	FirstTouchThreshold = thisModeConf->CoordTracking.sFirstTouchEnable2Touch;
;;;1484   					else if(temp_coord->tPos.sFinger_ == 3)	FirstTouchThreshold = thisModeConf->CoordTracking.sFirstTouchEnable3Touch;
;;;1485   					else if(temp_coord->tPos.sFinger_ == 4)	FirstTouchThreshold = thisModeConf->CoordTracking.sFirstTouchEnable4Touch;
;;;1486   					else 									FirstTouchThreshold = thisModeConf->CoordTracking.sFirstTouchEnable5Touch;
;;;1487   
;;;1488   					if(temp_coord->tPos.vusS[cl] >= FirstTouchThreshold){
;;;1489   						FirstTouchEnable[cl] = YES;
;;;1490   						temp_coord->iStopPos[cl] = temp_coord->tPos.tXY[cl];
;;;1491   					}
;;;1492   				}
;;;1493   
;;;1494   				if(FirstTouchEnable[cl] == NO)
;;;1495   					temp_coord->tPos.vusS[cl] = NO;
;;;1496   			
;;;1497   				if(temp_coord->tPos.vusS[cl])
;;;1498   				{
;;;1499   					if(temp_coord->cScreenDebCnt[cl] < COORD_HISTORY_NUM){
;;;1500   						temp_coord->cScreenDebCnt[cl]++;
;;;1501   //						if(thisModeConf->Coord.ucWinCertAssistance == 1){
;;;1502   //							if(thisInfo->tLabel.LabelSplitCnt)
;;;1503   //								temp_coord->tPos.vusS[cl] = 0;
;;;1504   //						}
;;;1505   					}
;;;1506   				}
;;;1507   				
;;;1508   				if(algorithm_coord_IsEdgeArea(&temp_coord->iStopPos[cl],0)>0){
;;;1509   					if(temp_coord->cScreenDebCnt[cl] <= thisModeConf->CoordTracking.ucDebCntEdge)
;;;1510   						temp_coord->tPos.vusS[cl] = 0;
;;;1511   				}
;;;1512   				else{
;;;1513   					if(temp_coord->cScreenDebCnt[cl] <= thisModeConf->CoordTracking.ucDebCntInner)
;;;1514   						temp_coord->tPos.vusS[cl] = 0;
;;;1515   				}
;;;1516   			}
;;;1517   			else 
;;;1518   			{
;;;1519   				if( temp_coord->tPastPos[0].vusS[cl] )
;;;1520   				{
;;;1521   					int lTouchOffThd = thisModeConf->CoordTracking.lTouchOffThd;
;;;1522   				
;;;1523   					if(temp_coord->cScreenDebCnt[cl] < COORD_HISTORY_NUM)
;;;1524   					{
;;;1525   						temp_coord->cScreenDebCnt[cl]++;
;;;1526   					}
;;;1527   				
;;;1528   					if( thisModeConf->CoordTracking.ucMultifingerFirstTouchThDownOffset > 0 && (temp_coord->tPos.sFinger_ > 5 || thisInfo->bIsPalm == YES) ) lTouchOffThd -= ((thisModeConf->CoordTracking.ucMultifingerFirstTouchThDownOffset)>>1);
;;;1529   				
;;;1530   					if( temp_coord->tPos.vusS[cl] < lTouchOffThd )
;;;1531   					{
;;;1532   						temp_coord->tPos.vusS[cl] = 0;
;;;1533   						temp_coord->cScreenDebCnt[cl] = 0;
;;;1534   					}
;;;1535   				}
;;;1536   				else
;;;1537   				{
;;;1538   					int sFirstTouchOnMaxCellVal = thisModeConf->CoordTracking.sFirstTouchOnMaxCellVal;
;;;1539   
;;;1540   					if( thisModeConf->CoordTracking.ucMultifingerFirstTouchThDownOffset > 0 && (temp_coord->tPos.sFinger_ > 5 || thisInfo->bIsPalm == YES) ) sFirstTouchOnMaxCellVal -= thisModeConf->CoordTracking.ucMultifingerFirstTouchThDownOffset;//10;
;;;1541   					
;;;1542   					if( temp_coord->tPos.vusS[cl] >= thisModeConf->CoordTracking.lSmallTouchOnThd && temp_coord->tPos.vusR[cl] > 0 )
;;;1543   					{
;;;1544   						int iDebCnt     = 0;
;;;1545   						int iDebCntPlus = 0;//(int)algorithm_coord_IsEdgeArea(&temp_coord->tFirstPos.tXY[cl]);
;;;1546   						
;;;1547   #if USED_IDLE_CORNER_EDGE_DEBOUNC_DISABLE
;;;1548   						if(thisModeConf->CoordTracking.bEdgeDebCntUp > 0 && thisInfo->bIsIdleToActive == NO)
;;;1549   #else /* USED_IDLE_CORNER_EDGE_DEBOUNC_DISABLE */
;;;1550   						if(thisModeConf->CoordTracking.bEdgeDebCntUp > 0)
;;;1551   #endif /* USED_IDLE_CORNER_EDGE_DEBOUNC_DISABLE */
;;;1552   						{
;;;1553   							iDebCntPlus = (int)algorithm_coord_IsEdgeArea(&temp_coord->tFirstPos.tXY[cl] , 0);
;;;1554   						}
;;;1555   						
;;;1556   //						if(thisModeConf->CoordTracking.ucDebCntEdge > 0 && algorithm_coord_IsEdgeArea(&temp_coord->tFirstPos.tXY[cl] , 0))
;;;1557   //							iDebCntPlus = thisModeConf->CoordTracking.ucDebCntEdge;
;;;1558   						
;;;1559   						if(temp_coord->cScreenDebCnt[cl] < COORD_HISTORY_NUM)
;;;1560   						{
;;;1561   							temp_coord->cScreenDebCnt[cl]++;
;;;1562   						}
;;;1563   
;;;1564   						if( temp_coord->tPos.MaxDelta[cl] > sFirstTouchOnMaxCellVal )
;;;1565   						{
;;;1566   							if( temp_coord->tPos.vusS[cl] >= thisModeConf->CoordTracking.lLargeTouchOnThd )
;;;1567   							{
;;;1568   	//							iDebCnt = (iDebCntPlus > 0) ? iDebCntPlus : thisModeConf->CoordTracking.ucLargeTouchOnDebCnt;
;;;1569   								iDebCnt = iDebCntPlus + thisModeConf->CoordTracking.ucLargeTouchOnDebCnt;
;;;1570   							}
;;;1571   							else if( temp_coord->tPos.vusS[cl] >= thisModeConf->CoordTracking.lMediumTouchOnThd )
;;;1572   							{
;;;1573   	//							iDebCnt = (iDebCntPlus > 0) ? iDebCntPlus : thisModeConf->CoordTracking.ucMediumTouchOnDebCnt;
;;;1574   								iDebCnt = iDebCntPlus + thisModeConf->CoordTracking.ucMediumTouchOnDebCnt;
;;;1575   							}
;;;1576   							else if( temp_coord->tPos.vusS[cl] >= thisModeConf->CoordTracking.lSmallTouchOnThd )
;;;1577   							{
;;;1578   	//							iDebCnt = (iDebCntPlus > 0) ? iDebCntPlus : thisModeConf->CoordTracking.ucSmallTouchOnDebCnt;
;;;1579   								iDebCnt = iDebCntPlus + thisModeConf->CoordTracking.ucSmallTouchOnDebCnt;
;;;1580   							}
;;;1581   
;;;1582   							if( temp_coord->cScreenDebCnt[cl] > iDebCnt )
;;;1583   							{
;;;1584   
;;;1585   							}
;;;1586   							else
;;;1587   							{
;;;1588   								temp_coord->tPos.vusS[cl] = 0;
;;;1589   							}
;;;1590   #if (PalmCandidateTouchCut_EN == YES)
;;;1591   							// Do not report touch, if location of 1st touch max and 2nd touch max are diagonal and touch size is big.
;;;1592   //							if(thisModeConf->Palm.ucFirstPalmSizeThd && temp_coord->tPos.vusS[cl] && temp_coord->cScreenDebCnt[cl] < COORD_HISTORY_NUM)
;;;1593   //							{
;;;1594   //								if(!thisModeConf->Palm.ucPalmDrawingOn && !thisModeConf->Coord.ucWinCertAssistance)
;;;1595   //								{
;;;1596   //									int i, r_idx, c_idx, delta;
;;;1597   //									int second_max = -1, max2_r = -1, max2_c = -1;
;;;1598   //									tCell_t search_direc[8] = { {-1, 0}, {0, -1}, {0, 1}, {1, 0}, {-1, -1}, {-1, 1}, {1, -1}, {1, 1} };
;;;1599   //									for(i = 0; i < 9; i++)
;;;1600   //									{
;;;1601   //										r_idx = search_direc[i].r + thisInfo->tCoord.tPos.MaxPos[cl].r;
;;;1602   //										if(r_idx < 0) r_idx = 0;
;;;1603   //										else if(r_idx > ROW_MAX - 1) r_idx = ROW_MAX - 1;
;;;1604   //										c_idx = search_direc[i].c + thisInfo->tCoord.tPos.MaxPos[cl].c;
;;;1605   //										if(c_idx < 0) c_idx = 0;
;;;1606   //										else if(c_idx > COL_MAX - 1) c_idx = COL_MAX - 1;
;;;1607   //										
;;;1608   //										delta = HAL_READ_DELTA_IMAGE(r_idx, c_idx);
;;;1609   //										if(second_max < delta)
;;;1610   //										{
;;;1611   //											second_max = delta;
;;;1612   //											max2_c = c_idx;
;;;1613   //											max2_r = r_idx;
;;;1614   //										}
;;;1615   //									}
;;;1616   //									
;;;1617   //									if((second_max >= thisModeConf->Label.usSeedBase) && (temp_coord->tPos.MaxPos[cl].c != max2_c && temp_coord->tPos.MaxPos[cl].r != max2_r) &&
;;;1618   //										((temp_coord->tPos.rect[cl].ce - temp_coord->tPos.rect[cl].cs + 1) * (temp_coord->tPos.rect[cl].re - temp_coord->tPos.rect[cl].rs + 1) > thisModeConf->Palm.ucFirstPalmSizeThd))
;;;1619   //									{
;;;1620   //										temp_coord->tPos.vusS[cl] = 0;
;;;1621   //									}
;;;1622   //								}
;;;1623   //							}
;;;1624   
;;;1625   							if((thisModeConf->Palm.usPalmCandiStdTh || thisModeConf->Palm.ucPalmCandiShapeMatchingTh) && temp_coord->cScreenDebCnt[cl] < COORD_HISTORY_NUM)
;;;1626   							{
;;;1627   								int r,c,i,delta,r1,c1;
;;;1628   								tRect_t low_level_rect = temp_coord->tPos.rect[cl];
;;;1629   	
;;;1630   								uint8_t idx,idx_1,idx_2;
;;;1631   								idx = HAL_READ_LABEL_IMAGE(temp_coord->tPos.MaxPos[cl].r,temp_coord->tPos.MaxPos[cl].c);
;;;1632   								delta = 0;
;;;1633   								bool_t stop_flag = 0;
;;;1634   								for(i = 1; i <= 4; i++)
;;;1635   								{
;;;1636   									for(r = MAX(0,temp_coord->tPos.rect[cl].rs-i); r <= MIN(ROW_MAX-1,temp_coord->tPos.rect[cl].re+i); r++)
;;;1637   									{
;;;1638   										for(c = MAX(0,temp_coord->tPos.rect[cl].cs-i); c <= MIN(COL_MAX-1,temp_coord->tPos.rect[cl].ce+i); c++)
;;;1639   										{
;;;1640   											if((r > low_level_rect.re || r < low_level_rect.rs) || (c > low_level_rect.ce || c < low_level_rect.cs))
;;;1641   											{
;;;1642   												idx_1 = HAL_READ_LABEL_IMAGE(r,c);
;;;1643   												if(idx != idx_1 && idx_1 > 0 && idx_1 != LABEL_BOUNDARY_MARKER && idx_1 != LABEL_CONFLICT_MARKER)
;;;1644   												{
;;;1645   													stop_flag = 1;
;;;1646   													break;
;;;1647   												}
;;;1648   												else if(idx_1 == LABEL_BOUNDARY_MARKER)
;;;1649   												{
;;;1650   													for(r1 = MAX(0,r-1);r1 <= MIN(ROW_MAX-1,r+1);r1++)
;;;1651   													{
;;;1652   														for(c1 = MAX(0,c-1);c1 <= MIN(COL_MAX-1,c+1);c1++)
;;;1653   														{
;;;1654   															idx_2 = HAL_READ_LABEL_IMAGE(r1,c1);
;;;1655   															if(idx != idx_2 && idx_2 > 0 && idx_2 != LABEL_BOUNDARY_MARKER && idx_2 != LABEL_CONFLICT_MARKER && ((r1 > low_level_rect.re || r1 < low_level_rect.rs) || (c1 > low_level_rect.ce || c1 < low_level_rect.cs)))
;;;1656   															{
;;;1657   																stop_flag = 1;
;;;1658   																break;
;;;1659   															}
;;;1660   														}
;;;1661   													}
;;;1662   												}
;;;1663   												
;;;1664   												if(HAL_READ_DELTA_IMAGE(r, c) > thisModeConf->Palm.ucPalmCandiDeltaTh)
;;;1665   													delta = 1;
;;;1666   											}
;;;1667   										}
;;;1668   										
;;;1669   										if(stop_flag == 1)
;;;1670   										{
;;;1671   											break;
;;;1672   										}
;;;1673   									}
;;;1674   										
;;;1675   									if(stop_flag == 0 && delta == 0)stop_flag = 1;
;;;1676   									
;;;1677   									if(stop_flag == 0)
;;;1678   									{
;;;1679   										for(r = MAX(0,temp_coord->tPos.rect[cl].rs-i); r <= MIN(ROW_MAX-1,temp_coord->tPos.rect[cl].re+i); r++)
;;;1680   											for(c = MAX(0,temp_coord->tPos.rect[cl].cs-i); c <= MIN(COL_MAX-1,temp_coord->tPos.rect[cl].ce+i); c++)
;;;1681   										{
;;;1682   											idx_1 = HAL_READ_LABEL_IMAGE(r,c);
;;;1683   											if((0 == idx_1 || idx_1 == LABEL_BOUNDARY_MARKER || idx_1 == LABEL_CONFLICT_MARKER)&& ((r > low_level_rect.re || r < low_level_rect.rs) || (c > low_level_rect.ce || c < low_level_rect.cs)))
;;;1684   											{
;;;1685   												delta = HAL_READ_DELTA_IMAGE(r, c);
;;;1686   												if(delta > thisModeConf->Palm.ucPalmCandiDeltaTh)
;;;1687   												{
;;;1688   													if(low_level_rect.re < r)low_level_rect.re = r;
;;;1689   													if(low_level_rect.rs > r)low_level_rect.rs = r;
;;;1690   													if(low_level_rect.ce < c)low_level_rect.ce = c;
;;;1691   													if(low_level_rect.cs > c)low_level_rect.cs = c;
;;;1692   												}
;;;1693   											}
;;;1694   										}
;;;1695   									}
;;;1696   									else 
;;;1697   									{
;;;1698   										break;
;;;1699   									}
;;;1700   								}
;;;1701   								
;;;1702   								if(low_level_rect.re > low_level_rect.rs+14)low_level_rect.re = low_level_rect.rs+14;
;;;1703   								if(low_level_rect.ce > low_level_rect.cs+14)low_level_rect.ce = low_level_rect.cs+14;
;;;1704   						
;;;1705   //								for(r = MAX(0,low_level_rect.rs-2); r <= MIN(ROW_MAX-1,low_level_rect.re+2); r++)
;;;1706   //									for(c = MAX(0,low_level_rect.cs-2); c <= MIN(COL_MAX-1,low_level_rect.ce+2); c++)
;;;1707   //								{
;;;1708   //									delta = MAX(0,HAL_READ_DELTA_IMAGE(r, c));
;;;1709   //									HAL_WRITE_HOPP2_BASELINE_IMAGE(r-MAX(0,low_level_rect.rs-0),c-MAX(0,low_level_rect.cs-0) + ((temp_coord->cScreenDebCnt[cl]-1)*20),delta);
;;;1710   //									HAL_WRITE_HOPP2_BASELINE_IMAGE(r-MAX(0,low_level_rect.rs-0)+25,c-MAX(0,low_level_rect.cs-0) + ((temp_coord->cScreenDebCnt[cl]-1)*20),HAL_READ_LABEL_IMAGE(r,c));
;;;1711   //								}
;;;1712   								
;;;1713   								uint16_t shape_array_tmp[15][15];
;;;1714   								memset(shape_array_tmp,0,sizeof(shape_array_tmp));
;;;1715   								int cnt_ = 0;
;;;1716   								int sum_ = 0;
;;;1717   								for(r = low_level_rect.rs; r <= low_level_rect.re; r++)
;;;1718   									for(c = low_level_rect.cs; c <= low_level_rect.ce; c++)
;;;1719   								{
;;;1720   									idx_1 = HAL_READ_LABEL_IMAGE(r,c);
;;;1721   									if(idx == idx_1 ||  0 == idx_1 || idx_1 == LABEL_BOUNDARY_MARKER || idx_1 == LABEL_CONFLICT_MARKER)
;;;1722   									{
;;;1723   										delta = MAX(0,HAL_READ_DELTA_IMAGE(r, c));									
;;;1724   										delta = delta*100/temp_coord->tPos.MaxDelta[cl];
;;;1725   										shape_array_tmp[r-low_level_rect.rs][c-low_level_rect.cs] = delta;
;;;1726   //										HAL_WRITE_HOPP2_BASELINE_IMAGE(r-low_level_rect.rs+13,c-low_level_rect.cs + ((temp_coord->cScreenDebCnt[cl]-1)*20),shape_array_tmp[r-low_level_rect.rs][c-low_level_rect.cs]);
;;;1727   										sum_ += (delta);
;;;1728   										cnt_++;
;;;1729   									}
;;;1730   								}			
;;;1731   								
;;;1732   								sum_ /= cnt_;
;;;1733   								uint64_t std = 0;
;;;1734   								for(r = low_level_rect.rs; r <= low_level_rect.re; r++)
;;;1735   									for(c = low_level_rect.cs; c <= low_level_rect.ce; c++)
;;;1736   								{
;;;1737   									delta = shape_array_tmp[r-low_level_rect.rs][c-low_level_rect.cs];							
;;;1738   									std += (((delta) - sum_) * ((delta) - sum_));
;;;1739   								}
;;;1740   								std /= cnt_;
;;;1741   								int size = (low_level_rect.re - low_level_rect.rs + 1) * (low_level_rect.ce - low_level_rect.cs + 1);
;;;1742   //								dbg_coord[2+temp_coord->cScreenDebCnt[cl]-1] = std;
;;;1743   //								dbg_coord[8+temp_coord->cScreenDebCnt[cl]-1] = std*10/size;
;;;1744   //								
;;;1745   //								HAL_WRITE_HOPP2_BASELINE_IMAGE(10,15 + ((temp_coord->cScreenDebCnt[cl]-1)*20),dbg_coord[2+temp_coord->cScreenDebCnt[cl]-1]);
;;;1746   //								HAL_WRITE_HOPP2_BASELINE_IMAGE(10,16 + ((temp_coord->cScreenDebCnt[cl]-1)*20),size);
;;;1747   //								HAL_WRITE_HOPP2_BASELINE_IMAGE(10,17 + ((temp_coord->cScreenDebCnt[cl]-1)*20),dbg_coord[8+temp_coord->cScreenDebCnt[cl]-1]);
;;;1748   								
;;;1749   								if(std*10/size < thisModeConf->Palm.usPalmCandiStdTh)temp_coord->tPos.vusS[cl] = 0;
;;;1750   										
;;;1751   								if(temp_coord->tPos.vusS[cl] > 0 && thisModeConf->Palm.ucPalmCandiShapeMatchingTh)
;;;1752   								{
;;;1753   //									int tmp_re = low_level_rect.re;
;;;1754   //									int tmp_ce = low_level_rect.ce;
;;;1755   									low_level_rect.re = MIN(ROW_MAX-1,low_level_rect.rs+14);
;;;1756   									low_level_rect.ce = MIN(COL_MAX-1,low_level_rect.cs+14);
;;;1757   								
;;;1758   									for(r = low_level_rect.rs; r <= low_level_rect.re; r++)
;;;1759   										for(c = low_level_rect.cs; c <= low_level_rect.ce; c++)
;;;1760   									{
;;;1761   										idx_1 = HAL_READ_LABEL_IMAGE(r,c);
;;;1762   										if(idx == idx_1 ||  0 == idx_1 || idx_1 == LABEL_BOUNDARY_MARKER || idx_1 == LABEL_CONFLICT_MARKER)
;;;1763   										{
;;;1764   											delta = MAX(0,HAL_READ_DELTA_IMAGE(r, c));								
;;;1765   											delta = delta*100/temp_coord->tPos.MaxDelta[cl];
;;;1766   											shape_array_tmp[r-low_level_rect.rs][c-low_level_rect.cs] = delta;
;;;1767   										}
;;;1768   										else shape_array_tmp[r-low_level_rect.rs][c-low_level_rect.cs] = 0;
;;;1769   										
;;;1770   										//HAL_WRITE_HOPP2_BASELINE_IMAGE(r-low_level_rect.rs+25,c-low_level_rect.cs + ((temp_coord->cScreenDebCnt[cl]-1)*20),shape_array_tmp[r-low_level_rect.rs][c-low_level_rect.cs]);
;;;1771   									}
;;;1772   									
;;;1773   									sum_ = 0;
;;;1774   									for(r = low_level_rect.rs; r <= low_level_rect.re; r++)for(c = low_level_rect.cs; c <= low_level_rect.ce; c++)
;;;1775   									{			
;;;1776   										sum_ += (ABS(shape_array_tmp[r-low_level_rect.rs][c-low_level_rect.cs] - (uint16_t)shape_array_table[r-low_level_rect.rs][c-low_level_rect.cs]));
;;;1777   									}
;;;1778   									
;;;1779   									sum_ = sum_*10/((low_level_rect.re-low_level_rect.rs+1)*(low_level_rect.ce-low_level_rect.cs+1));
;;;1780   //									dbg_coord[14+temp_coord->cScreenDebCnt[cl]-1] = sum_;
;;;1781   //									HAL_WRITE_HOPP2_BASELINE_IMAGE(10,18 + ((temp_coord->cScreenDebCnt[cl]-1)*20),dbg_coord[14+temp_coord->cScreenDebCnt[cl]-1]);
;;;1782   									
;;;1783   									if(sum_ > thisModeConf->Palm.ucPalmCandiShapeMatchingTh && thisModeConf->Palm.ucPalmCandiShapeMatchingLearning == 0) 
;;;1784   									{
;;;1785   										temp_coord->tPos.vusS[cl] = 0;
;;;1786   //										dbg_coord[20]++;
;;;1787   									}
;;;1788   										
;;;1789   									if(thisModeConf->Palm.ucPalmCandiShapeMatchingLearning == 1)
;;;1790   									{
;;;1791   										if(usPalmCandiShapeMatchingLearningCnt==0)memset(shape_array_table,0,sizeof(shape_array_table));
;;;1792   										for(r = 0; r < 15; r++)for(c = 0; c < 15; c++)
;;;1793   										{
;;;1794   											shape_array_table[r][c] = (shape_array_table[r][c] + shape_array_tmp[r][c]);
;;;1795   //											HAL_WRITE_HOPP1_BASELINE_IMAGE(r,c,shape_array_table[r][c]);
;;;1796   										}
;;;1797   										usPalmCandiShapeMatchingLearningCnt++;
;;;1798   									}
;;;1799   									else if(thisModeConf->Palm.ucPalmCandiShapeMatchingLearning == 2 && usPalmCandiShapeMatchingLearningCnt > 0)
;;;1800   									{
;;;1801   										for(r = 0; r < 15; r++)for(c = 0; c < 15; c++)
;;;1802   										{
;;;1803   											shape_array_table[r][c] = shape_array_table[r][c]/usPalmCandiShapeMatchingLearningCnt;	
;;;1804   //											HAL_WRITE_HOPP1_BASELINE_IMAGE(r,c,shape_array_table[r][c]);
;;;1805   										}			
;;;1806   										usPalmCandiShapeMatchingLearningCnt = 0;								
;;;1807   									}	
;;;1808   								}									
;;;1809   							}
;;;1810   #endif /* (PalmCandidateTouchCut_EN == YES) */							
;;;1811   						}
;;;1812   						else
;;;1813   						{
;;;1814   							temp_coord->tPos.vusS[cl] = 0;
;;;1815   							temp_coord->cScreenDebCnt[cl] = 0;
;;;1816   						}
;;;1817   					}
;;;1818   					else
;;;1819   					{
;;;1820   						temp_coord->tPos.vusS[cl] = 0;
;;;1821   						temp_coord->cScreenDebCnt[cl] = 0;
;;;1822   					}
;;;1823   				}
;;;1824   			}
;;;1825   			
;;;1826   			temp_coord->cIsbefor[cl] = 0;
;;;1827   		}
;;;1828   		else
;;;1829   		{
;;;1830   //			if(temp_coord->tPastPos[0].vusR[cl] > 0 && mode == LOCAL_MODE)
;;;1831   //			{
;;;1832   //				if(((temp_coord->cIsbefor[cl] < 1 /*&& g_RetVal == PARTIAL_PEN_COORD1*/) || (temp_coord->cIsbefor[cl] < 4 && temp_coord->cIsbefor[cl] > 0))&& temp_coord->ucIdMappedCnt[cl] > 3)
;;;1833   ////				if(temp_coord->cIsbefor[cl] < 1 && temp_coord->ucIdMappedCnt[cl] > 3)
;;;1834   //				{
;;;1835   //					thisInfo->bLocal_sensing = YES;
;;;1836   
;;;1837   //					temp_coord->tPos.vusR[cl] = temp_coord->tPastPos[0].vusR[cl];
;;;1838   //					temp_coord->tPos.vusS[cl] = temp_coord->tPastPos[0].vusS[cl];
;;;1839   //					temp_coord->tPos.tXY[cl] = temp_coord->tOrgPastPos[0].tXY[cl];
;;;1840   //					temp_coord->cIsbefor[cl]++;
;;;1841   //					
;;;1842   //					temp_coord->tOrgPosHist[0].tXY[cl]  = temp_coord->tPos.tXY[cl];
;;;1843   //					temp_coord->tOrgPosHist[0].vusS[cl] = temp_coord->tPos.vusS[cl];
;;;1844   //					temp_coord->tOrgPosHist[0].vusR[cl] = temp_coord->tPos.vusR[cl];
;;;1845   //					
;;;1846   //					temp_coord->tOrgPos.tXY[cl]  = temp_coord->tPos.tXY[cl];
;;;1847   //					temp_coord->tOrgPos.vusS[cl] = temp_coord->tPos.vusS[cl];
;;;1848   //					temp_coord->tOrgPos.vusR[cl] = temp_coord->tPos.vusR[cl];
;;;1849   //				}
;;;1850   //				else
;;;1851   //				{
;;;1852   //					temp_coord->ucIdMappedCnt[cl] = 0;
;;;1853   //					temp_coord->cScreenDebCnt[cl] = 0;
;;;1854   //					temp_coord->cIsbefor[cl] = 0;
;;;1855   //				}
;;;1856   //			}
;;;1857   //			else
;;;1858   			{
;;;1859   				temp_coord->ucIdMappedCnt[cl] = 0;
;;;1860   				temp_coord->cScreenDebCnt[cl] = 0;
;;;1861   				temp_coord->cIsbefor[cl] = 0;
;;;1862   			}
;;;1863   		}
;;;1864   	}
;;;1865   }
000550  f0100f01          TST      r0,#1
000554  bf18              IT       NE                    ;1269
000556  f8412f04          STRNE    r2,[r1,#4]!           ;1269
00055a  f8dd05c8          LDR      r0,[sp,#0x5c8]        ;1268
00055e  7800              LDRB     r0,[r0,#0]            ;1268
000560  0840              LSRS     r0,r0,#1              ;1268
000562  d004              BEQ      |L18.1390|
                  |L18.1380|
000564  604a              STR      r2,[r1,#4]            ;1269
000566  f8412f08          STR      r2,[r1,#8]!           ;1269
00056a  1e40              SUBS     r0,r0,#1              ;1269
00056c  d1fa              BNE      |L18.1380|
                  |L18.1390|
00056e  f50d60c3          ADD      r0,sp,#0x618          ;1273
000572  f8408025          STR      r8,[r0,r5,LSL #2]     ;1273
000576  3818              SUBS     r0,r0,#0x18           ;1274
000578  f1b53fff          CMP      r5,#0xffffffff        ;1274
00057c  5544              STRB     r4,[r0,r5]            ;1274
00057e  f47fae97          BNE      |L18.688|
                  |L18.1410|
000582  f8dd05c8          LDR      r0,[sp,#0x5c8]        ;1364
000586  2400              MOVS     r4,#0                 ;1364
000588  7800              LDRB     r0,[r0,#0]            ;1364
00058a  2800              CMP      r0,#0                 ;1364
00058c  bf88              IT       HI                    ;878
00058e  f50d65c0          ADDHI    r5,sp,#0x600          ;878
000592  d955              BLS      |L18.1600|
                  |L18.1428|
000594  5728              LDRSB    r0,[r5,r4]            ;1367
000596  f1b03fff          CMP      r0,#0xffffffff        ;1367
00059a  d04a              BEQ      |L18.1586|
00059c  5d2a              LDRB     r2,[r5,r4]            ;1369
00059e  f8dd05c8          LDR      r0,[sp,#0x5c8]        ;1370
0005a2  eb0003c2          ADD      r3,r0,r2,LSL #3       ;1370
0005a6  eb0000c4          ADD      r0,r0,r4,LSL #3       ;1370
0005aa  f8d01001          LDR      r1,[r0,#1]            ;1370
0005ae  f8c31136          STR      r1,[r3,#0x136]        ;1370
0005b2  f8d00005          LDR      r0,[r0,#5]            ;1370
0005b6  f8c3013a          STR      r0,[r3,#0x13a]        ;1370
0005ba  f8dd05c8          LDR      r0,[sp,#0x5c8]        ;1371
0005be  f8dd15c8          LDR      r1,[sp,#0x5c8]        ;1371
0005c2  eb000044          ADD      r0,r0,r4,LSL #1       ;1371
0005c6  eb010142          ADD      r1,r1,r2,LSL #1       ;1371
0005ca  f8b0c0a1          LDRH     r12,[r0,#0xa1]        ;1371
0005ce  f8a1c19a          STRH     r12,[r1,#0x19a]       ;1371
0005d2  f8b0c081          LDRH     r12,[r0,#0x81]        ;1372
0005d6  f8a1c186          STRH     r12,[r1,#0x186]       ;1372
0005da  f8ddc5c8          LDR      r12,[sp,#0x5c8]       ;1373
0005de  eb0c0682          ADD      r6,r12,r2,LSL #2      ;1373
0005e2  eb0c0284          ADD      r2,r12,r4,LSL #2      ;1373
0005e6  f8d220c1          LDR      r2,[r2,#0xc1]         ;1373
0005ea  f8c621ae          STR      r2,[r6,#0x1ae]        ;1373
0005ee  f8b02101          LDRH     r2,[r0,#0x101]        ;1374
0005f2  f8a121d6          STRH     r2,[r1,#0x1d6]        ;1374
0005f6  f8902121          LDRB     r2,[r0,#0x121]        ;1376
0005fa  f88121ea          STRB     r2,[r1,#0x1ea]        ;1376
0005fe  f8902122          LDRB     r2,[r0,#0x122]        ;1377
000602  f88121eb          STRB     r2,[r1,#0x1eb]        ;1377
000606  f8b00b5c          LDRH     r0,[r0,#0xb5c]        ;1380
00060a  f8a10b5c          STRH     r0,[r1,#0xb5c]        ;1380
00060e  f8d326b8          LDR      r2,[r3,#0x6b8]        ;1382
000612  f8d3c136          LDR      r12,[r3,#0x136]       ;1382
000616  f8d306bc          LDR      r0,[r3,#0x6bc]        ;1382
00061a  f8d3113a          LDR      r1,[r3,#0x13a]        ;1382
00061e  eba2020c          SUB      r2,r2,r12             ;1382
000622  4352              MULS     r2,r2,r2              ;1382
000624  1a40              SUBS     r0,r0,r1              ;1382
000626  fb002000          MLA      r0,r0,r0,r2           ;1382
00062a  f7fffffe          BL       algorithm_calc_sqrt
00062e  f8c60a92          STR      r0,[r6,#0xa92]        ;1382
                  |L18.1586|
000632  1c60              ADDS     r0,r4,#1              ;1382
000634  b2c4              UXTB     r4,r0                 ;1382
000636  f8dd05c8          LDR      r0,[sp,#0x5c8]        ;1382
00063a  7800              LDRB     r0,[r0,#0]            ;1382
00063c  42a0              CMP      r0,r4                 ;1382
00063e  d8a9              BHI      |L18.1428|
                  |L18.1600|
000640  f8dd05c8          LDR      r0,[sp,#0x5c8]        ;1389
000644  2200              MOVS     r2,#0                 ;1389
000646  7800              LDRB     r0,[r0,#0]            ;1389
000648  2800              CMP      r0,#0                 ;1389
00064a  bf84              ITT      HI                    ;878
00064c  f50d6cc0          ADDHI    r12,sp,#0x600         ;878
000650  2500              MOVHI    r5,#0                 ;878
000652  d927              BLS      |L18.1700|
                  |L18.1620|
000654  f91c0002          LDRSB    r0,[r12,r2]           ;1392
000658  f1b03fff          CMP      r0,#0xffffffff        ;1392
00065c  d11b              BNE      |L18.1686|
00065e  f8dd05c8          LDR      r0,[sp,#0x5c8]        ;1392
000662  eb000342          ADD      r3,r0,r2,LSL #1       ;1392
000666  f8b300a1          LDRH     r0,[r3,#0xa1]         ;1392
00066a  2800              CMP      r0,#0                 ;1392
00066c  bf18              IT       NE                    ;1394
00066e  2000              MOVNE    r0,#0                 ;1394
000670  d011              BEQ      |L18.1686|
000672  bf00              NOP                            ;1397
                  |L18.1652|
000674  f8dd15c8          LDR      r1,[sp,#0x5c8]        ;1397
000678  eb010140          ADD      r1,r1,r0,LSL #1       ;1397
00067c  f8b143a6          LDRH     r4,[r1,#0x3a6]        ;1397
000680  2c00              CMP      r4,#0                 ;1397
000682  bf04              ITT      EQ                    ;1397
000684  f8b1419a          LDRHEQ   r4,[r1,#0x19a]        ;1397
000688  2c00              CMPEQ    r4,#0                 ;1397
00068a  d06d              BEQ      |L18.1896|
00068c  f1000001          ADD      r0,r0,#1              ;1397
000690  b2c0              UXTB     r0,r0                 ;1413
000692  280a              CMP      r0,#0xa               ;1413
000694  d3ee              BCC      |L18.1652|
                  |L18.1686|
000696  1c50              ADDS     r0,r2,#1              ;1413
000698  b2c2              UXTB     r2,r0                 ;1413
00069a  f8dd05c8          LDR      r0,[sp,#0x5c8]        ;1413
00069e  7800              LDRB     r0,[r0,#0]            ;1413
0006a0  4282              CMP      r2,r0                 ;1413
0006a2  d3d7              BCC      |L18.1620|
                  |L18.1700|
0006a4  f8dd05c8          LDR      r0,[sp,#0x5c8]        ;1424
0006a8  2200              MOVS     r2,#0                 ;1420
0006aa  f50d61c0          ADD      r1,sp,#0x600          ;1420
0006ae  2310              MOVS     r3,#0x10              ;1420
0006b0  f6002c82          ADD      r12,r0,#0xa82         ;1424
                  |L18.1716|
0006b4  7808              LDRB     r0,[r1,#0]            ;1423
0006b6  280a              CMP      r0,#0xa               ;1423
0006b8  bf38              IT       CC                    ;1424
0006ba  f800200c          STRBCC   r2,[r0,r12]           ;1424
0006be  1e58              SUBS     r0,r3,#1              ;1428
0006c0  1c49              ADDS     r1,r1,#1              ;1428
0006c2  1c52              ADDS     r2,r2,#1              ;1428
0006c4  f01003ff          ANDS     r3,r0,#0xff           ;1428
0006c8  d1f4              BNE      |L18.1716|
0006ca  f8dd05c8          LDR      r0,[sp,#0x5c8]        ;1430
0006ce  f8901135          LDRB     r1,[r0,#0x135]        ;1430
0006d2  f880159e          STRB     r1,[r0,#0x59e]        ;1430
0006d6  2009              MOVS     r0,#9                 ;1431
0006d8  f8cd05cc          STR      r0,[sp,#0x5cc]        ;1431
                  |L18.1756|
0006dc  f8dd15cc          LDR      r1,[sp,#0x5cc]        ;1437
0006e0  f8dd05c8          LDR      r0,[sp,#0x5c8]        ;1437
0006e4  eb0001c1          ADD      r1,r0,r1,LSL #3       ;1437
0006e8  f8d10136          LDR      r0,[r1,#0x136]        ;1437
0006ec  f8c1059f          STR      r0,[r1,#0x59f]        ;1437
0006f0  f8d1013a          LDR      r0,[r1,#0x13a]        ;1437
0006f4  f8c105a3          STR      r0,[r1,#0x5a3]        ;1437
0006f8  f8dd25cc          LDR      r2,[sp,#0x5cc]        ;1438
0006fc  f8dd05c8          LDR      r0,[sp,#0x5c8]        ;1438
000700  eb000042          ADD      r0,r0,r2,LSL #1       ;1438
000704  f8cd05ec          STR      r0,[sp,#0x5ec]        ;1438
000708  f8b02186          LDRH     r2,[r0,#0x186]        ;1438
00070c  f8a025ef          STRH     r2,[r0,#0x5ef]        ;1438
000710  f8b0219a          LDRH     r2,[r0,#0x19a]        ;1439
000714  f8a02603          STRH     r2,[r0,#0x603]        ;1439
000718  f8dd35cc          LDR      r3,[sp,#0x5cc]        ;1440
00071c  f8dd25c8          LDR      r2,[sp,#0x5c8]        ;1440
000720  eb020283          ADD      r2,r2,r3,LSL #2       ;1440
000724  f8cd2610          STR      r2,[sp,#0x610]        ;1440
000728  f8d231ae          LDR      r3,[r2,#0x1ae]        ;1440
00072c  f8c23617          STR      r3,[r2,#0x617]        ;1440
000730  f8b0019a          LDRH     r0,[r0,#0x19a]        ;1442
000734  2800              CMP      r0,#0                 ;1442
000736  f00085c0          BEQ.W    |L18.4794|
00073a  f8dd25cc          LDR      r2,[sp,#0x5cc]        ;1444
00073e  f8dd05c8          LDR      r0,[sp,#0x5c8]        ;1444
000742  4410              ADD      r0,r0,r2              ;1444
000744  f8cd0614          STR      r0,[sp,#0x614]        ;1444
000748  f8900a5a          LDRB     r0,[r0,#0xa5a]        ;1444
00074c  2805              CMP      r0,#5                 ;1444
00074e  d204              BCS      |L18.1882|
000750  f8dd2614          LDR      r2,[sp,#0x614]        ;1446
000754  1c40              ADDS     r0,r0,#1              ;1444
000756  f8820a5a          STRB     r0,[r2,#0xa5a]        ;1446
                  |L18.1882|
00075a  f8dd0614          LDR      r0,[sp,#0x614]        ;1449
00075e  f8900a5a          LDRB     r0,[r0,#0xa5a]        ;1449
000762  2801              CMP      r0,#1                 ;1449
000764  d039              BEQ      |L18.2010|
000766  e077              B        |L18.2136|
                  |L18.1896|
000768  f80c0002          STRB     r0,[r12,r2]           ;1399
00076c  f8dd45c8          LDR      r4,[sp,#0x5c8]        ;1400
000770  eb0406c0          ADD      r6,r4,r0,LSL #3       ;1400
000774  eb0404c2          ADD      r4,r4,r2,LSL #3       ;1400
000778  f8d47001          LDR      r7,[r4,#1]            ;1400
00077c  f8c67136          STR      r7,[r6,#0x136]        ;1400
000780  f8d44005          LDR      r4,[r4,#5]            ;1400
000784  f8c6413a          STR      r4,[r6,#0x13a]        ;1400
000788  f8dd45c8          LDR      r4,[sp,#0x5c8]        ;1401
00078c  f8b360a1          LDRH     r6,[r3,#0xa1]         ;1401
000790  eb040440          ADD      r4,r4,r0,LSL #1       ;1401
000794  f8a4619a          STRH     r6,[r4,#0x19a]        ;1401
000798  f8b34081          LDRH     r4,[r3,#0x81]         ;1402
00079c  f8a14186          STRH     r4,[r1,#0x186]        ;1402
0007a0  f8dd45c8          LDR      r4,[sp,#0x5c8]        ;1403
0007a4  eb040080          ADD      r0,r4,r0,LSL #2       ;1403
0007a8  eb040482          ADD      r4,r4,r2,LSL #2       ;1403
0007ac  f8d440c1          LDR      r4,[r4,#0xc1]         ;1403
0007b0  f8c041ae          STR      r4,[r0,#0x1ae]        ;1403
0007b4  f8b34101          LDRH     r4,[r3,#0x101]        ;1404
0007b8  f8a141d6          STRH     r4,[r1,#0x1d6]        ;1404
0007bc  f8934121          LDRB     r4,[r3,#0x121]        ;1406
0007c0  f88141ea          STRB     r4,[r1,#0x1ea]        ;1406
0007c4  f8934122          LDRB     r4,[r3,#0x122]        ;1407
0007c8  f88141eb          STRB     r4,[r1,#0x1eb]        ;1407
0007cc  f8b33b5c          LDRH     r3,[r3,#0xb5c]        ;1410
0007d0  f8a13b5c          STRH     r3,[r1,#0xb5c]        ;1410
0007d4  f8c05a92          STR      r5,[r0,#0xa92]        ;1412
0007d8  e75d              B        |L18.1686|
                  |L18.2010|
0007da  f8dd0690          LDR      r0,[sp,#0x690]        ;1451
0007de  b9f0              CBNZ     r0,|L18.2078|
0007e0  48fe              LDR      r0,|L18.3036|
0007e2  f8dd25cc          LDR      r2,[sp,#0x5cc]        ;1453
0007e6  f04f0c64          MOV      r12,#0x64             ;1457
0007ea  68c0              LDR      r0,[r0,#0xc]          ;1453  ; thisInfo
0007ec  4402              ADD      r2,r2,r0              ;1453
0007ee  f8922deb          LDRB     r2,[r2,#0xdeb]        ;1453
0007f2  ebc203c2          RSB      r3,r2,r2,LSL #3       ;1457
0007f6  eb031242          ADD      r2,r3,r2,LSL #5       ;1457
0007fa  4402              ADD      r2,r2,r0              ;1457
0007fc  f8d23059          LDR      r3,[r2,#0x59]         ;1457
000800  f8d2205d          LDR      r2,[r2,#0x5d]         ;1457
000804  fb03f30c          MUL      r3,r3,r12             ;1457
000808  fbb3f2f2          UDIV     r2,r3,r2              ;1457
00080c  2a46              CMP      r2,#0x46              ;1457
00080e  d206              BCS      |L18.2078|
000810  f8dd35cc          LDR      r3,[sp,#0x5cc]        ;1462
000814  2200              MOVS     r2,#0                 ;1462
000816  eb000043          ADD      r0,r0,r3,LSL #1       ;1462
00081a  f8a024ef          STRH     r2,[r0,#0x4ef]        ;1462
                  |L18.2078|
00081e  f8d10136          LDR      r0,[r1,#0x136]        ;1466
000822  f8c1024f          STR      r0,[r1,#0x24f]        ;1466
000826  f8d1013a          LDR      r0,[r1,#0x13a]        ;1466
00082a  f8c10253          STR      r0,[r1,#0x253]        ;1466
00082e  f8dd2614          LDR      r2,[sp,#0x614]        ;1467
000832  2000              MOVS     r0,#0                 ;1467
000834  f8820ba6          STRB     r0,[r2,#0xba6]        ;1467
000838  4ae9              LDR      r2,|L18.3040|
00083a  f8dd35cc          LDR      r3,[sp,#0x5cc]        ;1468
00083e  54d0              STRB     r0,[r2,r3]            ;1468
000840  f8dd35cc          LDR      r3,[sp,#0x5cc]        ;1470
000844  3210              ADDS     r2,r2,#0x10           ;1470
000846  54d0              STRB     r0,[r2,r3]            ;1470
000848  f8d10136          LDR      r0,[r1,#0x136]        ;1473
00084c  f8c10b0c          STR      r0,[r1,#0xb0c]        ;1473
000850  f8d1013a          LDR      r0,[r1,#0x13a]        ;1473
000854  f8c10b10          STR      r0,[r1,#0xb10]        ;1473
                  |L18.2136|
000858  4ee0              LDR      r6,|L18.3036|
00085a  68b2              LDR      r2,[r6,#8]            ;1476  ; thisModeConf
00085c  f9b200cd          LDRSH    r0,[r2,#0xcd]         ;1476
000860  2800              CMP      r0,#0                 ;1476
000862  dd75              BLE      |L18.2384|
000864  4bde              LDR      r3,|L18.3040|
000866  f8ddc5cc          LDR      r12,[sp,#0x5cc]       ;1478
00086a  f813c00c          LDRB     r12,[r3,r12]          ;1478
00086e  f1bc0f00          CMP      r12,#0                ;1478
000872  d139              BNE      |L18.2280|
000874  f8d6c00c          LDR      r12,[r6,#0xc]         ;1481  ; thisInfo
000878  f50c5c80          ADD      r12,r12,#0x1000       ;1481
00087c  f89cc0da          LDRB     r12,[r12,#0xda]       ;1481
000880  f1bc0f00          CMP      r12,#0                ;1481
000884  d118              BNE      |L18.2232|
000886  f8ddc5c8          LDR      r12,[sp,#0x5c8]       ;1482
00088a  f89cc135          LDRB     r12,[r12,#0x135]      ;1482
00088e  f1bc0f01          CMP      r12,#1                ;1482
000892  d013              BEQ      |L18.2236|
000894  f1bc0f02          CMP      r12,#2                ;1483
000898  bf08              IT       EQ                    ;1483
00089a  f9b200cf          LDRSHEQ  r0,[r2,#0xcf]         ;1483
00089e  d00d              BEQ      |L18.2236|
0008a0  f1bc0f03          CMP      r12,#3                ;1484
0008a4  bf08              IT       EQ                    ;1484
0008a6  f9b200d1          LDRSHEQ  r0,[r2,#0xd1]         ;1484
0008aa  d007              BEQ      |L18.2236|
0008ac  f1bc0f04          CMP      r12,#4                ;1485
0008b0  bf08              IT       EQ                    ;1485
0008b2  f9b200d3          LDRSHEQ  r0,[r2,#0xd3]         ;1485
0008b6  d001              BEQ      |L18.2236|
                  |L18.2232|
0008b8  f9b200d5          LDRSH    r0,[r2,#0xd5]         ;1486
                  |L18.2236|
0008bc  f8dd25ec          LDR      r2,[sp,#0x5ec]        ;1488
0008c0  f8b22186          LDRH     r2,[r2,#0x186]        ;1488
0008c4  4282              CMP      r2,r0                 ;1488
0008c6  db32              BLT      |L18.2350|
0008c8  f8dd05cc          LDR      r0,[sp,#0x5cc]        ;1489
0008cc  2201              MOVS     r2,#1                 ;1489
0008ce  541a              STRB     r2,[r3,r0]            ;1489
0008d0  f8d10136          LDR      r0,[r1,#0x136]        ;1490
0008d4  f8c10b0c          STR      r0,[r1,#0xb0c]        ;1490
0008d8  f8d1013a          LDR      r0,[r1,#0x13a]        ;1490
0008dc  f8c10b10          STR      r0,[r1,#0xb10]        ;1490
0008e0  f8dd05cc          LDR      r0,[sp,#0x5cc]        ;1494
0008e4  5c18              LDRB     r0,[r3,r0]            ;1494
0008e6  b310              CBZ      r0,|L18.2350|
                  |L18.2280|
0008e8  f8dd05ec          LDR      r0,[sp,#0x5ec]        ;1497
0008ec  f8b00186          LDRH     r0,[r0,#0x186]        ;1497
0008f0  b150              CBZ      r0,|L18.2312|
0008f2  f8dd0614          LDR      r0,[sp,#0x614]        ;1499
0008f6  f9900a64          LDRSB    r0,[r0,#0xa64]        ;1499
0008fa  2805              CMP      r0,#5                 ;1499
0008fc  da04              BGE      |L18.2312|
0008fe  f8dd2614          LDR      r2,[sp,#0x614]        ;1500
000902  1c40              ADDS     r0,r0,#1              ;1499
000904  f8820a64          STRB     r0,[r2,#0xa64]        ;1500
                  |L18.2312|
000908  f601300c          ADD      r0,r1,#0xb0c          ;1508
00090c  2100              MOVS     r1,#0                 ;1508
00090e  f7fffffe          BL       algorithm_coord_IsEdgeArea
000912  2800              CMP      r0,#0                 ;1508
000914  f8dd0614          LDR      r0,[sp,#0x614]        ;1508
000918  dd0f              BLE      |L18.2362|
00091a  68b1              LDR      r1,[r6,#8]            ;1509  ; thisModeConf
00091c  f9900a64          LDRSB    r0,[r0,#0xa64]        ;1509
000920  f89110d8          LDRB     r1,[r1,#0xd8]         ;1509
000924  4288              CMP      r0,r1                 ;1509
000926  f3408360          BLE.W    |L18.4074|
00092a  f000bcc0          B.W      |L18.4782|
                  |L18.2350|
00092e  f8dd25ec          LDR      r2,[sp,#0x5ec]        ;1495
000932  2000              MOVS     r0,#0                 ;1495
000934  f8a20186          STRH     r0,[r2,#0x186]        ;1495
000938  e7e6              B        |L18.2312|
                  |L18.2362|
00093a  f9901a64          LDRSB    r1,[r0,#0xa64]        ;1513
00093e  68b0              LDR      r0,[r6,#8]            ;1513  ; thisModeConf
000940  f89000d7          LDRB     r0,[r0,#0xd7]         ;1513
000944  4281              CMP      r1,r0                 ;1513
000946  f30084b2          BGT.W    |L18.4782|
00094a  f000bb4e          B.W      |L18.4074|
00094e  e7ff              B        |L18.2384|
                  |L18.2384|
000950  f8dd05ec          LDR      r0,[sp,#0x5ec]        ;1519
000954  f8b00392          LDRH     r0,[r0,#0x392]        ;1519
000958  b338              CBZ      r0,|L18.2474|
00095a  f8dd1614          LDR      r1,[sp,#0x614]        ;1523
00095e  f8d200c4          LDR      r0,[r2,#0xc4]         ;1521
000962  f9911a64          LDRSB    r1,[r1,#0xa64]        ;1523
000966  2905              CMP      r1,#5                 ;1523
000968  da04              BGE      |L18.2420|
00096a  f8dd3614          LDR      r3,[sp,#0x614]        ;1525
00096e  1c49              ADDS     r1,r1,#1              ;1523
000970  f8831a64          STRB     r1,[r3,#0xa64]        ;1525
                  |L18.2420|
000974  f89210c8          LDRB     r1,[r2,#0xc8]         ;1528
000978  b171              CBZ      r1,|L18.2456|
00097a  f8dd25c8          LDR      r2,[sp,#0x5c8]        ;1528
00097e  f8922135          LDRB     r2,[r2,#0x135]        ;1528
000982  2a05              CMP      r2,#5                 ;1528
000984  d806              BHI      |L18.2452|
000986  68f2              LDR      r2,[r6,#0xc]          ;1528  ; thisInfo
000988  f5025280          ADD      r2,r2,#0x1000         ;1528
00098c  f89220da          LDRB     r2,[r2,#0xda]         ;1528
000990  2a01              CMP      r2,#1                 ;1528
000992  d101              BNE      |L18.2456|
                  |L18.2452|
000994  eba00051          SUB      r0,r0,r1,LSR #1       ;1528
                  |L18.2456|
000998  f8dd15ec          LDR      r1,[sp,#0x5ec]        ;1530
00099c  f8b11186          LDRH     r1,[r1,#0x186]        ;1530
0009a0  4281              CMP      r1,r0                 ;1530
0009a2  f2808484          BGE.W    |L18.4782|
0009a6  f000bc79          B.W      |L18.4764|
                  |L18.2474|
0009aa  f9b240c2          LDRSH    r4,[r2,#0xc2]         ;1538
0009ae  f89200c8          LDRB     r0,[r2,#0xc8]         ;1540
0009b2  b168              CBZ      r0,|L18.2512|
0009b4  f8dd35c8          LDR      r3,[sp,#0x5c8]        ;1540
0009b8  f8933135          LDRB     r3,[r3,#0x135]        ;1540
0009bc  2b05              CMP      r3,#5                 ;1540
0009be  d806              BHI      |L18.2510|
0009c0  68f3              LDR      r3,[r6,#0xc]          ;1540  ; thisInfo
0009c2  f5035380          ADD      r3,r3,#0x1000         ;1540
0009c6  f89330da          LDRB     r3,[r3,#0xda]         ;1540
0009ca  2b01              CMP      r3,#1                 ;1540
0009cc  d100              BNE      |L18.2512|
                  |L18.2510|
0009ce  1a24              SUBS     r4,r4,r0              ;1540
                  |L18.2512|
0009d0  f8dd05ec          LDR      r0,[sp,#0x5ec]        ;1542
0009d4  f8b03186          LDRH     r3,[r0,#0x186]        ;1542
0009d8  f8d200bc          LDR      r0,[r2,#0xbc]         ;1542
0009dc  4283              CMP      r3,r0                 ;1542
0009de  f0c0845d          BCC.W    |L18.4764|
0009e2  f8dd05ec          LDR      r0,[sp,#0x5ec]        ;1542
0009e6  f8b0019a          LDRH     r0,[r0,#0x19a]        ;1542
0009ea  2800              CMP      r0,#0                 ;1542
0009ec  f0008456          BEQ.W    |L18.4764|
0009f0  2500              MOVS     r5,#0                 ;1544
0009f2  f89220c1          LDRB     r2,[r2,#0xc1]         ;1550
0009f6  4628              MOV      r0,r5                 ;1545
0009f8  b122              CBZ      r2,|L18.2564|
0009fa  f201204f          ADD      r0,r1,#0x24f          ;1553
0009fe  2100              MOVS     r1,#0                 ;1553
000a00  f7fffffe          BL       algorithm_coord_IsEdgeArea
                  |L18.2564|
000a04  f8dd1614          LDR      r1,[sp,#0x614]        ;1559
000a08  f9911a64          LDRSB    r1,[r1,#0xa64]        ;1559
000a0c  2905              CMP      r1,#5                 ;1559
000a0e  da04              BGE      |L18.2586|
000a10  f8dd2614          LDR      r2,[sp,#0x614]        ;1561
000a14  1c49              ADDS     r1,r1,#1              ;1559
000a16  f8821a64          STRB     r1,[r2,#0xa64]        ;1561
                  |L18.2586|
000a1a  f8dd15ec          LDR      r1,[sp,#0x5ec]        ;1564
000a1e  f8b111d6          LDRH     r1,[r1,#0x1d6]        ;1564
000a22  42a1              CMP      r1,r4                 ;1564
000a24  f340843a          BLE.W    |L18.4764|
000a28  f8dd15ec          LDR      r1,[sp,#0x5ec]        ;1566
000a2c  68b2              LDR      r2,[r6,#8]            ;1566  ; thisModeConf
000a2e  f8b11186          LDRH     r1,[r1,#0x186]        ;1566
000a32  f8cd2658          STR      r2,[sp,#0x658]        ;1566
000a36  f8d220b2          LDR      r2,[r2,#0xb2]         ;1566
000a3a  4291              CMP      r1,r2                 ;1566
000a3c  d305              BCC      |L18.2634|
000a3e  f8dd1658          LDR      r1,[sp,#0x658]        ;1569
000a42  f89110b6          LDRB     r1,[r1,#0xb6]         ;1569
000a46  180d              ADDS     r5,r1,r0              ;1569
000a48  e016              B        |L18.2680|
                  |L18.2634|
000a4a  f8dd2658          LDR      r2,[sp,#0x658]        ;1571
000a4e  f8d220b7          LDR      r2,[r2,#0xb7]         ;1571
000a52  4291              CMP      r1,r2                 ;1571
000a54  bf24              ITT      CS                    ;1574
000a56  f8dd1658          LDRCS    r1,[sp,#0x658]        ;1574
000a5a  f89110bb          LDRBCS   r1,[r1,#0xbb]         ;1574
000a5e  d20a              BCS      |L18.2678|
000a60  f8dd2658          LDR      r2,[sp,#0x658]        ;1576
000a64  f8d220bc          LDR      r2,[r2,#0xbc]         ;1576
000a68  4291              CMP      r1,r2                 ;1576
000a6a  bf24              ITT      CS                    ;1579
000a6c  f8dd1658          LDRCS    r1,[sp,#0x658]        ;1579
000a70  f89110c0          LDRBCS   r1,[r1,#0xc0]         ;1579
000a74  d300              BCC      |L18.2680|
                  |L18.2678|
000a76  180d              ADDS     r5,r1,r0              ;1579
                  |L18.2680|
000a78  f8dd0614          LDR      r0,[sp,#0x614]        ;1582
000a7c  f9900a64          LDRSB    r0,[r0,#0xa64]        ;1582
000a80  42a8              CMP      r0,r5                 ;1582
000a82  dc04              BGT      |L18.2702|
000a84  f8dd15ec          LDR      r1,[sp,#0x5ec]        ;1588
000a88  2000              MOVS     r0,#0                 ;1588
000a8a  f8a10186          STRH     r0,[r1,#0x186]        ;1588
                  |L18.2702|
000a8e  f8dd0658          LDR      r0,[sp,#0x658]        ;1625
000a92  f8b0020b          LDRH     r0,[r0,#0x20b]        ;1625
000a96  b930              CBNZ     r0,|L18.2726|
000a98  f8dd0658          LDR      r0,[sp,#0x658]        ;1625
000a9c  f890020d          LDRB     r0,[r0,#0x20d]        ;1625
000aa0  2800              CMP      r0,#0                 ;1625
000aa2  f0008404          BEQ.W    |L18.4782|
                  |L18.2726|
000aa6  f8dd0614          LDR      r0,[sp,#0x614]        ;1625
000aaa  f9900a64          LDRSB    r0,[r0,#0xa64]        ;1625
000aae  2805              CMP      r0,#5                 ;1625
000ab0  f28083fd          BGE.W    |L18.4782|
000ab4  f8dd0610          LDR      r0,[sp,#0x610]        ;1628
000ab8  f04f0a00          MOV      r10,#0                ;1632
000abc  f8d051ae          LDR      r5,[r0,#0x1ae]        ;1628
000ac0  f8dd05ec          LDR      r0,[sp,#0x5ec]        ;1631
000ac4  f99011ea          LDRSB    r1,[r0,#0x1ea]        ;1631
000ac8  4846              LDR      r0,|L18.3044|
000aca  180a              ADDS     r2,r1,r0              ;1631
000acc  f8dd15ec          LDR      r1,[sp,#0x5ec]        ;1631
000ad0  f99111eb          LDRSB    r1,[r1,#0x1eb]        ;1631
000ad4  ebc101c1          RSB      r1,r1,r1,LSL #3       ;1631
000ad8  eb010341          ADD      r3,r1,r1,LSL #1       ;1631
000adc  4942              LDR      r1,|L18.3048|
000ade  eb010183          ADD      r1,r1,r3,LSL #2       ;1631
000ae2  5c54              LDRB     r4,[r2,r1]            ;1631
000ae4  2101              MOVS     r1,#1                 ;1634
000ae6  f8cd15e0          STR      r1,[sp,#0x5e0]        ;1634
000aea  f8dd1610          LDR      r1,[sp,#0x610]        ;1636
000aee  f8cda65c          STR      r10,[sp,#0x65c]       ;1634
000af2  f99111ae          LDRSB    r1,[r1,#0x1ae]        ;1636
000af6  f8cd1668          STR      r1,[sp,#0x668]        ;1636
000afa  f8dd1610          LDR      r1,[sp,#0x610]        ;1636
000afe  f99111af          LDRSB    r1,[r1,#0x1af]        ;1636
000b02  f8cd1664          STR      r1,[sp,#0x664]        ;1636
000b06  bf00              NOP                            ;1636
                  |L18.2824|
000b08  f8dd15e0          LDR      r1,[sp,#0x5e0]        ;1636
000b0c  f8dd0668          LDR      r0,[sp,#0x668]        ;1636
000b10  1a40              SUBS     r0,r0,r1              ;1636
000b12  f8cd067c          STR      r0,[sp,#0x67c]        ;1636
000b16  2800              CMP      r0,#0                 ;1636
000b18  bf4c              ITE      MI                    ;1636
000b1a  2600              MOVMI    r6,#0                 ;1636
000b1c  4606              MOVPL    r6,r0                 ;1636
000b1e  f8dd0664          LDR      r0,[sp,#0x664]        ;1636
000b22  4408              ADD      r0,r0,r1              ;1636
000b24  f8cd0678          STR      r0,[sp,#0x678]        ;1636
000b28  282f              CMP      r0,#0x2f              ;1636
000b2a  bfa8              IT       GE                    ;1636
000b2c  202f              MOVGE    r0,#0x2f              ;1636
000b2e  42b0              CMP      r0,r6                 ;1636
000b30  db53              BLT      |L18.3034|
000b32  f8dd0610          LDR      r0,[sp,#0x610]        ;1638
000b36  f8dfe0ac          LDR      lr,|L18.3044|
000b3a  f3452b07          SBFX     r11,r5,#8,#8          ;1631
000b3e  f99001b0          LDRSB    r0,[r0,#0x1b0]        ;1638
000b42  1a40              SUBS     r0,r0,r1              ;1638
000b44  f8cd0680          STR      r0,[sp,#0x680]        ;1638
000b48  f8dd0610          LDR      r0,[sp,#0x610]        ;1638
000b4c  f99001b1          LDRSB    r0,[r0,#0x1b1]        ;1638
000b50  eb000901          ADD      r9,r0,r1              ;1638
000b54  1628              ASRS     r0,r5,#24             ;1631
000b56  f8cd05e8          STR      r0,[sp,#0x5e8]        ;1631
000b5a  f3454007          SBFX     r0,r5,#16,#8          ;1631
000b5e  f8cd05fc          STR      r0,[sp,#0x5fc]        ;1631
000b62  b268              SXTB     r0,r5                 ;1631
000b64  f8cd05f0          STR      r0,[sp,#0x5f0]        ;1631
                  |L18.2920|
000b68  f8dd0680          LDR      r0,[sp,#0x680]        ;1638
000b6c  2800              CMP      r0,#0                 ;1638
000b6e  bf48              IT       MI                    ;1638
000b70  2000              MOVMI    r0,#0                 ;1638
000b72  f1b90f53          CMP      r9,#0x53              ;1638
000b76  bfb4              ITE      LT                    ;1638
000b78  4649              MOVLT    r1,r9                 ;1638
000b7a  2153              MOVGE    r1,#0x53              ;1638
000b7c  4281              CMP      r1,r0                 ;1638
000b7e  db58              BLT      |L18.3122|
000b80  ebc601c6          RSB      r1,r6,r6,LSL #3       ;1642
000b84  eb010141          ADD      r1,r1,r1,LSL #1       ;1642
000b88  eb0e0281          ADD      r2,lr,r1,LSL #2       ;1642
000b8c  eb0e01c1          ADD      r1,lr,r1,LSL #3       ;1664
000b90  f1060801          ADD      r8,r6,#1              ;1650
000b94  f8cd2670          STR      r2,[sp,#0x670]        ;1664
000b98  f8cd166c          STR      r1,[sp,#0x66c]        ;1664
                  |L18.2972|
000b9c  45b3              CMP      r11,r6                ;1640
000b9e  bfa4              ITT      GE                    ;1640
000ba0  f8dd15f0          LDRGE    r1,[sp,#0x5f0]        ;1640
000ba4  428e              CMPGE    r6,r1                 ;1640
000ba6  db07              BLT      |L18.3000|
000ba8  f8dd15e8          LDR      r1,[sp,#0x5e8]        ;1640
000bac  4281              CMP      r1,r0                 ;1640
000bae  bfa4              ITT      GE                    ;1640
000bb0  f8dd15fc          LDRGE    r1,[sp,#0x5fc]        ;1640
000bb4  4288              CMPGE    r0,r1                 ;1640
000bb6  da34              BGE      |L18.3106|
                  |L18.3000|
000bb8  f8dd1670          LDR      r1,[sp,#0x670]        ;1642
000bbc  4401              ADD      r1,r1,r0              ;1642
000bbe  f5013188          ADD      r1,r1,#0x11000        ;1642
000bc2  f8911640          LDRB     r1,[r1,#0x640]        ;1642
000bc6  428c              CMP      r4,r1                 ;1643
000bc8  d019              BEQ      |L18.3070|
000bca  b1d1              CBZ      r1,|L18.3074|
000bcc  2912              CMP      r1,#0x12              ;1643
000bce  d03d              BEQ      |L18.3148|
000bd0  293f              CMP      r1,#0x3f              ;1643
000bd2  d016              BEQ      |L18.3074|
000bd4  2001              MOVS     r0,#1                 ;1645
000bd6  f8cd065c          STR      r0,[sp,#0x65c]        ;1645
                  |L18.3034|
000bda  e007              B        |L18.3052|
                  |L18.3036|
                          DCD      ||.data||
                  |L18.3040|
                          DCD      ||area_number.25||
                  |L18.3044|
                          DCD      FullSharedBuff
                  |L18.3048|
                          DCD      0x00011640
                  |L18.3052|
000bec  f8dd065c          LDR      r0,[sp,#0x65c]        ;1675
000bf0  ea50000a          ORRS     r0,r0,r10             ;1675
000bf4  d070              BEQ      |L18.3288|
000bf6  f8dd065c          LDR      r0,[sp,#0x65c]        ;1677
000bfa  b3e8              CBZ      r0,|L18.3192|
000bfc  e0f9              B        |L18.3570|
                  |L18.3070|
000bfe  2912              CMP      r1,#0x12              ;1648
000c00  d024              BEQ      |L18.3148|
                  |L18.3074|
000c02  f8dd166c          LDR      r1,[sp,#0x66c]        ;1664
000c06  f8dd2658          LDR      r2,[sp,#0x658]        ;1664
000c0a  eb010140          ADD      r1,r1,r0,LSL #1       ;1664
000c0e  f5014170          ADD      r1,r1,#0xf000         ;1664
000c12  f892220e          LDRB     r2,[r2,#0x20e]        ;1664
000c16  f9b116c0          LDRSH    r1,[r1,#0x6c0]        ;1664
000c1a  4291              CMP      r1,r2                 ;1664
000c1c  bfc8              IT       GT                    ;1665
000c1e  f04f0a01          MOVGT    r10,#1                ;1665
                  |L18.3106|
000c22  1c40              ADDS     r0,r0,#1              ;1665
000c24  f1b90f53          CMP      r9,#0x53              ;1665
000c28  bfb4              ITE      LT                    ;1665
000c2a  4649              MOVLT    r1,r9                 ;1665
000c2c  2153              MOVGE    r1,#0x53              ;1665
000c2e  4281              CMP      r1,r0                 ;1665
000c30  dab4              BGE      |L18.2972|
                  |L18.3122|
000c32  f8dd065c          LDR      r0,[sp,#0x65c]        ;1669
000c36  2801              CMP      r0,#1                 ;1669
000c38  d04e              BEQ      |L18.3288|
000c3a  f8dd0678          LDR      r0,[sp,#0x678]        ;1671
000c3e  1c76              ADDS     r6,r6,#1              ;1669
000c40  282f              CMP      r0,#0x2f              ;1671
000c42  bfa8              IT       GE                    ;1671
000c44  202f              MOVGE    r0,#0x2f              ;1671
000c46  42b0              CMP      r0,r6                 ;1671
000c48  da8e              BGE      |L18.2920|
000c4a  e7c6              B        |L18.3034|
                  |L18.3148|
000c4c  1e71              SUBS     r1,r6,#1              ;1650
000c4e  bf4c              ITE      MI                    ;1650
000c50  2200              MOVMI    r2,#0                 ;1650
000c52  460a              MOVPL    r2,r1                 ;1650
000c54  f1b80f2f          CMP      r8,#0x2f              ;1650
000c58  bfb4              ITE      LT                    ;1650
000c5a  4641              MOVLT    r1,r8                 ;1650
000c5c  212f              MOVGE    r1,#0x2f              ;1650
000c5e  4291              CMP      r1,r2                 ;1650
000c60  bfa8              IT       GE                    ;1652
000c62  1c47              ADDGE    r7,r0,#1              ;1652
000c64  dbcd              BLT      |L18.3074|
                  |L18.3174|
000c66  1e41              SUBS     r1,r0,#1              ;1652
000c68  bf48              IT       MI                    ;1652
000c6a  2100              MOVMI    r1,#0                 ;1652
000c6c  2f53              CMP      r7,#0x53              ;1652
000c6e  bfb4              ITE      LT                    ;1652
000c70  463b              MOVLT    r3,r7                 ;1652
000c72  2353              MOVGE    r3,#0x53              ;1652
000c74  428b              CMP      r3,r1                 ;1652
000c76  e000              B        |L18.3194|
                  |L18.3192|
000c78  e037              B        |L18.3306|
                  |L18.3194|
000c7a  db24              BLT      |L18.3270|
000c7c  ebc203c2          RSB      r3,r2,r2,LSL #3       ;1654
000c80  eb030343          ADD      r3,r3,r3,LSL #1       ;1654
000c84  eb0e0c83          ADD      r12,lr,r3,LSL #2      ;1654
                  |L18.3208|
000c88  eb0c0301          ADD      r3,r12,r1             ;1654
000c8c  f5033388          ADD      r3,r3,#0x11000        ;1654
000c90  f8933640          LDRB     r3,[r3,#0x640]        ;1654
000c94  429c              CMP      r4,r3                 ;1655
000c96  bf18              IT       NE                    ;1655
000c98  2b00              CMPNE    r3,#0                 ;1655
000c9a  d01e              BEQ      |L18.3290|
000c9c  2b12              CMP      r3,#0x12              ;1655
000c9e  bf18              IT       NE                    ;1655
000ca0  2b3f              CMPNE    r3,#0x3f              ;1655
000ca2  d01a              BEQ      |L18.3290|
000ca4  4593              CMP      r11,r2                ;1655
000ca6  bfa4              ITT      GE                    ;1655
000ca8  f8dd35f0          LDRGE    r3,[sp,#0x5f0]        ;1655
000cac  429a              CMPGE    r2,r3                 ;1655
000cae  db07              BLT      |L18.3264|
000cb0  f8dd35e8          LDR      r3,[sp,#0x5e8]        ;1655
000cb4  428b              CMP      r3,r1                 ;1655
000cb6  bfa4              ITT      GE                    ;1655
000cb8  f8dd35fc          LDRGE    r3,[sp,#0x5fc]        ;1655
000cbc  4299              CMPGE    r1,r3                 ;1655
000cbe  da0c              BGE      |L18.3290|
                  |L18.3264|
000cc0  2101              MOVS     r1,#1                 ;1657
000cc2  f8cd165c          STR      r1,[sp,#0x65c]        ;1657
                  |L18.3270|
000cc6  1c52              ADDS     r2,r2,#1              ;1657
000cc8  f1b80f2f          CMP      r8,#0x2f              ;1658
000ccc  bfb4              ITE      LT                    ;1658
000cce  4641              MOVLT    r1,r8                 ;1658
000cd0  212f              MOVGE    r1,#0x2f              ;1658
000cd2  4291              CMP      r1,r2                 ;1658
000cd4  dac7              BGE      |L18.3174|
000cd6  e794              B        |L18.3074|
                  |L18.3288|
000cd8  e08b              B        |L18.3570|
                  |L18.3290|
000cda  1c49              ADDS     r1,r1,#1              ;1658
000cdc  2f53              CMP      r7,#0x53              ;1658
000cde  bfb4              ITE      LT                    ;1658
000ce0  463b              MOVLT    r3,r7                 ;1658
000ce2  2353              MOVGE    r3,#0x53              ;1658
000ce4  428b              CMP      r3,r1                 ;1658
000ce6  dacf              BGE      |L18.3208|
000ce8  e7ed              B        |L18.3270|
                  |L18.3306|
000cea  f8dd067c          LDR      r0,[sp,#0x67c]        ;1679
000cee  2800              CMP      r0,#0                 ;1679
000cf0  bf4c              ITE      MI                    ;1679
000cf2  2100              MOVMI    r1,#0                 ;1679
000cf4  4601              MOVPL    r1,r0                 ;1679
000cf6  f8dd0678          LDR      r0,[sp,#0x678]        ;1679
000cfa  282f              CMP      r0,#0x2f              ;1679
000cfc  bfa8              IT       GE                    ;1679
000cfe  202f              MOVGE    r0,#0x2f              ;1679
000d00  4288              CMP      r0,r1                 ;1679
000d02  db6e              BLT      |L18.3554|
000d04  f8dd0610          LDR      r0,[sp,#0x610]        ;1638
000d08  f8dd25e0          LDR      r2,[sp,#0x5e0]        ;1638
000d0c  f8df95dc          LDR      r9,|L18.4844|
000d10  f99001b0          LDRSB    r0,[r0,#0x1b0]        ;1638
000d14  f8ddc658          LDR      r12,[sp,#0x658]       ;1631
000d18  eba00802          SUB      r8,r0,r2              ;1638
000d1c  f8dd0610          LDR      r0,[sp,#0x610]        ;1638
000d20  f99001b1          LDRSB    r0,[r0,#0x1b1]        ;1638
000d24  4402              ADD      r2,r2,r0              ;1638
000d26  bf00              NOP                            ;1680
                  |L18.3368|
000d28  f1b80f00          CMP      r8,#0                 ;1680
000d2c  bf4c              ITE      MI                    ;1680
000d2e  2000              MOVMI    r0,#0                 ;1680
000d30  4640              MOVPL    r0,r8                 ;1680
000d32  2a53              CMP      r2,#0x53              ;1680
000d34  bfb4              ITE      LT                    ;1680
000d36  4613              MOVLT    r3,r2                 ;1680
000d38  2353              MOVGE    r3,#0x53              ;1680
000d3a  4283              CMP      r3,r0                 ;1680
000d3c  db49              BLT      |L18.3538|
000d3e  ebc103c1          RSB      r3,r1,r1,LSL #3       ;1642
000d42  eb030343          ADD      r3,r3,r3,LSL #1       ;1642
000d46  eb090683          ADD      r6,r9,r3,LSL #2       ;1642
000d4a  eb0907c3          ADD      r7,r9,r3,LSL #3       ;1664
                  |L18.3406|
000d4e  1833              ADDS     r3,r6,r0              ;1682
000d50  f5033388          ADD      r3,r3,#0x11000        ;1682
000d54  f8933640          LDRB     r3,[r3,#0x640]        ;1682
000d58  2b00              CMP      r3,#0                 ;1683
000d5a  bf1c              ITT      NE                    ;1683
000d5c  2b12              CMPNE    r3,#0x12              ;1683
000d5e  2b3f              CMPNE    r3,#0x3f              ;1683
000d60  d130              BNE      |L18.3524|
000d62  f3452307          SBFX     r3,r5,#8,#8           ;1683
000d66  428b              CMP      r3,r1                 ;1683
000d68  bfa1              ITTTT    GE                    ;1683
000d6a  fa4ffb85          SXTBGE   r11,r5                ;1683
000d6e  4559              CMPGE    r1,r11                ;1683
000d70  ea4f6b25          ASRGE    r11,r5,#24            ;1683
000d74  4583              CMPGE    r11,r0                ;1683
000d76  db03              BLT      |L18.3456|
000d78  f3454b07          SBFX     r11,r5,#16,#8         ;1683
000d7c  4583              CMP      r11,r0                ;1683
000d7e  dd21              BLE      |L18.3524|
                  |L18.3456|
000d80  eb070a40          ADD      r10,r7,r0,LSL #1      ;1685
000d84  f50a4a70          ADD      r10,r10,#0xf000       ;1685
000d88  f89cb20e          LDRB     r11,[r12,#0x20e]      ;1686
000d8c  f9baa6c0          LDRSH    r10,[r10,#0x6c0]      ;1685
000d90  45da              CMP      r10,r11               ;1686
000d92  dd17              BLE      |L18.3524|
000d94  4299              CMP      r1,r3                 ;1688
000d96  bfa8              IT       GE                    ;1688
000d98  460b              MOVGE    r3,r1                 ;1688
000d9a  f363250f          BFI      r5,r3,#8,#8           ;1688
000d9e  b26b              SXTB     r3,r5                 ;1688
000da0  428b              CMP      r3,r1                 ;1689
000da2  bfc8              IT       GT                    ;1689
000da4  460b              MOVGT    r3,r1                 ;1689
000da6  f3630507          BFI      r5,r3,#0,#8           ;1689
000daa  162b              ASRS     r3,r5,#24             ;1689
000dac  4283              CMP      r3,r0                 ;1690
000dae  bfd8              IT       LE                    ;1690
000db0  4603              MOVLE    r3,r0                 ;1690
000db2  f363651f          BFI      r5,r3,#24,#8          ;1690
000db6  f3454307          SBFX     r3,r5,#16,#8          ;1690
000dba  4283              CMP      r3,r0                 ;1691
000dbc  bfc8              IT       GT                    ;1691
000dbe  4603              MOVGT    r3,r0                 ;1691
000dc0  f3634517          BFI      r5,r3,#16,#8          ;1691
                  |L18.3524|
000dc4  1c40              ADDS     r0,r0,#1              ;1691
000dc6  2a53              CMP      r2,#0x53              ;1691
000dc8  bfb4              ITE      LT                    ;1691
000dca  4613              MOVLT    r3,r2                 ;1691
000dcc  2353              MOVGE    r3,#0x53              ;1691
000dce  4283              CMP      r3,r0                 ;1691
000dd0  dabd              BGE      |L18.3406|
                  |L18.3538|
000dd2  f8dd0678          LDR      r0,[sp,#0x678]        ;1691
000dd6  1c49              ADDS     r1,r1,#1              ;1691
000dd8  282f              CMP      r0,#0x2f              ;1691
000dda  bfa8              IT       GE                    ;1691
000ddc  202f              MOVGE    r0,#0x2f              ;1691
000dde  4288              CMP      r0,r1                 ;1691
000de0  daa2              BGE      |L18.3368|
                  |L18.3554|
000de2  f8dd05e0          LDR      r0,[sp,#0x5e0]        ;1698
000de6  1c40              ADDS     r0,r0,#1              ;1698
000de8  f8cd05e0          STR      r0,[sp,#0x5e0]        ;1698
000dec  2804              CMP      r0,#4                 ;1698
000dee  f77fae8b          BLE      |L18.2824|
                  |L18.3570|
000df2  b268              SXTB     r0,r5                 ;1698
000df4  f8cd05e8          STR      r0,[sp,#0x5e8]        ;1702
000df8  300e              ADDS     r0,r0,#0xe            ;1702
000dfa  f3452107          SBFX     r1,r5,#8,#8           ;1698
000dfe  f8cd0668          STR      r0,[sp,#0x668]        ;1702
000e02  4281              CMP      r1,r0                 ;1702
000e04  bfc4              ITT      GT                    ;1702
000e06  f8dd05e8          LDRGT    r0,[sp,#0x5e8]        ;1702
000e0a  f100010e          ADDGT    r1,r0,#0xe            ;1702
000e0e  b248              SXTB     r0,r1                 ;1702
000e10  f360250f          BFI      r5,r0,#8,#8           ;1702
000e14  f3454607          SBFX     r6,r5,#16,#8          ;1702
000e18  f8cd05f8          STR      r0,[sp,#0x5f8]        ;1702
000e1c  f106010e          ADD      r1,r6,#0xe            ;1703
000e20  1628              ASRS     r0,r5,#24             ;1702
000e22  f8cd1664          STR      r1,[sp,#0x664]        ;1703
000e26  4288              CMP      r0,r1                 ;1703
000e28  bfc8              IT       GT                    ;1703
000e2a  f106000e          ADDGT    r0,r6,#0xe            ;1703
000e2e  b247              SXTB     r7,r0                 ;1703
000e30  f367651f          BFI      r5,r7,#24,#8          ;1703
000e34  f44f71e2          MOV      r1,#0x1c4             ;1714
000e38  4668              MOV      r0,sp                 ;1714
000e3a  f8cd55d8          STR      r5,[sp,#0x5d8]        ;1714
000e3e  f7fffffe          BL       __aeabi_memclr4
000e42  f8dd55d8          LDR      r5,[sp,#0x5d8]        ;1717
000e46  2200              MOVS     r2,#0                 ;1715
000e48  b269              SXTB     r1,r5                 ;1717
000e4a  f3452007          SBFX     r0,r5,#8,#8           ;1717
000e4e  4613              MOV      r3,r2                 ;1716
000e50  4288              CMP      r0,r1                 ;1717
000e52  bfa4              ITT      GE                    ;1631
000e54  f8dfb494          LDRGE    r11,|L18.4844|
000e58  46ee              MOVGE    lr,sp                 ;1713
000e5a  db2e              BLT      |L18.3770|
                  |L18.3676|
000e5c  4630              MOV      r0,r6                 ;1717
000e5e  4287              CMP      r7,r0                 ;1718
000e60  db26              BLT      |L18.3760|
000e62  ebc10cc1          RSB      r12,r1,r1,LSL #3      ;1642
000e66  eb0c0c4c          ADD      r12,r12,r12,LSL #1    ;1642
000e6a  eb0b058c          ADD      r5,r11,r12,LSL #2     ;1642
000e6e  eb0b08cc          ADD      r8,r11,r12,LSL #3     ;1664
000e72  f8ddc5e8          LDR      r12,[sp,#0x5e8]       ;1725
000e76  eba10c0c          SUB      r12,r1,r12            ;1725
000e7a  ebcc1c0c          RSB      r12,r12,r12,LSL #4    ;1725
000e7e  eb0e094c          ADD      r9,lr,r12,LSL #1      ;1725
000e82  bf00              NOP                            ;1720
                  |L18.3716|
000e84  eb050c00          ADD      r12,r5,r0             ;1720
000e88  f50c3c88          ADD      r12,r12,#0x11000      ;1720
000e8c  f89cc640          LDRB     r12,[r12,#0x640]      ;1720
000e90  4564              CMP      r4,r12                ;1721
000e92  bf18              IT       NE                    ;1721
000e94  f1bc0f00          CMPNE    r12,#0                ;1721
000e98  d07d              BEQ      |L18.3990|
000e9a  f1bc0f12          CMP      r12,#0x12             ;1721
000e9e  bf18              IT       NE                    ;1721
000ea0  f1bc0f3f          CMPNE    r12,#0x3f             ;1721
000ea4  d077              BEQ      |L18.3990|
000ea6  bf00              NOP                            ;1721
                  |L18.3752|
000ea8  f1000001          ADD      r0,r0,#1              ;1721
000eac  4287              CMP      r7,r0                 ;1728
000eae  dae9              BGE      |L18.3716|
                  |L18.3760|
000eb0  f8dd05f8          LDR      r0,[sp,#0x5f8]        ;1728
000eb4  1c49              ADDS     r1,r1,#1              ;1728
000eb6  4288              CMP      r0,r1                 ;1728
000eb8  dad0              BGE      |L18.3676|
                  |L18.3770|
000eba  fb93f8f2          SDIV     r8,r3,r2              ;1732
000ebe  f8ddc5e8          LDR      r12,[sp,#0x5e8]       ;1734
000ec2  f8cdc5d0          STR      r12,[sp,#0x5d0]       ;1734
000ec6  2000              MOVS     r0,#0                 ;1732
000ec8  f8dd35f8          LDR      r3,[sp,#0x5f8]        ;1734
000ecc  4601              MOV      r1,r0                 ;1732
000ece  4563              CMP      r3,r12                ;1734
000ed0  bfa8              IT       GE                    ;1735
000ed2  eba70e06          SUBGE    lr,r7,r6              ;1735
000ed6  db5c              BLT      |L18.3986|
                  |L18.3800|
000ed8  f1be0f00          CMP      lr,#0                 ;1735
000edc  dd39              BLE      |L18.3922|
000ede  f8ddc5d0          LDR      r12,[sp,#0x5d0]       ;1735
000ee2  f8dd35e8          LDR      r3,[sp,#0x5e8]        ;1735
000ee6  ebac0303          SUB      r3,r12,r3             ;1735
000eea  ebc31c03          RSB      r12,r3,r3,LSL #4      ;1735
000eee  466b              MOV      r3,sp                 ;1735
000ef0  eb03034c          ADD      r3,r3,r12,LSL #1      ;1735
000ef4  1e9b              SUBS     r3,r3,#2              ;1735
000ef6  f01e0f01          TST      lr,#1
000efa  d009              BEQ      |L18.3856|
000efc  f833cf02          LDRH     r12,[r3,#2]!          ;1738
000f00  ebac0c08          SUB      r12,r12,r8            ;1738
000f04  fb0cfc0c          MUL      r12,r12,r12           ;1738
000f08  eb1c0000          ADDS     r0,r12,r0             ;1738
000f0c  eb4171ec          ADC      r1,r1,r12,ASR #31     ;1738
                  |L18.3856|
000f10  f8b39002          LDRH     r9,[r3,#2]
000f14  f04f0c00          MOV      r12,#0
000f18  4665              MOV      r5,r12
000f1a  ea5f076e          ASRS     r7,lr,#1              ;1735
000f1e  d015              BEQ      |L18.3916|
                  |L18.3872|
000f20  f833af04          LDRH     r10,[r3,#4]!
000f24  eba90908          SUB      r9,r9,r8              ;1738
000f28  fb09f909          MUL      r9,r9,r9              ;1738
000f2c  eb190000          ADDS     r0,r9,r0              ;1738
000f30  eb4171e9          ADC      r1,r1,r9,ASR #31      ;1738
000f34  ebaa0a08          SUB      r10,r10,r8            ;1738
000f38  fb0afa0a          MUL      r10,r10,r10           ;1738
000f3c  eb1a0c0c          ADDS     r12,r10,r12           ;1738
000f40  f8b39002          LDRH     r9,[r3,#2]            ;1738
000f44  eb4575ea          ADC      r5,r5,r10,ASR #31     ;1738
000f48  1e7f              SUBS     r7,r7,#1              ;1738
000f4a  d1e9              BNE      |L18.3872|
                  |L18.3916|
000f4c  eb10000c          ADDS     r0,r0,r12             ;1738
000f50  4169              ADCS     r1,r1,r5              ;1738
                  |L18.3922|
000f52  f1be0f00          CMP      lr,#0                 ;1738
000f56  db12              BLT      |L18.3966|
000f58  f8ddc5d0          LDR      r12,[sp,#0x5d0]       ;1738
000f5c  f8dd35e8          LDR      r3,[sp,#0x5e8]        ;1738
000f60  ebac0303          SUB      r3,r12,r3             ;1738
000f64  ebc31c03          RSB      r12,r3,r3,LSL #4      ;1738
000f68  466b              MOV      r3,sp                 ;1738
000f6a  eb030c4c          ADD      r12,r3,r12,LSL #1     ;1738
000f6e  f83c301e          LDRH     r3,[r12,lr,LSL #1]    ;1738
000f72  eba30308          SUB      r3,r3,r8              ;1738
000f76  435b              MULS     r3,r3,r3              ;1738
000f78  1818              ADDS     r0,r3,r0              ;1738
000f7a  eb4171e3          ADC      r1,r1,r3,ASR #31      ;1738
                  |L18.3966|
000f7e  f8dd35d0          LDR      r3,[sp,#0x5d0]        ;1738
000f82  f1030301          ADD      r3,r3,#1              ;1738
000f86  f8cd35d0          STR      r3,[sp,#0x5d0]        ;1738
000f8a  f8ddc5f8          LDR      r12,[sp,#0x5f8]       ;1738
000f8e  459c              CMP      r12,r3                ;1738
000f90  daa2              BGE      |L18.3800|
                  |L18.3986|
000f92  17d3              ASRS     r3,r2,#31             ;1740
000f94  e000              B        |L18.3992|
                  |L18.3990|
000f96  e02e              B        |L18.4086|
                  |L18.3992|
000f98  f7fffffe          BL       __aeabi_uldivmod
000f9c  f8dd25d8          LDR      r2,[sp,#0x5d8]        ;1741
000fa0  2500              MOVS     r5,#0                 ;1749
000fa2  f3422307          SBFX     r3,r2,#8,#8           ;1741
000fa6  b252              SXTB     r2,r2                 ;1741
000fa8  1a9a              SUBS     r2,r3,r2              ;1741
000faa  1c53              ADDS     r3,r2,#1              ;1741
000fac  f8dd25d8          LDR      r2,[sp,#0x5d8]        ;1741
000fb0  ea4f6c22          ASR      r12,r2,#24            ;1741
000fb4  f3424207          SBFX     r2,r2,#16,#8          ;1741
000fb8  ebac0202          SUB      r2,r12,r2             ;1741
000fbc  1c52              ADDS     r2,r2,#1              ;1741
000fbe  435a              MULS     r2,r3,r2              ;1741
000fc0  4603              MOV      r3,r0                 ;1749
000fc2  f04f0c0a          MOV      r12,#0xa              ;1749
000fc6  fba3070c          UMULL    r0,r7,r3,r12          ;1749
000fca  fb01710c          MLA      r1,r1,r12,r7          ;1749
000fce  fb031105          MLA      r1,r3,r5,r1           ;1749
000fd2  17d3              ASRS     r3,r2,#31             ;1749
000fd4  f7fffffe          BL       __aeabi_uldivmod
000fd8  f8dd2658          LDR      r2,[sp,#0x658]        ;1749
000fdc  f8b2c20b          LDRH     r12,[r2,#0x20b]       ;1749
000fe0  ebb0000c          SUBS     r0,r0,r12             ;1749
000fe4  f1710000          SBCS     r0,r1,#0              ;1749
000fe8  d221              BCS      |L18.4142|
                  |L18.4074|
000fea  f8dd15ec          LDR      r1,[sp,#0x5ec]        ;1749
000fee  2000              MOVS     r0,#0                 ;1749
000ff0  f8a10186          STRH     r0,[r1,#0x186]        ;1749
000ff4  e15b              B        |L18.4782|
                  |L18.4086|
000ff6  eb080c40          ADD      r12,r8,r0,LSL #1      ;1723
000ffa  f50c4c70          ADD      r12,r12,#0xf000       ;1723
000ffe  f9bcc6c0          LDRSH    r12,[r12,#0x6c0]      ;1723
001002  f1bc0f00          CMP      r12,#0                ;1723
001006  bfb8              IT       LT                    ;1723
001008  f04f0c00          MOVLT    r12,#0                ;1723
00100c  f04f0a64          MOV      r10,#0x64             ;1724
001010  fb0cfa0a          MUL      r10,r12,r10           ;1724
001014  f8ddc5ec          LDR      r12,[sp,#0x5ec]       ;1724
001018  1c52              ADDS     r2,r2,#1              ;1727
00101a  f8bcc1d6          LDRH     r12,[r12,#0x1d6]      ;1724
00101e  fb9afcfc          SDIV     r12,r10,r12           ;1724
001022  eba00a06          SUB      r10,r0,r6             ;1725
001026  4463              ADD      r3,r3,r12             ;1727
001028  f829c01a          STRH     r12,[r9,r10,LSL #1]   ;1725
00102c  e73c              B        |L18.3752|
                  |L18.4142|
00102e  f8dd05ec          LDR      r0,[sp,#0x5ec]        ;1751
001032  f8b00186          LDRH     r0,[r0,#0x186]        ;1751
001036  2800              CMP      r0,#0                 ;1751
001038  d07d              BEQ      |L18.4406|
00103a  f8dd0658          LDR      r0,[sp,#0x658]        ;1751
00103e  f890020d          LDRB     r0,[r0,#0x20d]        ;1751
001042  2800              CMP      r0,#0                 ;1751
001044  d077              BEQ      |L18.4406|
001046  f8dd0668          LDR      r0,[sp,#0x668]        ;1755
00104a  282f              CMP      r0,#0x2f              ;1755
00104c  bfda              ITTE     LE                    ;1755
00104e  f8dd05e8          LDRLE    r0,[sp,#0x5e8]        ;1755
001052  300e              ADDLE    r0,r0,#0xe            ;1755
001054  202f              MOVGT    r0,#0x2f              ;1755
001056  b247              SXTB     r7,r0                 ;1755
001058  f8dd0664          LDR      r0,[sp,#0x664]        ;1756
00105c  2853              CMP      r0,#0x53              ;1756
00105e  bfcc              ITE      GT                    ;1756
001060  2053              MOVGT    r0,#0x53              ;1756
001062  f106000e          ADDLE    r0,r6,#0xe            ;1756
001066  b242              SXTB     r2,r0                 ;1756
001068  f8dd15e8          LDR      r1,[sp,#0x5e8]        ;1758
00106c  428f              CMP      r7,r1                 ;1758
00106e  db2e              BLT      |L18.4302|
001070  f8dfa278          LDR      r10,|L18.4844|
001074  46ee              MOV      lr,sp                 ;1713
001076  f04f0900          MOV      r9,#0                 ;1713
                  |L18.4218|
00107a  4630              MOV      r0,r6                 ;1713
00107c  4282              CMP      r2,r0                 ;1759
00107e  db23              BLT      |L18.4296|
001080  ebc103c1          RSB      r3,r1,r1,LSL #3       ;1642
001084  eb030343          ADD      r3,r3,r3,LSL #1       ;1642
001088  eb0a0583          ADD      r5,r10,r3,LSL #2      ;1642
00108c  eb0a08c3          ADD      r8,r10,r3,LSL #3      ;1664
001090  f8dd35e8          LDR      r3,[sp,#0x5e8]        ;1725
001094  1acb              SUBS     r3,r1,r3              ;1725
001096  ebc31303          RSB      r3,r3,r3,LSL #4       ;1725
00109a  eb0e0c43          ADD      r12,lr,r3,LSL #1      ;1725
                  |L18.4254|
00109e  182b              ADDS     r3,r5,r0              ;1761
0010a0  f5033388          ADD      r3,r3,#0x11000        ;1761
0010a4  f8933640          LDRB     r3,[r3,#0x640]        ;1761
0010a8  429c              CMP      r4,r3                 ;1762
0010aa  bf18              IT       NE                    ;1762
0010ac  2b00              CMPNE    r3,#0                 ;1762
0010ae  d07c              BEQ      |L18.4522|
0010b0  2b12              CMP      r3,#0x12              ;1762
0010b2  bf1e              ITTT     NE                    ;1762
0010b4  2b3f              CMPNE    r3,#0x3f              ;1762
0010b6  1b83              SUBNE    r3,r0,r6              ;1768
0010b8  f82c9013          STRHNE   r9,[r12,r3,LSL #1]    ;1768
0010bc  d075              BEQ      |L18.4522|
0010be  bf00              NOP                            ;1762
                  |L18.4288|
0010c0  f1000001          ADD      r0,r0,#1              ;1762
0010c4  4282              CMP      r2,r0                 ;1768
0010c6  daea              BGE      |L18.4254|
                  |L18.4296|
0010c8  1c49              ADDS     r1,r1,#1              ;1768
0010ca  428f              CMP      r7,r1                 ;1768
0010cc  dad5              BGE      |L18.4218|
                  |L18.4302|
0010ce  f8dd85e8          LDR      r8,[sp,#0x5e8]        ;1774
0010d2  2000              MOVS     r0,#0                 ;1773
0010d4  4547              CMP      r7,r8                 ;1774
0010d6  bfa8              IT       GE                    ;1735
0010d8  1b95              SUBGE    r5,r2,r6              ;1735
0010da  db5e              BLT      |L18.4506|
                  |L18.4316|
0010dc  2d00              CMP      r5,#0                 ;1774
0010de  dd40              BLE      |L18.4450|
0010e0  f8dd15e8          LDR      r1,[sp,#0x5e8]        ;1774
0010e4  f8dfc208          LDR      r12,|L18.4848|
0010e8  eba80101          SUB      r1,r8,r1              ;1774
0010ec  ebc11301          RSB      r3,r1,r1,LSL #4       ;1774
0010f0  4669              MOV      r1,sp                 ;1774
0010f2  eb010143          ADD      r1,r1,r3,LSL #1       ;1774
0010f6  eb0c0383          ADD      r3,r12,r3,LSL #2      ;1774
0010fa  1e89              SUBS     r1,r1,#2              ;1774
0010fc  f1a30c04          SUB      r12,r3,#4             ;1774
001100  f0150f01          TST      r5,#1
001104  d00a              BEQ      |L18.4380|
001106  f8bc3004          LDRH     r3,[r12,#4]           ;1776
00110a  884c              LDRH     r4,[r1,#2]            ;1776
00110c  b29b              UXTH     r3,r3                 ;1776
00110e  1ae3              SUBS     r3,r4,r3              ;1776
001110  bf48              IT       MI                    ;1776
001112  425b              RSBMI    r3,r3,#0              ;1776
001114  4418              ADD      r0,r0,r3              ;1776
001116  1c89              ADDS     r1,r1,#2              ;1776
001118  f10c0c04          ADD      r12,r12,#4            ;1776
                  |L18.4380|
00111c  884c              LDRH     r4,[r1,#2]
00111e  f8dca004          LDR      r10,[r12,#4]          ;1774
001122  f04f0900          MOV      r9,#0
001126  106b              ASRS     r3,r5,#1              ;1774
001128  d01a              BEQ      |L18.4448|
00112a  bf00              NOP      
                  |L18.4396|
00112c  f831ef04          LDRH     lr,[r1,#4]!
001130  f85cbf08          LDR      r11,[r12,#8]!
001134  e000              B        |L18.4408|
                  |L18.4406|
001136  e0ba              B        |L18.4782|
                  |L18.4408|
001138  fa1ffa8a          UXTH     r10,r10               ;1776
00113c  ebb4040a          SUBS     r4,r4,r10             ;1776
001140  bf48              IT       MI                    ;1776
001142  4264              RSBMI    r4,r4,#0              ;1776
001144  4420              ADD      r0,r0,r4              ;1776
001146  884c              LDRH     r4,[r1,#2]            ;1776
001148  fa1ffb8b          UXTH     r11,r11               ;1776
00114c  f8dca004          LDR      r10,[r12,#4]          ;1776
001150  ebbe0b0b          SUBS     r11,lr,r11            ;1776
001154  bf48              IT       MI                    ;1776
001156  f1cb0b00          RSBMI    r11,r11,#0            ;1776
00115a  44d9              ADD      r9,r9,r11             ;1776
00115c  1e5b              SUBS     r3,r3,#1              ;1776
00115e  d1e5              BNE      |L18.4396|
                  |L18.4448|
001160  4448              ADD      r0,r0,r9
                  |L18.4450|
001162  2d00              CMP      r5,#0                 ;1776
001164  db15              BLT      |L18.4498|
001166  f8dd15e8          LDR      r1,[sp,#0x5e8]        ;1776
00116a  466b              MOV      r3,sp                 ;1776
00116c  eba80101          SUB      r1,r8,r1              ;1776
001170  ebc11101          RSB      r1,r1,r1,LSL #4       ;1776
001174  eb030c41          ADD      r12,r3,r1,LSL #1      ;1776
001178  4b5d              LDR      r3,|L18.4848|
00117a  f83cc015          LDRH     r12,[r12,r5,LSL #1]   ;1776
00117e  eb030381          ADD      r3,r3,r1,LSL #2       ;1776
001182  f8331025          LDRH     r1,[r3,r5,LSL #2]     ;1776
001186  b289              UXTH     r1,r1                 ;1776
001188  ebbc0101          SUBS     r1,r12,r1             ;1776
00118c  bf48              IT       MI                    ;1776
00118e  4249              RSBMI    r1,r1,#0              ;1776
001190  4408              ADD      r0,r0,r1              ;1776
                  |L18.4498|
001192  f1080801          ADD      r8,r8,#1              ;1776
001196  4547              CMP      r7,r8                 ;1776
001198  daa0              BGE      |L18.4316|
                  |L18.4506|
00119a  f8dd15e8          LDR      r1,[sp,#0x5e8]        ;1779
00119e  1b92              SUBS     r2,r2,r6              ;1779
0011a0  1a79              SUBS     r1,r7,r1              ;1779
0011a2  1c49              ADDS     r1,r1,#1              ;1779
0011a4  1c52              ADDS     r2,r2,#1              ;1779
0011a6  4351              MULS     r1,r2,r1              ;1779
0011a8  e000              B        |L18.4524|
                  |L18.4522|
0011aa  e011              B        |L18.4560|
                  |L18.4524|
0011ac  eb000080          ADD      r0,r0,r0,LSL #2       ;1779
0011b0  0040              LSLS     r0,r0,#1              ;1779
0011b2  fb90f0f1          SDIV     r0,r0,r1              ;1779
0011b6  f8dd1658          LDR      r1,[sp,#0x658]        ;1783
0011ba  4c4e              LDR      r4,|L18.4852|
0011bc  f891120d          LDRB     r1,[r1,#0x20d]        ;1783
0011c0  4281              CMP      r1,r0                 ;1783
0011c2  da22              BGE      |L18.4618|
0011c4  f8dd0658          LDR      r0,[sp,#0x658]        ;1783
0011c8  f890020f          LDRB     r0,[r0,#0x20f]        ;1783
0011cc  b9e8              CBNZ     r0,|L18.4618|
0011ce  e017              B        |L18.4608|
                  |L18.4560|
0011d0  eb080340          ADD      r3,r8,r0,LSL #1       ;1764
0011d4  f5034370          ADD      r3,r3,#0xf000         ;1764
0011d8  f9b336c0          LDRSH    r3,[r3,#0x6c0]        ;1764
0011dc  2b00              CMP      r3,#0                 ;1764
0011de  bfb8              IT       LT                    ;1764
0011e0  2300              MOVLT    r3,#0                 ;1764
0011e2  f04f0b64          MOV      r11,#0x64             ;1765
0011e6  fb03fb0b          MUL      r11,r3,r11            ;1765
0011ea  f8dd35ec          LDR      r3,[sp,#0x5ec]        ;1765
0011ee  f8b331d6          LDRH     r3,[r3,#0x1d6]        ;1765
0011f2  fb9bf3f3          SDIV     r3,r11,r3             ;1765
0011f6  eba00b06          SUB      r11,r0,r6             ;1766
0011fa  f82c301b          STRH     r3,[r12,r11,LSL #1]   ;1766
0011fe  e75f              B        |L18.4288|
                  |L18.4608|
001200  f8dd15ec          LDR      r1,[sp,#0x5ec]        ;1785
001204  2000              MOVS     r0,#0                 ;1785
001206  f8a10186          STRH     r0,[r1,#0x186]        ;1785
                  |L18.4618|
00120a  f8dd0658          LDR      r0,[sp,#0x658]        ;1789
00120e  f890020f          LDRB     r0,[r0,#0x20f]        ;1789
001212  2801              CMP      r0,#1                 ;1789
001214  d002              BEQ      |L18.4636|
001216  2802              CMP      r0,#2                 ;1799
001218  d026              BEQ      |L18.4712|
00121a  e048              B        |L18.4782|
                  |L18.4636|
00121c  8865              LDRH     r5,[r4,#2]            ;1791  ; usPalmCandiShapeMatchingLearningCnt
00121e  b925              CBNZ     r5,|L18.4650|
001220  f44f7161          MOV      r1,#0x384             ;1791
001224  4832              LDR      r0,|L18.4848|
001226  f7fffffe          BL       __aeabi_memclr4
                  |L18.4650|
00122a  f8dfc0c4          LDR      r12,|L18.4848|
00122e  f8bd1000          LDRH     r1,[sp,#0]            ;1794
001232  466e              MOV      r6,sp                 ;1713
001234  f8dc0000          LDR      r0,[r12,#0]           ;1794  ; shape_array_table
001238  4408              ADD      r0,r0,r1              ;1794
00123a  f8cc0000          STR      r0,[r12,#0]           ;1792  ; shape_array_table
00123e  2001              MOVS     r0,#1                 ;1792
                  |L18.4672|
001240  eb060740          ADD      r7,r6,r0,LSL #1       ;1794
001244  f85c1020          LDR      r1,[r12,r0,LSL #2]    ;1794
001248  f8362010          LDRH     r2,[r6,r0,LSL #1]     ;1794
00124c  887f              LDRH     r7,[r7,#2]            ;1794
00124e  440a              ADD      r2,r2,r1              ;1794
001250  eb0c0180          ADD      r1,r12,r0,LSL #2      ;1794
001254  684b              LDR      r3,[r1,#4]            ;1794
001256  f84c2020          STR      r2,[r12,r0,LSL #2]    ;1794
00125a  443b              ADD      r3,r3,r7              ;1794
00125c  1c80              ADDS     r0,r0,#2              ;1794
00125e  604b              STR      r3,[r1,#4]            ;1794
001260  28e1              CMP      r0,#0xe1              ;1794
001262  dbed              BLT      |L18.4672|
001264  1c68              ADDS     r0,r5,#1              ;1797
001266  e017              B        |L18.4760|
                  |L18.4712|
001268  8863              LDRH     r3,[r4,#2]            ;1799  ; usPalmCandiShapeMatchingLearningCnt
00126a  b303              CBZ      r3,|L18.4782|
00126c  4d20              LDR      r5,|L18.4848|
00126e  6828              LDR      r0,[r5,#0]            ;1803  ; shape_array_table
001270  fbb0f0f3          UDIV     r0,r0,r3              ;1803
001274  6028              STR      r0,[r5,#0]            ;1801  ; shape_array_table
001276  2001              MOVS     r0,#1                 ;1801
                  |L18.4728|
001278  f8551020          LDR      r1,[r5,r0,LSL #2]     ;1803
00127c  fbb1fcf3          UDIV     r12,r1,r3             ;1803
001280  eb050180          ADD      r1,r5,r0,LSL #2       ;1803
001284  684a              LDR      r2,[r1,#4]            ;1803
001286  f845c020          STR      r12,[r5,r0,LSL #2]    ;1803
00128a  fbb2f2f3          UDIV     r2,r2,r3              ;1803
00128e  1c80              ADDS     r0,r0,#2              ;1803
001290  604a              STR      r2,[r1,#4]            ;1803
001292  28e1              CMP      r0,#0xe1              ;1803
001294  dbf0              BLT      |L18.4728|
001296  2000              MOVS     r0,#0                 ;1806
                  |L18.4760|
001298  8060              STRH     r0,[r4,#2]            ;1797
00129a  e008              B        |L18.4782|
                  |L18.4764|
00129c  f8dd15ec          LDR      r1,[sp,#0x5ec]        ;1814
0012a0  2000              MOVS     r0,#0                 ;1814
0012a2  f8a10186          STRH     r0,[r1,#0x186]        ;1814
0012a6  f8dd1614          LDR      r1,[sp,#0x614]        ;1815
0012aa  f8810a64          STRB     r0,[r1,#0xa64]        ;1815
                  |L18.4782|
0012ae  f8dd1614          LDR      r1,[sp,#0x614]        ;1826
0012b2  2000              MOVS     r0,#0                 ;1826
0012b4  f8810b02          STRB     r0,[r1,#0xb02]        ;1826
0012b8  e00b              B        |L18.4818|
                  |L18.4794|
0012ba  f8dd25cc          LDR      r2,[sp,#0x5cc]        ;1859
0012be  f8dd05c8          LDR      r0,[sp,#0x5c8]        ;1859
0012c2  2100              MOVS     r1,#0                 ;1859
0012c4  4410              ADD      r0,r0,r2              ;1859
0012c6  f8801a5a          STRB     r1,[r0,#0xa5a]        ;1859
0012ca  f8801a64          STRB     r1,[r0,#0xa64]        ;1860
0012ce  f8801b02          STRB     r1,[r0,#0xb02]        ;1861
                  |L18.4818|
0012d2  f8dd05cc          LDR      r0,[sp,#0x5cc]        ;1861
0012d6  1e41              SUBS     r1,r0,#1              ;1861
0012d8  b2c9              UXTB     r1,r1                 ;1861
0012da  f8cd15cc          STR      r1,[sp,#0x5cc]        ;1861
0012de  f4bfa9fd          BCS      |L18.1756|
0012e2  f20d6d94          ADD      sp,sp,#0x694
0012e6  e8bd8ff0          POP      {r4-r11,pc}
;;;1866   
                          ENDP

0012ea  0000              DCW      0x0000
                  |L18.4844|
                          DCD      FullSharedBuff
                  |L18.4848|
                          DCD      shape_array_table
                  |L18.4852|
                          DCD      ||.data||

                          AREA ||i.algorithm_label_EdgeExpand_Finger||, CODE, READONLY, ALIGN=2

                  algorithm_label_EdgeExpand_Finger PROC
;;;3596   int max_d = 100;
;;;3597   void algorithm_label_EdgeExpand_Finger(int mode)
000000  e92d4ff0          PUSH     {r4-r11,lr}
;;;3598   {
000004  b09a              SUB      sp,sp,#0x68
;;;3599       uint8_t rLabel_val;
;;;3600   	int l, c, r, apply_r, apply_c, search_r = -1, search_c = -1, search_c1,search_r1, tmp, edge_sum = 0;
;;;3601   	uint16_t offset_r = 0, offset_c = 0, scale_r = 0, scale_c = 0;
000006  2000              MOVS     r0,#0
000008  9008              STR      r0,[sp,#0x20]
00000a  9009              STR      r0,[sp,#0x24]
00000c  9003              STR      r0,[sp,#0xc]
;;;3602   	int32_t _d,_d1,_d2;	
;;;3603   	tLabelInfo_t	*temp_label = &thisInfo->tLabel;
00000e  9002              STR      r0,[sp,#8]
000010  48f2              LDR      r0,|L19.988|
000012  68c0              LDR      r0,[r0,#0xc]  ; thisInfo
000014  3045              ADDS     r0,r0,#0x45
;;;3604   	
;;;3605   	for(l=temp_label->ucNum;l--;)
000016  9011              STR      r0,[sp,#0x44]
000018  7800              LDRB     r0,[r0,#0]
00001a  1e41              SUBS     r1,r0,#1
00001c  9106              STR      r1,[sp,#0x18]         ;3603
00001e  49ef              LDR      r1,|L19.988|
;;;3606   	{
;;;3607   		if( temp_label->tTable[l].ulStrength )
;;;3608   		{
;;;3609   			search_r = -1, search_c = -1;
;;;3610   			if(temp_label->tTable[l].tMaxCell.r <= 1){
;;;3611   				search_r = 0, search_r1 = 1, apply_r = -1;
;;;3612   				offset_r = thisModeConf->EdgeExpand.usTopEdgeExpand_Offset;
;;;3613   				scale_r  = thisModeConf->EdgeExpand.usTopEdgeExpand_Scale;
;;;3614   			}
;;;3615   
;;;3616   			if(temp_label->tTable[l].tMaxCell.r >= ROW_MAX-2){
;;;3617   				search_r = ROW_MAX-1, search_r1 = ROW_MAX-2, apply_r = ROW_MAX;
;;;3618   				offset_r = thisModeConf->EdgeExpand.usBottomEdgeExpand_Offset;
;;;3619   				scale_r	 = thisModeConf->EdgeExpand.usBottomEdgeExpand_Scale;
;;;3620   			}
;;;3621   
;;;3622   			if(temp_label->tTable[l].tMaxCell.c <= 1){
;;;3623   				search_c = 0, search_c1 = 1, apply_c = -1;
;;;3624   				offset_c = thisModeConf->EdgeExpand.usLeftEdgeExpand_Offset;
;;;3625   				scale_c  = thisModeConf->EdgeExpand.usLeftEdgeExpand_Scale;
;;;3626   			}
;;;3627   
;;;3628   			if(temp_label->tTable[l].tMaxCell.c >= COL_MAX-2){
;;;3629   				search_c = COL_MAX-1, search_c1 = COL_MAX-2, apply_c = COL_MAX;
;;;3630   				offset_c = thisModeConf->EdgeExpand.usRightEdgeExpand_Offset;
000020  6889              LDR      r1,[r1,#8]
000022  9113              STR      r1,[sp,#0x4c]
000024  bf24              ITT      CS                    ;3607
000026  9110              STRCS    r1,[sp,#0x40]         ;3607
000028  9806              LDRCS    r0,[sp,#0x18]         ;3607
00002a  f0c081b0          BCC.W    |L19.910|
00002e  bf00              NOP                            ;3607
                  |L19.48|
000030  ebc001c0          RSB      r1,r0,r0,LSL #3       ;3607
000034  eb011140          ADD      r1,r1,r0,LSL #5       ;3607
000038  9811              LDR      r0,[sp,#0x44]         ;3607
00003a  4408              ADD      r0,r0,r1              ;3607
00003c  6941              LDR      r1,[r0,#0x14]         ;3607
00003e  2900              CMP      r1,#0                 ;3607
000040  f00081a0          BEQ.W    |L19.900|
000044  f04f33ff          MOV      r3,#0xffffffff        ;3609
000048  9314              STR      r3,[sp,#0x50]         ;3610
00004a  f990200b          LDRSB    r2,[r0,#0xb]          ;3610
00004e  2a01              CMP      r2,#1                 ;3610
000050  dc14              BGT      |L19.124|
000052  f04f0c01          MOV      r12,#1                ;3611
000056  f8cdc048          STR      r12,[sp,#0x48]        ;3611
00005a  f04f3cff          MOV      r12,#0xffffffff       ;3611
00005e  f8cdc02c          STR      r12,[sp,#0x2c]        ;3611
000062  f8ddc040          LDR      r12,[sp,#0x40]        ;3612
000066  2300              MOVS     r3,#0                 ;3611
000068  f8bcc106          LDRH     r12,[r12,#0x106]      ;3612
00006c  f8cdc024          STR      r12,[sp,#0x24]        ;3612
000070  f8ddc040          LDR      r12,[sp,#0x40]        ;3613
000074  f8bcc10e          LDRH     r12,[r12,#0x10e]      ;3613
000078  f8cdc00c          STR      r12,[sp,#0xc]         ;3613
                  |L19.124|
00007c  2a2e              CMP      r2,#0x2e              ;3616
00007e  db0c              BLT      |L19.154|
000080  222e              MOVS     r2,#0x2e              ;3617
000082  232f              MOVS     r3,#0x2f              ;3617
000084  9212              STR      r2,[sp,#0x48]         ;3617
000086  2230              MOVS     r2,#0x30              ;3617
000088  920b              STR      r2,[sp,#0x2c]         ;3617
00008a  9a10              LDR      r2,[sp,#0x40]         ;3618
00008c  f8b22108          LDRH     r2,[r2,#0x108]        ;3618
000090  9209              STR      r2,[sp,#0x24]         ;3618
000092  9a10              LDR      r2,[sp,#0x40]         ;3619
000094  f8b22110          LDRH     r2,[r2,#0x110]        ;3619
000098  9203              STR      r2,[sp,#0xc]          ;3619
                  |L19.154|
00009a  f990200a          LDRSB    r2,[r0,#0xa]          ;3622
00009e  2a01              CMP      r2,#1                 ;3622
0000a0  dc17              BGT      |L19.210|
0000a2  f04f0c00          MOV      r12,#0                ;3623
0000a6  f8cdc050          STR      r12,[sp,#0x50]        ;3623
0000aa  f04f0c01          MOV      r12,#1                ;3623
0000ae  f8cdc030          STR      r12,[sp,#0x30]        ;3623
0000b2  f04f3cff          MOV      r12,#0xffffffff       ;3623
0000b6  f8cdc028          STR      r12,[sp,#0x28]        ;3623
0000ba  f8ddc040          LDR      r12,[sp,#0x40]        ;3624
0000be  f8bcc102          LDRH     r12,[r12,#0x102]      ;3624
0000c2  f8cdc020          STR      r12,[sp,#0x20]        ;3624
0000c6  f8ddc040          LDR      r12,[sp,#0x40]        ;3625
0000ca  f8bcc10a          LDRH     r12,[r12,#0x10a]      ;3625
0000ce  f8cdc008          STR      r12,[sp,#8]           ;3625
                  |L19.210|
0000d2  2a52              CMP      r2,#0x52              ;3628
0000d4  db0d              BLT      |L19.242|
0000d6  2253              MOVS     r2,#0x53              ;3629
0000d8  9214              STR      r2,[sp,#0x50]         ;3629
0000da  2252              MOVS     r2,#0x52              ;3629
0000dc  920c              STR      r2,[sp,#0x30]         ;3629
0000de  2254              MOVS     r2,#0x54              ;3629
0000e0  920a              STR      r2,[sp,#0x28]         ;3629
0000e2  9a10              LDR      r2,[sp,#0x40]
0000e4  f8b22104          LDRH     r2,[r2,#0x104]
0000e8  9208              STR      r2,[sp,#0x20]
;;;3631   				scale_c  = thisModeConf->EdgeExpand.usRightEdgeExpand_Scale;
0000ea  9a10              LDR      r2,[sp,#0x40]
0000ec  f8b2210c          LDRH     r2,[r2,#0x10c]
0000f0  9202              STR      r2,[sp,#8]
                  |L19.242|
;;;3632   			}
;;;3633   			
;;;3634   			if(thisModeConf->EdgeExpand.usLabelEdgeExpandMode == 1)
0000f2  9a10              LDR      r2,[sp,#0x40]
0000f4  f8b22100          LDRH     r2,[r2,#0x100]
0000f8  2a01              CMP      r2,#1
0000fa  d10f              BNE      |L19.284|
;;;3635   			{
;;;3636   				if(search_r == -1 && search_c == -1)
0000fc  f1b33fff          CMP      r3,#0xffffffff
000100  bf04              ITT      EQ
000102  9a14              LDREQ    r2,[sp,#0x50]
000104  f1b23fff          CMPEQ    r2,#0xffffffff
000108  f0008158          BEQ.W    |L19.956|
;;;3637   				{
;;;3638   					if(max_d < temp_label->tTable[l].ulStrength)
;;;3639   					{
;;;3640   						max_d = temp_label->tTable[l].ulStrength;
;;;3641   					}
;;;3642   				}
;;;3643   				else if(max_d == 0)
00010c  4ab3              LDR      r2,|L19.988|
00010e  f8d2c018          LDR      r12,[r2,#0x18]  ; max_d
000112  f1bc0f00          CMP      r12,#0
000116  bf04              ITT      EQ
000118  3164              ADDEQ    r1,r1,#0x64
;;;3644   				{
;;;3645   					max_d = temp_label->tTable[l].ulStrength + 100;
00011a  6191              STREQ    r1,[r2,#0x18]  ; max_d
                  |L19.284|
;;;3646   				}
;;;3647   			}
;;;3648   			
;;;3649   			if(search_r != -1)													//Top, bottom edge
00011c  f1b33fff          CMP      r3,#0xffffffff
000120  d07e              BEQ      |L19.544|
;;;3650   			{
;;;3651   				_d =_d1 =_d2 = 0;
;;;3652   				
;;;3653   				if(!(offset_r==0 && scale_r==0))
000122  9a03              LDR      r2,[sp,#0xc]
000124  9909              LDR      r1,[sp,#0x24]
000126  4311              ORRS     r1,r1,r2
000128  d07a              BEQ      |L19.544|
;;;3654   				{
;;;3655   					edge_sum = 0;
;;;3656   					for(c = temp_label->tTable[l].tRect.cs; c <= temp_label->tTable[l].tRect.ce; c++)
00012a  f9905004          LDRSB    r5,[r0,#4]
00012e  f9901005          LDRSB    r1,[r0,#5]
000132  f04f0800          MOV      r8,#0                 ;3655
000136  eba10905          SUB      r9,r1,r5
00013a  f1090601          ADD      r6,r9,#1
00013e  2e00              CMP      r6,#0
000140  dd21              BLE      |L19.390|
000142  ebc301c3          RSB      r1,r3,r3,LSL #3
000146  4aa6              LDR      r2,|L19.992|
000148  eb010c41          ADD      r12,r1,r1,LSL #1
00014c  eb02048c          ADD      r4,r2,r12,LSL #2
000150  1961              ADDS     r1,r4,r5
000152  eb020ccc          ADD      r12,r2,r12,LSL #3
000156  eb0c0c45          ADD      r12,r12,r5,LSL #1
00015a  f24f62c0          MOV      r2,#0xf6c0
00015e  9c06              LDR      r4,[sp,#0x18]         ;3600
000160  4462              ADD      r2,r2,r12
000162  f5013180          ADD      r1,r1,#0x10000        ;3600
000166  46b4              MOV      r12,r6
000168  f50151b2          ADD      r1,r1,#0x1640         ;3600
00016c  f1140401          ADDS.W   r4,r4,#1              ;3600
                  |L19.368|
;;;3657   					{
;;;3658   						if(HAL_READ_LABEL_IMAGE(search_r, c) == l+1){
000170  f8117b01          LDRB     r7,[r1],#1
000174  42a7              CMP      r7,r4
;;;3659   							edge_sum += HAL_READ_DELTA_IMAGE(search_r, c);
000176  bf04              ITT      EQ
000178  f9b27000          LDRSHEQ  r7,[r2,#0]
00017c  44b8              ADDEQ    r8,r8,r7
00017e  1c92              ADDS     r2,r2,#2
000180  f1bc0c01          SUBS     r12,r12,#1
000184  d1f4              BNE      |L19.368|
                  |L19.390|
;;;3660   						}
;;;3661   					}
;;;3662   					
;;;3663   					for(c = temp_label->tTable[l].tRect.cs; c <= temp_label->tTable[l].tRect.ce; c++)	//Column
000186  9507              STR      r5,[sp,#0x1c]
000188  2e00              CMP      r6,#0
00018a  dd63              BLE      |L19.596|
00018c  ebc301c3          RSB      r1,r3,r3,LSL #3
000190  4a93              LDR      r2,|L19.992|
000192  eb010141          ADD      r1,r1,r1,LSL #1
000196  eb020c81          ADD      r12,r2,r1,LSL #2
00019a  eb0c0305          ADD      r3,r12,r5
00019e  f5033480          ADD      r4,r3,#0x10000
0001a2  eb0203c1          ADD      r3,r2,r1,LSL #3
0001a6  eb030145          ADD      r1,r3,r5,LSL #1
0001aa  f24f63c0          MOV      r3,#0xf6c0
0001ae  18cf              ADDS     r7,r1,r3
0001b0  9912              LDR      r1,[sp,#0x48]
0001b2  f8dfc228          LDR      r12,|L19.988|
0001b6  ebc101c1          RSB      r1,r1,r1,LSL #3
0001ba  eb010141          ADD      r1,r1,r1,LSL #1
0001be  eb0202c1          ADD      r2,r2,r1,LSL #3
0001c2  eb020145          ADD      r1,r2,r5,LSL #1
0001c6  18ce              ADDS     r6,r1,r3
0001c8  9906              LDR      r1,[sp,#0x18]         ;3605
0001ca  f50454b2          ADD      r4,r4,#0x1640
0001ce  2500              MOVS     r5,#0
0001d0  f1090a01          ADD      r10,r9,#1
0001d4  f1010b01          ADD      r11,r1,#1             ;3605
                  |L19.472|
;;;3664   					{
;;;3665   						rLabel_val = HAL_READ_LABEL_IMAGE(search_r, c);
;;;3666   						
;;;3667   						if(rLabel_val == l+1)
0001d8  f8141b01          LDRB     r1,[r4],#1
0001dc  4559              CMP      r1,r11
0001de  d133              BNE      |L19.584|
;;;3668   						{
;;;3669   							_d2 = 0;
;;;3670   							{
;;;3671   								_d = HAL_READ_DELTA_IMAGE(search_r, c);
;;;3672   								_d1 = HAL_READ_DELTA_IMAGE(search_r1, c);
0001e0  f9b61000          LDRSH    r1,[r6,#0]
0001e4  2200              MOVS     r2,#0                 ;3669
0001e6  f9b73000          LDRSH    r3,[r7,#0]            ;3671
;;;3673   							}
;;;3674   							
;;;3675   							if(_d1 < 0)	_d1 = 0;
0001ea  2900              CMP      r1,#0
0001ec  f2c080ec          BLT.W    |L19.968|
                  |L19.496|
;;;3676   							if(max_d < _d + _d1)	max_d = _d + _d1;
0001f0  f8dce018          LDR      lr,[r12,#0x18]  ; max_d
0001f4  eb030901          ADD      r9,r3,r1
0001f8  45f1              CMP      r9,lr
0001fa  f30080e7          BGT.W    |L19.972|
                  |L19.510|
;;;3677   							
;;;3678   							if(_d > _d1)
0001fe  428b              CMP      r3,r1
000200  dd14              BLE      |L19.556|
;;;3679   							{
;;;3680   								tmp = max_d - (_d + _d1);
000202  f8dc2018          LDR      r2,[r12,#0x18]  ; max_d
000206  eba20209          SUB      r2,r2,r9
;;;3681   								if(tmp < 0)	tmp = 0;
;;;3682   								
;;;3683   								_d2 = tmp * _d * (_d - _d1) / (edge_sum * (_d + _d1));
00020a  2a00              CMP      r2,#0
00020c  bfd8              IT       LE
00020e  2200              MOVLE    r2,#0
000210  435a              MULS     r2,r3,r2
000212  1a59              SUBS     r1,r3,r1
000214  4351              MULS     r1,r2,r1
000216  fb09f208          MUL      r2,r9,r8
00021a  fb91f1f2          SDIV     r1,r1,r2
;;;3684   								_d2 = ((_d2 * scale_r)>>7) - offset_r;
00021e  e000              B        |L19.546|
                  |L19.544|
000220  e018              B        |L19.596|
                  |L19.546|
000222  9a03              LDR      r2,[sp,#0xc]
000224  434a              MULS     r2,r1,r2
000226  9909              LDR      r1,[sp,#0x24]
000228  ebc112e2          RSB      r2,r1,r2,ASR #7
                  |L19.556|
;;;3685   							}
;;;3686   							
;;;3687   							temp_label->tTable[l].tCoord.x	+= c * _d2;
00022c  9907              LDR      r1,[sp,#0x1c]
00022e  68c3              LDR      r3,[r0,#0xc]
000230  4429              ADD      r1,r1,r5
000232  fb013102          MLA      r1,r1,r2,r3
000236  60c1              STR      r1,[r0,#0xc]
;;;3688   							temp_label->tTable[l].tCoord.y	+= apply_r * _d2;
000238  6903              LDR      r3,[r0,#0x10]
00023a  990b              LDR      r1,[sp,#0x2c]
00023c  fb013102          MLA      r1,r1,r2,r3
000240  6101              STR      r1,[r0,#0x10]
;;;3689   							temp_label->tTable[l].ulExtStrength += _d2;
000242  6981              LDR      r1,[r0,#0x18]
000244  4411              ADD      r1,r1,r2
000246  6181              STR      r1,[r0,#0x18]
                  |L19.584|
000248  1c6d              ADDS     r5,r5,#1
00024a  1cb6              ADDS     r6,r6,#2
00024c  1cbf              ADDS     r7,r7,#2
00024e  f1ba0a01          SUBS     r10,r10,#1
;;;3690   						}
;;;3691   					}
000252  d1c1              BNE      |L19.472|
                  |L19.596|
;;;3692   				}
;;;3693   			}
;;;3694   			
;;;3695   			if(search_c != -1)													//Left, right edge
000254  9914              LDR      r1,[sp,#0x50]
000256  f1b13fff          CMP      r1,#0xffffffff
00025a  d07d              BEQ      |L19.856|
;;;3696   			{
;;;3697   				_d =_d1 =_d2 = 0;
;;;3698   				
;;;3699   				if(!(offset_c==0 && scale_c==0))
00025c  9a02              LDR      r2,[sp,#8]
00025e  9908              LDR      r1,[sp,#0x20]
000260  4311              ORRS     r1,r1,r2
000262  d079              BEQ      |L19.856|
;;;3700   				{
;;;3701   					edge_sum = 0;
;;;3702   					for(r = temp_label->tTable[l].tRect.rs; r <= temp_label->tTable[l].tRect.re; r++)
000264  f9904002          LDRSB    r4,[r0,#2]
000268  f9901003          LDRSB    r1,[r0,#3]
00026c  f04f0800          MOV      r8,#0                 ;3701
000270  eba10904          SUB      r9,r1,r4
000274  f1090501          ADD      r5,r9,#1
000278  2d00              CMP      r5,#0
00027a  dd23              BLE      |L19.708|
00027c  ebc401c4          RSB      r1,r4,r4,LSL #3
000280  eb010241          ADD      r2,r1,r1,LSL #1
000284  4b56              LDR      r3,|L19.992|
000286  9914              LDR      r1,[sp,#0x50]
000288  eb030c82          ADD      r12,r3,r2,LSL #2
00028c  eb0303c2          ADD      r3,r3,r2,LSL #3
000290  9a14              LDR      r2,[sp,#0x50]
000292  4461              ADD      r1,r1,r12
000294  eb030342          ADD      r3,r3,r2,LSL #1
000298  f24f62c0          MOV      r2,#0xf6c0
00029c  f8ddc018          LDR      r12,[sp,#0x18]        ;3600
0002a0  441a              ADD      r2,r2,r3
0002a2  f5013180          ADD      r1,r1,#0x10000        ;3600
0002a6  462b              MOV      r3,r5
0002a8  f50151b2          ADD      r1,r1,#0x1640         ;3600
0002ac  f10c0c01          ADD      r12,r12,#1            ;3600
                  |L19.688|
;;;3703   					{
;;;3704   						if(HAL_READ_LABEL_IMAGE(r, search_c) == l+1){
0002b0  780e              LDRB     r6,[r1,#0]
0002b2  4566              CMP      r6,r12
;;;3705   							edge_sum += HAL_READ_DELTA_IMAGE(r, search_c);
0002b4  bf04              ITT      EQ
0002b6  f9b26000          LDRSHEQ  r6,[r2,#0]
0002ba  44b0              ADDEQ    r8,r8,r6
0002bc  3154              ADDS     r1,r1,#0x54
0002be  32a8              ADDS     r2,r2,#0xa8
0002c0  1e5b              SUBS     r3,r3,#1
0002c2  d1f5              BNE      |L19.688|
                  |L19.708|
;;;3706   						}
;;;3707   					}
;;;3708   					
;;;3709   					for(r = temp_label->tTable[l].tRect.rs; r <= temp_label->tTable[l].tRect.re; r++)	//Row
0002c4  940e              STR      r4,[sp,#0x38]
0002c6  2d00              CMP      r5,#0
0002c8  dd5c              BLE      |L19.900|
0002ca  ebc401c4          RSB      r1,r4,r4,LSL #3
0002ce  4a44              LDR      r2,|L19.992|
0002d0  eb010141          ADD      r1,r1,r1,LSL #1
0002d4  eb020c81          ADD      r12,r2,r1,LSL #2
0002d8  9b14              LDR      r3,[sp,#0x50]
0002da  eb0201c1          ADD      r1,r2,r1,LSL #3
0002de  4463              ADD      r3,r3,r12
0002e0  9a14              LDR      r2,[sp,#0x50]
0002e2  f5033480          ADD      r4,r3,#0x10000
0002e6  eb010342          ADD      r3,r1,r2,LSL #1
0002ea  f24f62c0          MOV      r2,#0xf6c0
0002ee  189f              ADDS     r7,r3,r2
0002f0  9b0c              LDR      r3,[sp,#0x30]
0002f2  f8dfc0e8          LDR      r12,|L19.988|
0002f6  eb010143          ADD      r1,r1,r3,LSL #1
0002fa  188e              ADDS     r6,r1,r2
0002fc  9906              LDR      r1,[sp,#0x18]         ;3605
0002fe  f50454b2          ADD      r4,r4,#0x1640
000302  2500              MOVS     r5,#0
000304  f1090a01          ADD      r10,r9,#1
000308  f1010b01          ADD      r11,r1,#1             ;3605
                  |L19.780|
;;;3710   					{
;;;3711   						rLabel_val = HAL_READ_LABEL_IMAGE(r, search_c);
;;;3712   						
;;;3713   						if(rLabel_val == l+1)
00030c  7821              LDRB     r1,[r4,#0]
00030e  4559              CMP      r1,r11
000310  d131              BNE      |L19.886|
;;;3714   						{
;;;3715   							_d2 = 0;
;;;3716   							{
;;;3717   								_d = HAL_READ_DELTA_IMAGE(r, search_c);
;;;3718   								_d1 = HAL_READ_DELTA_IMAGE(r, search_c1);
000312  f9b61000          LDRSH    r1,[r6,#0]
000316  2200              MOVS     r2,#0                 ;3715
000318  f9b73000          LDRSH    r3,[r7,#0]            ;3717
;;;3719   							}
;;;3720   							
;;;3721   							if(_d1 < 0)	_d1 = 0;
00031c  2900              CMP      r1,#0
00031e  db58              BLT      |L19.978|
                  |L19.800|
;;;3722   							if(max_d < _d + _d1)	max_d = _d + _d1;
000320  f8dce018          LDR      lr,[r12,#0x18]  ; max_d
000324  eb030901          ADD      r9,r3,r1
000328  45f1              CMP      r9,lr
00032a  dc54              BGT      |L19.982|
                  |L19.812|
;;;3723   							
;;;3724   							if(_d > _d1)
00032c  428b              CMP      r3,r1
00032e  dd12              BLE      |L19.854|
;;;3725   							{
;;;3726   								tmp = max_d - (_d + _d1);
000330  f8dc2018          LDR      r2,[r12,#0x18]  ; max_d
000334  eba20209          SUB      r2,r2,r9
;;;3727   								if(tmp < 0)	tmp = 0;
;;;3728   								
;;;3729   								_d2 = tmp * _d * (_d - _d1) / (edge_sum * (_d + _d1));
000338  2a00              CMP      r2,#0
00033a  bfd8              IT       LE
00033c  2200              MOVLE    r2,#0
00033e  435a              MULS     r2,r3,r2
000340  1a59              SUBS     r1,r3,r1
000342  4351              MULS     r1,r2,r1
000344  fb09f208          MUL      r2,r9,r8
000348  fb91f1f2          SDIV     r1,r1,r2
;;;3730   								_d2 = ((_d2 * scale_c)>>7) - offset_c;
00034c  9a02              LDR      r2,[sp,#8]
00034e  434a              MULS     r2,r1,r2
000350  9908              LDR      r1,[sp,#0x20]
000352  ebc112e2          RSB      r2,r1,r2,ASR #7
                  |L19.854|
;;;3731   							}
;;;3732   
;;;3733   							temp_label->tTable[l].tCoord.x	+= apply_c * _d2;
000356  e000              B        |L19.858|
                  |L19.856|
000358  e014              B        |L19.900|
                  |L19.858|
00035a  68c3              LDR      r3,[r0,#0xc]
00035c  990a              LDR      r1,[sp,#0x28]
00035e  fb013102          MLA      r1,r1,r2,r3
000362  60c1              STR      r1,[r0,#0xc]
;;;3734   							temp_label->tTable[l].tCoord.y	+= r *_d2;
000364  990e              LDR      r1,[sp,#0x38]
000366  6903              LDR      r3,[r0,#0x10]
000368  4429              ADD      r1,r1,r5
00036a  fb013102          MLA      r1,r1,r2,r3
00036e  6101              STR      r1,[r0,#0x10]
;;;3735   							temp_label->tTable[l].ulExtStrength += _d2;
000370  6981              LDR      r1,[r0,#0x18]
000372  4411              ADD      r1,r1,r2
000374  6181              STR      r1,[r0,#0x18]
                  |L19.886|
000376  3454              ADDS     r4,r4,#0x54
000378  1c6d              ADDS     r5,r5,#1
00037a  36a8              ADDS     r6,r6,#0xa8
00037c  37a8              ADDS     r7,r7,#0xa8
00037e  f1ba0a01          SUBS     r10,r10,#1
;;;3736   						}
;;;3737   					}
000382  d1c3              BNE      |L19.780|
                  |L19.900|
000384  9806              LDR      r0,[sp,#0x18]
000386  1e40              SUBS     r0,r0,#1
000388  9006              STR      r0,[sp,#0x18]
00038a  f4bfae51          BCS      |L19.48|
                  |L19.910|
;;;3738   				}
;;;3739   			}
;;;3740   		}	
;;;3741   	}
;;;3742   	
;;;3743   	if(temp_label->ucValidNum == 0)
00038e  9811              LDR      r0,[sp,#0x44]
000390  f8900271          LDRB     r0,[r0,#0x271]
000394  2800              CMP      r0,#0
;;;3744   	{
;;;3745   		if(thisModeConf->EdgeExpand.usLabelEdgeExpandMode == 0)
;;;3746   			max_d = 100;
;;;3747   		else if(thisModeConf->EdgeExpand.usLabelEdgeExpandMode == 1)
;;;3748   			max_d = 0;
;;;3749   		else
;;;3750   			max_d = thisModeConf->EdgeExpand.usLabelEdgeExpandMode;
;;;3751   	}
;;;3752   }
000396  bf1c              ITT      NE
000398  b01a              ADDNE    sp,sp,#0x68
00039a  e8bd8ff0          POPNE    {r4-r11,pc}
00039e  480f              LDR      r0,|L19.988|
0003a0  9913              LDR      r1,[sp,#0x4c]         ;3745
0003a2  f8b11100          LDRH     r1,[r1,#0x100]        ;3745
0003a6  2900              CMP      r1,#0                 ;3745
0003a8  bf08              IT       EQ                    ;3746
0003aa  2164              MOVEQ    r1,#0x64              ;3746
0003ac  d002              BEQ      |L19.948|
0003ae  2901              CMP      r1,#1                 ;3747
0003b0  bf08              IT       EQ                    ;3748
0003b2  2100              MOVEQ    r1,#0                 ;3748
                  |L19.948|
0003b4  6181              STR      r1,[r0,#0x18]         ;3746  ; max_d
0003b6  b01a              ADD      sp,sp,#0x68
0003b8  e8bd8ff0          POP      {r4-r11,pc}
                  |L19.956|
0003bc  4807              LDR      r0,|L19.988|
0003be  6982              LDR      r2,[r0,#0x18]         ;3638  ; max_d
0003c0  4291              CMP      r1,r2                 ;3638
0003c2  bf88              IT       HI                    ;3640
0003c4  6181              STRHI    r1,[r0,#0x18]         ;3640  ; max_d
0003c6  e7dd              B        |L19.900|
                  |L19.968|
0003c8  2100              MOVS     r1,#0                 ;3675
0003ca  e711              B        |L19.496|
                  |L19.972|
0003cc  f8cc9018          STR      r9,[r12,#0x18]        ;3676  ; max_d
0003d0  e715              B        |L19.510|
                  |L19.978|
0003d2  2100              MOVS     r1,#0                 ;3721
0003d4  e7a4              B        |L19.800|
                  |L19.982|
0003d6  f8cc9018          STR      r9,[r12,#0x18]        ;3722  ; max_d
0003da  e7a7              B        |L19.812|
;;;3753   
                          ENDP

                  |L19.988|
                          DCD      ||.data||
                  |L19.992|
                          DCD      FullSharedBuff

                          AREA ||i.algorithm_width_height_calculation||, CODE, READONLY, ALIGN=2

                  algorithm_width_height_calculation PROC
;;;2789   
;;;2790   void algorithm_width_height_calculation(int cl)
000000  4a1e              LDR      r2,|L20.124|
;;;2791   {
000002  b410              PUSH     {r4}
;;;2792   	tCoordInfo_t 	*temp_coord;
;;;2793   	tRect_t *temp_rect;
;;;2794   	int iWidth, iHeight;
;;;2795   	
;;;2796   	temp_coord = &thisInfo->tCoord;
000004  68d1              LDR      r1,[r2,#0xc]  ; thisInfo
000006  f2013369          ADD      r3,r1,#0x369
;;;2797   	temp_rect = &temp_coord->tPos.rect[cl];
00000a  eb030180          ADD      r1,r3,r0,LSL #2
;;;2798   	
;;;2799   	iWidth  = ((temp_rect->ce - temp_rect->cs + 1) * thisCommonConf->iXResolution + (COL_MAX>>1)) / COL_MAX;
00000e  f991c1b1          LDRSB    r12,[r1,#0x1b1]
000012  f99141b0          LDRSB    r4,[r1,#0x1b0]
000016  ebac0c04          SUB      r12,r12,r4
00001a  f10c0401          ADD      r4,r12,#1
00001e  f8d2c004          LDR      r12,[r2,#4]  ; thisCommonConf
000022  f8dc2000          LDR      r2,[r12,#0]
;;;2800   	iHeight = ((temp_rect->re - temp_rect->rs + 1) * thisCommonConf->iYResolution + (ROW_MAX>>1)) / ROW_MAX;
000026  f8dcc004          LDR      r12,[r12,#4]
00002a  4362              MULS     r2,r4,r2              ;2799
00002c  4c14              LDR      r4,|L20.128|
00002e  322a              ADDS     r2,r2,#0x2a           ;2799
000030  fb844202          SMULL    r4,r2,r4,r2           ;2799
000034  1114              ASRS     r4,r2,#4              ;2799
000036  ebb472e2          SUBS     r2,r4,r2,ASR #31      ;2799
00003a  f99141af          LDRSB    r4,[r1,#0x1af]
00003e  f99111ae          LDRSB    r1,[r1,#0x1ae]
000042  eba40101          SUB      r1,r4,r1
000046  f1010101          ADD      r1,r1,#1
00004a  fb01f10c          MUL      r1,r1,r12
00004e  f8dfc034          LDR      r12,|L20.132|
000052  f1010118          ADD      r1,r1,#0x18
000056  fb8cc101          SMULL    r12,r1,r12,r1
00005a  ea4f0ce1          ASR      r12,r1,#3
00005e  ebac71e1          SUB      r1,r12,r1,ASR #31
;;;2801   	temp_coord->tPos.vusW[cl] = (iWidth < 0 ? 0 : iWidth);
000062  bf48              IT       MI
000064  2200              MOVMI    r2,#0
000066  eb030040          ADD      r0,r3,r0,LSL #1
;;;2802   	temp_coord->tPos.vusH[cl] = (iHeight < 0 ? 0 : iHeight);
00006a  2900              CMP      r1,#0
00006c  f8a021fe          STRH     r2,[r0,#0x1fe]        ;2801
000070  bfb8              IT       LT
000072  2100              MOVLT    r1,#0
000074  f8a01212          STRH     r1,[r0,#0x212]
;;;2803   	
;;;2804   	return;
;;;2805   }
000078  bc10              POP      {r4}
00007a  4770              BX       lr
;;;2806   
                          ENDP

                  |L20.124|
                          DCD      ||.data||
                  |L20.128|
                          DCD      0x30c30c31
                  |L20.132|
                          DCD      0x2aaaaaab

                          AREA ||i.alogorithm_coord_modify_pos||, CODE, READONLY, ALIGN=2

                  alogorithm_coord_modify_pos PROC
;;;2807   #define ExpectClipping_Finger_Margin	200
;;;2808   void alogorithm_coord_modify_pos(tXY_t* old_pos,tXY_t* pos, int index)
000000  e92d4ff0          PUSH     {r4-r11,lr}
;;;2809   {
000004  b08d              SUB      sp,sp,#0x34
000006  4690              MOV      r8,r2
000008  460d              MOV      r5,r1
00000a  4607              MOV      r7,r0
;;;2810   	int x, y;
;;;2811   #if (MULTI_EDGE_COEF_EN == YES)
;;;2812   	bool_t bIsEdge;
;;;2813   #endif
;;;2814   	uint8_t ucLeftEdgeExpand = thisModeConf->EdgeExpand.ucLeftEdgeExpand, ucRightEdgeExpand = thisModeConf->EdgeExpand.ucRightEdgeExpand;
00000c  4afe              LDR      r2,|L21.1032|
00000e  6890              LDR      r0,[r2,#8]  ; thisModeConf
000010  f89010f0          LDRB     r1,[r0,#0xf0]
000014  9105              STR      r1,[sp,#0x14]
;;;2815   	uint8_t ucTopEdgeExpand = thisModeConf->EdgeExpand.ucTopEdgeExpand, ucBottomEdgeExpand = thisModeConf->EdgeExpand.ucBottomEdgeExpand;
;;;2816   //	int ucXCompensationGain = 10;//24; // NOTE : not used
;;;2817   
;;;2818   	if( thisModeConf->Coord.bSwapXY )
000016  f89030aa          LDRB     r3,[r0,#0xaa]
00001a  f890b0f1          LDRB     r11,[r0,#0xf1]        ;2814
00001e  f890a0f2          LDRB     r10,[r0,#0xf2]        ;2815
000022  f89040f3          LDRB     r4,[r0,#0xf3]         ;2815
;;;2819   	{
;;;2820   		x = pos->y;
000026  f8d59004          LDR      r9,[r5,#4]
;;;2821   		y = pos->x;
00002a  6829              LDR      r1,[r5,#0]
00002c  2b00              CMP      r3,#0                 ;2818
00002e  bf1a              ITTE     NE                    ;2818
000030  464e              MOVNE    r6,r9                 ;2818
000032  4689              MOVNE    r9,r1
;;;2822   	}
;;;2823   	else
;;;2824   	{
;;;2825   		x = pos->x;
000034  460e              MOVEQ    r6,r1
;;;2826   		y = pos->y;
;;;2827   	}
;;;2828   
;;;2829   	if( thisModeConf->Coord.bFlipX )
000036  f89030ab          LDRB     r3,[r0,#0xab]
00003a  49f3              LDR      r1,|L21.1032|
00003c  2b00              CMP      r3,#0
;;;2830   		x = thisInfo->tCoord.iInternalXRes - x;
00003e  68c9              LDR      r1,[r1,#0xc]
000040  bf1c              ITT      NE
000042  f8d13e35          LDRNE    r3,[r1,#0xe35]
000046  1b9e              SUBNE    r6,r3,r6
;;;2831   
;;;2832   	/*
;;;2833   	 * Expand edge position.
;;;2834   	 *  -    expand.
;;;2835   	 *  -  full sized edge      3/2 point expand,
;;;2836   	 *  -    expand offset 1/2  unit distance expand .
;;;2837   	 */
;;;2838   //	if( 1)
;;;2839   	{
;;;2840   		if (!thisModeConf->EdgeExpand.bDoNotExpandPos)
000048  f8902120          LDRB     r2,[r0,#0x120]
00004c  2a00              CMP      r2,#0
00004e  d172              BNE      |L21.310|
;;;2841   		{
;;;2842   		#if (MULTI_EDGE_COEF_EN == YES)
;;;2843   			if(thisModeConf->EdgeExpand.bUseMultiEdgeCoef)
000050  f89020ea          LDRB     r2,[r0,#0xea]
000054  2a00              CMP      r2,#0
000056  d058              BEQ      |L21.266|
;;;2844   			{
;;;2845   				bIsEdge = algorithm_coord_IsEdgeArea(&thisInfo->tCoord.tPos.tXY[index], thisModeConf->EdgeExpand.sXExpandStartOffset);
000058  f9b020fc          LDRSH    r2,[r0,#0xfc]
00005c  eb0100c8          ADD      r0,r1,r8,LSL #3
000060  4611              MOV      r1,r2
000062  f200409f          ADD      r0,r0,#0x49f
000066  f7fffffe          BL       algorithm_coord_IsEdgeArea
00006a  f0100fff          TST      r0,#0xff
;;;2846   				if(bIsEdge == 0)
;;;2847   				{
;;;2848   					if(thisInfo->tCoord.ucEdgeExpandCoef[index] == 0)
;;;2849   					{
;;;2850   						if(
;;;2851   #if (INTERPOLATION_VER1_En == YES || INTERPOLATION_VER2_En == YES || INTERPOLATION_VER3_En == YES)
;;;2852   							((thisInfo->tCoord.bInterpolation_On && thisInfo->tCoord.tPastPos[2].vusS[index] > 0) || (!thisInfo->tCoord.bInterpolation_On && thisInfo->tCoord.tPastPos[1].vusS[index] > 0))
;;;2853   #else
;;;2854   							(thisInfo->tCoord.tPastPos[1].vusS[index] > 0)
;;;2855   #endif
;;;2856   							&& thisInfo->tCoord.tPastPos[0].vusS[index] > 0 && thisInfo->tCoord.tPos.vusS[index] > 0 && thisInfo->tCoord.tPos.MaxDelta[index] > thisModeConf->EdgeExpand.usSmallTouchMaxDeltaThd
;;;2857   							&& thisInfo->tCoord.tPos.vusR[index] < thisModeConf->EdgeExpand.ucSmallTouchCellCntThd && (thisInfo->tCoord.tPos.rect[index].re - thisInfo->tCoord.tPos.rect[index].rs + 1) < thisModeConf->EdgeExpand.ucSmallTouchHeightThd
;;;2858   							&& (thisInfo->tCoord.tPos.rect[index].ce - thisInfo->tCoord.tPos.rect[index].cs + 1) < thisModeConf->EdgeExpand.ucSmallTouchWidthThd )
;;;2859   						{
;;;2860   							thisInfo->tCoord.ucEdgeExpandCoef[index] = 1;
;;;2861   						}
;;;2862   					}
;;;2863   				}
;;;2864   				else
;;;2865   				{
;;;2866   					if(thisInfo->tCoord.tPastPos[0].vusS[index] == 0 && thisInfo->tCoord.tPos.vusS[index] > 0)
00006e  48e6              LDR      r0,|L21.1032|
000070  d007              BEQ      |L21.130|
000072  68c1              LDR      r1,[r0,#0xc]  ; thisInfo
000074  eb010048          ADD      r0,r1,r8,LSL #1
000078  f8b026fb          LDRH     r2,[r0,#0x6fb]
00007c  2a00              CMP      r2,#0
00007e  d03c              BEQ      |L21.250|
000080  e043              B        |L21.266|
                  |L21.130|
000082  68c3              LDR      r3,[r0,#0xc]          ;2848  ; thisInfo
000084  eb030c08          ADD      r12,r3,r8             ;2848
000088  f89c1f1f          LDRB     r1,[r12,#0xf1f]       ;2848
00008c  2900              CMP      r1,#0                 ;2848
00008e  d13c              BNE      |L21.266|
000090  eb030148          ADD      r1,r3,r8,LSL #1       ;2850
000094  f8b12774          LDRH     r2,[r1,#0x774]        ;2850
000098  2a00              CMP      r2,#0                 ;2850
00009a  bf1f              ITTTT    NE                    ;2850
00009c  f8b126fb          LDRHNE   r2,[r1,#0x6fb]        ;2850
0000a0  2a00              CMPNE    r2,#0                 ;2850
0000a2  f8b124ef          LDRHNE   r2,[r1,#0x4ef]        ;2850
0000a6  2a00              CMPNE    r2,#0                 ;2850
0000a8  d051              BEQ      |L21.334|
0000aa  6882              LDR      r2,[r0,#8]            ;2850  ; thisModeConf
0000ac  f8b1e53f          LDRH     lr,[r1,#0x53f]        ;2850
0000b0  f8b200eb          LDRH     r0,[r2,#0xeb]         ;2850
0000b4  4586              CMP      lr,r0                 ;2850
0000b6  d94a              BLS      |L21.334|
0000b8  f8b10503          LDRH     r0,[r1,#0x503]        ;2850
0000bc  f89210ed          LDRB     r1,[r2,#0xed]         ;2850
0000c0  4281              CMP      r1,r0                 ;2850
0000c2  d944              BLS      |L21.334|
0000c4  eb030088          ADD      r0,r3,r8,LSL #2       ;2850
0000c8  f9901518          LDRSB    r1,[r0,#0x518]        ;2850
0000cc  f9903517          LDRSB    r3,[r0,#0x517]        ;2850
0000d0  1ac9              SUBS     r1,r1,r3              ;2850
0000d2  f89230ee          LDRB     r3,[r2,#0xee]         ;2850
0000d6  1c49              ADDS     r1,r1,#1              ;2850
0000d8  4299              CMP      r1,r3                 ;2850
0000da  da38              BGE      |L21.334|
0000dc  f990151a          LDRSB    r1,[r0,#0x51a]        ;2850
0000e0  f9900519          LDRSB    r0,[r0,#0x519]        ;2850
0000e4  1a08              SUBS     r0,r1,r0              ;2850
0000e6  f89210ef          LDRB     r1,[r2,#0xef]         ;2850
0000ea  1c40              ADDS     r0,r0,#1              ;2850
0000ec  4288              CMP      r0,r1                 ;2850
0000ee  bfbc              ITT      LT                    ;2860
0000f0  2001              MOVLT    r0,#1                 ;2860
0000f2  f88c0f1f          STRBLT   r0,[r12,#0xf1f]       ;2860
0000f6  da2a              BGE      |L21.334|
0000f8  e011              B        |L21.286|
                  |L21.250|
0000fa  f8b004ef          LDRH     r0,[r0,#0x4ef]
0000fe  b120              CBZ      r0,|L21.266|
;;;2867   					{
;;;2868   						thisInfo->tCoord.ucEdgeExpandCoef[index] = 2;
000100  4441              ADD      r1,r1,r8
000102  2002              MOVS     r0,#2
000104  f8810f1f          STRB     r0,[r1,#0xf1f]
000108  e016              B        |L21.312|
                  |L21.266|
;;;2869   					}
;;;2870   				}
;;;2871   			}
;;;2872   			
;;;2873   			if(thisInfo->tCoord.ucEdgeExpandCoef[index] == 1)
00010a  48bf              LDR      r0,|L21.1032|
00010c  68c0              LDR      r0,[r0,#0xc]  ; thisInfo
00010e  4440              ADD      r0,r0,r8
000110  f8900f1f          LDRB     r0,[r0,#0xf1f]
000114  2801              CMP      r0,#1
000116  d002              BEQ      |L21.286|
;;;2874   			{
;;;2875   				ucLeftEdgeExpand = thisModeConf->EdgeExpand.ucLeftEdgeExpand_small;
;;;2876   				ucRightEdgeExpand = thisModeConf->EdgeExpand.ucRightEdgeExpand_small;
;;;2877   				ucTopEdgeExpand = thisModeConf->EdgeExpand.ucTopEdgeExpand_small;
;;;2878   				ucBottomEdgeExpand = thisModeConf->EdgeExpand.ucBottomEdgeExpand_small;
;;;2879   			}
;;;2880   			else if(thisInfo->tCoord.ucEdgeExpandCoef[index] == 2)
000118  2802              CMP      r0,#2
00011a  d00d              BEQ      |L21.312|
00011c  e017              B        |L21.334|
                  |L21.286|
00011e  48ba              LDR      r0,|L21.1032|
000120  6880              LDR      r0,[r0,#8]            ;2875  ; thisModeConf
000122  f89010f4          LDRB     r1,[r0,#0xf4]         ;2875
000126  9105              STR      r1,[sp,#0x14]         ;2876
000128  f890b0f5          LDRB     r11,[r0,#0xf5]        ;2876
00012c  f890a0f6          LDRB     r10,[r0,#0xf6]        ;2877
000130  f89040f7          LDRB     r4,[r0,#0xf7]         ;2878
000134  e00b              B        |L21.334|
                  |L21.310|
000136  e043              B        |L21.448|
                  |L21.312|
;;;2881   			{
;;;2882   				ucLeftEdgeExpand = thisModeConf->EdgeExpand.ucLeftEdgeExpand_medium;
000138  48b3              LDR      r0,|L21.1032|
00013a  6880              LDR      r0,[r0,#8]  ; thisModeConf
00013c  f89010f8          LDRB     r1,[r0,#0xf8]
;;;2883   				ucRightEdgeExpand = thisModeConf->EdgeExpand.ucRightEdgeExpand_medium;
000140  9105              STR      r1,[sp,#0x14]
000142  f890b0f9          LDRB     r11,[r0,#0xf9]
;;;2884   				ucTopEdgeExpand = thisModeConf->EdgeExpand.ucTopEdgeExpand_medium;
000146  f890a0fa          LDRB     r10,[r0,#0xfa]
;;;2885   				ucBottomEdgeExpand = thisModeConf->EdgeExpand.ucBottomEdgeExpand_medium;
00014a  f89040fb          LDRB     r4,[r0,#0xfb]
                  |L21.334|
;;;2886   			}
;;;2887   		#endif			
;;;2888   			int iXExpandStart = thisInfo->tCoord.iXExpandStart + thisModeConf->EdgeExpand.sXExpandStartOffset;
00014e  48ae              LDR      r0,|L21.1032|
000150  68c2              LDR      r2,[r0,#0xc]  ; thisInfo
000152  6880              LDR      r0,[r0,#8]  ; thisModeConf
000154  f8d21e3d          LDR      r1,[r2,#0xe3d]
000158  f9b030fc          LDRSH    r3,[r0,#0xfc]
;;;2889   			int iYExpandStart = thisInfo->tCoord.iYExpandStart + thisModeConf->EdgeExpand.sYExpandStartOffset;
00015c  f9b000fe          LDRSH    r0,[r0,#0xfe]
000160  4419              ADD      r1,r1,r3              ;2888
000162  f8d23e41          LDR      r3,[r2,#0xe41]
;;;2890   			
;;;2891   			if (x < iXExpandStart)
000166  428e              CMP      r6,r1
000168  4418              ADD      r0,r0,r3              ;2889
00016a  da07              BGE      |L21.380|
;;;2892   				x = iXExpandStart + (((x - iXExpandStart) * (int32_t)ucLeftEdgeExpand) >> 6);
00016c  9b05              LDR      r3,[sp,#0x14]
00016e  eba60c01          SUB      r12,r6,r1
000172  fb0cf303          MUL      r3,r12,r3
000176  eb0116a3          ADD      r6,r1,r3,ASR #6
00017a  e00c              B        |L21.406|
                  |L21.380|
;;;2893   			else if (thisInfo->tCoord.iInternalXRes - x < iXExpandStart)
00017c  f8d2ce35          LDR      r12,[r2,#0xe35]
000180  ebac0306          SUB      r3,r12,r6
000184  4299              CMP      r1,r3
000186  dd06              BLE      |L21.406|
;;;2894   				x = thisInfo->tCoord.iInternalXRes - (iXExpandStart
000188  1a5b              SUBS     r3,r3,r1
00018a  fb03f30b          MUL      r3,r3,r11
00018e  eb0111a3          ADD      r1,r1,r3,ASR #6
000192  ebac0601          SUB      r6,r12,r1
                  |L21.406|
;;;2895   									 + (((thisInfo->tCoord.iInternalXRes - x - iXExpandStart) * (int32_t)ucRightEdgeExpand) >> 6));
;;;2896   
;;;2897   			if (y < iYExpandStart)
000196  4581              CMP      r9,r0
000198  da06              BGE      |L21.424|
;;;2898   				y = iYExpandStart + (((y - iYExpandStart) * (int32_t)ucTopEdgeExpand) >> 6);
00019a  eba90100          SUB      r1,r9,r0
00019e  fb01f10a          MUL      r1,r1,r10
0001a2  eb0019a1          ADD      r9,r0,r1,ASR #6
0001a6  e00b              B        |L21.448|
                  |L21.424|
;;;2899   			else if (thisInfo->tCoord.iInternalYRes - y < iYExpandStart)
0001a8  f8d22e39          LDR      r2,[r2,#0xe39]
0001ac  eba20109          SUB      r1,r2,r9
0001b0  4288              CMP      r0,r1
0001b2  dd05              BLE      |L21.448|
;;;2900   				y = thisInfo->tCoord.iInternalYRes - (iYExpandStart
0001b4  1a09              SUBS     r1,r1,r0
0001b6  4361              MULS     r1,r4,r1
0001b8  eb0010a1          ADD      r0,r0,r1,ASR #6
0001bc  eba20900          SUB      r9,r2,r0
                  |L21.448|
;;;2901   									 + (((thisInfo->tCoord.iInternalYRes - y - iYExpandStart) * (int32_t)ucBottomEdgeExpand) >> 6));
;;;2902   		}
;;;2903   	}
;;;2904   
;;;2905   	/*
;;;2906   	 * Modify resolution domain.
;;;2907   	 */
;;;2908   	x = ( (x + thisInfo->tCoord.iXOffset ) * (thisCommonConf->iXResolution+thisModeConf->Coord.sFingerGlobalCoordiXResolutionOffset) ) / (thisInfo->tCoord.iInternalXRes + 2*thisInfo->tCoord.iXOffset);
0001c0  4a91              LDR      r2,|L21.1032|
0001c2  6851              LDR      r1,[r2,#4]  ; thisCommonConf
0001c4  6890              LDR      r0,[r2,#8]  ; thisModeConf
0001c6  68d2              LDR      r2,[r2,#0xc]  ; thisInfo
0001c8  f8d1a000          LDR      r10,[r1,#0]
0001cc  f9b03099          LDRSH    r3,[r0,#0x99]
0001d0  eb0a0c03          ADD      r12,r10,r3
0001d4  f8d23e2d          LDR      r3,[r2,#0xe2d]
;;;2909   	x += thisModeConf->Coord.sFingerGlobalCoordiOffsetX;
;;;2910   #if (FingerGlobalCoordiY_2Region_Set == YES)
;;;2911   	if(y < thisModeConf->Coord.sFingerGlobalCoordiY_2Region_boundary)
;;;2912   	{
;;;2913   		y = ( (y + thisInfo->tCoord.iYOffset ) * (thisCommonConf->iYResolution+thisModeConf->Coord.sFingerGlobalCoordiYResolutionOffset) ) / (thisInfo->tCoord.iInternalYRes + 2*thisInfo->tCoord.iYOffset);
;;;2914   		y += thisModeConf->Coord.sFingerGlobalCoordiOffsetY;
;;;2915   	}
;;;2916   	else
;;;2917   	{
;;;2918   		y = ( (y + thisInfo->tCoord.iYOffset ) * (thisCommonConf->iYResolution+thisModeConf->Coord.sFingerGlobalCoordiYResolutionOffset1) ) / (thisInfo->tCoord.iInternalYRes + 2*thisInfo->tCoord.iYOffset);
;;;2919   		y += thisModeConf->Coord.sFingerGlobalCoordiOffsetY1;
;;;2920   	}
;;;2921   #else
;;;2922   	y = ( (y + thisInfo->tCoord.iYOffset ) * (thisCommonConf->iYResolution+thisModeConf->Coord.sFingerGlobalCoordiYResolutionOffset) ) / (thisInfo->tCoord.iInternalYRes + 2*thisInfo->tCoord.iYOffset);
;;;2923   	y += thisModeConf->Coord.sFingerGlobalCoordiOffsetY;
;;;2924   #endif
;;;2925   	/*
;;;2926   	 * Clipping.
;;;2927   	 */
;;;2928   	int iXResolutionForClipping = thisCommonConf->iXResolution - 1;
;;;2929   	int iYResolutionForClipping = thisCommonConf->iYResolution - 1;
;;;2930   //	if(iXResolutionForClipping > 32767)iXResolutionForClipping = 32767;
;;;2931   //	if(iYResolutionForClipping > 32767)iYResolutionForClipping = 32767;
;;;2932   	if(thisModeConf->CoordEdge.bExpectClipping_Finger_On)
0001d8  f1aa0a01          SUB      r10,r10,#1
0001dc  199c              ADDS     r4,r3,r6              ;2908
0001de  fb0cfc04          MUL      r12,r12,r4            ;2908
0001e2  f8d24e35          LDR      r4,[r2,#0xe35]        ;2908
0001e6  eb040343          ADD      r3,r4,r3,LSL #1       ;2908
0001ea  fb9cf3f3          SDIV     r3,r12,r3             ;2908
0001ee  f9b0c09d          LDRSH    r12,[r0,#0x9d]        ;2909
0001f2  eb0c0403          ADD      r4,r12,r3             ;2909
0001f6  684b              LDR      r3,[r1,#4]            ;2922
0001f8  f9b0c09b          LDRSH    r12,[r0,#0x9b]        ;2922
0001fc  eb03060c          ADD      r6,r3,r12             ;2922
000200  f8d2ce31          LDR      r12,[r2,#0xe31]       ;2922
000204  44e1              ADD      r9,r9,r12             ;2922
000206  fb06f609          MUL      r6,r6,r9              ;2922
00020a  f8d29e39          LDR      r9,[r2,#0xe39]        ;2922
00020e  eb090c4c          ADD      r12,r9,r12,LSL #1     ;2922
000212  fb96fcfc          SDIV     r12,r6,r12            ;2922
000216  f1a30901          SUB      r9,r3,#1              ;2929
00021a  f9b0609f          LDRSH    r6,[r0,#0x9f]         ;2923
00021e  f89030d9          LDRB     r3,[r0,#0xd9]
000222  4466              ADD      r6,r6,r12             ;2923
000224  2b00              CMP      r3,#0
000226  d076              BEQ      |L21.790|
;;;2933   	{
;;;2934   		pos->x = x,	pos->y = y;
000228  602c              STR      r4,[r5,#0]
00022a  606e              STR      r6,[r5,#4]
;;;2935   		if (x < (int)thisCommonConf->ucClippingLeft){	//LEFT
00022c  f891c01a          LDRB     r12,[r1,#0x1a]
000230  4623              MOV      r3,r4                 ;2934
000232  45a4              CMP      r12,r4
000234  dd28              BLE      |L21.648|
;;;2936   			x = (int)(thisCommonConf->ucClippingLeft);
;;;2937   			if( (thisModeConf->CoordEdge.bUseNewCippingCond && old_pos != pos && pos->x < (thisCommonConf->ucClippingLeft) && old_pos->x > (thisCommonConf->ucClippingLeft))
000236  f890b0e9          LDRB     r11,[r0,#0xe9]
00023a  4664              MOV      r4,r12                ;2935
00023c  f1bb0f00          CMP      r11,#0
000240  d019              BEQ      |L21.630|
000242  42af              CMP      r7,r5
000244  bf18              IT       NE
000246  4563              CMPNE    r3,r12
000248  bfbc              ITT      LT
00024a  f8d7b000          LDRLT    r11,[r7,#0]
00024e  45dc              CMPLT    r12,r11
000250  da40              BGE      |L21.724|
;;;2938   				|| (!thisModeConf->CoordEdge.bUseNewCippingCond && old_pos != pos && pos->x != old_pos->x && old_pos->x > ExpectClipping_Finger_Margin) )
;;;2939   				y = ( (x - old_pos->x)*(pos->y - old_pos->y) + ((pos->x - old_pos->x)>>1) ) / (pos->x - old_pos->x) + old_pos->y;
000252  bf00              NOP      
                  |L21.596|
000254  f8d7c004          LDR      r12,[r7,#4]
000258  eba60b0c          SUB      r11,r6,r12
00025c  683e              LDR      r6,[r7,#0]
00025e  eba40e06          SUB      lr,r4,r6
000262  fb0bfb0e          MUL      r11,r11,lr
000266  1b9b              SUBS     r3,r3,r6
000268  eb0b0663          ADD      r6,r11,r3,ASR #1
00026c  fb96f3f3          SDIV     r3,r6,r3
000270  eb03060c          ADD      r6,r3,r12
000274  e02e              B        |L21.724|
                  |L21.630|
000276  42af              CMP      r7,r5                 ;2937
000278  bf1e              ITTT     NE                    ;2937
00027a  f8d7c000          LDRNE    r12,[r7,#0]           ;2937
00027e  4563              CMPNE    r3,r12                ;2937
000280  f1bc0fc8          CMPNE    r12,#0xc8             ;2937
000284  dd26              BLE      |L21.724|
000286  e7e5              B        |L21.596|
                  |L21.648|
;;;2940   			pos->x = x,	pos->y = y;
;;;2941   		}
;;;2942   		else if (x > ((int)((iXResolutionForClipping) - thisCommonConf->ucClippingRight))){	//RIGHT
000288  f891c01b          LDRB     r12,[r1,#0x1b]
00028c  ebaa0c0c          SUB      r12,r10,r12
000290  4564              CMP      r4,r12
000292  dd21              BLE      |L21.728|
;;;2943   			x = (iXResolutionForClipping) - thisCommonConf->ucClippingRight;
;;;2944   			if( (thisModeConf->CoordEdge.bUseNewCippingCond && old_pos != pos && pos->x > ((int)((iXResolutionForClipping) - (thisCommonConf->ucClippingRight))) && old_pos->x < ((int)((iXResolutionForClipping) - (thisCommonConf->ucClippingRight))))
000294  f890b0e9          LDRB     r11,[r0,#0xe9]
000298  4664              MOV      r4,r12                ;2942
00029a  f1bb0f00          CMP      r11,#0
00029e  d03b              BEQ      |L21.792|
0002a0  42af              CMP      r7,r5
0002a2  bf18              IT       NE
0002a4  4563              CMPNE    r3,r12
0002a6  bfc4              ITT      GT
0002a8  f8d7b000          LDRGT    r11,[r7,#0]
0002ac  455c              CMPGT    r4,r11
0002ae  dd11              BLE      |L21.724|
                  |L21.688|
;;;2945   				|| (!thisModeConf->CoordEdge.bUseNewCippingCond && old_pos != pos && pos->x != old_pos->x && old_pos->x < ((int)((iXResolutionForClipping) - ExpectClipping_Finger_Margin))) )
;;;2946   				y = ( (x - old_pos->x)*(pos->y - old_pos->y) + ((pos->x - old_pos->x)>>1) ) / (pos->x - old_pos->x) + old_pos->y;
0002b0  f8d7c000          LDR      r12,[r7,#0]
0002b4  f8d7b004          LDR      r11,[r7,#4]
0002b8  eba40e0c          SUB      lr,r4,r12
0002bc  eba6060b          SUB      r6,r6,r11
0002c0  fb06f60e          MUL      r6,r6,lr
0002c4  eba3030c          SUB      r3,r3,r12
0002c8  eb060c63          ADD      r12,r6,r3,ASR #1
0002cc  fb9cf3f3          SDIV     r3,r12,r3
0002d0  eb03060b          ADD      r6,r3,r11
                  |L21.724|
;;;2947   			pos->x = x,	pos->y = y;
0002d4  602c              STR      r4,[r5,#0]
0002d6  606e              STR      r6,[r5,#4]
                  |L21.728|
;;;2948   		}
;;;2949   		if (y < (int)(thisCommonConf->ucClippingTop)){	//UP
0002d8  7f0b              LDRB     r3,[r1,#0x1c]
0002da  42b3              CMP      r3,r6
0002dc  dd2f              BLE      |L21.830|
;;;2950   			y = (int)thisCommonConf->ucClippingTop;
;;;2951   			if( (thisModeConf->CoordEdge.bUseNewCippingCond && old_pos != pos && pos->y < (thisCommonConf->ucClippingTop) && old_pos->y > (thisCommonConf->ucClippingTop))
0002de  f89010e9          LDRB     r1,[r0,#0xe9]
0002e2  461e              MOV      r6,r3                 ;2950
0002e4  b311              CBZ      r1,|L21.812|
0002e6  42af              CMP      r7,r5
0002e8  bf1c              ITT      NE
0002ea  6869              LDRNE    r1,[r5,#4]
0002ec  4299              CMPNE    r1,r3
0002ee  bfbc              ITT      LT
0002f0  6879              LDRLT    r1,[r7,#4]
0002f2  428b              CMPLT    r3,r1
0002f4  da3f              BGE      |L21.886|
                  |L21.758|
;;;2952   				|| (!thisModeConf->CoordEdge.bUseNewCippingCond && old_pos != pos && pos->y != old_pos->y && old_pos->y > ExpectClipping_Finger_Margin) )
;;;2953   				x = ( (y - old_pos->y)*(pos->x - old_pos->x) + ((pos->y - old_pos->y)>>1) ) / (pos->y - old_pos->y) + old_pos->x;
0002f6  682b              LDR      r3,[r5,#0]
0002f8  6839              LDR      r1,[r7,#0]
0002fa  eba30c01          SUB      r12,r3,r1
0002fe  687b              LDR      r3,[r7,#4]
000300  1af4              SUBS     r4,r6,r3
000302  fb0cfc04          MUL      r12,r12,r4
000306  686c              LDR      r4,[r5,#4]
000308  1ae3              SUBS     r3,r4,r3
00030a  eb0c0c63          ADD      r12,r12,r3,ASR #1
00030e  fb9cf3f3          SDIV     r3,r12,r3
000312  185c              ADDS     r4,r3,r1
000314  e02f              B        |L21.886|
                  |L21.790|
000316  e03f              B        |L21.920|
                  |L21.792|
000318  42af              CMP      r7,r5                 ;2944
00031a  bf1f              ITTTT    NE                    ;2944
00031c  f8d7c000          LDRNE    r12,[r7,#0]           ;2944
000320  4563              CMPNE    r3,r12                ;2944
000322  f1aa0bc8          SUBNE    r11,r10,#0xc8         ;2944
000326  45dc              CMPNE    r12,r11               ;2944
000328  dad4              BGE      |L21.724|
00032a  e7c1              B        |L21.688|
                  |L21.812|
00032c  42af              CMP      r7,r5                 ;2951
00032e  d022              BEQ      |L21.886|
000330  686b              LDR      r3,[r5,#4]            ;2951
000332  6879              LDR      r1,[r7,#4]            ;2951
000334  428b              CMP      r3,r1                 ;2951
000336  bf18              IT       NE                    ;2951
000338  29c8              CMPNE    r1,#0xc8              ;2951
00033a  dd1c              BLE      |L21.886|
00033c  e7db              B        |L21.758|
                  |L21.830|
;;;2954   			pos->x = x,	pos->y = y;
;;;2955   		}
;;;2956   		else if (y > (int)((iYResolutionForClipping) - thisCommonConf->ucClippingBottom)){	//DOWN
00033e  7f49              LDRB     r1,[r1,#0x1d]
000340  eba90101          SUB      r1,r9,r1
000344  428e              CMP      r6,r1
000346  dd18              BLE      |L21.890|
;;;2957   			y = (int)((iYResolutionForClipping) - thisCommonConf->ucClippingBottom);
;;;2958   			if( (thisModeConf->CoordEdge.bUseNewCippingCond && old_pos != pos && pos->y > ((int)((iYResolutionForClipping) - (thisCommonConf->ucClippingBottom))) && old_pos->y < ((int)((iYResolutionForClipping) - (thisCommonConf->ucClippingBottom))))
000348  f89030e9          LDRB     r3,[r0,#0xe9]
00034c  460e              MOV      r6,r1                 ;2957
00034e  b143              CBZ      r3,|L21.866|
000350  42af              CMP      r7,r5
000352  bf1c              ITT      NE
000354  686b              LDRNE    r3,[r5,#4]
000356  428b              CMPNE    r3,r1
000358  bfc4              ITT      GT
00035a  687b              LDRGT    r3,[r7,#4]
00035c  429e              CMPGT    r6,r3
00035e  dd0a              BLE      |L21.886|
000360  e7c9              B        |L21.758|
                  |L21.866|
000362  42af              CMP      r7,r5
000364  d007              BEQ      |L21.886|
000366  686b              LDR      r3,[r5,#4]
000368  6879              LDR      r1,[r7,#4]
00036a  428b              CMP      r3,r1
00036c  bf1c              ITT      NE
00036e  f1a903c8          SUBNE    r3,r9,#0xc8
000372  4299              CMPNE    r1,r3
000374  dbbf              BLT      |L21.758|
                  |L21.886|
;;;2959   				|| (!thisModeConf->CoordEdge.bUseNewCippingCond && old_pos != pos && pos->y != old_pos->y && old_pos->y < ((int)((iYResolutionForClipping) - ExpectClipping_Finger_Margin))) )
;;;2960   				x = ( (y - old_pos->y)*(pos->x - old_pos->x) + ((pos->y - old_pos->y)>>1) ) / (pos->y - old_pos->y) + old_pos->x;
;;;2961   			pos->x = x,	pos->y = y;
000376  602c              STR      r4,[r5,#0]
000378  606e              STR      r6,[r5,#4]
                  |L21.890|
;;;2962   		}
;;;2963   	}
;;;2964   	else
;;;2965   	{
;;;2966   		if (x < (int)thisCommonConf->ucXClipping)
;;;2967   			x = (int)(thisCommonConf->ucXClipping);
;;;2968   		else if (x > ((int)((iXResolutionForClipping) - thisCommonConf->ucXClipping)))
;;;2969   			x = (iXResolutionForClipping) - thisCommonConf->ucXClipping;
;;;2970   
;;;2971   		if (y < (int)(thisCommonConf->ucYClipping))
;;;2972   			y = (int)thisCommonConf->ucYClipping;
;;;2973   		else if (y > (int)((iYResolutionForClipping) - thisCommonConf->ucYClipping))
;;;2974   			y = (int)((iYResolutionForClipping) - thisCommonConf->ucYClipping);
;;;2975   		
;;;2976   		pos->x = x,	pos->y = y;
;;;2977   	}
;;;2978   
;;;2979   	#if (REMOVE_EDGE_EN == YES)
;;;2980   	if(thisModeConf->CoordEdge.bRemoveEdge && !algorithm_coord_IsEdgeArea(&thisInfo->tCoord.tFirstPos.tXY[index] , 0))
00037a  f89000db          LDRB     r0,[r0,#0xdb]
00037e  f8dfb088          LDR      r11,|L21.1032|
000382  2800              CMP      r0,#0
000384  d07d              BEQ      |L21.1154|
000386  eb0200c8          ADD      r0,r2,r8,LSL #3
00038a  2100              MOVS     r1,#0
00038c  f50060b7          ADD      r0,r0,#0x5b8
000390  f7fffffe          BL       algorithm_coord_IsEdgeArea
000394  b198              CBZ      r0,|L21.958|
000396  e0c3              B        |L21.1312|
                  |L21.920|
000398  7e0b              LDRB     r3,[r1,#0x18]         ;2966
00039a  42a3              CMP      r3,r4                 ;2966
00039c  dc03              BGT      |L21.934|
00039e  ebaa0303          SUB      r3,r10,r3             ;2968
0003a2  42a3              CMP      r3,r4                 ;2968
0003a4  da00              BGE      |L21.936|
                  |L21.934|
0003a6  461c              MOV      r4,r3                 ;2969
                  |L21.936|
0003a8  7e49              LDRB     r1,[r1,#0x19]         ;2971
0003aa  42b1              CMP      r1,r6                 ;2971
0003ac  bfd6              ITET     LE                    ;2974
0003ae  eba90301          SUBLE    r3,r9,r1              ;2974
0003b2  460e              MOVGT    r6,r1                 ;2972
0003b4  42b3              CMPLE    r3,r6                 ;2974
0003b6  bfb8              IT       LT                    ;2974
0003b8  eba90601          SUBLT    r6,r9,r1              ;2974
0003bc  e7db              B        |L21.886|
                  |L21.958|
;;;2981   	{
;;;2982   		tXY_t pastpos1;
;;;2983   #if (INTERPOLATION_VER1_En == YES || INTERPOLATION_VER2_En == YES || INTERPOLATION_VER3_En == YES)
;;;2984   		if(thisInfo->tCoord.bInterpolation_On)
;;;2985   			pastpos1.x = thisInfo->tCoord.tPastPos[2].tXY[index].x, pastpos1.y = thisInfo->tCoord.tPastPos[2].tXY[index].y;
;;;2986   		else
;;;2987   #endif
;;;2988   			pastpos1.x = thisInfo->tCoord.tPastPos[1].tXY[index].x, pastpos1.y = thisInfo->tCoord.tPastPos[1].tXY[index].y;
0003be  f8dbc00c          LDR      r12,[r11,#0xc]  ; thisInfo
0003c2  eb0c00c8          ADD      r0,r12,r8,LSL #3
0003c6  f8d01724          LDR      r1,[r0,#0x724]
0003ca  f8d00728          LDR      r0,[r0,#0x728]
;;;2989   		
;;;2990   		pastpos1.x = ( (pastpos1.x + thisInfo->tCoord.iXOffset ) * (thisCommonConf->iXResolution+thisModeConf->Coord.sFingerGlobalCoordiXResolutionOffset) ) / (thisInfo->tCoord.iInternalXRes + 2*thisInfo->tCoord.iXOffset);
0003ce  9000              STR      r0,[sp,#0]
0003d0  f8dbe004          LDR      lr,[r11,#4]  ; thisCommonConf
0003d4  f8db3008          LDR      r3,[r11,#8]  ; thisModeConf
0003d8  f8dc0e2d          LDR      r0,[r12,#0xe2d]
0003dc  f8de2000          LDR      r2,[lr,#0]
0003e0  f9b3b099          LDRSH    r11,[r3,#0x99]
0003e4  4401              ADD      r1,r1,r0
0003e6  445a              ADD      r2,r2,r11
0003e8  4351              MULS     r1,r2,r1
0003ea  f8dc2e35          LDR      r2,[r12,#0xe35]
0003ee  eb020040          ADD      r0,r2,r0,LSL #1
0003f2  fb91f0f0          SDIV     r0,r1,r0
;;;2991   		pastpos1.y = ( (pastpos1.y + thisInfo->tCoord.iYOffset ) * (thisCommonConf->iYResolution+thisModeConf->Coord.sFingerGlobalCoordiYResolutionOffset) ) / (thisInfo->tCoord.iInternalYRes + 2*thisInfo->tCoord.iYOffset);
0003f6  9002              STR      r0,[sp,#8]
0003f8  9800              LDR      r0,[sp,#0]
0003fa  f8dcbe31          LDR      r11,[r12,#0xe31]
0003fe  f8de1004          LDR      r1,[lr,#4]
000402  4458              ADD      r0,r0,r11
000404  e002              B        |L21.1036|
000406  0000              DCW      0x0000
                  |L21.1032|
                          DCD      ||.data||
                  |L21.1036|
00040c  f9b3209b          LDRSH    r2,[r3,#0x9b]
000410  4411              ADD      r1,r1,r2
000412  4348              MULS     r0,r1,r0
000414  f8dc1e39          LDR      r1,[r12,#0xe39]
000418  eb01014b          ADD      r1,r1,r11,LSL #1
00041c  fb90f2f1          SDIV     r2,r0,r1
;;;2992   		pastpos1.x += thisModeConf->Coord.sFingerGlobalCoordiOffsetX;
000420  f9b3109d          LDRSH    r1,[r3,#0x9d]
000424  9802              LDR      r0,[sp,#8]
;;;2993   		pastpos1.y += thisModeConf->Coord.sFingerGlobalCoordiOffsetY;
;;;2994   		if (pastpos1.x < (int)thisCommonConf->ucXClipping) pastpos1.x = (int)(thisCommonConf->ucXClipping);
000426  f89eb018          LDRB     r11,[lr,#0x18]
00042a  4401              ADD      r1,r1,r0              ;2992
00042c  f9b3009f          LDRSH    r0,[r3,#0x9f]         ;2993
000430  4559              CMP      r1,r11
000432  4410              ADD      r0,r0,r2              ;2993
000434  bfb8              IT       LT
000436  4659              MOVLT    r1,r11
000438  db04              BLT      |L21.1092|
;;;2995   		else if (pastpos1.x > ((int)((iXResolutionForClipping) - thisCommonConf->ucXClipping))) pastpos1.x = (iXResolutionForClipping) - thisCommonConf->ucXClipping;
00043a  ebaa020b          SUB      r2,r10,r11
00043e  428a              CMP      r2,r1
000440  bfb8              IT       LT
000442  4611              MOVLT    r1,r2
                  |L21.1092|
;;;2996   		if (pastpos1.y < (int)(thisCommonConf->ucYClipping)) pastpos1.y = (int)thisCommonConf->ucYClipping;
000444  f89e2019          LDRB     r2,[lr,#0x19]
000448  4290              CMP      r0,r2
;;;2997   		else if (pastpos1.y > (int)((iYResolutionForClipping) - thisCommonConf->ucYClipping)) pastpos1.y = (int)((iYResolutionForClipping) - thisCommonConf->ucYClipping);
00044a  bfa2              ITTT     GE
00044c  eba90202          SUBGE    r2,r9,r2
000450  4282              CMPGE    r2,r0
000452  4602              MOVGE    r2,r0
;;;2998   		
;;;2999   		if(thisInfo->tCoord.bRemoveEdge[index] == 1)
000454  eb0c0008          ADD      r0,r12,r8
000458  900c              STR      r0,[sp,#0x30]
00045a  f8900f2f          LDRB     r0,[r0,#0xf2f]
00045e  2801              CMP      r0,#1
000460  d063              BEQ      |L21.1322|
;;;3000   		{
;;;3001   			thisInfo->tCoord.tPos.vusS[index] = 0;
;;;3002   		}
;;;3003   		else if(thisInfo->tCoord.tPos.vusS[index] <= thisInfo->tCoord.tPastPos[0].vusS[index] && thisInfo->tCoord.tPos.vusS[index] && thisInfo->tCoord.tPastPos[0].vusS[index] && thisInfo->tCoord.tPastPos[1].vusS[index])
000462  eb0c0048          ADD      r0,r12,r8,LSL #1
000466  f8b0c4ef          LDRH     r12,[r0,#0x4ef]
00046a  f8b086fb          LDRH     r8,[r0,#0x6fb]
00046e  45c4              CMP      r12,r8
000470  d856              BHI      |L21.1312|
000472  f1bc0f00          CMP      r12,#0
000476  bf1c              ITT      NE
000478  f1b80f00          CMPNE    r8,#0
00047c  f8b0c774          LDRHNE   r12,[r0,#0x774]
000480  e000              B        |L21.1156|
                  |L21.1154|
000482  e04d              B        |L21.1312|
                  |L21.1156|
000484  bf18              IT       NE
000486  f1bc0f00          CMPNE    r12,#0
00048a  d049              BEQ      |L21.1312|
;;;3004   		{
;;;3005   			if(old_pos->x == pos->x && ((pos->x == thisCommonConf->ucXClipping && pastpos1.x - old_pos->x > thisModeConf->CoordEdge.usRemoveEdgeXdistThd)
00048c  f8d7c000          LDR      r12,[r7,#0]
000490  f8cdc024          STR      r12,[sp,#0x24]
000494  f8d58000          LDR      r8,[r5,#0]
000498  f8cd8018          STR      r8,[sp,#0x18]
00049c  45c4              CMP      r12,r8
00049e  d11f              BNE      |L21.1248|
0004a0  45d8              CMP      r8,r11
0004a2  d107              BNE      |L21.1204|
0004a4  f8ddc024          LDR      r12,[sp,#0x24]
0004a8  f8b380dc          LDRH     r8,[r3,#0xdc]
0004ac  eba10c0c          SUB      r12,r1,r12
0004b0  45c4              CMP      r12,r8
0004b2  dc0d              BGT      |L21.1232|
                  |L21.1204|
0004b4  f8ddc018          LDR      r12,[sp,#0x18]
0004b8  ebaa080b          SUB      r8,r10,r11
0004bc  45c4              CMP      r12,r8
0004be  d10f              BNE      |L21.1248|
0004c0  f8ddc024          LDR      r12,[sp,#0x24]
0004c4  ebac0101          SUB      r1,r12,r1
0004c8  f8b3c0dc          LDRH     r12,[r3,#0xdc]
0004cc  4561              CMP      r1,r12
0004ce  dd07              BLE      |L21.1248|
                  |L21.1232|
;;;3006   				|| (pos->x == (iXResolutionForClipping - thisCommonConf->ucXClipping) && old_pos->x - pastpos1.x > thisModeConf->CoordEdge.usRemoveEdgeXdistThd)))
;;;3007   			{
;;;3008   				thisInfo->tCoord.bRemoveEdge[index] = 1;
0004d0  f8ddc030          LDR      r12,[sp,#0x30]
0004d4  2101              MOVS     r1,#1
0004d6  f88c1f2f          STRB     r1,[r12,#0xf2f]
;;;3009   				thisInfo->tCoord.tPos.vusS[index] = 0;
0004da  2100              MOVS     r1,#0
0004dc  f8a014ef          STRH     r1,[r0,#0x4ef]
                  |L21.1248|
;;;3010   			}
;;;3011   			if(old_pos->y == pos->y && ((pos->y == thisCommonConf->ucYClipping && pastpos1.y - old_pos->y > thisModeConf->CoordEdge.usRemoveEdgeYdistThd)
0004e0  f8d7c004          LDR      r12,[r7,#4]
0004e4  6869              LDR      r1,[r5,#4]
0004e6  458c              CMP      r12,r1
0004e8  d11a              BNE      |L21.1312|
0004ea  f89e7019          LDRB     r7,[lr,#0x19]
0004ee  42b9              CMP      r1,r7
0004f0  d105              BNE      |L21.1278|
0004f2  f8b3a0de          LDRH     r10,[r3,#0xde]
0004f6  eba2080c          SUB      r8,r2,r12
0004fa  45d0              CMP      r8,r10
0004fc  dc09              BGT      |L21.1298|
                  |L21.1278|
0004fe  eba90707          SUB      r7,r9,r7
000502  42b9              CMP      r1,r7
000504  d10c              BNE      |L21.1312|
000506  ebac0102          SUB      r1,r12,r2
00050a  f8b320de          LDRH     r2,[r3,#0xde]
00050e  4291              CMP      r1,r2
000510  dd06              BLE      |L21.1312|
                  |L21.1298|
;;;3012   				||  (pos->y == (iYResolutionForClipping - thisCommonConf->ucYClipping) && old_pos->y - pastpos1.y > thisModeConf->CoordEdge.usRemoveEdgeYdistThd)))
;;;3013   			{
;;;3014   				thisInfo->tCoord.bRemoveEdge[index] = 1;
000512  9a0c              LDR      r2,[sp,#0x30]
000514  2101              MOVS     r1,#1
000516  f8821f2f          STRB     r1,[r2,#0xf2f]
;;;3015   				thisInfo->tCoord.tPos.vusS[index] = 0;
00051a  2100              MOVS     r1,#0
00051c  f8a014ef          STRH     r1,[r0,#0x4ef]
                  |L21.1312|
;;;3016   			}
;;;3017   		}
;;;3018   	}
;;;3019   	#endif
;;;3020   	
;;;3021   	pos->x = x;
000520  602c              STR      r4,[r5,#0]
;;;3022   	pos->y = y;
000522  606e              STR      r6,[r5,#4]
;;;3023   }
000524  b00d              ADD      sp,sp,#0x34
000526  e8bd8ff0          POP      {r4-r11,pc}
                  |L21.1322|
00052a  eb0c0148          ADD      r1,r12,r8,LSL #1      ;3001
00052e  2000              MOVS     r0,#0                 ;3001
000530  f8a104ef          STRH     r0,[r1,#0x4ef]        ;3001
000534  e7f4              B        |L21.1312|
;;;3024   
                          ENDP


                          AREA ||i.meanInterpolate||, CODE, READONLY, ALIGN=2

                  meanInterpolate PROC
;;;1866   
;;;1867   tXY_t meanInterpolate(tXY_t *p, int start, int num)
000000  b4f0              PUSH     {r4-r7}
;;;1868   {
;;;1869   	int i;
;;;1870   	int sum_x, sum_y;
;;;1871   	tXY_t result;
;;;1872   
;;;1873   	sum_x = sum_y = 0;
000002  2400              MOVS     r4,#0
000004  4625              MOV      r5,r4
;;;1874   
;;;1875   	for( i=start; i<start+num; i++)
;;;1876   	{
;;;1877   		sum_x += p[i].x;
;;;1878   		sum_y += p[i].y;
;;;1879   	}
000006  2b00              CMP      r3,#0
000008  bfd8              IT       LE
00000a  f04f0c00          MOVLE    r12,#0
00000e  dd06              BLE      |L22.30|
000010  f0130c01          ANDS     r12,r3,#1
000014  d003              BEQ      |L22.30|
000016  eb0104c2          ADD      r4,r1,r2,LSL #3       ;1877
00001a  6825              LDR      r5,[r4,#0]            ;1877
00001c  6864              LDR      r4,[r4,#4]            ;1878
                  |L22.30|
00001e  4494              ADD      r12,r12,r2            ;1875
000020  18d6              ADDS     r6,r2,r3              ;1875
000022  4566              CMP      r6,r12                ;1875
000024  dd0e              BLE      |L22.68|
000026  bf00              NOP                            ;1877
                  |L22.40|
000028  eb0102cc          ADD      r2,r1,r12,LSL #3      ;1877
00002c  f10c0c02          ADD      r12,r12,#2            ;1878
000030  6817              LDR      r7,[r2,#0]            ;1877
000032  4566              CMP      r6,r12                ;1878
000034  443d              ADD      r5,r5,r7              ;1877
000036  6857              LDR      r7,[r2,#4]            ;1878
000038  443c              ADD      r4,r4,r7              ;1878
00003a  6897              LDR      r7,[r2,#8]            ;1877
00003c  68d2              LDR      r2,[r2,#0xc]          ;1878
00003e  443d              ADD      r5,r5,r7              ;1877
000040  4414              ADD      r4,r4,r2              ;1878
000042  dcf1              BGT      |L22.40|
                  |L22.68|
;;;1880   
;;;1881   	result.x = sum_x / num;
000044  fb95f1f3          SDIV     r1,r5,r3
;;;1882   	result.y = sum_y / num;
000048  fb94f2f3          SDIV     r2,r4,r3
;;;1883   
;;;1884   	return result;
00004c  6001              STR      r1,[r0,#0]
00004e  6042              STR      r2,[r0,#4]
;;;1885   }
000050  bcf0              POP      {r4-r7}
000052  4770              BX       lr
;;;1886   
                          ENDP


                          AREA ||.bss||, DATA, NOINIT, ALIGN=1

                  Gradient
                          %        44

                          AREA ||area_number.25||, DATA, NOINIT, ALIGN=0

                          EXPORTAS ||area_number.25||, ||.bss||
                  FirstTouchEnable
                          %        16
                  ProjectionEnable
                          %        16
                  IIRProjectionVector
                          %        80

                          AREA ||area_number.26||, DATA, NOINIT, ALIGN=0

                          EXPORTAS ||area_number.26||, ||.bss||
                  tPastPosHist
                          %        152

                          AREA ||area_number.27||, DATA, NOINIT, ALIGN=0

                          EXPORTAS ||area_number.27||, ||.bss||
                  TouchNumHisto
                          %        10

                          AREA ||.data||, DATA, ALIGN=2

                  AddDistTh
000000  0000              DCW      0x0000
                  usPalmCandiShapeMatchingLearningCnt
000002  0000              DCW      0x0000
                  thisCommonConf
                          DCD      0x00000000
                  thisModeConf
                          DCD      0x00000000
                  thisInfo
                          DCD      0x00000000
                  ptAppInfo
                          DCD      0x00000000
                  bContiFlag
000014  00000000          DCB      0x00,0x00,0x00,0x00
                  max_d
                          DCD      0x00000064
                  sum_r
                          DCD      0x00000000
                  sum_c
                          DCD      0x00000000
                  sum_TB
                          DCD      0x00000000
                  sum_LR
                          DCD      0x00000000

                          AREA ||area_number.30||, DATA, ALIGN=0

                          EXPORTAS ||area_number.30||, ||.data||
                  fixed_touchnum
000000  00                DCB      0x00

                          AREA ||area_number.31||, DATA, ALIGN=1

                          EXPORTAS ||area_number.31||, ||.data||
                  WrongSeparationCnt
000000  0000              DCW      0x0000

                          AREA ||area_number.32||, DATA, ALIGN=0

                          EXPORTAS ||area_number.32||, ||.data||
                  FixTouchNum
000000  00                DCB      0x00

                          AREA ||area_number.33||, DATA, ALIGN=0

                          EXPORTAS ||area_number.33||, ||.data||
                  PrevMaxTouchNum
000000  00                DCB      0x00

                          AREA ||area_number.34||, DATA, ALIGN=2

                          EXPORTAS ||area_number.34||, ||.data||
                  sum_Cr
                          DCD      0x00000000

                          AREA ||area_number.35||, DATA, ALIGN=2

                          EXPORTAS ||area_number.35||, ||.data||
                  Cr_size
                          DCD      0x00000000

;*** Start embedded assembler ***

#line 1 "..\\..\\App\\Algorithm\\Coord\\algorithm_coord.c"
	AREA ||.rev16_text||, CODE
	THUMB
	EXPORT |__asm___17_algorithm_coord_c_Gradient____REV16|
#line 388 "..\\..\\Hal\\system\\CMSIS\\cmsis_armcc.h"
|__asm___17_algorithm_coord_c_Gradient____REV16| PROC
#line 389

 rev16 r0, r0
 bx lr
	ENDP
	AREA ||.revsh_text||, CODE
	THUMB
	EXPORT |__asm___17_algorithm_coord_c_Gradient____REVSH|
#line 402
|__asm___17_algorithm_coord_c_Gradient____REVSH| PROC
#line 403

 revsh r0, r0
 bx lr
	ENDP
	AREA ||.rrx_text||, CODE
	THUMB
	EXPORT |__asm___17_algorithm_coord_c_Gradient____RRX|
#line 587
|__asm___17_algorithm_coord_c_Gradient____RRX| PROC
#line 588

 rrx r0, r0
 bx lr
	ENDP

;*** End   embedded assembler ***
